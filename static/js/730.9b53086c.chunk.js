"use strict";(self.webpackChunkprelaunch=self.webpackChunkprelaunch||[]).push([[730],{61001:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(1867),a=t(22492),i=t(6718),o=t(4567),c=t(66608),l=t(80184);function s(e){var n=e.imageSrc,t=e.imageSrcSet,a=e.title,i=e.handleImageLoad;return(0,l.jsx)(r.Z,{component:"img",src:n,srcSet:t,alt:a,sx:{borderColor:"muted.main",borderRadius:4,textAlign:"center",objectFit:"cover",height:{lg:270,sm:220,xs:170}},onLoad:i})}function u(e){var n=e.title,t=e.date;return(0,l.jsx)(a.Z,{children:(0,l.jsx)(i.Z,{disableTypography:!0,title:(0,l.jsx)(o.Z,{noWrap:!0,sx:{overflow:"hidden",textOverflow:"ellipsis",width:{xs:"calc(75%)",sm:"calc(100%)"},fontWeight:600},children:n}),subheader:(0,l.jsx)(o.Z,{sx:{color:"muted.main"},children:t}),sx:{padding:0,color:"faded.black"}})})}function d(e){var n=e.title,t=e.date,r=e.thumbnailImage,a=e.thumbnailImageSrcSet,i=e.handleClick,o=e.handleImageLoad;return(0,l.jsxs)(c.Z,{handleClick:i,children:[(0,l.jsx)(s,{imageSrc:r,imageSrcSet:a,title:n,handleImageLoad:o}),(0,l.jsx)(u,{title:n,date:t})]})}u.defaultProps={title:"Memory Thumbnail Image",date:"Memory Date"},s.defaultProps={title:"Memory Thumbnail Image",imageSrc:"",imageSrcSet:"",handleImageLoad:function(){}},d.defaultProps={thumbnailImageSrcSet:"",handleImageLoad:function(){}}},66608:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(88588),a=t(81374),i=t(80184);function o(e){var n=e.handleClick,t=e.children;return(0,i.jsx)(a.Z,{onClick:n,children:(0,i.jsx)(r.Z,{elevation:0,sx:{bgcolor:"#fff",borderRadius:5,border:"2px solid gray",color:"black",position:"relative",height:{lg:350,sm:300,xs:250},"&:hover":{border:3,borderColor:"secondary.main",elevation:0}},children:t})})}},15730:function(e,n,t){t.r(n),t.d(n,{default:function(){return re}});var r=t(29439),a=t(72791),i=t(57689),o=t(11087),c=t(43146),l=t(32234),s=t(53767),u=t(58751),d=t(52766),m=t(74165),h=t(15861),x=t(81153),f=t(64554),g=t(85239),p=t(61001),Z=t(95193),b=t(4567),j=t(58054),v=t(66608),y=t(80184);function k(){var e=(0,i.s0)(),n=(0,Z.Z)((function(e){return e.breakpoints.down("md")}));return(0,y.jsx)(x.ZP,{item:!0,lg:3,md:4,xs:6,sx:{p:1},children:(0,y.jsxs)(v.Z,{handleClick:function(){e("/memory/create")},children:[(0,y.jsx)(b.Z,{variant:n?"body1":"h5",color:"button.main",sx:{p:1,color:"secondary.main",bgcolor:"primary.main",borderRadius:"0px 10px 10px 0px",borderColor:"secondary.main",position:"absolute",bottom:15,left:0},children:"Create a memory"}),(0,y.jsx)(j.Z,{sx:{position:"absolute",border:3,borderRadius:"50%",fontSize:"7.5rem",left:"50%",top:"50%",transform:"translate(-50%, -50%)",color:"muted.main"}})]})},"creatememory")}function S(e){var n=e.handleMoreClick;return(0,y.jsx)(x.ZP,{item:!0,lg:3,md:4,xs:6,sx:{p:1},children:(0,y.jsx)(v.Z,{handleClick:n,children:(0,y.jsx)(b.Z,{variant:"h5",sx:{p:2,color:"secondary.main",bgcolor:"primary.main",borderRadius:{md:10,xs:"50%"},borderColor:"secondary.main",position:"absolute",bottom:"50%",left:"50%",transform:"translate(-50%, +50%)",textAlign:"center"},children:"Load More"})})},"creatememory")}function C(e){var n=e.memories,t=e.handleMoreClick,r=e.nextToken,a=e.handleImageLoad,i=e.create,o=e.handleClick,c=n.sort((function(e,n){return e.memory_id>n.memory_id?1:-1}));return(0,y.jsxs)(x.ZP,{container:!0,sx:{bgcolor:"button.main",py:1},justifyContent:"left",alignItems:"flex-start",children:[i?(0,y.jsx)(k,{}):null,c.map((function(e){return(0,y.jsx)(x.ZP,{item:!0,lg:3,md:4,xs:6,sx:{p:1},children:(0,y.jsx)(p.Z,{title:e.title,date:e.date,thumbnailImage:e.photo.src,thumbnailImageSrcSet:(n=e.photo,(n.images?n.images.map((function(e){var n=e.src,t=e.width;return"".concat(n," ").concat(t,"w")})):[]).join(",")),handleClick:function(){return o(e)},handleImageLoad:a})},e.title);var n})),r&&(0,y.jsx)(S,{handleMoreClick:t})]})}C.defaultProps={memories:[]};var I=t(85899),w=t(37846);function P(e,n,t){return M.apply(this,arguments)}function M(){return M=(0,h.Z)((0,m.Z)().mark((function e(n,t,r){var a,i,o,c=arguments;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>3&&void 0!==c[3]?c[3]:"",e.prev=1,e.next=4,I.Z.getMemories(a);case 4:if(!(i=e.sent)){e.next=13;break}if(!i.memories){e.next=13;break}return r(i.memories),e.next=10,Promise.all(I.Z.getThumbnails(i.memories));case 10:o=e.sent,n(o),t(i.next_continuation_token||"");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])}))),M.apply(this,arguments)}function L(){var e=(0,a.useState)(""),n=(0,r.Z)(e,2),t=n[0],o=n[1],c=(0,a.useState)([]),l=(0,r.Z)(c,2),s=l[0],u=l[1],d=(0,a.useState)([]),m=(0,r.Z)(d,2),h=m[0],Z=m[1],b=(0,a.useState)(0),j=(0,r.Z)(b,2),v=j[0],S=j[1],I=(0,a.useState)(null),M=(0,r.Z)(I,2),L=M[0],_=M[1],R=(0,i.s0)(),D=function(e){R("/memory/".concat(e.memory_id),{state:e})},T=function(){S((function(e){return e+1}))},A=function(e){return o(e)},E=function(e){Z((function(n){return n.concat(e)}))},W=function(e){u((function(n){return n.concat(e)}))};return(0,a.useEffect)((function(){P(E,A,W,t)}),[]),(0,a.useEffect)((function(){_((0,y.jsx)(C,{create:!0,memories:h,nextToken:t,handleMoreClick:function(){return P(E,A,W,t)},handleImageLoad:T,handleClick:D}))}),[h,t]),h.length===s.length&&v>=s.length?L:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(x.ZP,{container:!0,sx:{bgcolor:"button.main",py:1},justifyContent:"left",alignItems:"flex-start",children:[(0,y.jsx)(k,{}),s.map((function(e){return(0,y.jsx)(x.ZP,{item:!0,lg:3,md:4,xs:6,sx:{p:1},children:(0,y.jsx)(p.Z,{title:(0,y.jsx)(g.Z,{type:"rectangular",sx:{width:"60%"}}),date:(0,y.jsx)(g.Z,{type:"rectangular",sx:{width:"50%"}}),thumbnailImage:w,handleClick:function(){}})},e)}))]}),(0,y.jsx)(f.Z,{component:"div",sx:{display:"none"},children:L})]})}function _(e,n,t){return R.apply(this,arguments)}function R(){return R=(0,h.Z)((0,m.Z)().mark((function e(n,t,r){var a,i,o,c=arguments;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>3&&void 0!==c[3]?c[3]:"",e.prev=1,e.next=4,I.Z.getAcceptedMemories(a);case 4:if(!(i=e.sent)){e.next=13;break}if(!i.memories){e.next=13;break}return r(i.memories),e.next=10,Promise.all(I.Z.getAcceptedThumbnails(i.memories));case 10:o=e.sent,n(o),t(i.next_continuation_token||"");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])}))),R.apply(this,arguments)}function D(){var e=(0,a.useState)(""),n=(0,r.Z)(e,2),t=n[0],o=n[1],c=(0,a.useState)([]),l=(0,r.Z)(c,2),s=l[0],u=l[1],d=(0,a.useState)([]),m=(0,r.Z)(d,2),h=m[0],Z=m[1],b=(0,a.useState)(0),j=(0,r.Z)(b,2),v=j[0],k=j[1],S=(0,a.useState)(null),I=(0,r.Z)(S,2),P=I[0],M=I[1],L=(0,i.s0)(),R=function(e){L("/memory/shared/".concat(e.memory_id),{state:e})},D=function(){k((function(e){return e+1}))},T=function(e){return o(e)},A=function(e){e.map((function(e){return Z((function(n){return n.concat([e.thumbnail])}))}))},E=function(e){u((function(n){return n.concat(e)}))};return(0,a.useEffect)((function(){_(A,T,E,t)}),[]),(0,a.useEffect)((function(){M((0,y.jsx)(C,{create:!1,memories:h,nextToken:t,handleMoreClick:function(){return _(A,T,E,t)},handleImageLoad:D,handleClick:R}))}),[h,t]),h.length===s.length&&v>=s.length?P:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(x.ZP,{container:!0,sx:{bgcolor:"button.main",py:1},justifyContent:"left",alignItems:"flex-start",children:s.map((function(e){return(0,y.jsx)(x.ZP,{item:!0,lg:3,md:4,xs:6,sx:{p:1},children:(0,y.jsx)(p.Z,{title:(0,y.jsx)(g.Z,{type:"rectangular",sx:{width:"60%"}}),date:(0,y.jsx)(g.Z,{type:"rectangular",sx:{width:"50%"}}),thumbnailImage:w,handleClick:function(){}})},e)}))}),(0,y.jsx)(f.Z,{component:"div",sx:{display:"none"},children:P})]})}var T=t(5849);function A(e){var n=e.label,t=e.handleClick;return(0,y.jsx)(T.Z,{variant:"contained",color:"primary",sx:{m:1},onClick:t,children:(0,y.jsx)(b.Z,{variant:"h6",children:n})})}var E=t(11968),W=t.n(E),F=t(1867),O=t(22492),U=t(6718),z=t(88588),B=t(81374);function V(e){var n=e.handleClick,t=e.children;return(0,y.jsx)(B.Z,{onClick:n,children:(0,y.jsx)(z.Z,{elevation:0,sx:{bgcolor:"#fff",borderRadius:5,position:"relative"},children:t})})}function q(e){var n=e.imageSrc,t=e.imageSrcSet,r=e.title,a=e.handleImageLoad;return(0,y.jsx)(F.Z,{component:"img",src:n,srcSet:t,alt:r,sx:{borderColor:"muted.main",borderRadius:4,textAlign:"center",objectFit:"cover",height:{lg:400,sm:350,xs:350}},onLoad:a})}function G(e){var n=e.title,t=e.date;return(0,y.jsx)(O.Z,{children:(0,y.jsx)(U.Z,{disableTypography:!0,title:(0,y.jsx)(b.Z,{noWrap:!0,sx:{overflow:"hidden",textOverflow:"ellipsis",width:{xs:"calc(75%)",sm:"calc(100%)"},fontWeight:600},children:n}),subheader:(0,y.jsx)(b.Z,{sx:{color:"muted.main"},children:t}),sx:{padding:0,color:"faded.black"}})})}function H(e){var n=e.title,t=e.date,r=e.thumbnailImage,a=e.thumbnailImageSrcSet,i=e.handleClick,o=e.handleImageLoad;return(0,y.jsxs)(V,{handleClick:i,children:[(0,y.jsx)(q,{imageSrc:r,imageSrcSet:a,title:n,handleImageLoad:o}),(0,y.jsx)(G,{title:n,date:t})]})}function J(e){var n=e.memories,t=e.handleIndexChange;return(0,y.jsx)(W(),{sx:{maxWidth:"700px",width:"95%"},indicators:!1,onChange:function(e){return t(e)},navButtonsAlwaysVisible:!0,autoPlay:!1,children:n.map((function(e){return(0,y.jsx)(s.Z,{direction:"column",spacing:1,alignItems:"center",children:(0,y.jsx)(H,{title:e.thumbnail.title,date:e.thumbnail.date,thumbnailImage:e.thumbnail.photo.src,thumbnailImageSrcSet:(n=e.thumbnail.photo,(n.images?n.images.map((function(e){var n=e.src,t=e.width;return"".concat(n," ").concat(t,"w")})):[]).join(",")),handleImageLoad:function(){},handleClick:function(){}})},e.thumbnail.memory_id);var n}))})}G.defaultProps={title:"Review Image",date:"Memory Date"},q.defaultProps={title:"Review Image",imageSrc:"",imageSrcSet:"",handleImageLoad:function(){}},H.defaultProps={thumbnailImageSrcSet:"",handleImageLoad:function(){}};var K=t(36194);function N(e){var n=e.name,t=e.email,r=e.picture;return(0,y.jsxs)(s.Z,{direction:"row",justifyContent:"center",sx:{width:"100%"},children:[(0,y.jsx)(K.S,{name:n,email:t,picture:r}),(0,y.jsx)(b.Z,{variant:"h6",sx:{px:1},children:n})]})}var Q=t(9052);function X(){return X=(0,h.Z)((0,m.Z)().mark((function e(n,t){var r,a,i,o=arguments;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:"",e.prev=1,e.next=4,I.Z.getPendingMemories(r);case 4:if(!(a=e.sent)){e.next=13;break}if(!a.memories){e.next=13;break}return console.log("review memories",a),e.next=10,Promise.all(I.Z.getPendingThumbnails(a.memories));case 10:i=e.sent,n(i),t(a.next_continuation_token||"");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])}))),X.apply(this,arguments)}function Y(){return(Y=(0,h.Z)((0,m.Z)().mark((function e(n,t){var r,a;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Q.Z.getUserInfo(),e.next=4,I.Z.acceptShare(n,r.email);case 4:a=e.sent,console.log(a),t(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function $(){return($=(0,h.Z)((0,m.Z)().mark((function e(n,t){var r,a;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Q.Z.getUserInfo(),e.next=4,I.Z.rejectShare(n,r.email);case 4:a=e.sent,console.log(a),t(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function ee(e){var n=e.memoryID,t=(0,a.useState)(0),i=(0,r.Z)(t,2),o=i[0],c=i[1],l=(0,a.useState)(""),u=(0,r.Z)(l,2),d=u[0],m=u[1],h=(0,a.useState)([]),x=(0,r.Z)(h,2),g=x[0],p=x[1];console.log(n);var Z=function(e){return m(e)},j=function(e){p((function(n){return n.concat(e)}))};(0,a.useEffect)((function(){!function(e,n){X.apply(this,arguments)}(j,Z,d)}),[]);var v=function(e){console.log("accept response",e)},k=function(e){console.log("reject response",e)};return console.log("pending memories",g),g.length>0?(0,y.jsx)(f.Z,{sx:{display:"flex",width:"100%",backgroundColor:"transparent",backgroundSize:"cover",backgroundImage:"linear-gradient(white, #0e516a)",justifyContent:"center"},children:(0,y.jsxs)(s.Z,{direction:"column",alignItems:"center",sx:{width:"100%",my:3},children:[(0,y.jsx)(N,{name:g[o].owner_details.name,email:g[o].owner_details.email,picture:g[o].owner_details.picture}),(0,y.jsx)(b.Z,{sx:{mb:2},children:"has shared a memory with you"}),(0,y.jsx)(J,{memories:g,handleIndexChange:c}),(0,y.jsxs)(s.Z,{direction:"row",sx:{m:1},children:[(0,y.jsx)(A,{label:"Accept",color:"primary",handleClick:function(){var e=g[o].thumbnail.memory_id;!function(e,n){Y.apply(this,arguments)}(e,v),console.log("accepting memoryID",e)}}),(0,y.jsx)(A,{label:"Reject",color:"error",handleClick:function(){var e=g[o].thumbnail.memory_id;!function(e,n){$.apply(this,arguments)}(e,k),console.log("rejecting memoryID",e)}})]})]})}):null}function ne(e){var n=e.mode,t=e.handleChange;return(0,y.jsx)(s.Z,{direction:"row",justifyContent:"center",sx:{py:1,backgroundColor:"button.main"},children:(0,y.jsxs)(l.Z,{color:"primary",value:n,exclusive:!0,"aria-label":"Memory Modes",children:[(0,y.jsx)(c.Z,{value:"own",sx:{borderRadius:"30px"},onClick:t,children:"My Memories"}),(0,y.jsx)(c.Z,{value:"shared",onClick:t,children:"Shared With Me"}),(0,y.jsx)(c.Z,{value:"review",sx:{borderRadius:"30px"},onClick:t,children:(0,y.jsx)(u.Z,{badgeContent:99,color:"primary",children:"Review"})})]})})}function te(e){var n=e.mode,t=e.memoryID;return"own"===n?(0,y.jsx)(L,{}):"shared"===n?(0,y.jsx)(D,{}):"review"===n?(0,y.jsx)(ee,{memoryID:t}):void 0}function re(e){var n=e.initMode,t=(0,i.UO)(),c=t.memoryMode,l=(0,o.lr)(),u=(0,r.Z)(l,1)[0],m=(0,a.useState)(n),h=(0,r.Z)(m,2),x=h[0],f=h[1];(0,a.useEffect)((function(){f(c||n)}),[c,n]),console.log(n,c,t,u);return(0,y.jsx)(d.Z,{children:(0,y.jsxs)(s.Z,{direction:"column",children:[(0,y.jsx)(ne,{mode:x,handleChange:function(e,n){f(n)}}),(0,y.jsx)(te,{mode:x,memoryID:u.get("memoryID")})]})})}ee.defaultProps={memoryID:""},te.defaultProps={memoryID:""}},37846:function(e,n,t){e.exports=t.p+"static/media/image-loading.b17d2768891dfe3ceb9d.gif"}}]);
//# sourceMappingURL=730.9b53086c.chunk.js.map