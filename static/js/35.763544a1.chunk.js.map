{"version":3,"file":"static/js/35.763544a1.chunk.js","mappings":"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","sources":["components/AddCaptionButton.jsx","components/OptionsButton.jsx","components/AddPhotos.jsx","components/ImageOptionsDialog.jsx","components/MemoryPhotoAlbum.jsx","components/RemoveSelectedImageButton.jsx","components/ThumbnailChooser.jsx","hooks/date.jsx","hooks/story.jsx","hooks/title.jsx","components/ActionIcon.jsx","components/confirmation.jsx","pages/memory/Delete.jsx","components/UpdateMemoryIcon.jsx","hooks/email.jsx","components/EmailInput.jsx","components/NewShares.jsx","components/StatusTable.jsx","components/CheckboxCell.jsx","components/PersonalDetailsCell.jsx","components/ExpandStatusIconCell.jsx","components/ShareRow.jsx","components/SelectAllCheckboxCell.jsx","components/TableHeader.jsx","components/ExistingShares.jsx","components/CloseButton.jsx","pages/memory/Share.jsx","pages/memory/Actions.jsx","pages/memory/ContentStructure.jsx","pages/memory/BackButton.jsx","components/RemovePhotoIcon.jsx","components/MemoryImageSlide.jsx","pages/memory/MemoryCarousel.jsx","pages/memory/MemoryDate.jsx","pages/memory/MemoryImages.jsx","pages/memory/MemoryStory.jsx","pages/memory/MemoryTitle.jsx","pages/memory/MemoryContent.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport ShortTextIcon from '@mui/icons-material/ShortText';\nimport IconButton from '@mui/material/IconButton';\nimport Badge from '@mui/material/Badge';\nimport { alpha } from '@mui/material/styles';\n\nexport default function AddCaptionButton({ handleClick, caption }) {\n  return (\n    <IconButton\n      size=\"small\"\n      label=\"T\"\n      sx={{\n        color: alpha('#000', 0.7),\n        bgcolor: alpha('#fff', 0.7),\n        position: 'absolute',\n        top: 5,\n        left: 2,\n        borderRadius: '0 5px 5px 0',\n        py: 0,\n      }}\n      onClick={handleClick}\n    >\n      <ShortTextIcon />\n      {(caption.length > 0) ? <Badge color=\"error\" variant=\"dot\" sx={{ pl: 1 }} /> : null}\n    </IconButton>\n  );\n}\n\nAddCaptionButton.defaultProps = {\n  caption: '',\n};\n\nAddCaptionButton.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  caption: PropTypes.string,\n};\n","import PropTypes from 'prop-types';\n\nimport Button from '@mui/material/Button';\n\nexport default function OptionsButton({\n  children, onClick, name,\n}) {\n  return (\n    <Button\n      id={name}\n      variant=\"contained\"\n      component=\"label\"\n      onClick={onClick}\n      sx={{\n        color: 'muted.main',\n        borderRadius: 15,\n        backgroundColor: 'button.main',\n        padding: '6px 8px',\n        '&:hover': {\n          color: 'muted.main',\n          backgroundColor: 'button.main',\n        },\n      }}\n    >\n      {children}\n    </Button>\n  );\n}\n\nOptionsButton.defaultProps = {\n  onClick: () => {},\n};\n\nOptionsButton.propTypes = {\n  children: PropTypes.node.isRequired,\n  onClick: PropTypes.func,\n  name: PropTypes.string.isRequired,\n  //  updateOp: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport AddPhotoIcon from '@mui/icons-material/AddPhotoAlternate';\nimport OptionsButton from 'components/OptionsButton';\n\nexport default function AddPhotos({ handleChange }) {\n  return (\n    <OptionsButton name=\"add\">\n      <input type=\"file\" hidden multiple accept=\"image/*\" onChange={handleChange} />\n      <AddPhotoIcon sx={{ fontSize: '2rem' }} />\n      Add Images\n    </OptionsButton>\n  );\n}\n\nAddPhotos.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport TextField from '@mui/material/TextField';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogActions from '@mui/material/DialogActions';\nimport Box from '@mui/material/Box';\nimport { alpha } from '@mui/material/styles';\nimport * as yup from 'yup';\nimport utils from 'utils';\n\nexport default function ImageOptionsDialog({\n  index, imageCaption, src, open, handleClose, handleSubmit,\n}) {\n  console.log(index);\n  const [caption, setCaption] = useState(imageCaption);\n  const [captionError, setCaptionError] = useState('');\n\n  useEffect(() => setCaption(imageCaption), [imageCaption]);\n\n  const onCaptionChange = (event) => {\n    setCaption(event.target.value);\n  };\n\n  const captionSchema = yup.object({\n    caption: yup.string().max(40, 'Maximum length of image caption is 40'),\n  }).required();\n\n  useEffect(() => {\n    if (caption.length > 0) {\n      utils.isFieldValid('caption', caption, setCaptionError, captionSchema);\n    }\n  }, [caption]);\n\n  const isValid = async () => {\n    const captionValid = await utils.isFieldValid('caption', caption, setCaptionError, captionSchema);\n    return captionValid;\n  };\n\n  const submitForm = async () => {\n    const valid = await isValid();\n    if (valid) {\n      handleSubmit(index, caption);\n      handleClose();\n    }\n  };\n\n  return (\n    <Dialog open={open} sx={{ border: '2px solid white', backgroundColor: alpha('#000', 0.8) }}>\n      <DialogTitle>\n        <IconButton\n          aria-label=\"close\"\n          onClick={handleClose}\n          sx={{\n            position: 'absolute',\n            right: 8,\n            top: 8,\n            color: (theme) => theme.palette.grey[500],\n          }}\n        >\n          <CloseIcon />\n        </IconButton>\n        Add Image Caption\n      </DialogTitle>\n      <DialogContent dividers>\n        <Box\n          component=\"img\"\n          alt=\"test\"\n          src={src}\n          width=\"100%\"\n          sx={{ pb: 2, borderRadius: 3, height: '50vh' }}\n        />\n        <TextField\n          variant=\"outlined\"\n          label=\"Image Caption\"\n          defaultValue={caption}\n          onChange={onCaptionChange}\n          sx={{ width: '100%' }}\n          helperText={captionError || 'E.g. Birthday Cake Cutting'}\n          error={!!captionError}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button variant=\"outlined\" onClick={submitForm}>OK</Button>\n        <Button variant=\"text\" onClick={handleClose}>Cancel</Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nImageOptionsDialog.propTypes = {\n  index: PropTypes.number.isRequired,\n  imageCaption: PropTypes.string.isRequired,\n  src: PropTypes.string.isRequired,\n  open: PropTypes.bool.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport PhotoAlbum from 'react-photo-album';\nimport { useState, useEffect } from 'react';\nimport utils from 'utils';\n\nexport default function MemoryPhotoAlbum({ images, handlePhotoClick, renderPhoto }) {\n  const [arrangement, setArrangement] = useState(null);\n  useEffect(() => utils.handleArrangement(images, setArrangement), [images]);\n\n  return renderPhoto ? (\n    <PhotoAlbum\n      layout={arrangement}\n      photos={images}\n      onClick={handlePhotoClick}\n      spacing={1}\n      renderPhoto={renderPhoto}\n      rowConstraints={utils.handleMaxPhotos}\n      columns={utils.handleColumns}\n    />\n  ) : (\n    <PhotoAlbum\n      layout={arrangement}\n      photos={images}\n      onClick={handlePhotoClick}\n      spacing={1}\n      rowConstraints={utils.handleMaxPhotos}\n      columns={utils.handleColumns}\n    />\n  );\n}\n\nMemoryPhotoAlbum.defaultProps = {\n  renderPhoto: null,\n  handlePhotoClick: () => {},\n};\n\nMemoryPhotoAlbum.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      src: PropTypes.string,\n      width: PropTypes.number,\n      height: PropTypes.number,\n    }),\n  ).isRequired,\n  handlePhotoClick: PropTypes.func,\n  renderPhoto: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport IconButton from '@mui/material/IconButton';\n//  import CloseIcon from '@mui/icons-material/Close';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport Tooltip from '@mui/material/Tooltip';\nimport { alpha } from '@mui/material/styles';\n\nexport default function RemoveSelectedImageButton({ index, handleRemoveImage }) {\n  return (\n    <Tooltip title=\"Delete\">\n      <IconButton\n        size=\"medium\"\n        sx={{\n          color: alpha('#000', 0.7),\n          bgcolor: alpha('#fff', 0.7),\n          position: 'absolute',\n          top: 5,\n          right: 2,\n          padding: 0,\n          px: '4px',\n          borderRadius: '5px 0 0 5px',\n        }}\n        onClick={() => handleRemoveImage(index)}\n      >\n        <DeleteIcon size=\"medium\" />\n      </IconButton>\n    </Tooltip>\n  );\n}\n\nRemoveSelectedImageButton.propTypes = {\n  index: PropTypes.number.isRequired,\n  handleRemoveImage: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Radio from '@mui/material/Radio';\nimport { alpha } from '@mui/material/styles';\nimport Typography from '@mui/material/Typography';\n\nexport default function ThumbnailChooser({ index, thumbnail, handleThumbnailChange }) {\n  return (\n    <FormControlLabel\n      control={<Radio sx={{ padding: 0 }} />}\n      label={(thumbnail === index) ? <Typography sx={{ fontWeight: 600, overflow: 'hidden', fontSize: '0.8rem' }}>Thumbnail</Typography> : ''}\n      checked={thumbnail === index}\n      onChange={() => handleThumbnailChange(index)}\n      sx={{\n        pr: 1,\n        position: 'absolute',\n        bgcolor: alpha('#fff', 0.7),\n        color: alpha('#000', 0.7),\n        borderRadius: '0px 5px 5px 0px',\n        borderColor: 'secondary.main',\n        borderLeft: 0,\n        bottom: 5,\n        left: 2,\n        margin: 0,\n      }}\n    />\n  );\n}\n\nThumbnailChooser.propTypes = {\n  index: PropTypes.number.isRequired,\n  thumbnail: PropTypes.number.isRequired,\n  handleThumbnailChange: PropTypes.func.isRequired,\n};\n","import { useState } from 'react';\n\nexport default function useDate(initialDate) {\n  const [date, setDate] = useState(initialDate);\n  const handleDateChange = (e) => {\n    const newDate = new Date(e);\n    if (e) {\n      const formattedDate = newDate.toLocaleDateString('en-in', {\n        day: 'numeric',\n        month: 'long',\n        year: 'numeric',\n      });\n      setDate(formattedDate);\n    } else {\n      setDate(null);\n    }\n  };\n  return [date, setDate, handleDateChange];\n}\n","import { useState } from 'react';\n\nexport default function useStory(initialState) {\n  const [story, setStory] = useState(initialState);\n  const handleStoryChange = (event) => setStory(event.target.value);\n  return [story, setStory, handleStoryChange];\n}\n","import { useState, useEffect } from 'react';\n\nexport default function useTitle(initialValue) {\n  const [title, setTitle] = useState(initialValue);\n  useEffect(() => setTitle(initialValue), [initialValue]);\n  const handleTitleChange = (e) => {\n    setTitle(e.target.value);\n  };\n  return [title, setTitle, handleTitleChange];\n}\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport IconButton from '@mui/material/IconButton';\n\nexport default function ActionIcon({ icon, label }) {\n  return (\n    <Box sx={{ alignItems: 'center' }}>\n      <IconButton\n        aria-label=\"delete\"\n        sx={{\n          bgcolor: 'form.input',\n        }}\n      >\n        {icon}\n      </IconButton>\n      {label}\n    </Box>\n  );\n}\n\nActionIcon.propTypes = {\n  icon: PropTypes.node.isRequired,\n  label: PropTypes.string.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Dialog from '@mui/material/Dialog';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport DialogTitle from '@mui/material/DialogTitle';\n\nexport default function Confirm({\n  confirm, handleCallback, handleCloseCallback, title, message,\n}) {\n  const [open, setOpen] = useState(confirm);\n  useEffect(() => setOpen(confirm), [confirm]);\n\n  const handleClose = () => {\n    setOpen(false);\n    handleCloseCallback();\n  };\n\n  const handleSubmit = () => {\n    handleClose();\n    handleCallback();\n  };\n\n  return (\n    <Dialog open={open} sx={{ backgroundColor: 'faded.black' }}>\n      <DialogTitle>{title}</DialogTitle>\n      <Box sx={{ p: 2 }}>\n        <Typography sx={{ pb: 2 }}>{message}</Typography>\n        <Stack spacing={2} direction=\"row\">\n          <Button variant=\"contained\" onClick={handleClose}>Cancel</Button>\n          <Button variant=\"outlined\" onClick={handleSubmit}>OK</Button>\n        </Stack>\n      </Box>\n    </Dialog>\n  );\n}\n\nConfirm.propTypes = {\n  confirm: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  handleCallback: PropTypes.func.isRequired,\n  handleCloseCallback: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport ActionIcon from 'components/ActionIcon';\nimport Confirm from 'components/confirmation';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport api from '../Api';\n\nexport function DeleteMemoryIcon() {\n  return (\n    <ActionIcon icon={<DeleteIcon />} label=\"Delete\" />\n  );\n}\n\nexport function ConfirmDelete({ callback, open, closeCallback }) {\n  const DeleteTitle = 'Delete Memory';\n  const DeleteConfirmMessage = 'Do you want to delete this memory?';\n  return (\n    <Confirm\n      confirm={open}\n      title={DeleteTitle}\n      handleCallback={callback}\n      handleCloseCallback={() => closeCallback()}\n      message={DeleteConfirmMessage}\n    />\n  );\n}\n\nexport default async function deleteMemory(bucket, authURL, memoryID, memoryDeleteCallback) {\n  try {\n    const deleteResults = await api.deleteMemory(bucket, authURL, memoryID);\n    memoryDeleteCallback(deleteResults);\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n  }\n}\n\nConfirmDelete.propTypes = {\n  open: PropTypes.bool.isRequired,\n  callback: PropTypes.func.isRequired,\n  closeCallback: PropTypes.func.isRequired,\n};\n","import ActionIcon from 'components/ActionIcon';\nimport EditIcon from '@mui/icons-material/Edit';\n\nexport default function UpdateMemoryIcon() {\n  return (\n    <ActionIcon icon={<EditIcon />} label=\"Edit\" />\n  );\n}\n","import { useState } from 'react';\nimport commonUtils from 'utils';\n\nfunction ownEmail() {\n  const cookieValue = commonUtils.getUserInfo();\n  return cookieValue.email;\n}\n\nexport default function useEmail() {\n  const [items, setItems] = useState([]);\n  const [value, setValue] = useState('');\n  const [error, setError] = useState(null);\n\n  const isInList = (email) => items.includes(email);\n\n  // eslint-disable-next-line\n  const isEmail = (email) => /[\\w\\d\\.-]+@[\\w\\d\\.-]+\\.[\\w\\d\\.-]+/.test(email);\n\n  const isValid = (email) => {\n    let err = null;\n\n    if (isInList(email)) {\n      err = `${email} has already been added.`;\n    }\n\n    if (!isEmail(email)) {\n      err = `${email} is not a valid email address.`;\n    }\n\n    if (email === ownEmail()) {\n      err = 'Cannot share memory with owner email.';\n    }\n\n    if (err) {\n      setError(err);\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleKeyDown = (evt) => {\n    if (['Enter', 'Tab', ','].includes(evt.key)) {\n      evt.preventDefault();\n\n      const val = value.trim();\n\n      if (val && isValid(val)) {\n        setItems([...items, val]);\n        setValue('');\n      }\n    }\n  };\n\n  const handleChange = (evt) => {\n    setValue(evt.target.value.trim());\n    setError(null);\n  };\n\n  const handleDelete = (item) => {\n    setItems((prevItems) => prevItems.filter((i) => i !== item));\n  };\n\n  const handlePaste = (evt) => {\n    evt.preventDefault();\n\n    const paste = evt.clipboardData.getData('text');\n    // eslint-disable-next-line\n    var emails = paste.match(/[\\w\\d\\.-]+@[\\w\\d\\.-]+\\.[\\w\\d\\.-]+/g);\n\n    if (emails) {\n      const toBeAdded = emails.filter((email) => !isInList(email.trim()));\n      setItems([...items, ...toBeAdded]);\n    }\n  };\n\n  return [items, value, error, setItems, handleKeyDown, handleChange, handleDelete, handlePaste];\n}\n","import PropTypes from 'prop-types';\nimport TextField from '@mui/material/TextField';\nimport Chip from '@mui/material/Chip';\nimport Stack from '@mui/material/Stack';\nimport Grid from '@mui/material/Grid';\n\nexport default function EmailInput({\n  items,\n  value,\n  error,\n  handleKeyDown,\n  handleChange,\n  handleDelete,\n  handlePaste,\n}) {\n  return (\n    <Stack direction=\"column\" spacing={2} sx={{ mb: 3 }}>\n      <TextField\n        id=\"outlined-error\"\n        value={value}\n        label=\"Email List\"\n        placeholder=\"Type or paste email addresses and press `Enter`...\"\n        onKeyDown={handleKeyDown}\n        onChange={handleChange}\n        onPaste={handlePaste}\n        helperText={\n          error || 'Type or paste email addresses and press `Enter`...'\n        }\n        error={!!error}\n        sx={{ my: 1 }}\n      />\n      <Grid container spacing={2}>\n        {items.map((item) => (\n          <Chip\n            key={item}\n            label={item}\n            variant=\"outlined\"\n            onDelete={() => handleDelete(item)}\n            sx={{ margin: 0.5 }}\n            size=\"small\"\n          />\n        ))}\n      </Grid>\n    </Stack>\n  );\n}\n\nEmailInput.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.string).isRequired,\n  value: PropTypes.string.isRequired,\n  error: PropTypes.string.isRequired,\n  handleKeyDown: PropTypes.func.isRequired,\n  handleChange: PropTypes.func.isRequired,\n  handleDelete: PropTypes.func.isRequired,\n  handlePaste: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Button from '@mui/material/Button';\nimport Stack from '@mui/material/Stack';\nimport EmailInput from 'components/EmailInput';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\n\nexport default function NewShares({\n  items,\n  value,\n  error,\n  handleKeyDown,\n  handleChange,\n  handleDelete,\n  handlePaste,\n  handleClear,\n  handleSubmit,\n  sharing,\n}) {\n  return (\n    <Box sx={{ p: 2 }}>\n      <EmailInput\n        items={items}\n        value={value}\n        error={error}\n        handleKeyDown={handleKeyDown}\n        handleChange={handleChange}\n        handleDelete={handleDelete}\n        handlePaste={handlePaste}\n      />\n      {\n        sharing === true ? (\n          <Typography color=\"primary\" variant=\"h6\" sx={{ pb: 2 }}>\n            Sharing Memory. Please wait...\n          </Typography>\n        ) : null\n      }\n      <Stack spacing={2} direction=\"row\">\n        <Button variant=\"outlined\" onClick={handleClear}>\n          Clear\n        </Button>\n        <Button\n          variant=\"contained\"\n          onClick={handleSubmit}\n          disabled={items.length === 0 || sharing === true}\n        >\n          Share\n        </Button>\n      </Stack>\n    </Box>\n  );\n}\n\nNewShares.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.string).isRequired,\n  value: PropTypes.string.isRequired,\n  error: PropTypes.string.isRequired,\n  handleKeyDown: PropTypes.func.isRequired,\n  handleChange: PropTypes.func.isRequired,\n  handleDelete: PropTypes.func.isRequired,\n  handlePaste: PropTypes.func.isRequired,\n  handleClear: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  sharing: PropTypes.bool.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport TableRow from '@mui/material/TableRow';\nimport TableCell from '@mui/material/TableCell';\nimport Chip from '@mui/material/Chip';\nimport TableHead from '@mui/material/TableHead';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\n\nexport default function StatusTable({ invitation, accept }) {\n  const colorMap = {\n    pending: 'warning',\n    sent: 'success',\n    failed: 'error',\n    rejected: 'error',\n    accepted: 'success',\n  };\n  return (\n    <Table size=\"small\" aria-label=\"statuses\">\n      <TableHead>\n        <TableRow>\n          <TableCell align=\"left\">Invitation</TableCell>\n          <TableCell align=\"left\">Accepted</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        <TableRow key={new Date()}>\n          <TableCell align=\"left\">\n            <Chip color={colorMap[invitation]} size=\"small\" label={invitation} />\n          </TableCell>\n          <TableCell align=\"left\">\n            <Chip color={colorMap[accept]} size=\"small\" label={accept} />\n          </TableCell>\n        </TableRow>\n      </TableBody>\n    </Table>\n  );\n}\n\nStatusTable.propTypes = {\n  invitation: PropTypes.string.isRequired,\n  accept: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport TableCell from '@mui/material/TableCell';\nimport Checkbox from '@mui/material/Checkbox';\n\nexport default function CheckboxCell({ selected, handleChange }) {\n  const [checked, setChecked] = useState(selected);\n\n  useEffect(() => {\n    setChecked(selected);\n  }, [selected]);\n\n  return (\n    <TableCell padding=\"checkbox\" key=\"checkbox\">\n      <Checkbox color=\"primary\" checked={checked} onChange={handleChange} />\n    </TableCell>\n  );\n}\n\nCheckboxCell.propTypes = {\n  selected: PropTypes.bool.isRequired,\n  handleChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport TableCell from '@mui/material/TableCell';\nimport Chip from '@mui/material/Chip';\nimport Avatar from '@mui/material/Avatar';\n\nexport default function PersonalDetailsCell({ email, picture, name }) {\n  return (\n    <TableCell component=\"th\" scope=\"row\" sx={{ p: 1 }} key=\"personal-details\">\n      <Chip\n        avatar={(\n          <Avatar\n            alt={email}\n            src={picture}\n            sx={{ referrerPolicy: 'no-referrer' }}\n          />\n        )}\n        label={name}\n        sx={{ b: 1, maxWidth: 170 }}\n        color=\"primary\"\n        variant=\"outlined\"\n      />\n    </TableCell>\n  );\n}\n\nPersonalDetailsCell.propTypes = {\n  email: PropTypes.string.isRequired,\n  picture: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport TableCell from '@mui/material/TableCell';\nimport IconButton from '@mui/material/IconButton';\nimport ExpandCircleDownIcon from '@mui/icons-material/ExpandCircleDown';\nimport ExpandLessIcon from '@mui/icons-material/ExpandLess';\n\nexport default function ExpandStatusIconCell({ open, handleClick }) {\n  return (\n    <TableCell\n      align=\"center\"\n      style={{ paddingBottom: 0, paddingTop: 0 }}\n      colSpan={6}\n      onClick={handleClick}\n      key=\"expand-status\"\n    >\n      <IconButton aria-label=\"expand row\" size=\"small\">\n        {!open ? <ExpandCircleDownIcon /> : <ExpandLessIcon />}\n      </IconButton>\n    </TableCell>\n  );\n}\n\nExpandStatusIconCell.propTypes = {\n  open: PropTypes.bool.isRequired,\n  handleClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport Collapse from '@mui/material/Collapse';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport TableRow from '@mui/material/TableRow';\nimport TableCell from '@mui/material/TableCell';\n\nimport StatusTable from './StatusTable';\nimport CheckboxCell from './CheckboxCell';\nimport PersonalDetailsCell from './PersonalDetailsCell';\nimport ExpandStatusIconCell from './ExpandStatusIconCell';\n\nexport default function ShareeRow({\n  name,\n  email,\n  picture,\n  invitation,\n  accept,\n  isSelected,\n  onCheckBoxClick,\n}) {\n  const [open, setOpen] = useState(false);\n  const handleClick = () => setOpen(!open);\n\n  return (\n    <>\n      <TableRow\n        sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n        key={`${{ email }}details`}\n      >\n        <CheckboxCell selected={isSelected} handleChange={onCheckBoxClick} />\n        <PersonalDetailsCell email={email} picture={picture} name={name} />\n        <ExpandStatusIconCell open={open} handleClick={handleClick} />\n      </TableRow>\n      <TableRow key={`${{ email }}status`}>\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\n            <Box sx={{ margin: 1 }}>\n              <Typography gutterBottom component=\"div\">\n                Email:\n                {' '}\n                {email}\n              </Typography>\n              <Typography variant=\"h6\" gutterBottom component=\"div\">\n                Status\n              </Typography>\n              <StatusTable invitation={invitation} accept={accept} />\n            </Box>\n          </Collapse>\n        </TableCell>\n      </TableRow>\n    </>\n  );\n}\n\nShareeRow.propTypes = {\n  name: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  picture: PropTypes.string.isRequired,\n  invitation: PropTypes.string.isRequired,\n  accept: PropTypes.string.isRequired,\n  isSelected: PropTypes.bool.isRequired,\n  onCheckBoxClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport TableCell from '@mui/material/TableCell';\nimport Checkbox from '@mui/material/Checkbox';\n\nexport default function SelectAllCheckboxCell({ numSelected, rowCount, onSelectAllClick }) {\n  return (\n    <TableCell padding=\"checkbox\" key=\"selectAll\">\n      <Checkbox\n        color=\"primary\"\n        indeterminate={numSelected > 0 && numSelected < rowCount}\n        checked={rowCount > 0 && numSelected === rowCount}\n        onChange={onSelectAllClick}\n      />\n    </TableCell>\n  );\n}\n\nSelectAllCheckboxCell.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n  rowCount: PropTypes.number.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport TableCell from '@mui/material/TableCell';\nimport Button from '@mui/material/Button';\n\nimport SelectAllCheckboxCell from './SelectAllCheckboxCell';\n\nexport default function TableHeader({\n  numSelected, rowCount, onSelectAllClick, handleUnshareClick, unsharing,\n}) {\n  return (\n    <TableHead>\n      <TableRow>\n        <SelectAllCheckboxCell\n          numSelected={numSelected}\n          rowCount={rowCount}\n          onSelectAllClick={onSelectAllClick}\n          key=\"selectAll\"\n        />\n        <TableCell\n          align=\"center\"\n          sx={{ fontWeight: 'bold', fontSize: '1em' }}\n          key=\"message\"\n        >\n          {numSelected === 0 ? 'Shared With' : `${numSelected} selected`}\n        </TableCell>\n        <TableCell align=\"center\" sx={{ fontWeight: 'bold' }} key=\"action\">\n          <Button\n            variant=\"contained\"\n            color=\"error\"\n            sx={{ textTransform: 'none' }}\n            disabled={(numSelected === 0) || (unsharing === true)}\n            onClick={handleUnshareClick}\n          >\n            Unshare\n          </Button>\n        </TableCell>\n      </TableRow>\n    </TableHead>\n  );\n}\n\nTableHeader.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n  rowCount: PropTypes.number.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  handleUnshareClick: PropTypes.func.isRequired,\n  unsharing: PropTypes.bool.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableContainer from '@mui/material/TableContainer';\nimport TablePagination from '@mui/material/TablePagination';\nimport Paper from '@mui/material/Paper';\nimport Typography from '@mui/material/Typography';\n\nimport ShareeRow from './ShareRow';\nimport TableHeader from './TableHeader';\n\nexport default function ExistingShares({ shareData, onUnShare, unsharing }) {\n  const rowsPerPage = 5;\n  const [page, setPage] = useState(0);\n  const [numSelected, setNumSelected] = useState(0);\n  const [selected, setSelected] = useState(Array(shareData.length).fill(0));\n\n  useEffect(() => {\n    setSelected(Array(shareData.length).fill(0));\n    setNumSelected(0);\n  }, [shareData]);\n\n  const handleCheckBoxClick = (ind) => {\n    if (selected[ind] === 1) {\n      setNumSelected((prevSelected) => prevSelected - 1);\n    } else {\n      setNumSelected((prevSelected) => prevSelected + 1);\n    }\n\n    setSelected([\n      ...selected.slice(0, ind),\n      1 - selected[ind],\n      ...selected.slice(ind + 1),\n    ]);\n  };\n\n  const handleSelectAllClick = () => {\n    if (selected.length > 0 && numSelected < selected.length) {\n      setSelected(Array(shareData.length).fill(1));\n      setNumSelected(selected.length);\n    } else {\n      setSelected(Array(shareData.length).fill(0));\n      setNumSelected(0);\n    }\n  };\n\n  const handleUnshare = () => {\n    const unshareEmails = [];\n    for (let i = 0; i < selected.length; i += 1) {\n      if (selected[i] === 1) {\n        unshareEmails.push(shareData[i].email);\n      }\n    }\n    onUnShare(unshareEmails);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  return (shareData.length > 0) ? (\n    <>\n      {\n        unsharing === true ? (\n          <Typography color=\"primary\" variant=\"h6\" sx={{ p: 2 }}>UnSharing Memory. Please wait...</Typography>\n        ) : null\n      }\n      <TableContainer component={Paper}>\n        <Table stickyHeader aria-label=\"memory share table\">\n          <TableHeader\n            numSelected={numSelected}\n            rowCount={shareData.length}\n            onSelectAllClick={handleSelectAllClick}\n            handleUnshareClick={handleUnshare}\n            unsharing={unsharing}\n          />\n          <TableBody>\n            {shareData\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n              .map((sharee, index) => (\n                <ShareeRow\n                  key={sharee.email}\n                  email={sharee.email}\n                  name={sharee.name}\n                  picture={sharee.picture}\n                  invitation={sharee.status.invitation}\n                  accept={sharee.status.accept}\n                  isSelected={selected[page * rowsPerPage + index] === 1}\n                  onCheckBoxClick={() => handleCheckBoxClick(page * rowsPerPage + index)}\n                />\n              ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <TablePagination\n        rowsPerPageOptions={[rowsPerPage]}\n        component=\"div\"\n        count={selected.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        onPageChange={handleChangePage}\n      />\n    </>\n\n  ) : null;\n}\n\nExistingShares.propTypes = {\n  shareData: PropTypes.arrayOf(PropTypes.shape(\n    {\n      email: PropTypes.string.isRequired,\n      status: PropTypes.shape({\n        accept: PropTypes.string.isRequired,\n        invitation: PropTypes.string.isRequired,\n      }).isRequired,\n      name: PropTypes.string,\n      picture: PropTypes.string,\n    },\n  )).isRequired,\n  onUnShare: PropTypes.func.isRequired,\n  unsharing: PropTypes.bool.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\n\nexport default function CloseButton({ handleClose }) {\n  return (\n    <IconButton\n      aria-label=\"close\"\n      onClick={handleClose}\n      sx={{\n        position: 'absolute',\n        right: 8,\n        top: 8,\n        color: (theme) => theme.palette.grey[500],\n      }}\n    >\n      <CloseIcon />\n    </IconButton>\n  );\n}\n\nCloseButton.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n};\n","import ActionIcon from 'components/ActionIcon';\nimport ShareIcon from '@mui/icons-material/Share';\nimport { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Typography from '@mui/material/Typography';\nimport Dialog from '@mui/material/Dialog';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Divider from '@mui/material/Divider';\nimport useEmail from 'hooks/email';\n\nimport NewShares from 'components/NewShares';\nimport ExistingShares from 'components/ExistingShares';\nimport CloseButton from 'components/CloseButton';\nimport api from '../Api';\n\nexport function ShareMemoryIcon() {\n  return <ActionIcon icon={<ShareIcon />} label=\"Share\" />;\n}\n\nexport function ShareComponent({\n  confirm, memoryShareCallback, memoryUnShareCallback, closeCallback, memoryID,\n}) {\n  const shareTitle = 'Share Memory';\n  const [\n    items,\n    value,\n    error,\n    setItems,\n    handleKeyDown,\n    handleChange,\n    handleDelete,\n    handlePaste,\n  ] = useEmail();\n\n  const [shareData, setShareData] = useState(null);\n  const [sharing, setSharing] = useState(false);\n  const [unsharing, setUnSharing] = useState(false);\n\n  useEffect(async () => {\n    try {\n      const data = await api.getShareData(memoryID);\n      setShareData(data);\n    } catch (err) {\n      /* eslint-disable no-console */\n      console.log(err);\n    }\n  }, []);\n\n  const [open, setOpen] = useState(confirm);\n  useEffect(() => setOpen(confirm), [confirm]);\n\n  const handleClose = () => {\n    setOpen(false);\n    closeCallback();\n  };\n\n  const handleSubmit = async () => {\n    //  callback(items);\n    try {\n      setSharing(true);\n      const shareResults = await api.shareMemory(memoryID, items);\n      memoryShareCallback(shareResults);\n      const resultsJSON = await shareResults.json();\n      setItems([]);\n      setShareData(resultsJSON);\n      setSharing(false);\n    } catch (err) {\n      /* eslint-disable no-console */\n      console.log(err);\n      setSharing(false);\n    }\n  };\n\n  const handleUnshare = async (emails) => {\n    //  callback(items);\n    try {\n      setUnSharing(true);\n      const shareResults = await api.revokeShare(memoryID, emails);\n      console.log(shareResults);\n      memoryUnShareCallback(shareResults);\n      const resultsJSON = await shareResults.json();\n      setShareData(resultsJSON);\n      setUnSharing(false);\n    } catch (err) {\n      /* eslint-disable no-console */\n      console.log(err);\n      setUnSharing(false);\n    }\n  };\n\n  const existingShares = (shareData !== null) ? (\n    <>\n      <Typography sx={{ m: 2, fontSize: '1.2rem' }}>Existing Shares</Typography>\n      <ExistingShares shareData={shareData} onUnShare={handleUnshare} unsharing={unsharing} />\n    </>\n  ) : null;\n\n  return (\n    <Dialog\n      open={open}\n      sx={{\n        '& .MuiPaper-root': { m: 0 },\n        backgroundColor: 'faded.black',\n      }}\n    >\n      <DialogTitle>\n        {shareTitle}\n        <CloseButton handleClose={handleClose} />\n      </DialogTitle>\n      <Divider />\n      <Typography sx={{ m: 2 }}>\n        New Shares (\n        {items.length}\n        {' '}\n        added)\n      </Typography>\n      <NewShares\n        items={items}\n        value={value}\n        error={error}\n        handleKeyDown={handleKeyDown}\n        handleChange={handleChange}\n        handleDelete={handleDelete}\n        handlePaste={handlePaste}\n        handleClear={() => setItems([])}\n        handleSubmit={handleSubmit}\n        sharing={sharing}\n      />\n      <Divider />\n      {existingShares}\n    </Dialog>\n  );\n}\n\nShareComponent.propTypes = {\n  confirm: PropTypes.bool.isRequired,\n  memoryShareCallback: PropTypes.func.isRequired,\n  memoryUnShareCallback: PropTypes.func.isRequired,\n  closeCallback: PropTypes.func.isRequired,\n  memoryID: PropTypes.string.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport Confirm from 'components/confirmation';\nimport UpdateMemoryIcon from 'components/UpdateMemoryIcon';\nimport { ShareComponent, ShareMemoryIcon } from './Share';\nimport { ConfirmDelete, DeleteMemoryIcon } from './Delete';\n\nfunction ConfirmAction({\n  title, message, callback, open, closeCallback,\n}) {\n  const [confirm, setConfirm] = useState(open);\n  useEffect(() => setConfirm(open), [open]);\n\n  return (\n    <Confirm\n      title={title}\n      confirm={confirm}\n      handleCallback={callback}\n      handleCloseCallback={() => {\n        setConfirm(false);\n        closeCallback();\n      }}\n      message={message}\n    />\n  );\n}\n\nexport default function MemoryActions({\n  snackBar, handleDelete, memoryShareCallback, memoryUnShareCallback, handleEditClick, memoryID,\n}) {\n  let actionComponent;\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [action, setAction] = useState(null);\n\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => setAnchorEl(event.currentTarget);\n  const handleClose = () => setAnchorEl(null);\n  const closeConfirm = () => setAction(null);\n\n  if (action === 'delete') {\n    actionComponent = (\n      <ConfirmDelete open callback={handleDelete} closeCallback={closeConfirm} />\n    );\n  }\n\n  if (action === 'share') {\n    actionComponent = (\n      <ShareComponent\n        confirm\n        memoryShareCallback={memoryShareCallback}\n        memoryUnShareCallback={memoryUnShareCallback}\n        closeCallback={() => setAction(null)}\n        memoryID={memoryID}\n      />\n    );\n  }\n\n  const handleDeleteClick = () => {\n    setAction('delete');\n    handleClose();\n  };\n\n  const handleShareClick = () => {\n    setAction('share');\n    handleClose();\n  };\n\n  const handleEdit = () => {\n    handleEditClick();\n    handleClose();\n  };\n\n  return (\n    <div>\n      <MoreVertIcon onClick={handleClick} />\n      <Menu\n        id=\"memory-actions\"\n        anchorEl={anchorEl}\n        open={open}\n        onClose={handleClose}\n        MenuListProps={{\n          'aria-labelledby': 'basic-button',\n        }}\n        sx={{ borderRadius: '10px' }}\n      >\n        <MenuItem onClick={handleEdit}><UpdateMemoryIcon /></MenuItem>\n        <MenuItem onClick={handleShareClick}><ShareMemoryIcon /></MenuItem>\n        <MenuItem onClick={handleDeleteClick}><DeleteMemoryIcon /></MenuItem>\n      </Menu>\n      {actionComponent}\n      {snackBar}\n    </div>\n  );\n}\n\nMemoryActions.propTypes = {\n  snackBar: PropTypes.node.isRequired,\n  handleDelete: PropTypes.func.isRequired,\n  memoryShareCallback: PropTypes.func.isRequired,\n  memoryUnShareCallback: PropTypes.func.isRequired,\n  handleEditClick: PropTypes.func.isRequired,\n  memoryID: PropTypes.string.isRequired,\n};\n\nConfirmAction.propTypes = {\n  open: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  callback: PropTypes.func.isRequired,\n  closeCallback: PropTypes.func.isRequired,\n};\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Navigate } from 'react-router-dom';\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport Box from '@mui/material/Box';\n//  import MoreVertIcon from '@mui/icons-material/MoreVert';\nimport Divider from '@mui/material/Divider';\nimport { useTheme } from '@mui/material/styles';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport SimpleSnackbar from 'components/simple_snackbar';\nimport deleteMemory from './Delete';\nimport MemoryActions from './Actions';\n\nexport default function MemoryContentStructure({\n  header, subheader, photoLayout, storyLayout, bucket, memoryID, authURL, handleEditClick, memType,\n}) {\n  const [snack, setSnack] = useState(null);\n  const [snackMessage, setSnackMessage] = useState(null);\n  const [snackError, setSnackError] = useState(null);\n  const [redir, setRedir] = useState(null);\n  let className;\n  const theme = useTheme();\n  const lgdown = useMediaQuery(theme.breakpoints.down('lg'));\n  if (lgdown) className = '';\n  else className = 'vertical-scroll';\n\n  const handleSnackMessage = (msg, error) => {\n    setSnackMessage(msg);\n    setSnackError(error);\n  };\n\n  const memoryDeleteCallback = (open) => {\n    if (open.status === 'ok') {\n      handleSnackMessage('Memory deleted successfully', false);\n    } else {\n      handleSnackMessage('Error while deleting memory', true);\n    }\n    setSnack(true);\n    setRedir(true);\n  };\n\n  const memoryShareCallback = (results) => {\n    if (results.ok === true) {\n      handleSnackMessage('Memory shared successfully', false);\n    } else {\n      handleSnackMessage('Error while sharing memory', true);\n    }\n    setSnack(true);\n  };\n\n  const memoryUnShareCallback = (results) => {\n    if (results.ok === true) {\n      handleSnackMessage('Memory unshared successfully', false);\n    } else {\n      handleSnackMessage('Error while unsharing memory', true);\n    }\n    setSnack(true);\n  };\n\n  const handleSnackBarClose = () => {\n    setSnack(false);\n    setSnackMessage(null);\n    setSnackError(null);\n  };\n\n  const snackBar = (\n    <SimpleSnackbar\n      snackBarOpen={snack}\n      message={snackMessage}\n      onClose={handleSnackBarClose}\n      error={snackError}\n    />\n  );\n\n  const actions = (memType === 'own') ? (\n    <MemoryActions\n      snackBar={snackBar}\n      handleDelete={() => {\n        deleteMemory(bucket, authURL, memoryID, memoryDeleteCallback);\n      }}\n      memoryID={memoryID}\n      memoryShareCallback={memoryShareCallback}\n      memoryUnShareCallback={memoryUnShareCallback}\n      handleEditClick={handleEditClick}\n    />\n  ) : null;\n\n  return (snack === false && redir === true) ? (\n    <Navigate to=\"/memories\" replace />\n  ) : (\n    <Card\n      sx={{\n        boxShadow: 0,\n        bgcolor: 'button.main',\n        p: 1,\n      }}\n    >\n      <CardHeader\n        title={header}\n        subheader={subheader}\n        action={actions}\n      />\n      <Divider />\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'flex-start',\n          flexDirection: {\n            lg: 'row',\n            xs: 'column',\n          },\n          height: {\n            lg: '72vh',\n          },\n          my: 1,\n        }}\n      >\n        <Box\n          sx={{\n            width: {\n              lg: '70%',\n              xs: '100%',\n            },\n            overflowY: 'scroll',\n            borderRadius: 5,\n          }}\n          className={className}\n        >\n          {photoLayout}\n        </Box>\n        <Box\n          sx={{\n            width: { lg: '30%', sx: '100%' },\n            overflowY: 'scroll',\n            mt: {\n              lg: 0,\n              xs: 2,\n            },\n            p: {\n              lg: 1,\n            },\n            px: 1,\n          }}\n          className={className}\n        >\n          {storyLayout}\n        </Box>\n      </Box>\n    </Card>\n  );\n}\n\nMemoryContentStructure.propTypes = {\n  header: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n  subheader: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n  photoLayout: PropTypes.element.isRequired,\n  storyLayout: PropTypes.element.isRequired,\n  memoryID: PropTypes.string.isRequired,\n  bucket: PropTypes.string.isRequired,\n  authURL: PropTypes.string.isRequired,\n  handleEditClick: PropTypes.func.isRequired,\n  memType: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Stack from '@mui/material/Stack';\nimport Link from '@mui/material/Link';\nimport Button from '@mui/material/Button';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport Typography from '@mui/material/Typography';\n\nexport default function BackButton({ memType }) {\n  const to = `/memories/${memType}`;\n  if (memType !== 'preview') {\n    return (\n      <Stack\n        direction=\"row\"\n        justifyContent=\"flex-start\"\n        sx={{ backgroundColor: 'button.main', paddingX: 2, paddingY: 1 }}\n      >\n        <Link href={to} underline=\"none\">\n          <Button\n            variant=\"contained\"\n            component=\"label\"\n            sx={{\n              color: 'primary.main',\n              backgroundColor: 'button.main',\n              padding: '6px 8px',\n              boxShadow: 0,\n              '&:hover': {\n                backgroundColor: 'button.main',\n              },\n            }}\n          >\n            <ArrowBackIcon size=\"medium\" sx={{ paddingRight: 1 }} />\n            <Typography variant=\"body1\" color=\"muted.main\">Memories</Typography>\n          </Button>\n        </Link>\n      </Stack>\n    );\n  }\n  return null;\n}\n\nBackButton.propTypes = {\n  memType: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport { alpha } from '@mui/material/styles';\n\nexport default function RemovePhotoIcon({ size, handleClick }) {\n  return (\n    <IconButton\n      size={size}\n      sx={{\n        color: 'black',\n        bgcolor: alpha('#fff', 0.4),\n        position: 'absolute',\n        top: 10,\n        right: 12,\n      }}\n      onClick={handleClick}\n    >\n      <CloseIcon size={size} />\n    </IconButton>\n  );\n}\n\nRemovePhotoIcon.defaultProps = {\n  size: 'small',\n};\n\nRemovePhotoIcon.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  size: PropTypes.string,\n};\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport SwipeableViews from 'react-swipeable-views';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport CardHeader from '@mui/material/CardHeader';\nimport { alpha } from '@mui/material/styles';\nimport { autoPlay, virtualize, bindKeyboard } from 'react-swipeable-views-utils';\n\nconst EnhancedSwipeableViews = bindKeyboard(autoPlay(virtualize(SwipeableViews)));\n\nfunction mod(count, total) {\n  const modulus = count % total;\n  if (modulus < 0) {\n    return modulus + total;\n  }\n  return modulus;\n}\n\nexport default function MemoryImageSlide({\n  ind, images, handleNext, handleStepChange,\n}) {\n  const [activeStep, setActiveStep] = useState(ind);\n  const [loadedImages, setLoadedImages] = useState(0);\n  const [display, setDisplay] = useState(null);\n\n  useEffect(() => {\n    setActiveStep(ind);\n  }, [ind]);\n\n  useEffect(() => {\n    if (loadedImages < images.length) {\n      setDisplay('none');\n    } else {\n      setDisplay('flex');\n    }\n  }, [loadedImages]);\n\n  const handleImageLoad = () => setLoadedImages((prevLoaded) => prevLoaded + 1);\n\n  const slideRenderer = (props) => {\n    /* eslint-disable  react/prop-types */\n    const { index, key } = props;\n    const virtNum = mod(index, images.length);\n    const srcSetList = images[virtNum].images ? (\n      images[virtNum].images.map(({ src, width }) => `${src} ${width}w`)\n    ) : [];\n    const srcSet = srcSetList.join(',');\n    const style = {\n      display: 'block',\n      boxSizing: 'content-box',\n      cursor: 'pointer',\n      objectFit: 'contain',\n      height: '100vh',\n    };\n\n    return (\n      <Button\n        key={key}\n        style={style}\n        sx={{\n          display: 'flex',\n          justifyContents: 'center',\n          width: '100%',\n          bgcolor: '#1c1c1c',\n          padding: 0,\n        }}\n      >\n        {images[virtNum].caption ? (\n          <CardHeader\n            title={images[virtNum].caption}\n            sx={{\n              position: 'absolute',\n              bottom: 40,\n              left: '50%',\n              bgcolor: alpha('#1c1c1c', 0.4),\n              borderRadius: 2,\n              padding: 1,\n              color: 'button.main',\n              transform: 'translate(-50%, 0)',\n            }}\n          >\n            {images[virtNum].caption}\n          </CardHeader>\n        ) : null}\n        <Box\n          component=\"img\"\n          onLoad={handleImageLoad}\n          sx={{\n            display: { display },\n            justifyContents: 'center',\n            width: '100%',\n            bgcolor: '#1c1c1c',\n          }}\n          src={images[virtNum].src}\n          srcSet={srcSet}\n          style={style}\n          alt={images[virtNum].src}\n          key={key}\n        />\n\n      </Button>\n    );\n  };\n\n  return (\n    <EnhancedSwipeableViews\n      index={activeStep}\n      onChangeIndex={handleStepChange}\n      enableMouseEvents\n      animateTransitions\n      interval={10000}\n      onClick={handleNext}\n      style={{ backgroundColor: 'muted.main' }}\n      slideRenderer={slideRenderer}\n    />\n  );\n}\n\nMemoryImageSlide.defaultProps = {\n  ind: 0,\n};\n\nMemoryImageSlide.propTypes = {\n  ind: PropTypes.number,\n  handleNext: PropTypes.func.isRequired,\n  handleStepChange: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(PropTypes.shape({\n    src: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  })).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Dialog from '@mui/material/Dialog';\nimport CardHeader from '@mui/material/CardHeader';\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@mui/icons-material/KeyboardArrowRight';\nimport IconButton from '@mui/material/IconButton';\n\nimport RemovePhotoIcon from 'components/RemovePhotoIcon';\nimport MemoryImageSlide from 'components/MemoryImageSlide';\n\nfunction NextPic({ handleClick }) {\n  return (\n    <IconButton\n      edge=\"start\"\n      color=\"primary\"\n      aria-label=\"close\"\n      onClick={handleClick}\n      sx={{\n        position: 'absolute', top: '50%', right: 0, transform: 'translate(0%, -50%)',\n      }}\n    >\n      <KeyboardArrowRight sx={{ color: 'button.main', fontSize: '4.5rem' }} />\n    </IconButton>\n  );\n}\n\nfunction PreviousPic({ handleClick }) {\n  return (\n    <IconButton\n      edge=\"start\"\n      color=\"primary\"\n      aria-label=\"close\"\n      onClick={handleClick}\n      sx={{\n        position: 'absolute', top: '50%', left: 0, transform: 'translate(0%, -50%)',\n      }}\n    >\n      <KeyboardArrowLeft sx={{ color: 'button.main', fontSize: '4.5rem' }} />\n    </IconButton>\n  );\n}\n\nexport default function MemoryCarousel({\n  open, title, date, images, index, handleNext, handleBack, handleClose, handleChange,\n}) {\n  return (\n    <Dialog\n      open={open}\n      fullScreen\n    >\n      <MemoryImageSlide\n        images={images}\n        ind={index}\n        handleNext={handleNext}\n        handleStepChange={handleChange}\n      />\n      <CardHeader\n        title={title}\n        subheader={date}\n        sx={{\n          position: 'absolute',\n          top: 10,\n          left: 10,\n          bgcolor: 'button.main',\n          borderRadius: 3,\n          padding: 1,\n        }}\n      />\n      <PreviousPic handleClick={handleBack} />\n      <NextPic handleClick={handleNext} />\n      <RemovePhotoIcon size=\"large\" handleClick={handleClose} />\n    </Dialog>\n  );\n}\n\nNextPic.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n};\n\nPreviousPic.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n};\n\nMemoryCarousel.defaultProps = {\n  index: 0,\n};\n\nMemoryCarousel.propTypes = {\n  open: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  date: PropTypes.string.isRequired,\n  index: PropTypes.number,\n  handleNext: PropTypes.func.isRequired,\n  handleBack: PropTypes.func.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  handleChange: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(PropTypes.shape({\n    src: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  })).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Stack from '@mui/material/Stack';\nimport Typography from '@mui/material/Typography';\nimport TextField from '@mui/material/TextField';\nimport DoneTwoToneIcon from '@mui/icons-material/DoneTwoTone';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport EditIcon from '@mui/icons-material/Edit';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\n\nimport useDate from '../../hooks/date';\n\nexport default function MemoryDate({ editable, prevDate, handleDateUpdate }) {\n  const [edit, setEdit] = useState(editable);\n  const [startEdit, setStartEdit] = useState(false);\n  const [date, setDate, handleDateChange] = useDate(prevDate);\n\n  useEffect(() => {\n    setEdit(editable);\n    setDate(prevDate);\n    setStartEdit(false);\n  }, [editable, prevDate]);\n\n  if (!edit && !startEdit) {\n    return <Typography>{date}</Typography>;\n  }\n\n  if (edit && !startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'center' }} spacing={2}>\n        <Typography>{date}</Typography>\n        <EditIcon fontSize=\"medium\" onClick={() => setStartEdit(true)} />\n      </Stack>\n    );\n  }\n\n  if (edit && startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'flex-end', justifyContent: 'flex-start', mt: 3 }} spacing={2}>\n        <LocalizationProvider dateAdapter={AdapterDateFns}>\n          <DatePicker\n            label=\"Memory Date\"\n            value={date}\n            onChange={handleDateChange}\n            placeholder=\"dd/MM/yyyy\"\n            inputFormat=\"dd/MM/yyyy\"\n            maxDate={new Date()}\n            renderInput={(props) => (\n              <TextField\n                readOnly\n                required\n          // eslint-disable-next-line react/jsx-props-no-spreading\n                {...props}\n              />\n            )}\n          />\n        </LocalizationProvider>\n        <DoneTwoToneIcon\n          fontSize=\"medium\"\n          onClick={() => {\n            handleDateUpdate(date);\n            setStartEdit(false);\n          }}\n        />\n        <ClearIcon fontSize=\"medium\" onClick={() => { setDate(prevDate); setStartEdit(false); }} />\n      </Stack>\n    );\n  }\n}\n\nMemoryDate.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  prevDate: PropTypes.string.isRequired,\n  handleDateUpdate: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport Stack from '@mui/material/Stack';\nimport ThumbnailChooser from 'components/ThumbnailChooser';\nimport AddCaptionButton from 'components/AddCaptionButton';\nimport RemoveSelectedImageButton from 'components/RemoveSelectedImageButton';\nimport ImageOptionsDialog from 'components/ImageOptionsDialog';\nimport MemoryPhotoAlbum from 'components/MemoryPhotoAlbum';\nimport AddPhotos from 'components/AddPhotos';\n\nexport default function MemoryImages({\n  editable,\n  images,\n  handlePhotoClick,\n  handleThumbnailUpdate,\n  deleteImage,\n  addImage,\n  memThumbnail,\n  updateCaption,\n}) {\n  const [edit, setEdit] = useState(editable);\n  const [thumbnail, setThumbnail] = useState(memThumbnail);\n  const [editingIndex, setEditingIndex] = useState(null);\n  const [editOpen, setEditOpen] = useState(false);\n\n  useEffect(() => setEdit(editable), [editable]);\n  useEffect(() => setThumbnail(memThumbnail), [memThumbnail]);\n\n  const handleThumbnailChange = (ind) => {\n    setThumbnail(ind);\n    handleThumbnailUpdate(ind);\n  };\n\n  const handleImageDelete = (ind) => deleteImage(images[ind].title);\n  const handleCaptionChange = (index, caption) => {\n    setEditOpen(false);\n    updateCaption(index, caption);\n  };\n\n  console.log(thumbnail, handleThumbnailChange, handleImageDelete);\n\n  const renderPhotos = ({\n    layout,\n    imageProps: {\n      alt, style, title, ...restImageProps\n    },\n  }) => (\n    <Button component=\"div\" sx={{ padding: '2px' }}>\n      <img\n        alt={alt}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n        style={{ ...style, width: layout.width, padding: 0 }}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n        {...restImageProps}\n      />\n      <RemoveSelectedImageButton index={layout.index} handleRemoveImage={handleImageDelete} />\n      <ThumbnailChooser\n        index={layout.index}\n        thumbnail={thumbnail}\n        handleThumbnailChange={handleThumbnailChange}\n      />\n      <AddCaptionButton\n        handleClick={() => {\n          setEditingIndex(layout.index);\n          setEditOpen(true);\n        }}\n        caption={('caption' in images[layout.index]) ? images[layout.index].caption : ''}\n      />\n    </Button>\n  );\n\n  const OptionsRow = (\n    <Stack direction=\"row\" spacing={2} justifyContent=\"space-between\" alignItems=\"center\">\n      <Typography variant=\"h6\" color=\"muted.main\">\n        Images:\n        {' '}\n        {images.length}\n      </Typography>\n      <AddPhotos handleChange={addImage} />\n    </Stack>\n  );\n\n  return edit ? (\n    <Stack direction=\"column\" spacing={2} sx={{ p: 2 }}>\n      {OptionsRow}\n      <MemoryPhotoAlbum images={images} renderPhoto={renderPhotos} />\n      {(editingIndex !== null)\n        ? (\n          <ImageOptionsDialog\n            imageCaption={('caption' in images[editingIndex]) ? images[editingIndex].caption : ''}\n            index={editingIndex}\n            src={images[editingIndex].src}\n            open={editOpen}\n            handleClose={() => { setEditOpen(false); setEditingIndex(null); }}\n            handleSubmit={handleCaptionChange}\n          />\n        ) : null}\n    </Stack>\n  ) : (\n    <MemoryPhotoAlbum images={images} handlePhotoClick={handlePhotoClick} />\n  );\n}\n\nMemoryImages.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  memThumbnail: PropTypes.number.isRequired,\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      src: PropTypes.string,\n      width: PropTypes.number,\n      height: PropTypes.number,\n      title: PropTypes.string,\n      caption: PropTypes.string,\n    }),\n  ).isRequired,\n  handlePhotoClick: PropTypes.func.isRequired,\n  handleThumbnailUpdate: PropTypes.func.isRequired,\n  deleteImage: PropTypes.func.isRequired,\n  addImage: PropTypes.func.isRequired,\n  updateCaption: PropTypes.func.isRequired,\n};\n","import { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Stack from '@mui/material/Stack';\nimport DoneTwoToneIcon from '@mui/icons-material/DoneTwoTone';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport EditIcon from '@mui/icons-material/Edit';\nimport Divider from '@mui/material/Divider';\nimport Typography from '@mui/material/Typography';\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\nimport Box from '@mui/material/Box';\nimport useStory from '../../hooks/story';\nimport './memory.css';\n\nexport default function MemoryStory({ editable, prevStory, handleStoryUpdate }) {\n  const [edit, setEdit] = useState(editable);\n  const [startEdit, setStartEdit] = useState(false);\n  const [story, setStory, handleStoryChange] = useStory(prevStory);\n  const storyRef = useRef();\n\n  useEffect(() => {\n    setEdit(editable);\n    setStory(prevStory);\n    setStartEdit(false);\n  }, [editable, prevStory]);\n\n  if (!edit && !startEdit) {\n    return (\n      <Typography style={{ whiteSpace: 'pre-wrap' }}>{story}</Typography>\n    );\n  }\n\n  if (edit && !startEdit) {\n    return (\n      <Stack direction=\"column\" spacing={2}>\n        <Stack direction=\"row\" spacing={2} justifyContent=\"flex-end\">\n          <Typography sx={{ color: 'muted.main' }}>Edit Story</Typography>\n          <EditIcon\n            fontSize=\"medium\"\n            onClick={() => {\n              setStartEdit(true);\n            }}\n          />\n        </Stack>\n        <Divider sx={{ width: 1 }} />\n        <Typography style={{ whiteSpace: 'pre-wrap' }}>{story}</Typography>\n      </Stack>\n    );\n  }\n\n  if (edit && startEdit) {\n    return (\n      <Stack direction=\"column\" spacing={2}>\n        <Stack direction=\"row\" spacing={2} justifyContent=\"flex-end\">\n          <Typography sx={{ color: 'muted.main' }}>Editing Story</Typography>\n          <DoneTwoToneIcon\n            fontSize=\"medium\"\n            onClick={() => {\n              handleStoryUpdate(story);\n              setStartEdit(false);\n            }}\n          />\n          <ClearIcon\n            fontSize=\"medium\"\n            onClick={() => {\n              setStory(prevStory);\n              setStartEdit(false);\n            }}\n          />\n        </Stack>\n        <Divider sx={{ width: 1 }} />\n        <Box\n          sx={{\n            p: 2,\n            m: 1,\n            my: 2,\n            border: 1,\n            borderColor: 'primary.main',\n            bgcolor: 'input.background',\n            minHeight: '70vh',\n            borderRadius: 5,\n            width: '90%',\n          }}\n          onClick={() => storyRef.current.focus()}\n        >\n          <TextareaAutosize\n            autoFocus\n            aria-label=\"minimum height\"\n            placeholder=\"Tell your story...\"\n            value={story}\n            onChange={handleStoryChange}\n            style={{\n              width: '100%',\n              minHeight: '184px',\n              maxHeight: '70vh',\n              boxSizing: 'border-box',\n              paddingTop: '5px',\n              border: 0,\n              overflow: 'auto',\n              outline: 'none',\n              resize: 'vertical',\n              borderRadius: 5,\n              '&:focus': {\n                border: 0,\n              },\n            }}\n            ref={storyRef}\n          />\n\n        </Box>\n      </Stack>\n    );\n  }\n}\n\nMemoryStory.propTypes = {\n  prevStory: PropTypes.string.isRequired,\n  editable: PropTypes.bool.isRequired,\n  handleStoryUpdate: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Stack from '@mui/material/Stack';\nimport Typography from '@mui/material/Typography';\nimport TextField from '@mui/material/TextField';\nimport DoneTwoToneIcon from '@mui/icons-material/DoneTwoTone';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport EditIcon from '@mui/icons-material/Edit';\nimport useTitle from '../../hooks/title';\n\nexport default function MemoryTitle({ editable, text, handleTitleUpdate }) {\n  const [title, setTitle, handleTitleChange] = useTitle(text);\n  const [edit, setEdit] = useState(editable);\n  const [startEdit, setStartEdit] = useState(false);\n\n  useEffect(() => {\n    setEdit(editable);\n    setTitle(text);\n    setStartEdit(false);\n  }, [editable]);\n\n  if (!edit && !startEdit) {\n    return <Typography variant=\"h6\">{title}</Typography>;\n  }\n\n  if (edit && !startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'center' }} spacing={2}>\n        <Typography variant=\"h6\">{title}</Typography>\n        <EditIcon fontSize=\"medium\" onClick={() => setStartEdit(true)} />\n      </Stack>\n    );\n  }\n\n  if (edit && startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'flex-end', justifyContent: 'flex-start' }} spacing={2}>\n        <TextField\n          id=\"standard-basic\"\n          size=\"small\"\n          label=\"Title\"\n          onChange={handleTitleChange}\n          variant=\"standard\"\n          defaultValue={title}\n          sx={{ maxWidth: '200px' }}\n        />\n        <DoneTwoToneIcon\n          fontSize=\"medium\"\n          onClick={() => {\n            handleTitleUpdate(title);\n            setStartEdit(false);\n          }}\n        />\n        <ClearIcon fontSize=\"medium\" onClick={() => { setTitle(text); setStartEdit(false); }} />\n      </Stack>\n    );\n  }\n}\n\nMemoryTitle.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  text: PropTypes.string.isRequired,\n  handleTitleUpdate: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport { Navigate } from 'react-router-dom';\n\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport CardHeader from '@mui/material/CardHeader';\nimport Dialog from '@mui/material/Dialog';\nimport Divider from '@mui/material/Divider';\nimport DoneIcon from '@mui/icons-material/Done';\nimport Stack from '@mui/material/Stack';\nimport Typography from '@mui/material/Typography';\n\nimport './memory.css';\nimport SimpleSnackbar from 'components/simple_snackbar';\nimport BackButton from './BackButton';\nimport MemoryCarousel from './MemoryCarousel';\nimport MemoryContentStructure from './ContentStructure';\nimport MemoryDate from './MemoryDate';\nimport MemoryImages from './MemoryImages';\nimport MemoryStory from './MemoryStory';\nimport MemoryTitle from './MemoryTitle';\nimport api from '../Api';\n\nexport default function MemoryContent({\n  memType,\n  memTitle,\n  memDate,\n  memStory,\n  memImages,\n  memThumbnail,\n  bucket,\n  memoryID,\n  authURL,\n}) {\n  const [open, setOpen] = useState(false);\n  const [edit, setEdit] = useState(false);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [title, setTitle] = useState(memTitle);\n  const [date, setDate] = useState(memDate);\n  const [story, setStory] = useState(memStory);\n  const [thumbnail, setThumbnail] = useState(memThumbnail);\n  const [images, setImages] = useState(memImages);\n  const [snack, setSnack] = useState(null);\n  const [snackMessage, setSnackMessage] = useState(null);\n\n  const [newImages, setNewImages] = useState([]);\n  const [newImagesCount, setNewImagesCount] = useState(null);\n  const [errorUploadImages, setErrorUploadImages] = useState([]);\n  const [addImageOpen, setAddImageOpen] = useState(false);\n  const [uploadImageProgress, setUploadImageProgress] = useState(null);\n  const [uploadImageStatus, setUploadImageStatus] = useState(null);\n  const [snackError, setSnackError] = useState(null);\n  const [httpError, setHTTPError] = useState(false);\n\n  const maxSteps = images.length;\n\n  useEffect(() => setTitle(memTitle), [memTitle]);\n  useEffect(() => setDate(memDate), [memDate]);\n  useEffect(() => setStory(memStory), [memStory]);\n  useEffect(() => setImages(memImages), [memImages]);\n  useEffect(() => setThumbnail(memThumbnail), [memThumbnail]);\n\n  const handleSnackMessage = (msg, error) => {\n    setSnackMessage(msg);\n    setSnackError(error);\n  };\n\n  const handleHTTPError = (response, operation, callback) => {\n    if (response.status === 401) {\n      handleSnackMessage('You have been logged out. Please login to continue.', true);\n    } else if (response.status === 403) {\n      handleSnackMessage('You do not have permissions to do this operation.', true);\n    } else {\n      handleSnackMessage(`Unknown error occured in ${operation}`, true);\n    }\n    callback(response.status);\n  };\n\n  const handleSnackBarClose = () => {\n    setSnack(false);\n    setSnackMessage(null);\n    setSnackError(null);\n  };\n\n  const httpErrorCallback = (status) => {\n    setSnack(true);\n    setHTTPError(status);\n  };\n\n  const handleResponse = (response, message, value, callback) => {\n    if (response.ok) {\n      handleSnackMessage(`${message} successful`, false);\n      setSnack(true);\n      callback(value);\n    } else {\n      handleHTTPError(response, message, httpErrorCallback);\n    }\n  };\n\n  const updateTitle = async (value) => {\n    const resp = await api.updateTitle(memoryID, value);\n    handleResponse(resp, 'title update', value, setTitle);\n  };\n\n  const updateDate = async (value) => {\n    const resp = await api.updateDate(memoryID, value);\n    handleResponse(resp, 'date update', value, setDate);\n  };\n\n  const updateStory = async (value) => {\n    const resp = await api.updateStory(memoryID, value);\n    handleResponse(resp, 'story update', value, setStory);\n  };\n\n  const updateThumbnail = async (index) => {\n    const resp = await api.updateThumbnail(memoryID, images[index].title);\n    handleResponse(resp, 'thumbnail update', index, setThumbnail);\n  };\n\n  const updateCaption = async (index, value) => {\n    const resp = await api.updateCaption(memoryID, images[index].title, value);\n    handleResponse(resp, 'caption update', value, () => {});\n\n    setImages([\n      ...images.slice(0, index),\n      {\n        ...images[index],\n        caption: value,\n      },\n      ...images.slice(index + 1),\n    ]);\n  };\n\n  const deleteImage = async (value) => {\n    try {\n      let resp;\n      if (images.length === 1) {\n        handleSnackMessage('Atleast 1 image is needed for memory. Unable to delete', true);\n      } else {\n        resp = await api.removeImage(memoryID, value);\n        handleResponse(\n          resp,\n          'image delete',\n          value,\n          () => setImages(images.filter((item) => item.title !== value)),\n        );\n      }\n      setSnack(true);\n      return resp;\n    } catch (error) {\n      /* eslint-disable no-console */\n      console.log(error);\n      return false;\n    }\n  };\n\n  const addImage = async (details) => {\n    try {\n      const resp = await api.addImage(memoryID, details);\n      return resp;\n    } catch (error) {\n      /* eslint-disable no-console */\n      console.log(error);\n      return false;\n    }\n  };\n\n  const handleNewImages = async () => {\n    /* eslint-disable  no-await-in-loop, no-restricted-syntax */\n    for (const [index, img] of newImages.entries()) {\n      const [det, file, src] = img;\n      const putURL = await addImage(det).then((response) => {\n        if (response.ok) {\n          return response.text();\n        }\n        handleHTTPError(response, 'add image', httpErrorCallback);\n        return '';\n      });\n      const photo = {\n        key: `memories/${memoryID}/images/${det.name}`,\n        src,\n        alt: det.name,\n        title: det.name,\n        width: det.width,\n        height: det.height,\n        images: [],\n      };\n      const uploadResp = await fetch(putURL, { body: file, method: 'PUT' });\n      if (uploadResp.ok) {\n        setUploadImageProgress(`Images uploaded: ${index + 1} / ${newImagesCount} `);\n        setImages((pics) => pics.concat([photo]));\n      } else {\n        setUploadImageStatus('Error while uploading memory image');\n        setErrorUploadImages((errImgs) => errImgs.concat([det.name]));\n        handleHTTPError(uploadResp, 'deleting image', httpErrorCallback);\n      }\n    }\n  };\n\n  useEffect(async () => {\n    if (newImages.length > 0) {\n      setAddImageOpen(true);\n      setUploadImageProgress('Preparing images for upload....');\n    }\n    if (newImages.length === newImagesCount) {\n      await handleNewImages();\n      if (errorUploadImages.length > 0) {\n        setUploadImageStatus(`Error while uploading ${errorUploadImages.length} images`);\n      } else {\n        setUploadImageStatus(`${newImages.length} image(s) uploaded successfully`);\n      }\n      setErrorUploadImages([]);\n      setNewImagesCount(null);\n      setNewImages([]);\n      setTimeout(() => {\n        setAddImageOpen(false);\n        setUploadImageStatus(null);\n        setUploadImageProgress(null);\n      }, 3000);\n    }\n  }, [newImages]);\n\n  const handleImageAdd = async (event) => {\n    if (event.target.files) {\n      const files = Array.from(event.target.files);\n      setNewImagesCount(files.length);\n      if (images.length + files.length <= 15) {\n        files.forEach((file) => {\n          const image = new Image();\n          image.onload = async (e) => {\n            const height = e.target.naturalHeight;\n            const width = e.target.naturalWidth;\n            const size = file.size / (1024 * 1024);\n            const { name } = file;\n            const resImages = [500, 1000, 1500].map((resHeight) => ({\n              height: resHeight, width: Math.ceil((resHeight * width) / height),\n            }));\n            const creationDate = Date.now();\n            const newName = `${creationDate}-${name}`;\n            const imageDetails = [{\n              name: newName, size, height, width, images: resImages,\n            }, file, e.target.src];\n            setNewImages((pics) => pics.concat([imageDetails]));\n          };\n          image.src = URL.createObjectURL(file);\n        });\n        files.map((file) => URL.revokeObjectURL(file)); // avoid memory leak\n      } else {\n        handleSnackMessage(`Unable to add ${files.length} images. Maximum images allowed per memory is 15`, true);\n        setSnack(true);\n      }\n    }\n  };\n\n  const handleClose = () => setOpen(false);\n\n  const handleActiveIndexChange = (step) => setActiveIndex(step);\n\n  const handleBack = () => {\n    setActiveIndex(\n      (prevActiveStep) => (prevActiveStep - 1 + maxSteps) % maxSteps,\n    );\n  };\n\n  const handleNext = () => {\n    setActiveIndex((prevActiveStep) => (prevActiveStep + 1) % maxSteps);\n  };\n\n  const handlePhotoClick = (photo, event, index) => {\n    setOpen(true);\n    setActiveIndex(index);\n  };\n\n  const handleEditClick = () => setEdit(true);\n\n  const memoryTitle = (\n    <MemoryTitle\n      editable={edit}\n      text={title}\n      handleTitleUpdate={updateTitle}\n    />\n  );\n\n  const memoryDate = (\n    <MemoryDate editable={edit} prevDate={date} handleDateUpdate={updateDate} />\n  );\n\n  const storyLayout = (\n    <MemoryStory\n      editable={edit}\n      prevStory={story}\n      handleStoryUpdate={updateStory}\n    />\n  );\n\n  const photoLayout = (\n    <MemoryImages\n      editable={edit}\n      images={images}\n      memThumbnail={thumbnail}\n      handlePhotoClick={handlePhotoClick}\n      handleThumbnailUpdate={updateThumbnail}\n      deleteImage={deleteImage}\n      addImage={handleImageAdd}\n      updateCaption={updateCaption}\n    />\n  );\n\n  const updateDone = (\n    <Button\n      variant=\"contained\"\n      component=\"label\"\n      onClick={() => setEdit(false)}\n      sx={{\n        color: 'primary.main',\n        borderRadius: 5,\n        backgroundColor: 'button.main',\n        padding: '6px 8px',\n      }}\n    >\n      <DoneIcon size=\"medium\" sx={{ paddingRight: 1 }} />\n      <Typography variant=\"body1\" color=\"muted.main\">Edit</Typography>\n    </Button>\n  );\n\n  if (httpError === 401 && snack === false) {\n    return <Navigate to=\"/login\" />;\n  }\n\n  return (\n    <>\n      {edit ? (\n        <Stack\n          direction=\"row\"\n          justifyContent=\"flex-start\"\n          sx={{ backgroundColor: 'button.main', paddingX: 2, paddingY: 1 }}\n        >\n          {updateDone}\n        </Stack>\n      ) : <BackButton memType={memType} /> }\n      <Box\n        component=\"div\"\n        sx={{\n          backgroundColor: 'button.main',\n          margin: edit ? '5px' : 0,\n        }}\n      >\n        <MemoryContentStructure\n          header={memoryTitle}\n          subheader={memoryDate}\n          photoLayout={photoLayout}\n          storyLayout={storyLayout}\n          memoryID={memoryID}\n          bucket={bucket}\n          authURL={authURL}\n          handleEditClick={handleEditClick}\n          memType={memType}\n        />\n      </Box>\n      <MemoryCarousel\n        open={open}\n        title={title}\n        date={date}\n        images={images}\n        index={activeIndex}\n        handleNext={handleNext}\n        handleBack={handleBack}\n        handleClose={handleClose}\n        handleChange={handleActiveIndexChange}\n      />\n      <SimpleSnackbar\n        snackBarOpen={snack}\n        message={snackMessage}\n        onClose={handleSnackBarClose}\n        error={snackError}\n      />\n      <Dialog\n        open={addImageOpen}\n        fullWidth\n        sx={{\n          p: 1,\n        }}\n      >\n        <Card sx={{ maxWidth: 1, p: 1 }}>\n          <CardHeader title=\"Adding Images\" sx={{ textAlign: 'center' }} />\n          <Divider />\n          <CardContent>\n            <Typography variant=\"h6\" sx={{ color: 'muted.main' }}>{uploadImageProgress}</Typography>\n            <Stack justifyContent=\"center\" sx={{ py: 2 }}>\n              <Typography variant=\"h5\">{uploadImageStatus}</Typography>\n            </Stack>\n          </CardContent>\n        </Card>\n      </Dialog>\n\n    </>\n  );\n}\n\nMemoryContent.defaultProps = {\n  memTitle: 'Memory Title',\n  memDate: 'Memory Date',\n  memStory: 'Memory Text',\n};\n\nMemoryContent.propTypes = {\n  memType: PropTypes.string.isRequired,\n  memTitle: PropTypes.string,\n  memDate: PropTypes.string,\n  memStory: PropTypes.string,\n  memoryID: PropTypes.string.isRequired,\n  memThumbnail: PropTypes.string.isRequired,\n  bucket: PropTypes.string.isRequired,\n  authURL: PropTypes.string.isRequired,\n  memImages: PropTypes.arrayOf(\n    PropTypes.shape({\n      src: PropTypes.string,\n      width: PropTypes.number,\n      height: PropTypes.number,\n    }),\n  ).isRequired,\n};\n"],"names":["AddCaptionButton","handleClick","caption","size","label","sx","color","alpha","bgcolor","position","top","left","borderRadius","py","onClick","length","variant","pl","defaultProps","OptionsButton","children","name","Button","id","component","backgroundColor","padding","AddPhotos","handleChange","type","hidden","multiple","accept","onChange","fontSize","ImageOptionsDialog","index","imageCaption","src","open","handleClose","handleSubmit","console","log","useState","setCaption","captionError","setCaptionError","useEffect","captionSchema","yup","max","required","utils","isValid","captionValid","submitForm","border","right","theme","palette","grey","dividers","alt","width","pb","height","defaultValue","event","target","value","helperText","error","MemoryPhotoAlbum","images","handlePhotoClick","renderPhoto","arrangement","setArrangement","layout","photos","spacing","rowConstraints","columns","RemoveSelectedImageButton","handleRemoveImage","title","px","ThumbnailChooser","thumbnail","handleThumbnailChange","control","fontWeight","overflow","checked","pr","borderColor","borderLeft","bottom","margin","useDate","initialDate","date","setDate","e","newDate","Date","formattedDate","toLocaleDateString","day","month","year","useStory","initialState","story","setStory","useTitle","initialValue","setTitle","ActionIcon","icon","Box","alignItems","IconButton","Confirm","confirm","handleCallback","handleCloseCallback","message","setOpen","Dialog","DialogTitle","p","Typography","Stack","direction","DeleteMemoryIcon","Delete","ConfirmDelete","callback","closeCallback","bucket","authURL","memoryID","memoryDeleteCallback","api","deleteResults","UpdateMemoryIcon","Edit","useEmail","items","setItems","setValue","setError","isInList","email","includes","err","test","isEmail","commonUtils","evt","key","preventDefault","val","trim","item","prevItems","filter","i","emails","clipboardData","getData","match","toBeAdded","EmailInput","handleKeyDown","handleDelete","handlePaste","mb","TextField","placeholder","onKeyDown","onPaste","my","Grid","container","map","Chip","onDelete","NewShares","handleClear","sharing","disabled","StatusTable","invitation","colorMap","pending","sent","failed","rejected","accepted","Table","TableHead","TableRow","TableCell","align","TableBody","CheckboxCell","selected","setChecked","Checkbox","PersonalDetailsCell","picture","scope","avatar","Avatar","referrerPolicy","b","maxWidth","ExpandStatusIconCell","style","paddingBottom","paddingTop","colSpan","ExpandLess","ExpandCircleDown","ShareeRow","isSelected","onCheckBoxClick","Collapse","in","timeout","unmountOnExit","gutterBottom","SelectAllCheckboxCell","numSelected","rowCount","onSelectAllClick","indeterminate","TableHeader","handleUnshareClick","unsharing","textTransform","ExistingShares","shareData","onUnShare","page","setPage","setNumSelected","Array","fill","setSelected","TableContainer","Paper","stickyHeader","unshareEmails","push","slice","sharee","status","ind","prevSelected","TablePagination","rowsPerPageOptions","count","rowsPerPage","onPageChange","newPage","CloseButton","Close","ShareMemoryIcon","Share","ShareComponent","memoryShareCallback","memoryUnShareCallback","setShareData","setSharing","setUnSharing","data","shareResults","json","resultsJSON","handleUnshare","existingShares","m","Divider","MemoryActions","actionComponent","snackBar","handleEditClick","anchorEl","setAnchorEl","action","setAction","Boolean","MoreVert","currentTarget","Menu","onClose","MenuListProps","MenuItem","MemoryContentStructure","className","header","subheader","photoLayout","storyLayout","memType","snack","setSnack","snackMessage","setSnackMessage","snackError","setSnackError","redir","setRedir","useTheme","useMediaQuery","breakpoints","down","handleSnackMessage","msg","snackBarOpen","actions","deleteMemory","results","ok","to","replace","Card","boxShadow","CardHeader","display","justifyContent","flexDirection","lg","xs","overflowY","mt","BackButton","paddingX","paddingY","Link","href","underline","ArrowBack","paddingRight","RemovePhotoIcon","EnhancedSwipeableViews","bindKeyboard","autoPlay","virtualize","SwipeableViews","MemoryImageSlide","handleNext","handleStepChange","activeStep","setActiveStep","loadedImages","setLoadedImages","setDisplay","handleImageLoad","prevLoaded","onChangeIndex","enableMouseEvents","animateTransitions","interval","slideRenderer","props","virtNum","total","modulus","mod","srcSet","join","boxSizing","cursor","objectFit","justifyContents","transform","onLoad","NextPic","edge","KeyboardArrowRight","PreviousPic","KeyboardArrowLeft","MemoryCarousel","handleBack","fullScreen","MemoryDate","editable","prevDate","handleDateUpdate","edit","setEdit","startEdit","setStartEdit","handleDateChange","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","inputFormat","maxDate","renderInput","readOnly","DoneTwoTone","Clear","MemoryImages","handleThumbnailUpdate","deleteImage","addImage","memThumbnail","updateCaption","setThumbnail","editingIndex","setEditingIndex","editOpen","setEditOpen","handleImageDelete","OptionsRow","imageProps","restImageProps","MemoryStory","prevStory","handleStoryUpdate","handleStoryChange","storyRef","useRef","whiteSpace","minHeight","current","focus","TextareaAutosize","autoFocus","maxHeight","outline","resize","ref","MemoryTitle","text","handleTitleUpdate","handleTitleChange","MemoryContent","memTitle","memDate","memStory","memImages","activeIndex","setActiveIndex","setImages","newImages","setNewImages","newImagesCount","setNewImagesCount","errorUploadImages","setErrorUploadImages","addImageOpen","setAddImageOpen","uploadImageProgress","setUploadImageProgress","uploadImageStatus","setUploadImageStatus","httpError","setHTTPError","maxSteps","handleHTTPError","response","operation","httpErrorCallback","handleResponse","updateTitle","resp","updateDate","updateStory","updateThumbnail","details","handleNewImages","entries","img","det","file","then","putURL","photo","fetch","body","method","uploadResp","pics","concat","errImgs","setTimeout","handleImageAdd","files","from","forEach","image","Image","onload","naturalHeight","naturalWidth","resImages","resHeight","Math","ceil","creationDate","now","newName","imageDetails","URL","createObjectURL","revokeObjectURL","memoryTitle","memoryDate","updateDone","Done","prevActiveStep","step","fullWidth","textAlign","CardContent"],"sourceRoot":""}