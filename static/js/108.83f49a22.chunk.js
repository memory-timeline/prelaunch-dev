"use strict";(self.webpackChunkprelaunch=self.webpackChunkprelaunch||[]).push([[108],{55715:(t,e,n)=>{n.d(e,{Z:()=>l});var a=n(1470),r=n(82041),i=n(79520),s=n(64586);const o=[{key:1,src:s,width:667,height:500},{key:2,src:s,width:667,height:500},{key:3,src:s,width:375,height:500},{key:4,src:s,width:667,height:500},{key:5,src:s,width:375,height:500},{key:6,src:s,width:667,height:500},{key:7,src:s,width:667,height:500},{key:8,src:s,width:667,height:500},{key:9,src:s,width:667,height:500},{key:10,src:s,width:667,height:500},{key:11,src:s,width:375,height:500},{key:12,src:s,width:375,height:500},{key:13,src:s,width:375,height:500},{key:14,src:s,width:375,height:500},{key:15,src:s,width:667,height:500}];var h=n(46417);function l(){return(0,h.jsx)(i.Z,{header:(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:{lg:"20%",md:"30%",xs:"70%"}}}),subheader:(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:{lg:"15%",md:"20%",xs:"60%"}}}),photoLayout:(0,h.jsx)(r.Z,{layout:"rows",photos:o,spacing:2}),storyLayout:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"50%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"50%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"50%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"98%"}}),(0,h.jsx)(a.Z,{type:"rectangular",sx:{width:"50%"}})]})})}},52015:(t,e,n)=>{n.r(e),n.d(e,{default:()=>u});var a=n(58467),r=n(2135),i=n(47313),s=n(38344),o=n(12862),h=n(98278),l=n(55715),d=n(46417);async function c(t,e,n,a,r){try{const i=await s.Z.viewMemory(t,e,n);if(i.status)return void r(i);a(i)}catch(i){console.log(i)}}function u(t){let{bucket:e,authURL:n}=t;const s=(0,a.s0)(),u=(0,a.UO)(),{memoryId:g}=u,[p,x]=(0,i.useState)(),[m,w]=(0,i.useState)(null),[y,Z]=(0,i.useState)(null),[f,v]=(0,i.useState)(null),j=t=>x(t),[k,b]=(0,i.useState)(null),C=(t,e)=>{Z(t),v(e)},S=()=>{w(!1),Z(null),v(null)},R=t=>{"unauthenticated"===t.status&&(C("You have been logged out. Navigating to login page",!0),w(!0),setInterval((()=>b("unauthenticated")),3e3)),"forbidden"===t.status&&(C("You do not have access to this memory. Navigating to memories page",!0),w(!0),setInterval((()=>b("forbidden")),3e3))};return(0,i.useEffect)((()=>{c(e,n,g,j,R);const t=setInterval((()=>c(e,n,g,j,R)),3e5);return()=>clearInterval(t)}),[]),(0,i.useEffect)((()=>{if("unauthenticated"===k){const t=(0,r.fW)({next:"memory/".concat(g)}).toString();s({pathname:"login",search:t})}}),[k]),"unauthenticated"===k?(0,d.jsx)(a.Fg,{to:"/login"}):"forbidden"===k?(0,d.jsx)(a.Fg,{to:"/memories/own"}):p?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Z,{memType:"own",memTitle:p.title,memDate:p.date,memImages:p.pictures.photos,memStory:p.story,memoryID:g,memThumbnail:p.pictures.photos.findIndex((t=>t.title===p.thumbnail)),bucket:e,authURL:n}),(0,d.jsx)(h.Z,{snackBarOpen:m,message:y,onClose:S,error:f})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.Z,{}),(0,d.jsx)(h.Z,{snackBarOpen:m,message:y,onClose:S})]})}},1470:(t,e,n)=>{n.d(e,{Z:()=>M});var a=n(30168),r=n(63366),i=n(87462),s=n(47313),o=n(2197),h=n(30686),l=n(8007),d=n(30570),c=n(17551),u=n(17592),g=n(31033),p=n(14363),x=n(1167);function m(t){return(0,x.ZP)("MuiSkeleton",t)}(0,p.Z)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var w,y,Z,f,v=n(46417);const j=["animation","className","component","height","style","variant","width"];let k,b,C,S;const R=(0,h.F4)(k||(k=w||(w=(0,a.Z)(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))),F=(0,h.F4)(b||(b=y||(y=(0,a.Z)(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))),I=(0,u.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!1!==n.animation&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})((t=>{let{theme:e,ownerState:n}=t;const a=(0,d.Wy)(e.shape.borderRadius)||"px",r=(0,d.YL)(e.shape.borderRadius);return(0,i.Z)({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:(0,c.Fq)(e.palette.text.primary,"light"===e.palette.mode?.11:.13),height:"1.2em"},"text"===n.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(r).concat(a,"/").concat(Math.round(r/.6*10)/10).concat(a),"&:empty:before":{content:'"\\00a0"'}},"circular"===n.variant&&{borderRadius:"50%"},"rounded"===n.variant&&{borderRadius:(e.vars||e).shape.borderRadius},n.hasChildren&&{"& > *":{visibility:"hidden"}},n.hasChildren&&!n.width&&{maxWidth:"fit-content"},n.hasChildren&&!n.height&&{height:"auto"})}),(t=>{let{ownerState:e}=t;return"pulse"===e.animation&&(0,h.iv)(C||(C=Z||(Z=(0,a.Z)(["\n      animation: "," 2s ease-in-out 0.5s infinite;\n    "]))),R)}),(t=>{let{ownerState:e,theme:n}=t;return"wave"===e.animation&&(0,h.iv)(S||(S=f||(f=(0,a.Z)(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 2s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "]))),F,(n.vars||n).palette.action.hover)})),M=s.forwardRef((function(t,e){const n=(0,g.i)({props:t,name:"MuiSkeleton"}),{animation:a="pulse",className:s,component:h="span",height:d,style:c,variant:u="text",width:p}=n,x=(0,r.Z)(n,j),w=(0,i.Z)({},n,{animation:a,component:h,variant:u,hasChildren:Boolean(x.children)}),y=(t=>{const{classes:e,variant:n,animation:a,hasChildren:r,width:i,height:s}=t,o={root:["root",n,a,r&&"withChildren",r&&!i&&"fitContent",r&&!s&&"heightAuto"]};return(0,l.Z)(o,m,e)})(w);return(0,v.jsx)(I,(0,i.Z)({as:h,ref:e,className:(0,o.Z)(y.root,s),ownerState:w},x,{style:(0,i.Z)({width:p,height:d},c)}))}))},64586:(t,e,n)=>{t.exports=n.p+"static/media/image-loading.f1b4462988545d9c460a.png"}}]);