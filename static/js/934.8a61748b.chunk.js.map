{"version":3,"file":"static/js/934.8a61748b.chunk.js","mappings":"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","sources":["pages/memory/create/ToggleViewMode.jsx","components/FormStepper.jsx","pages/memory/MemoryUtils.jsx","pages/MemoryThumbnailCard.jsx","pages/MemoryThumbnail.jsx","pages/memory/create/PreviewCardHeader.jsx","components/NavigationButton.jsx","components/FormStepperNavigation.jsx","components/BoxForm.jsx","pages/memory/create/TitleDateForm.jsx","components/ErrorText.jsx","components/ThumbnailChooser.jsx","pages/memory/create/SelectedImage.jsx","pages/memory/create/ImagePreviewer.jsx","pages/memory/create/ImageSelector.jsx","pages/memory/create/ImageForm.jsx","pages/memory/create/StoryEditor.jsx","pages/memory/create/StoryForm.jsx","pages/memory/create/CreateMemoryProgress.jsx","pages/memory/create/ModeContent.jsx","hooks/formStep.jsx","hooks/selectedImages.jsx","hooks/progressMessage.jsx","pages/memory/create/CreateMemoryForm.jsx","pages/memory/create/PreviewMemory.jsx","pages/memory/create/CreateMemory.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport Divider from '@mui/material/Divider';\nimport ToggleButton from '@mui/material/ToggleButton';\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\nimport Typography from '@mui/material/Typography';\n\nexport default function ToggleViewMode({ mode, handleModeChange, modes }) {\n  return (\n    <Divider>\n      <Box sx={{ display: 'flex', justifyContent: 'center', p: 2 }}>\n        <ToggleButtonGroup\n          exclusive\n          value={mode}\n          aria-label=\"view-change\"\n          color=\"primary\"\n          sx={{ bgcolor: 'button.main' }}\n\n        >\n          {modes.map((modeName) => (\n            <ToggleButton\n              key={modeName}\n              value={modeName}\n              onClick={() => handleModeChange(`${modeName}`)}\n              sx={{ border: 2, borderColor: 'primary.main' }}\n            >\n              <Typography variant=\"h6\">{modeName}</Typography>\n            </ToggleButton>\n          ))}\n        </ToggleButtonGroup>\n      </Box>\n    </Divider>\n  );\n}\n\nToggleViewMode.propTypes = {\n  mode: PropTypes.string.isRequired,\n  handleModeChange: PropTypes.func.isRequired,\n  modes: PropTypes.PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Stepper from '@mui/material/Stepper';\nimport Step from '@mui/material/Step';\nimport StepLabel from '@mui/material/StepLabel';\n\nexport default function FormStepper({ titles, activeStep, handleClick }) {\n  return (\n    <Stepper\n      activeStep={activeStep}\n      alternativeLabel\n      sx={{ py: 4 }}\n    >\n      {titles.map((label, index) => (\n        <Step key={label} onClick={handleClick(index)}>\n          <StepLabel>{label}</StepLabel>\n        </Step>\n      ))}\n    </Stepper>\n  );\n}\n\nFormStepper.propTypes = {\n  titles: PropTypes.arrayOf(PropTypes.string).isRequired,\n  activeStep: PropTypes.number.isRequired,\n  handleClick: PropTypes.func.isRequired,\n};\n","import api from '../Api';\n\nfunction UploadImages(\n  bucket,\n  authURL,\n  memoryKey,\n  title,\n  imageDetails,\n  imageFiles,\n  incrementImageCount,\n) {\n  const paramList = imageDetails.map((detail, index) => {\n    const imgFile = imageFiles[index];\n    return {\n      Key: ['memories', memoryKey, 'images', detail.name].join('/'),\n      Body: imgFile,\n      ContentType: imgFile.type,\n    };\n  });\n  const uploadPromises = api.uploadMultipleImages(bucket, authURL, paramList, incrementImageCount);\n  return Promise.allSettled(uploadPromises);\n}\n\nasync function ValidateDetails(bucket, authURL, memoryDetails) {\n  const detailsJSON = JSON.stringify(memoryDetails);\n  const validateResp = await api.validateDetails(bucket, authURL, detailsJSON);\n  if (validateResp.status === 'error') {\n    return false;\n  }\n  return validateResp.Valid === true;\n}\n\nasync function UploadDetails(bucket, authURL, memoryDetails) {\n  const detailsJSON = JSON.stringify(memoryDetails);\n  const memoryDetailsKey = ['memories', memoryDetails.key, 'details.json'].join('/');\n  const uploadResp = await api.upload(bucket, authURL, memoryDetailsKey, detailsJSON);\n  return (uploadResp && uploadResp.ok === true);\n}\n\nconst InitializeMemory = async (\n  bucket,\n  authURL,\n  memoryDetails,\n  handleProgress,\n  updateMessageStatus,\n  addMessage,\n) => {\n  handleProgress(0);\n  addMessage('Initializing memory', false);\n  const valid = await ValidateDetails(bucket, authURL, memoryDetails);\n  let initRes;\n  if (valid === true) {\n    initRes = await UploadDetails(bucket, authURL, memoryDetails);\n    updateMessageStatus('Initializing Memory', initRes);\n    handleProgress(10);\n  } else {\n    updateMessageStatus('Initializing Memory', 'failed');\n  }\n  return valid;\n};\n\nconst HandleImages = async (\n  bucket,\n  authURL,\n  memoryKey,\n  title,\n  imageDetails,\n  imageFiles,\n  incrementImageCount,\n  handleProgress,\n) => {\n  const imagesResults = await UploadImages(\n    bucket,\n    authURL,\n    memoryKey,\n    title,\n    imageDetails,\n    imageFiles,\n    incrementImageCount,\n  );\n  for (let i = 0; i < imagesResults.length; i += 1) {\n    if ((imagesResults[i].status === 'rejected') || (imagesResults[i].value.ok !== true)) {\n      return false;\n    }\n  }\n  handleProgress(95);\n  return true;\n};\n\nconst CreateMemory = async (\n  bucket,\n  authURL,\n  memoryDetails,\n  handleProgress,\n  updateMessageStatus,\n  addMessage,\n  imageFiles,\n  incrementImageCount,\n) => {\n  // Validate details and upload if valid\n  const initMemResults = await InitializeMemory(\n    bucket,\n    authURL,\n    memoryDetails,\n    handleProgress,\n    updateMessageStatus,\n    addMessage,\n  );\n\n  let imagesResults;\n  if (initMemResults === true) {\n    // Upload original images\n    imagesResults = await HandleImages(\n      bucket,\n      authURL,\n      memoryDetails.key,\n      memoryDetails.title,\n      memoryDetails.imageDetails,\n      imageFiles,\n      incrementImageCount,\n      handleProgress,\n    );\n\n    if (imagesResults === true) {\n      const finalizeResults = await api.finalizeMemory(bucket, authURL, memoryDetails.key);\n      if (parseInt(finalizeResults.MemoryID, 10) !== memoryDetails.key) {\n        return false;\n      }\n      return true;\n    }\n    updateMessageStatus('Uploading Original Images', 'failed');\n  }\n\n  return false;\n};\n\nexport default { CreateMemory };\n","import PropTypes from 'prop-types';\nimport Card from '@mui/material/Card';\nimport CardActionArea from '@mui/material/CardActionArea';\n//  import { useTheme, alpha } from '@mui/material/styles';\n\nexport default function MemoryThumbnailCard({ handleClick, children }) {\n  //  const theme = useTheme();\n\n  return (\n    <CardActionArea onClick={handleClick}>\n      <Card\n        elevation={0}\n        sx={{\n          bgcolor: '#fff',\n          borderRadius: 5,\n          border: '2px solid gray',\n          color: 'black',\n          position: 'relative',\n          height: {\n            lg: 350,\n            sm: 300,\n            xs: 250,\n          },\n          '&:hover': {\n            border: 3,\n            borderColor: 'secondary.main',\n            elevation: 0,\n          },\n        }}\n      >\n        {children}\n      </Card>\n    </CardActionArea>\n  );\n}\n\nMemoryThumbnailCard.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport CardMedia from '@mui/material/CardMedia';\nimport CardContent from '@mui/material/CardContent';\nimport CardHeader from '@mui/material/CardHeader';\nimport Typography from '@mui/material/Typography';\nimport MemoryThumbnailCard from './MemoryThumbnailCard';\n\nfunction ThumbnailImage({\n  imageSrc, imageSrcSet, title, handleImageLoad,\n}) {\n  return (\n    <CardMedia\n      component=\"img\"\n      src={imageSrc}\n      srcSet={imageSrcSet}\n      alt={title}\n      sx={{\n        borderColor: 'muted.main',\n        borderRadius: 4,\n        textAlign: 'center',\n        objectFit: 'cover',\n        height: {\n          lg: 270,\n          sm: 220,\n          xs: 170,\n        },\n      }}\n      onLoad={handleImageLoad}\n    />\n  );\n}\n\nfunction ThumbnailDetails({ title, date }) {\n  return (\n    <CardContent>\n      <CardHeader\n        disableTypography\n        title={(\n          <Typography\n            noWrap\n            sx={{\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              width: { xs: 'calc(75%)', sm: 'calc(100%)' },\n              fontWeight: 600,\n            }}\n          >\n            {title}\n          </Typography>\n        )}\n        subheader={<Typography sx={{ color: 'muted.main' }}>{date}</Typography>}\n        sx={{\n          padding: 0,\n          color: 'faded.black',\n        }}\n      />\n    </CardContent>\n  );\n}\n\nexport default function MemoryThumbnail({\n  title,\n  date,\n  thumbnailImage,\n  thumbnailImageSrcSet,\n  handleClick,\n  handleImageLoad,\n}) {\n  return (\n    <MemoryThumbnailCard handleClick={handleClick}>\n      <ThumbnailImage\n        imageSrc={thumbnailImage}\n        imageSrcSet={thumbnailImageSrcSet}\n        title={title}\n        handleImageLoad={handleImageLoad}\n      />\n      <ThumbnailDetails title={title} date={date} />\n    </MemoryThumbnailCard>\n  );\n}\n\nThumbnailDetails.defaultProps = {\n  title: 'Memory Thumbnail Image',\n  date: 'Memory Date',\n};\n\nThumbnailDetails.propTypes = {\n  title: PropTypes.string,\n  date: PropTypes.string,\n};\n\nThumbnailImage.defaultProps = {\n  title: 'Memory Thumbnail Image',\n  imageSrc: '',\n  imageSrcSet: '',\n  handleImageLoad: () => {},\n};\n\nThumbnailImage.propTypes = {\n  title: PropTypes.string,\n  imageSrc: PropTypes.string,\n  imageSrcSet: PropTypes.string,\n  handleImageLoad: PropTypes.func,\n};\n\nMemoryThumbnail.defaultProps = {\n  thumbnailImageSrcSet: '',\n  handleImageLoad: () => {},\n};\n\nMemoryThumbnail.propTypes = {\n  title: PropTypes.oneOfType([PropTypes.element, PropTypes.string]).isRequired,\n  date: PropTypes.oneOfType([PropTypes.element, PropTypes.string]).isRequired,\n  thumbnailImage: PropTypes.string.isRequired,\n  handleClick: PropTypes.func.isRequired,\n  thumbnailImageSrcSet: PropTypes.string,\n  handleImageLoad: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport CardHeader from '@mui/material/CardHeader';\n\nexport default function PreviewCardHeader({ title }) {\n  return (\n    <CardHeader\n      title={title}\n      sx={{\n        border: 0,\n        borderColor: 'primary.main',\n        textAlign: 'center',\n        width: 1,\n        mb: 1,\n        bgcolor: 'button.main',\n        p: 0,\n        py: 2,\n        borderRadius: 2,\n      }}\n    />\n  );\n}\n\nPreviewCardHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Button from '@mui/material/Button';\n\nexport default function NavigationButton({ label, handleClick, disabled }) {\n  return (\n    <Button\n      onClick={handleClick}\n      disabled={disabled}\n      sx={{\n        m: 2,\n        border: 2,\n        borderColor: disabled ? 'muted.main' : 'ternary.main',\n        borderRadius: 5,\n        bgcolor: 'input.background',\n      }}\n    >\n      {label}\n    </Button>\n  );\n}\n\nNavigationButton.defaultProps = {\n  disabled: false,\n};\n\nNavigationButton.propTypes = {\n  label: PropTypes.string.isRequired,\n  handleClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport NavigationButton from 'components/NavigationButton';\n\nexport default function FormStepperNavigation({\n  handleNext, handlePrevious, isLast, isFirst,\n}) {\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'row',\n        pt: 2,\n        width: 1,\n        justifyContent: 'space-evenly',\n      }}\n    >\n      { isFirst ? (\n        <NavigationButton disabled handleClick={() => {}} label=\"Back\" />\n      ) : (\n        <NavigationButton handleClick={handlePrevious} label=\"Back\" />\n      )}\n      { isLast ? (\n        <NavigationButton handleClick={handleNext} label=\"Create Memory\" />\n      ) : (\n        <NavigationButton handleClick={handleNext} label=\"Next\" />\n      )}\n    </Box>\n  );\n}\n\nFormStepperNavigation.propTypes = {\n  handleNext: PropTypes.func.isRequired,\n  handlePrevious: PropTypes.func.isRequired,\n  isLast: PropTypes.bool.isRequired,\n  isFirst: PropTypes.bool.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\n\nexport default function BoxForm({ children }) {\n  return (\n    <Box\n      component=\"form\"\n      sx={{\n        '& .MuiTextField-root': {\n          m: 1, maxWidth: '90%', width: '45ch',\n        },\n        '& .MuiOutlinedInput-root': {\n          backgroundColor: 'form.input',\n          borderRadius: 5,\n        },\n        flexDirection: 'column',\n        display: 'flex',\n        alignItems: 'center',\n        width: 'auto',\n        pt: 2,\n      }}\n      autoComplete=\"true\"\n    >\n      {children}\n    </Box>\n  );\n}\n\nBoxForm.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport TextField from '@mui/material/TextField';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\n\nimport * as yup from 'yup';\n\nimport FormStepperNavigation from 'components/FormStepperNavigation';\nimport BoxForm from 'components/BoxForm';\n\nexport default function TitleDateForm({\n  title,\n  date,\n  handleTitleChange,\n  handleDateChange,\n  handleNext,\n  handlePrevious,\n  isLast,\n  isFirst,\n  activeStep,\n}) {\n  const [titleError, setTitleError] = useState('');\n  const [dateError, setDateError] = useState('');\n\n  const [titleTouched, setTitleTouched] = useState(false);\n  const [dateTouched, setDateTouched] = useState(false);\n\n  const titleSchema = yup.object({\n    title: yup.string().required('Memory Title is required').max(40, 'Maximum length of memory title is 40'),\n  }).required();\n\n  const dateSchema = yup.object({\n    date: yup.date('Enter date by clicking calendar icon on the right end of date picker')\n      .required('Memory Date is required').nullable(),\n  }).required();\n  const isFieldValid = async (key, value, setFieldError, schema) => {\n    let hasError = false;\n    const testField = await schema\n      .validate({ [key]: value }, { abortEarly: false })\n      .catch((error) => error);\n    setFieldError('');\n    if (testField.inner) {\n      testField.inner.forEach((error) => setFieldError(error.message));\n      hasError = true;\n    }\n    return !hasError;\n  };\n\n  const isValid = async () => {\n    const titleValid = await isFieldValid('title', title, setTitleError, titleSchema);\n    const dateValid = await isFieldValid('date', date, setDateError, dateSchema);\n    return titleValid && dateValid;\n  };\n\n  useEffect(() => {\n    if (titleTouched) {\n      isFieldValid('title', title, setTitleError, titleSchema);\n    }\n    if (dateTouched) {\n      isFieldValid('date', date, setDateError, dateSchema);\n    }\n  }, [title, date]);\n\n  const submitForm = async (handleCallback) => {\n    const valid = await isValid();\n    if (valid) {\n      handleCallback();\n    }\n  };\n\n  const onTitleChange = (event) => {\n    setTitleTouched(true);\n    handleTitleChange(event);\n  };\n\n  const onDateChange = (event) => {\n    setDateTouched(true);\n    handleDateChange(event);\n  };\n\n  return (\n    <BoxForm>\n      <TextField\n        required\n        onChange={onTitleChange}\n        id=\"outlined-required\"\n        label=\"Memory Name\"\n        defaultValue={title}\n        helperText={titleError || \"E.g. Gogol's 2nd Birthday\"}\n        error={!!titleError}\n      />\n      <LocalizationProvider dateAdapter={AdapterDateFns}>\n        <DatePicker\n          label=\"Memory Date\"\n          value={date}\n          onChange={onDateChange}\n          placeholder=\"dd/MM/yyyy\"\n          inputFormat=\"dd/MM/yyyy\"\n          maxDate={new Date()}\n          renderInput={(props) => (\n            <TextField\n              readOnly\n              required\n          // eslint-disable-next-line react/jsx-props-no-spreading\n              {...props}\n              error={!!dateError}\n              helperText={dateError || ''}\n            />\n          )}\n        />\n      </LocalizationProvider>\n      <FormStepperNavigation\n        activeStep={activeStep}\n        handleNext={() => submitForm(handleNext)}\n        handlePrevious={handlePrevious}\n        isLast={isLast}\n        isFirst={isFirst}\n      />\n    </BoxForm>\n  );\n}\n\nTitleDateForm.defaultProps = {\n  date: '',\n};\n\nTitleDateForm.propTypes = {\n  activeStep: PropTypes.number.isRequired,\n  date: PropTypes.string,\n  isLast: PropTypes.bool.isRequired,\n  isFirst: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n\n  handleDateChange: PropTypes.func.isRequired,\n  handleNext: PropTypes.func.isRequired,\n  handlePrevious: PropTypes.func.isRequired,\n  handleTitleChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Typography from '@mui/material/Typography';\n\nexport default function ErrorText({ text }) {\n  return (\n    <Typography sx={{ color: 'error.main' }}>\n      { text }\n    </Typography>\n  );\n}\n\nErrorText.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Radio from '@mui/material/Radio';\nimport { alpha } from '@mui/material/styles';\n\nexport default function ThumbnailChooser({ index, thumbnail, handleThumbnailChange }) {\n  return (\n    <FormControlLabel\n      control={<Radio />}\n      label=\"Thumbnail\"\n      checked={thumbnail === index}\n      onChange={() => handleThumbnailChange(index)}\n      sx={{\n        pr: 1,\n        position: 'absolute',\n        bgcolor: alpha('#fff', 0.6),\n        color: 'black',\n        borderRadius: '0px 5px 5px 0px',\n        borderColor: 'secondary.main',\n        borderLeft: 0,\n        bottom: 20,\n        left: 15,\n      }}\n    />\n  );\n}\n\nThumbnailChooser.propTypes = {\n  index: PropTypes.number.isRequired,\n  thumbnail: PropTypes.number.isRequired,\n  handleThumbnailChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\n\nexport default function SelectedImage({\n  photo, index, setDimensions, thumbnail, resizeHeights,\n}) {\n  const handleImageOnload = (event, heights) => {\n    const originalWidth = event.target.naturalWidth;\n    const originalHeight = event.target.naturalHeight;\n    const images = heights.map((height) => ({\n      height, width: Math.ceil((height * originalWidth) / originalHeight),\n    }));\n    setDimensions(index, images);\n  };\n\n  return (\n    <Box\n      component=\"img\"\n      onLoad={(event) => handleImageOnload(event, resizeHeights)}\n      sx={{\n        border: (thumbnail === index) ? 4 : 0,\n        borderColor: 'primary.main',\n        borderRadius: (thumbnail === index) ? 5 : 0,\n        mb: 1,\n        '&:hover': {\n          border: 5,\n          borderColor: 'secondary.main',\n        },\n      }}\n      src={photo}\n      alt={photo.name}\n      height=\"140px\"\n      width=\"140px\"\n      fit=\"crop\"\n      auto=\"format\"\n      loading=\"lazy\"\n    />\n  );\n}\n\nSelectedImage.propTypes = {\n  photo: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  setDimensions: PropTypes.func.isRequired,\n  thumbnail: PropTypes.number.isRequired,\n  resizeHeights: PropTypes.arrayOf(PropTypes.number).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Divider from '@mui/material/Divider';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\n\nimport RemovePhotoIcon from 'components/RemovePhotoIcon';\nimport ThumbnailChooser from 'components/ThumbnailChooser';\nimport SelectedImage from './SelectedImage';\n\nexport default function ImagePreviewer({\n  imageDetails,\n  handleRemoveImage,\n  thumbnail,\n  handleThumbnailChange,\n  setDimensions,\n  resizeHeights,\n}) {\n  return imageDetails.length\n    ? (\n      <>\n        <Divider />\n        <Typography sx={{ p: 2 }} variant=\"h6\" align=\"center\">\n          Selected Images\n        </Typography>\n        <Grid\n          container\n          alignItems=\"center\"\n          justifyContent=\"space-around\"\n          sx={{ p: 1 }}\n        >\n          {imageDetails.map((photo, index) => (\n            <Button key={photo.url} component=\"div\">\n              <SelectedImage\n                photo={photo.url}\n                index={index}\n                setDimensions={setDimensions}\n                thumbnail={thumbnail}\n                resizeHeights={resizeHeights}\n              />\n              <RemovePhotoIcon handleClick={() => handleRemoveImage(index)} />\n              <ThumbnailChooser\n                index={index}\n                thumbnail={thumbnail}\n                handleThumbnailChange={handleThumbnailChange}\n              />\n            </Button>\n          ))}\n        </Grid>\n      </>\n    )\n    : null;\n}\n\nImagePreviewer.propTypes = {\n  imageDetails: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string,\n    url: PropTypes.string,\n    size: PropTypes.number,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  })).isRequired,\n  handleRemoveImage: PropTypes.func.isRequired,\n  thumbnail: PropTypes.number.isRequired,\n  handleThumbnailChange: PropTypes.func.isRequired,\n  setDimensions: PropTypes.func.isRequired,\n  resizeHeights: PropTypes.arrayOf(PropTypes.number).isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport AddAPhotoIcon from '@mui/icons-material/AddAPhoto';\n\nexport default function ImageSelector({ handleChange }) {\n  return (\n    <Box sx={{ display: 'flex', justifyContent: 'center', pb: 1 }}>\n      <Button\n        variant=\"contained\"\n        component=\"label\"\n        color=\"button\"\n        sx={{\n          borderRadius: 5, border: 2, borderColor: 'primary.main', backgroundColor: 'input.background',\n        }}\n      >\n        <input type=\"file\" hidden multiple accept=\"image/*\" onChange={handleChange} />\n        <Typography variant=\"h6\">Add Pictures</Typography>\n        <AddAPhotoIcon sx={{ fontSize: '2.5rem' }} />\n      </Button>\n    </Box>\n  );\n}\n\nImageSelector.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\nimport Stack from '@mui/material/Stack';\nimport Dialog from '@mui/material/Dialog';\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport CardContent from '@mui/material/CardContent';\nimport Divider from '@mui/material/Divider';\n\nimport FormStepperNavigation from 'components/FormStepperNavigation';\nimport BoxForm from 'components/BoxForm';\nimport ErrorText from 'components/ErrorText';\nimport ImagePreviewer from './ImagePreviewer';\nimport ImageSelector from './ImageSelector';\n\nexport default function ImageForm({\n  imageDetails,\n  thumbnail,\n  handleSelectedImageChange,\n  handleThumbnailChange,\n  removeSelectedImage,\n  handleNext,\n  handlePrevious,\n  isLast,\n  isFirst,\n  setDimensions,\n  resizeHeights,\n}) {\n  const maxAllowedImages = 15;\n  const minAllowedImages = 1;\n  const [imageError, setImageError] = useState('');\n  const [touched, setTouched] = useState(false);\n  const [totalImages, setTotalImages] = useState(0);\n  const [open, setOpen] = useState(false);\n\n  function isValid() {\n    let valid = true;\n    setImageError('');\n    if (imageDetails.length < minAllowedImages) {\n      setImageError('Need atleast one image to create a memory');\n      valid = false;\n    }\n\n    if (imageDetails.length > maxAllowedImages) {\n      setImageError(`Maximum Allowed Images per Memory: ${maxAllowedImages}`);\n      valid = false;\n    }\n\n    return valid;\n  }\n\n  useEffect(() => {\n    if (touched) isValid();\n  }, [imageDetails, touched]);\n\n  useEffect(() => {\n    if (totalImages < imageDetails.length) {\n      setTotalImages(imageDetails.length);\n    }\n    if (totalImages > imageDetails.length) {\n      setOpen(true);\n    }\n    if (totalImages === imageDetails.length) {\n      setOpen(false);\n    }\n  }, [imageDetails, totalImages]);\n\n  const handleSubmit = (handleCallback) => {\n    if (isValid()) {\n      handleCallback();\n    }\n  };\n\n  const handleImageChange = (event) => {\n    setTouched(true);\n    if (event.target.files) {\n      setTotalImages(event.target.files.length + imageDetails.length);\n    }\n    handleSelectedImageChange(event, isValid);\n  };\n\n  const handleImageDelete = (index) => {\n    setTotalImages((prevCount) => prevCount - 1);\n    removeSelectedImage(index);\n  };\n\n  return (\n    <BoxForm>\n      <Grid item>\n        <ImageSelector\n          handleChange={handleImageChange}\n        />\n      </Grid>\n      <Grid item container direction=\"column\" alignItems=\"center\">\n        <Typography>\n          Total Images Selected:\n          {imageDetails.length}\n          /\n          {maxAllowedImages}\n        </Typography>\n        <ErrorText text={imageError} />\n      </Grid>\n      <FormStepperNavigation\n        handleNext={() => handleSubmit(handleNext)}\n        handlePrevious={handlePrevious}\n        isLast={isLast}\n        isFirst={isFirst}\n      />\n      <Grid item>\n        <ImagePreviewer\n          imageDetails={imageDetails}\n          handleRemoveImage={handleImageDelete}\n          thumbnail={thumbnail}\n          handleThumbnailChange={handleThumbnailChange}\n          setDimensions={setDimensions}\n          resizeHeights={resizeHeights}\n        />\n      </Grid>\n      <Dialog\n        open={open}\n        fullWidth\n        sx={{\n          p: 1,\n        }}\n      >\n        <Card sx={{ maxWidth: 1, p: 1 }}>\n          <CardHeader title=\"Adding Images\" sx={{ textAlign: 'center' }} />\n          <Divider />\n          <CardContent>\n            <Typography variant=\"h6\" sx={{ color: 'muted.main' }}>\n              Total Images Selected:\n              {imageDetails.length}\n              /\n              {maxAllowedImages}\n            </Typography>\n            <Stack justifyContent=\"center\" sx={{ py: 2 }}>\n              <Typography variant=\"h5\" color=\"error\">{imageError}</Typography>\n            </Stack>\n          </CardContent>\n        </Card>\n      </Dialog>\n    </BoxForm>\n  );\n}\n\nImageForm.propTypes = {\n  imageDetails: PropTypes.arrayOf(PropTypes.shape({\n    url: PropTypes.string,\n    name: PropTypes.string,\n    size: PropTypes.number,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  })).isRequired,\n  handleSelectedImageChange: PropTypes.func.isRequired,\n  removeSelectedImage: PropTypes.func.isRequired,\n  thumbnail: PropTypes.number.isRequired,\n  handleThumbnailChange: PropTypes.func.isRequired,\n  handleNext: PropTypes.func.isRequired,\n  handlePrevious: PropTypes.func.isRequired,\n  isLast: PropTypes.bool.isRequired,\n  isFirst: PropTypes.bool.isRequired,\n  setDimensions: PropTypes.func.isRequired,\n  resizeHeights: PropTypes.arrayOf(PropTypes.number).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\nimport { useRef, useEffect } from 'react';\n\nexport default function StoryEditor({\n  storyError, story, handleStoryChange,\n}) {\n  const storyRef = useRef();\n\n  useEffect(() => {\n    storyRef.current.focus();\n  }, []);\n\n  return (\n    <Box\n      sx={{\n        p: 2,\n        m: 1,\n        my: 2,\n        border: 1,\n        borderColor: storyError ? 'error.main' : 'primary.main',\n        bgcolor: 'input.background',\n        minHeight: '200px',\n        borderRadius: 5,\n      }}\n      onClick={() => storyRef.current.focus()}\n    >\n      <TextareaAutosize\n        autoFocus\n        aria-label=\"minimum height\"\n        placeholder=\"Tell your story...\"\n        value={story}\n        onChange={handleStoryChange}\n        style={{\n          width: '100%',\n          minHeight: '184px',\n          maxHeight: '70vh',\n          boxSizing: 'border-box',\n          paddingTop: '5px',\n          border: 0,\n          overflow: 'auto',\n          outline: 'none',\n          resize: 'vertical',\n          borderRadius: 5,\n          '&:focus': {\n            border: 0,\n          },\n        }}\n        ref={storyRef}\n      />\n    </Box>\n  );\n}\n\nStoryEditor.propTypes = {\n  storyError: PropTypes.string.isRequired,\n  story: PropTypes.string.isRequired,\n  handleStoryChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport Box from '@mui/material/Box';\n\nimport FormStepperNavigation from 'components/FormStepperNavigation';\nimport ErrorText from 'components/ErrorText';\nimport StoryEditor from './StoryEditor';\n\nexport default function StoryForm({\n  story,\n  handleStoryChange,\n  handleNext,\n  handlePrevious,\n  isLast,\n  isFirst,\n  progressDialog,\n}) {\n  const maxStoryLength = 100000;\n  const [storyError, setStoryError] = useState('');\n\n  const submitForm = (handleCallback) => {\n    const memoryText = story;\n    if (memoryText.length <= maxStoryLength) {\n      setStoryError('');\n      handleCallback();\n    } else {\n      setStoryError(`Maximum story length is: ${maxStoryLength}`);\n    }\n  };\n\n  return (\n    <>\n      <StoryEditor\n        storyError={storyError}\n        story={story}\n        handleStoryChange={handleStoryChange}\n      />\n      <Box sx={{ p: 1, m: 1 }}>\n        <ErrorText text={storyError} />\n      </Box>\n      <FormStepperNavigation\n        handleNext={() => submitForm(handleNext)}\n        handlePrevious={handlePrevious}\n        isLast={isLast}\n        isFirst={isFirst}\n      />\n      {progressDialog}\n    </>\n  );\n}\n\nStoryForm.propTypes = {\n  story: PropTypes.string.isRequired,\n  handleStoryChange: PropTypes.func.isRequired,\n  handleNext: PropTypes.func.isRequired,\n  handlePrevious: PropTypes.func.isRequired,\n  isLast: PropTypes.bool.isRequired,\n  isFirst: PropTypes.bool.isRequired,\n  progressDialog: PropTypes.node.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Dialog from '@mui/material/Dialog';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport CardContent from '@mui/material/CardContent';\nimport Divider from '@mui/material/Divider';\nimport LinearProgress from '@mui/material/LinearProgress';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport CheckCircleOutlineIcon from '@mui/icons-material/CheckCircleOutline';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\n\nfunction LinearProgressWithLabel({ value }) {\n  return (\n    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n      <Box sx={{ width: '100%', mr: 1 }}>\n        <LinearProgress variant=\"determinate\" value={value} />\n      </Box>\n      <Box sx={{ minWidth: 35 }}>\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          {`${Math.round(\n            value,\n          )}%`}\n        </Typography>\n      </Box>\n    </Box>\n  );\n}\n\nfunction MessageProgress({ message, done }) {\n  let showStatus;\n  if (done === 'failed') {\n    showStatus = <Typography color=\"error.main\">Failed</Typography>;\n  } else if (done === true) {\n    showStatus = <Typography color=\"success.main\">Done</Typography>;\n  } else {\n    showStatus = <CircularProgress size={30} />;\n  }\n\n  return (\n    <Box sx={{ display: 'flex', alignItems: 'space-between' }}>\n      <Box sx={{ width: '100%', mr: 1 }}>\n        <Typography>{message}</Typography>\n      </Box>\n      <Box sx={{ minWidth: 35 }}>\n        {showStatus}\n      </Box>\n    </Box>\n\n  );\n}\n\nfunction MemoryCreationStatus({ progress, counter }) {\n  if (progress === 100) {\n    return (\n      <>\n        <Box sx={{\n          display: 'flex', justifyContent: 'center', alignItems: 'center', m: 2,\n        }}\n        >\n          <CheckCircleOutlineIcon color=\"success\" fontSize=\"large\" sx={{ mr: 2 }} />\n          <Typography variant=\"h5\" color=\"primary.main\">Memory Created Successfully</Typography>\n        </Box>\n\n        <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n          <Box>\n            <Typography>Navigating to memories page in </Typography>\n          </Box>\n          <Box sx={{ mx: 1 }}>\n            <Typography variant=\"h6\" color=\"success.main\">\n              {counter}\n            </Typography>\n          </Box>\n          <Box>\n            <Typography>seconds</Typography>\n          </Box>\n        </Box>\n      </>\n    );\n  }\n  if (progress === -1) {\n    return (\n      <>\n        <Box sx={{\n          display: 'flex', justifyContent: 'center', alignItems: 'center', m: 2,\n        }}\n        >\n          <ErrorOutlineIcon color=\"error\" fontSize=\"large\" sx={{ mr: 2 }} />\n          <Typography variant=\"h5\" color=\"primary.main\">Memory Creation Failed</Typography>\n        </Box>\n\n        <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n          <Box>\n            <Typography>Navigating to memories page in </Typography>\n          </Box>\n          <Box sx={{ mx: 1 }}>\n            <Typography variant=\"h6\" color=\"success.main\">\n              {counter}\n            </Typography>\n          </Box>\n          <Box>\n            <Typography>seconds</Typography>\n          </Box>\n        </Box>\n      </>\n    );\n  }\n  return null;\n}\n\nexport default function CreateMemoryProgress({\n  open, progress, messages,\n}) {\n  const [counter, setCounter] = useState(0);\n  useEffect(() => {\n    let timerId;\n    if (counter > 0) {\n      timerId = setTimeout(() => setCounter(counter - 1), 1000);\n    }\n    return () => clearTimeout(timerId);\n  }, [counter]);\n\n  useEffect(() => {\n    if (progress === 100 || progress === -1) setCounter(3);\n  }, [progress]);\n\n  return (\n    <Dialog\n      open={open}\n      fullWidth\n      sx={{\n        p: 1,\n      }}\n\n    >\n      <Card sx={{ maxWidth: 1, p: 1 }}>\n        <CardHeader title=\"Creating Memory\" sx={{ textAlign: 'center' }} />\n        <Divider />\n        <CardContent>\n          <LinearProgressWithLabel value={progress > 0 ? progress : 0} />\n          {messages.map((mesg) => (\n            <MessageProgress key={mesg.message} message={mesg.message} done={mesg.done} />\n          ))}\n          <MemoryCreationStatus progress={progress} counter={counter} />\n        </CardContent>\n      </Card>\n    </Dialog>\n\n  );\n}\n\nMemoryCreationStatus.propTypes = {\n  progress: PropTypes.number.isRequired,\n  counter: PropTypes.number.isRequired,\n};\n\nLinearProgressWithLabel.propTypes = {\n  value: PropTypes.number.isRequired,\n};\n\nMessageProgress.propTypes = {\n  message: PropTypes.string.isRequired,\n  done: PropTypes.bool.isRequired,\n};\n\nCreateMemoryProgress.defaultProps = {\n  messages: [],\n};\n\nCreateMemoryProgress.propTypes = {\n  open: PropTypes.bool.isRequired,\n  progress: PropTypes.number.isRequired,\n  messages: PropTypes.arrayOf(PropTypes.exact(\n    {\n      message: PropTypes.string,\n      done: PropTypes.bool,\n    },\n  )),\n};\n","import { useState, useEffect } from 'react';\n\nimport { useNavigate } from 'react-router-dom';\nimport CreateMemoryForm from 'pages/memory/create/CreateMemoryForm';\nimport MemoryUtils from 'pages/memory/MemoryUtils';\nimport useTitle from 'hooks/title';\nimport useDate from 'hooks/date';\nimport useSelectedImages from 'hooks/selectedImages';\nimport useStory from 'hooks/story';\nimport useStep from 'hooks/formStep';\nimport useProgressMessage from 'hooks/progressMessage';\n\nimport PreviewMemory from './PreviewMemory';\nimport TitleDateForm from './TitleDateForm';\nimport ImageForm from './ImageForm';\nimport StoryForm from './StoryForm';\n\nimport CreateMemoryProgress from './CreateMemoryProgress';\n\nfunction getTotalSize(images) {\n  return images.reduce((partialSum, image) => partialSum + image.size, 0);\n}\n\nexport default function ModeContent({ mode, bucket, authURL }) {\n  const navigate = useNavigate();\n  const resizeHeights = [500, 1000, 1500];\n  const stepTitles = [\n    'Enter memory title and date',\n    'Upload Pictures',\n    'Write story',\n  ];\n  const [activeStep, handleNext, handlePrevious, isLast, isFirst] = useStep(stepTitles.length);\n  const [title,, handleTitleChange] = useTitle('');\n  const [date,, handleDateChange] = useDate('');\n  const [\n    imageDetails,\n    thumbnail,\n    handleSelectedImageChange,\n    removeSelectedImage,\n    handleThumbnailChange,\n    setDimensions,\n  ] = useSelectedImages();\n\n  const [story,, handleStoryChange] = useStory('');\n  const [open, setOpen] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [messages, addMessage, updateMessageStatus] = useProgressMessage();\n  const [uploadCount, setUploadCount] = useState(0);\n\n  const handleProgress = (progressPercentage) => setProgress(progressPercentage);\n  const incrementImageCount = () => setUploadCount((cnt) => cnt + 1);\n  const imageFiles = imageDetails.map((detail) => detail.imageFile);\n\n  useEffect(() => {\n    const message = `Uploading Images (${uploadCount}/${imageDetails.length})`;\n    if (uploadCount >= 0 && progress >= 10) {\n      if (uploadCount === 0) addMessage(message, false);\n      else updateMessageStatus(message, false);\n\n      if (imageDetails.length === uploadCount) updateMessageStatus(message, true);\n    }\n  }, [uploadCount, progress]);\n\n  const TitleDate = (\n    <TitleDateForm\n      activeStep={activeStep}\n      handleNext={handleNext}\n      handlePrevious={handlePrevious}\n      isLast={isLast}\n      isFirst={isFirst}\n      title={title}\n      date={date}\n      handleTitleChange={handleTitleChange}\n      handleDateChange={handleDateChange}\n    />\n  );\n\n  const SelectImages = (\n    <ImageForm\n      imageDetails={imageDetails}\n      handleSelectedImageChange={handleSelectedImageChange}\n      removeSelectedImage={removeSelectedImage}\n      thumbnail={thumbnail}\n      handleThumbnailChange={handleThumbnailChange}\n      handleNext={handleNext}\n      handlePrevious={handlePrevious}\n      isLast={isLast}\n      isFirst={isFirst}\n      setDimensions={setDimensions}\n      resizeHeights={resizeHeights}\n    />\n  );\n\n  const handleSubmit = async () => {\n    // so that the newest memory has the smallest key and so  comes first in s3 listObjects\n    // When this fails wont be there to take blame. Should be dead by then. :-)\n    const memoryKey = new Date(2100, 1, 1).getTime() - Date.now();\n    const memoryDetails = {\n      key: memoryKey,\n      title,\n      date,\n      lastModified: new Date(),\n      imageDetails,\n      //  contentState: convertToRaw(editorState.getCurrentContent()),\n      story,\n      thumbnail: imageDetails[thumbnail],\n      totalSize: getTotalSize(imageDetails),\n    };\n    setOpen(true);\n\n    const created = await MemoryUtils.CreateMemory(\n      bucket,\n      authURL,\n      memoryDetails,\n      handleProgress,\n      updateMessageStatus,\n      addMessage,\n      imageFiles,\n      incrementImageCount,\n    );\n\n    if (created === true) {\n      handleProgress(100);\n    } else {\n      handleProgress(-1);\n    }\n    setTimeout(() => navigate('/memories'), 3000);\n  };\n\n  const ProgressDialog = (\n    <CreateMemoryProgress open={open} progress={progress} messages={messages} />\n  );\n\n  const WriteStory = (\n    <StoryForm\n      story={story}\n      handleStoryChange={handleStoryChange}\n      handleNext={handleSubmit}\n      handlePrevious={handlePrevious}\n      isLast={isLast}\n      isFirst={isFirst}\n      progressDialog={ProgressDialog}\n    />\n  );\n\n  const stepForms = [TitleDate, SelectImages, WriteStory];\n\n  let content;\n\n  const CreateModeContent = CreateMemoryForm(\n    stepTitles.length,\n    stepTitles,\n    stepForms,\n    handleSubmit,\n    activeStep,\n    isLast,\n    handleNext,\n    handlePrevious,\n  );\n  const PreviewModeContent = PreviewMemory(title, date, imageDetails, thumbnail, story);\n  if (mode === 'Create') {\n    content = CreateModeContent;\n  }\n\n  if (mode === 'Preview') {\n    content = PreviewModeContent;\n  }\n\n  return content;\n}\n","import { useState } from 'react';\n\nexport default function useStep(stepCount) {\n  const [activeStep, setActiveStep] = useState(0);\n\n  const handleNext = () => {\n    setActiveStep((activeStep + 1) % stepCount);\n  };\n\n  const handlePrevious = () => {\n    setActiveStep((activeStep - 1 + stepCount) % stepCount);\n  };\n\n  const isLast = activeStep === stepCount - 1;\n  const isFirst = activeStep === 0;\n\n  return [activeStep, handleNext, handlePrevious, isLast, isFirst];\n}\n","import { useState } from 'react';\n\nexport default function useSelectedImages() {\n  const [imageDetails, setImageDetails] = useState([]);\n  const [imageFiles, setImageFiles] = useState([]);\n  const [thumbnail, setThumbnail] = useState(0);\n\n  const handleThumbnailChange = (index) => {\n    setThumbnail(index);\n  };\n\n  const handleSelectedImageChange = (event) => {\n    if (event.target.files) {\n      const files = Array.from(event.target.files);\n      files.forEach((file) => {\n        const image = new Image();\n        image.onload = (e) => {\n          const date = Date.now();\n          const newName = `${date}-${file.name}`;\n          setImageDetails((arr) => arr.concat([\n            {\n              name: newName,\n              size: file.size / (1024 * 1024),\n              url: e.target.src,\n              height: e.target.naturalHeight,\n              width: e.target.naturalWidth,\n              imageFile: file,\n            },\n          ]));\n        };\n        image.src = URL.createObjectURL(file);\n      });\n      setImageFiles((arr) => arr.concat(files));\n      files.map((file) => URL.revokeObjectURL(file)); // avoid memory leak\n    }\n  };\n\n  const removeSelectedImage = (index) => {\n    setImageDetails([\n      ...imageDetails.slice(0, index),\n      ...imageDetails.slice(index + 1),\n    ]);\n\n    setImageFiles([\n      ...imageFiles.slice(0, index),\n      ...imageFiles.slice(index + 1),\n    ]);\n\n    if (index < thumbnail) {\n      handleThumbnailChange(thumbnail - 1);\n    } else if (index === thumbnail) {\n      handleThumbnailChange(0);\n    }\n  };\n\n  const setDimensions = (index, images) => {\n    setImageDetails([\n      ...imageDetails.slice(0, index),\n      {\n        ...imageDetails[index],\n        images,\n      },\n      ...imageDetails.slice(index + 1),\n    ]);\n  };\n\n  return [\n    imageDetails,\n    thumbnail,\n    handleSelectedImageChange,\n    removeSelectedImage,\n    handleThumbnailChange,\n    setDimensions,\n  ];\n}\n","import { useState } from 'react';\n\nexport default function useProgressMessage() {\n  const [messages, setMessages] = useState([]);\n\n  const addMessage = (message, done) => {\n    const newMessage = [{ message, done }];\n    setMessages((arr) => arr.concat(newMessage));\n  };\n\n  const updateMessageStatus = (message, done) => {\n    const newMessage = [{ message, done }];\n    setMessages((arr) => arr.slice(0, -1).concat(newMessage));\n  };\n\n  return [messages, addMessage, updateMessageStatus];\n}\n","import Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport Divider from '@mui/material/Divider';\nimport FormStepper from 'components/FormStepper';\n\nexport default function CreateMemoryForm(\n  stepCount,\n  stepTitles,\n  stepForms,\n  handleSubmit,\n  activeStep,\n) {\n  return (\n    <Grid container justifyContent=\"center\">\n      <Grid\n        item\n        lg={6}\n        xs={12}\n        sx={{\n          boxShadow: 10,\n          borderRadius: 5,\n          bgcolor: 'button.main',\n          mb: 2,\n        }}\n      >\n        <Box>\n          <FormStepper\n            titles={stepTitles}\n            activeStep={activeStep}\n            handleClick={() => {}}\n          />\n          <Divider />\n          {stepForms[activeStep]}\n        </Box>\n      </Grid>\n    </Grid>\n  );\n}\n","import Grid from '@mui/material/Grid';\n\nimport MemoryThumbnail from 'pages/MemoryThumbnail';\nimport MemoryContent from 'pages/memory/MemoryContent';\nimport PreviewCardHeader from './PreviewCardHeader';\n\nexport default function PreviewMemory(\n  title,\n  date,\n  imageDetails,\n  thumbnail,\n  story,\n) {\n  return (\n    <Grid container justifyContent=\"space-evenly\" sx={{ p: 0 }}>\n      <Grid\n        item\n        xs={6}\n        sm={4}\n        md={4}\n        lg={3}\n        xl={2}\n        sx={{ px: 1, mb: 1 }}\n      >\n        <PreviewCardHeader title=\"Thumbnail Preview\" />\n        <MemoryThumbnail\n          title={title}\n          date={date || ''}\n          thumbnailImage={(imageDetails.length) > 0 ? imageDetails[thumbnail].url : ''}\n          handleClick={() => {}}\n        />\n      </Grid>\n\n      <Grid\n        item\n        xs={12}\n        lg={9}\n        xl={10}\n      >\n        <PreviewCardHeader title=\"Memory Preview\" />\n        <MemoryContent\n          memTitle={title}\n          memDate={date}\n          memStory={story}\n          memImages={imageDetails.map((image) => ({\n            src: image.url,\n            width: image.width,\n            height: image.height,\n          }))}\n          imageNames={imageDetails.map((image) => image.name)}\n          preview\n        />\n      </Grid>\n    </Grid>\n  );\n}\n","import { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport BasePage from 'pages/base_page';\nimport ToggleViewMode from './ToggleViewMode';\nimport ModeContent from './ModeContent';\n\nexport default function CreateMemory({ bucket, authURL }) {\n  const modes = ['Create', 'Preview'];\n  const [mode, setMode] = useState(modes[0]);\n  const ref = useRef(null);\n\n  return (\n    <BasePage>\n      <ToggleViewMode mode={mode} handleModeChange={setMode} modes={modes} />\n      <ModeContent mode={mode} formRef={ref} bucket={bucket} authURL={authURL} />\n    </BasePage>\n  );\n}\n\nCreateMemory.propTypes = {\n  bucket: PropTypes.string.isRequired,\n  authURL: PropTypes.string.isRequired,\n};\n"],"names":["ToggleViewMode","mode","handleModeChange","modes","Divider","Box","sx","display","justifyContent","p","ToggleButtonGroup","exclusive","value","color","bgcolor","map","modeName","ToggleButton","onClick","border","borderColor","Typography","variant","FormStepper","titles","activeStep","handleClick","Stepper","alternativeLabel","py","label","index","Step","StepLabel","UploadImages","bucket","authURL","memoryKey","title","imageDetails","imageFiles","incrementImageCount","paramList","detail","imgFile","Key","name","join","Body","ContentType","type","uploadPromises","api","Promise","allSettled","ValidateDetails","memoryDetails","detailsJSON","JSON","stringify","validateResp","status","Valid","UploadDetails","memoryDetailsKey","key","uploadResp","ok","InitializeMemory","handleProgress","updateMessageStatus","addMessage","valid","initRes","HandleImages","imagesResults","i","length","CreateMemory","finalizeResults","parseInt","MemoryID","MemoryThumbnailCard","children","CardActionArea","Card","elevation","borderRadius","position","height","lg","sm","xs","ThumbnailImage","imageSrc","imageSrcSet","handleImageLoad","CardMedia","component","src","srcSet","alt","textAlign","objectFit","onLoad","ThumbnailDetails","date","CardContent","CardHeader","disableTypography","noWrap","overflow","textOverflow","width","fontWeight","subheader","padding","MemoryThumbnail","thumbnailImage","thumbnailImageSrcSet","defaultProps","PreviewCardHeader","mb","NavigationButton","disabled","Button","m","FormStepperNavigation","handleNext","handlePrevious","isLast","isFirst","flexDirection","pt","BoxForm","maxWidth","backgroundColor","alignItems","autoComplete","TitleDateForm","handleTitleChange","handleDateChange","useState","titleError","setTitleError","dateError","setDateError","titleTouched","setTitleTouched","dateTouched","setDateTouched","titleSchema","yup","required","max","dateSchema","nullable","isFieldValid","setFieldError","schema","hasError","validate","abortEarly","catch","error","testField","inner","forEach","message","isValid","titleValid","dateValid","useEffect","submitForm","handleCallback","TextField","onChange","event","id","defaultValue","helperText","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","placeholder","inputFormat","maxDate","Date","renderInput","props","readOnly","ErrorText","text","ThumbnailChooser","thumbnail","handleThumbnailChange","FormControlLabel","control","Radio","checked","pr","alpha","borderLeft","bottom","left","SelectedImage","photo","setDimensions","resizeHeights","heights","originalWidth","target","naturalWidth","originalHeight","naturalHeight","images","Math","ceil","handleImageOnload","fit","auto","loading","ImagePreviewer","handleRemoveImage","align","Grid","container","url","RemovePhotoIcon","ImageSelector","handleChange","pb","hidden","multiple","accept","AddAPhoto","fontSize","ImageForm","handleSelectedImageChange","removeSelectedImage","imageError","setImageError","touched","setTouched","totalImages","setTotalImages","open","setOpen","item","files","direction","prevCount","Dialog","fullWidth","Stack","StoryEditor","storyError","story","handleStoryChange","storyRef","useRef","current","focus","my","minHeight","TextareaAutosize","autoFocus","style","maxHeight","boxSizing","paddingTop","outline","resize","ref","StoryForm","progressDialog","maxStoryLength","setStoryError","LinearProgressWithLabel","mr","LinearProgress","minWidth","round","MessageProgress","showStatus","done","CircularProgress","size","MemoryCreationStatus","progress","counter","CheckCircleOutline","mx","ErrorOutline","CreateMemoryProgress","messages","setCounter","timerId","setTimeout","clearTimeout","mesg","ModeContent","navigate","useNavigate","stepTitles","stepCount","setActiveStep","useStep","useTitle","useDate","setImageDetails","setImageFiles","setThumbnail","Array","from","file","image","Image","onload","e","now","newName","arr","concat","imageFile","URL","createObjectURL","revokeObjectURL","slice","useSelectedImages","useStory","setProgress","setMessages","newMessage","useProgressMessage","uploadCount","setUploadCount","progressPercentage","cnt","content","TitleDate","SelectImages","handleSubmit","getTime","lastModified","totalSize","reduce","partialSum","MemoryUtils","created","ProgressDialog","CreateModeContent","stepForms","boxShadow","CreateMemoryForm","PreviewModeContent","md","xl","px","MemoryContent","memTitle","memDate","memStory","memImages","imageNames","preview","PreviewMemory","setMode","formRef"],"sourceRoot":""}