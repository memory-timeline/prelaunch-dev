"use strict";(self.webpackChunkprelaunch=self.webpackChunkprelaunch||[]).push([[265],{72429:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(47131),r=n(11198),a=n(46417);function o(e){var t=e.handleClose;return(0,a.jsx)(i.Z,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,a.jsx)(r.Z,{})})}},58587:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(29439),r=n(47313);function a(){var e=(0,r.useState)([0,0]),t=(0,i.Z)(e,2),n=t[0],a=t[1];return(0,r.useLayoutEffect)((function(){function e(){a([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}},27142:function(e,t,n){n.r(t),n.d(t,{default:function(){return on}});var i=n(29439),r=n(47313),a=n(73428),o=n(44183),s=n(54641),l=n(16957),c=n(94469),d=n(19536),h=n(93405),g=n(32195),x=n.p+"static/media/February.3e139cde496c24d811f8.jpeg",u=n.p+"static/media/March.4d253c6abff9c67c87bc.jpeg",m=n(75908),f=n(9289),b=n(31095),p=n.p+"static/media/January.f631bfe587ab40ca785b.jpeg",v=n.p+"static/media/April.453b743d7bc16b3b1886.jpeg",w=n.p+"static/media/May.87697cadfa4c64d69285.jpeg",y=n.p+"static/media/June.3082b41ae5798335b32a.jpeg",j=n.p+"static/media/July.e436e047a1a9dbb89599.jpeg",Z=n.p+"static/media/August.fcf8c1e87674967c75f6.jpeg",C=n.p+"static/media/September.5167afdb1086b7660649.jpeg",S=n.p+"static/media/October.fce013a8cad5d39991f3.jpeg",I=n.p+"static/media/November.fb218e2f2804d4eec8f6.jpeg",W=n.p+"static/media/December.a5f762212b6c69a22b70.jpeg",k=n(58018),z=n(71829),F=n(47597),D={aspectRatio:.707,potrait:{defaultMonthWidth:427,imageHeightFraction:.6,dateHeightFraction:.4,brandingHeightFraction:.075,bindingHeightFraction:.05},landscape:{defaultMonthWidth:603.96,imageWidthFraction:.5,dateWidthFraction:.5,brandingHeightFraction:.1,bindingHeightFraction:.070722,yearBoxHeightFraction:.15,dateBoxHeightFraction:.7},smallScreenWidthFraction:.95,backgroundColor:"rgba(255,255,255,0.8)",branding:{brandText:"Colorful Possibilities",companyText:"by MemoryTimeline"},social:{Facebook:{path:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z",Icon:k.Z,color:"#4267B2",text:"colorfulpossibilities"},Instagram:{path:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z",Icon:z.Z,color:"#E1306C",text:"colorfulpossibilities"},Whatsapp:{path:"M16.75 13.96c.25.13.41.2.46.3.06.11.04.61-.21 1.18-.2.56-1.24 1.1-1.7 1.12-.46.02-.47.36-2.96-.73-2.49-1.09-3.99-3.75-4.11-3.92-.12-.17-.96-1.38-.92-2.61.05-1.22.69-1.8.95-2.04.24-.26.51-.29.68-.26h.47c.15 0 .36-.06.55.45l.69 1.87c.06.13.1.28.01.44l-.27.41-.39.42c-.12.12-.26.25-.12.5.12.26.62 1.09 1.32 1.78.91.88 1.71 1.17 1.95 1.3.24.14.39.12.54-.04l.81-.94c.19-.25.35-.19.58-.11l1.67.88M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10c-1.97 0-3.8-.57-5.35-1.55L2 22l1.55-4.65A9.969 9.969 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 1.72.54 3.31 1.46 4.61L4.5 19.5l2.89-.96A7.95 7.95 0 0 0 12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8z",Icon:F.Z,color:"#128C7E",text:"7975218926"}},months:{January:{image:p},February:{image:x},March:{image:u},April:{image:v},May:{image:w},June:{image:y},July:{image:j},August:{image:Z},September:{image:C},October:{image:S},November:{image:I},December:{image:W}}},H=n(9019),T=603.74,Y={monthList:["January","February","March","April","May","June","July","August","September","October","November","December"],months:{January:{days:31,firstDay:3},February:{days:28,firstDay:6},March:{days:31,firstDay:6},April:{days:30,firstDay:2},May:{days:31,firstDay:4},June:{days:30,firstDay:0},July:{days:31,firstDay:2},August:{days:31,firstDay:5},September:{days:30,firstDay:1},October:{days:31,firstDay:3},November:{days:30,firstDay:6},December:{days:31,firstDay:1}},year:2025,padding:50,lineWidth:.5,cutLength:40,cutColor:"black",monthCanvas:{A3:{width:3508,height:4961,minWidth:842,minHeight:1191,printWidth:11.7,printHeight:16.5,rows:1,columns:1,sheets:12},A5:{width:1754,height:2480,minWidth:420,minHeight:595,printWidth:6,printHeight:8.47,rows:2,columns:2,sheets:3},A6:{minWidth:298,minHeight:421,printWidth:4.13,printHeight:5.85,width:1240,height:1754,rows:4,columns:2,sheets:2,rotateRequired:!0},A7:{minWidth:210,minHeight:298,printWidth:2.91,printHeight:4.13,width:878,height:1240,rows:4,columns:4,sheets:1}},printCanvas:{width:3508,height:4961},pdfOptions:{orientation:"p",unit:"in",format:[12.5,18.5]},maxCanvasWidth:2e3,monthItemWidth:427,monthItemHeight:T,social:{Facebook:{path:"M 20 10 c 0 -5.52 -4.48 -10 -10 -10 S 0 4.48 0 10 c 0 4.84 3.44 8.87 8 9.8 V 13 H 6 v -3 h 2 V 7.5 C 8 5.57 9.57 4 11.5 4 H 14 v 3 h -2 c -0.55 0 -1 0.45 -1 1 v 2 h 3 v 3 h -3 v 6.95 c 5.05 -0.5 9 -4.76 9 -9.95 z",Icon:k.Z,color:"#4267B2",text:"colorfulpossibilities"},Instagram:{path:"M 5.8 0 h 8.4 C 17.4 0 20 2.6 20 5.8 v 8.4 a 5.8 5.8 0 0 1 -5.8 5.8 H 5.8 C 2.6 20 0 17.4 0 14.2 V 5.8 A 5.8 5.8 0 0 1 5.8 0 m -0.2 2 A 3.6 3.6 0 0 0 2 5.6 v 8.8 C 2 16.39 3.61 18 5.6 18 h 8.8 a 3.6 3.6 0 0 0 3.6 -3.6 V 5.6 C 18 3.61 16.39 2 14.4 2 H 5.6 m 9.65 1.5 a 1.25 1.25 0 0 1 1.25 1.25 A 1.25 1.25 0 0 1 15.25 6 A 1.25 1.25 0 0 1 14 4.75 a 1.25 1.25 0 0 1 1.25 -1.25 M 10 5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 a 5 5 0 0 1 5 -5 m 0 2 a 3 3 0 0 0 -3 3 a 3 3 0 0 0 3 3 a 3 3 0 0 0 3 -3 a 3 3 0 0 0 -3 -3 z",Icon:z.Z,color:"#E1306C",text:"colorfulpossibilities"},Whatsapp:{path:"M 14.75 11.96 c 0.25 0.13 0.41 0.2 0.46 0.3 c 0.06 0.11 0.04 0.61 -0.21 1.18 c -0.2 0.56 -1.24 1.1 -1.7 1.12 c -0.46 0.02 -0.47 0.36 -2.96 -0.73 c -2.49 -1.09 -3.99 -3.75 -4.11 -3.92 c -0.12 -0.17 -0.96 -1.38 -0.92 -2.61 c 0.05 -1.22 0.69 -1.8 0.95 -2.04 c 0.24 -0.26 0.51 -0.29 0.68 -0.26 h 0.47 c 0.15 0 0.36 -0.06 0.55 0.45 l 0.69 1.87 c 0.06 0.13 0.1 0.28 0.01 0.44 l -0.27 0.41 l -0.39 0.42 c -0.12 0.12 -0.26 0.25 -0.12 0.5 c 0.12 0.26 0.62 1.09 1.32 1.78 c 0.91 0.88 1.71 1.17 1.95 1.3 c 0.24 0.14 0.39 0.12 0.54 -0.04 l 0.81 -0.94 c 0.19 -0.25 0.35 -0.19 0.58 -0.11 l 1.67 0.88 M 10 0 a 10 10 0 0 1 10 10 a 10 10 0 0 1 -10 10 c -1.97 0 -3.8 -0.57 -5.35 -1.55 L 0 20 l 1.55 -4.65 A 9.969 9.969 0 0 1 0 10 A 10 10 0 0 1 10 0 m 0 2 a 8 8 0 0 0 -8 8 c 0 1.72 0.54 3.31 1.46 4.61 L 2.5 17.5 l 2.89 -0.96 A 7.95 7.95 0 0 0 10 18 a 8 8 0 0 0 8 -8 a 8 8 0 0 0 -8 -8 z",Icon:F.Z,color:"#128C7E",text:"7975218926"}},themes:{contextual:{monthWidth:427,monthHeight:T,imageWidthFrac:1,imageHeightFrac:.6,dateWidthFrac:1,dateHeightFrac:.4,paddingFrac:.0375,brandingHeightFrac:.0375,brandingWidthFrac:1,brandingBorderRadiusFrac:.0075,brandingPaddingYFrac:.00375,brandingMarginTFrac:.00375,brandingBorderRadius:.0075,backgroundColor:"rgba(255, 255, 255, 0.8)",months:{January:{image:p},February:{image:x},March:{image:u},April:{image:v},May:{image:w},June:{image:y},July:{image:j},August:{image:Z},September:{image:C},October:{image:S},November:{image:I},December:{image:W}},brand:[{text:"Colorful Possibilities",fontFamily:"KaushanScript",fontSize:"0.4rem",color:"brown"},{text:" by MemoryTimeline",fontFamily:"sans-serif",fontSize:"0.4rem",color:"brown"}],social:[{text:"colorfulpossibilities",fontFamily:"sans-serif",fontSize:"0.4rem",color:"#4267B2"},{text:"colorfulpossibilities",fontFamily:"sans-serif",fontSize:"0.4rem",color:"#E1306C"},{text:"7975218926",fontFamily:"sans-serif",fontSize:"0.4rem",color:"#E1306C"}]}},icons:{cake:{color:"#FF5B61",path:"M 9 6 c 1.11 0 2 -0.9 2 -2 c 0 -0.38 -0.1 -0.73 -0.29 -1.03 L 9 0 l -1.71 2.97 c -0.19 0.3 -0.29 0.65 -0.29 1.03 c 0 1.1 0.9 2 2 2 m 4.6 9.99 l -1.07 -1.07 l -1.08 1.07 c -1.3 1.3 -3.58 1.31 -4.89 0 l -1.07 -1.07 l -1.09 1.07 C 3.75 16.64 2.88 17 1.96 17 c -0.73 0 -1.4 -0.23 -1.96 -0.61 V 21 c 0 0.55 0.45 1 1 1 h 16 c 0.55 0 1 -0.45 1 -1 v -4.61 c -0.56 0.38 -1.23 0.61 -1.96 0.61 c -0.92 0 -1.79 -0.36 -2.44 -1.01 M 15 9 h -5 V 7 h -2 v 2 H 3 c -1.66 0 -3 1.34 -3 3 v 1.54 c 0 1.08 0.88 1.96 1.96 1.96 c 0.52 0 1.02 -0.2 1.38 -0.57 l 2.14 -2.13 l 2.13 2.13 c 0.74 0.74 2.03 0.74 2.77 0 l 2.14 -2.13 l 2.13 2.13 c 0.37 0.37 0.86 0.57 1.38 0.57 c 1.08 0 1.96 -0.88 1.96 -1.96 V 12 C 18 10.34 16.66 9 15 9"},favorite:{color:"red",path:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"},home:{color:"#5F9EA0",path:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},travel:{color:"blue",path:"M2.5 19h19v2h-19v-2zm19.57-9.36c-.21-.8-1.04-1.28-1.84-1.06L14.92 10l-6.9-6.43-1.93.51 4.14 7.17-4.97 1.33-1.97-1.54-1.45.39 2.59 4.49s7.12-1.9 16.57-4.43c.81-.23 1.28-1.05 1.07-1.85z"}},textSettings:{brand:{text:"Colorful Possibilities",color:"brown"},company:{text:" by MemoryTimeline",color:"black"}}};var R={generateCalendar:function(e,t){for(var n=[],i=new Array(t).fill(0),r=1;r<=e;)i.push(r),r+=1,7===i.length&&(n.push(i),i=[]);if(i.length>0){for(;i.length<7;)i.push(0);n.push(i)}return n},renderImage:function(e,t){var n=e.canvas,i=n.width,r=n.height,a=new Image;a.onload=function(){var n,o,s,l,c=i/r,d=t.width/t.height;d>c?(o=r,s=-((n=r*d)-i)/2,l=0):(n=i,s=0,l=-((o=i/d)-r)/2),e.drawImage(a,s,l,n,o)},a.src=t.src},resizeImageSlowly:function(e,t,n,i,r){console.log("image resize start",e.src,new Date);var a=document.createElement("canvas");a.width=t,a.height=n;var o,s,l=a.getContext("2d"),c=t/n,d=t,h=n;l.webkitImageSmoothingEnabled=!1,l.mozImageSmoothingEnabled=!1,l.imageSmoothingEnabled=!1;var g=Math.floor(Math.log2(t/i));if(0===g)l.drawImage(e,0,0,d,h,0,0,i,r);else{for(var x=0;x<g;x+=1)s=(o=d/2)/c,0===x?l.drawImage(e,0,0,d,h,0,0,o,s):l.drawImage(a,0,0,d,h,0,0,o,s),d=o,h=s;l.drawImage(a,0,0,d,h,0,0,i,r)}var u=document.createElement("canvas");return u.width=i,u.height=r,u.getContext("2d").drawImage(a,0,0,i,r,0,0,i,r),console.log("image resize end",e.src,new Date),u},imagePosition:function(e,t,n,i){var r,a,o,s,l=n/i;return l>e/t?(a=t,o=((r=t*l)-e)/2,s=0):(r=e,o=0,s=((a=e/l)-t)/2),[parseFloat(r.toFixed(5)),parseFloat(a.toFixed(5)),o,s]},getCanvasDimensions:function(e,t,n,i){var r,a;if(n.width<e||n.height<t){var o=e/t;n.width/n.height>o?a=(r=n.height)*(e/t):r=(a=n.width)/(e/t)}else r=t,a=e;var s=a>i?i:a,l=s*r/a;return[parseFloat(s.toFixed(5)),parseFloat(l.toFixed(5))]},getImageDets:function(e,t,n,i){var r=e.lastModified,a=e.size,o=e.name,s=e.type;return{height:n,lastModified:r,rawFile:e,size:a,src:i.src,title:o,type:s,width:t}}},A=R,X=n(61113),B=n(49695),E=n(11069),M=n(15919),P=n(79794),L=n(46417);function O(e){var t=e.type,n=e.day,i=e.size,r=e.iconWidth;console.log("dates grid special date icon",t,n);var a="".concat(i,"rem"),o="".concat(r,"px"),s=Y.icons,l=s.cake,c=s.favorite,d=s.home,h=s.travel;return"Travel"===t?(0,L.jsx)(g.Z,{direction:"row",justifyContent:"center",sx:{width:o},children:(0,L.jsx)(P.Z,{sx:{color:h.color,fontSize:a}})}):"Birthday"===t?(0,L.jsx)(g.Z,{direction:"row",justifyContent:"center",sx:{width:o},children:(0,L.jsx)(B.Z,{sx:{color:l.color,fontSize:a}})}):"Anniversary"===t?(0,L.jsx)(g.Z,{direction:"row",justifyContent:"center",sx:{width:o},children:(0,L.jsx)(E.Z,{sx:{color:c.color,fontSize:a}})}):"Home"===t?(0,L.jsx)(g.Z,{direction:"row",justifyContent:"center",sx:{width:o},children:(0,L.jsx)(M.Z,{sx:{color:d.color,fontSize:a}})}):"Other"===t?(0,L.jsx)(X.Z,{sx:{fontSize:a,color:"brown",fontWeight:"bold",textAlign:"center",minWidth:o},children:0===n?" ":n},"".concat(n)):void 0}function J(e){var t=e.days,n=e.firstDay,i=e.specialDates,r=A.generateCalendar(t,n);return(0,L.jsx)(g.Z,{direction:"column",alignItems:"space-between",justifyContent:"space-between",sx:{height:"100%",boxSizing:"border-box"},children:r.map((function(e){return(0,L.jsx)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:e.map((function(e,t){return e in i?(0,L.jsx)(O,{day:e,type:i[e],iconWidth:20,size:.8}):(0,L.jsx)(X.Z,{sx:{fontSize:{xs:"0.65rem",sm:"0.8rem"},color:0===t||6===t?"red":"black",fontWeight:"bold",textAlign:"center",minWidth:"20px"},children:0===e?" ":e},"".concat(t).concat(e))}))},e)}))})}var V=n(1413),U=n(41806),G=n(58587),K=n(41070),N=n.n(K),q=n(65954),Q=n(61689),$=n(47131);var _={resizeImageSlowly:function(e,t,n,i,r){console.log("image editor resize image slowly",e.title);var a=document.createElement("canvas");a.width=t,a.height=n;var o,s,l=a.getContext("2d"),c=t/n,d=t,h=n;l.webkitImageSmoothingEnabled=!1,l.mozImageSmoothingEnabled=!1,l.imageSmoothingEnabled=!1;var g=Math.floor(Math.log2(t/i));if(0===g)l.drawImage(e,0,0,d,h,0,0,i,r);else{for(var x=0;x<g;x+=1)s=(o=d/2)/c,0===x?l.drawImage(e,0,0,d,h,0,0,o,s):l.drawImage(a,0,0,d,h,0,0,o,s),d=o,h=s;l.drawImage(a,0,0,d,h,0,0,i,r)}var u=document.createElement("canvas");return u.width=i,u.height=r,u.getContext("2d").drawImage(a,0,0,i,r,0,0,i,r),u}};function ee(e){var t=e.image,n=e.width,a=e.height,o=e.border,s=e.color,l=e.scale,c=e.rotate,d=e.onImageChange,h=e.onImageReady,g=e.handleImageChange,x=(0,r.useRef)(),u=(0,r.useState)(""),m=(0,i.Z)(u,2),f=m[0],b=m[1],p=t.title;return console.log("image editor",p),(0,r.useEffect)((function(){var e=t.width,i=t.height,r=t.elem,o=function(e,t,n,i){var r,a;return i/n>t/e?a=e*((r=i)/t):r=t*((a=n)/e),{height:r,width:a}}(e,i,n,a),s=o.width,l=o.height,c=_.resizeImageSlowly(r,e,i,s,l).toDataURL();b(c)}),[t,n,a,l]),(0,L.jsxs)(U.Z,{component:"div",sx:{width:n,height:a,zIndex:2,position:"absolute"},children:[(0,L.jsx)(N(),{ref:x,image:f,style:{width:n,height:a},width:n,height:a,border:o,color:s,scale:l,rotate:c,onImageChange:function(){return d(x)},onImageReady:function(){return h(x)}}),(0,L.jsx)(Q.Z,{title:"Edit",children:(0,L.jsx)($.Z,{onClick:g,sx:{position:"absolute",top:"90%",right:"10px",backgroundColor:"rgba(255,255,255, 0.5)","&:hover":{backgroundColor:"rgba(255,255,255, 0.7)",p:1.2},transform:"translate(0, -50%)"},children:(0,L.jsx)(q.Z,{})})})]})}ee.defaultProps={scale:1,rotate:0,border:0,onImageReady:function(){},onImageChange:function(){},color:[0,0,0,.6],handleImageChange:function(){}};var te=n(75192),ne=n.n(te),ie=n(59344),re=(0,r.forwardRef)((function(e,t){var n=e.month,i=e.handleChange;return(0,L.jsxs)(U.Z,{sx:{backgroundColor:"white"},children:[(0,L.jsx)("input",{ref:t,type:"file",accept:"image/*",style:{opacity:"0.0",position:"absolute",width:"100%",height:"100%",zIndex:1,border:"2px dashed gray"},onChange:function(e){return i(e.target.files[0],n)}}),(0,L.jsxs)($.Z,{size:"large",color:"primary",sx:{top:"50%",left:"50%",position:"absolute",transform:"translate(-50%, -50%)"},children:[(0,L.jsx)(ie.Z,{}),(0,L.jsx)(X.Z,{children:"Add Image"})]})]})}));re.propTypes={month:ne().string.isRequired,handleChange:ne().func.isRequired};var ae=re;function oe(e){var t=e.text,n=e.color;return(0,L.jsx)(X.Z,{sx:{fontSize:{xs:"0.75rem",sm:"0.9rem"},color:{color:n},fontWeight:"bold",minWidth:"20px",textAlign:"center"},children:t})}function se(){return(0,L.jsxs)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,L.jsx)(oe,{text:"S",color:"red"}),(0,L.jsx)(oe,{text:"M",color:"black"}),(0,L.jsx)(oe,{text:"T",color:"black"}),(0,L.jsx)(oe,{text:"W",color:"black"}),(0,L.jsx)(oe,{text:"T",color:"black"}),(0,L.jsx)(oe,{text:"F",color:"black"}),(0,L.jsx)(oe,{text:"S",color:"red"})]})}function le(e){var t=e.year,n=e.month,i=e.datesGrid;return(0,L.jsxs)(g.Z,{sx:{height:"95%",width:"100%",backgroundSize:"cover",borderRadius:"10px",backgroundColor:D.backgroundColor,p:2,boxSizing:"border-box"},children:[(0,L.jsxs)(g.Z,{direction:"row",alignItems:"flex-start",justifyContent:"space-between",children:[(0,L.jsx)(X.Z,{sx:{fontSize:{xs:"0.85rem",sm:"1rem"},fontWeight:"bold",color:"green"},children:n.toUpperCase()}),(0,L.jsx)(X.Z,{sx:{fontSize:{xs:"0.85rem",sm:"1rem"},fontWeight:"bold",color:"green"},children:t})]}),(0,L.jsx)(d.Z,{sx:{mb:1,borderWidth:1}}),(0,L.jsx)(se,{}),i]})}var ce=(0,r.memo)(le);function de(e){var t=e.Icon,n=e.text,i=e.color;return(0,L.jsxs)(X.Z,{sx:{display:"flex",alignItems:"center",fontSize:{xs:"0.35rem",sm:"0.4rem"},color:i,fontWeight:"bold"},children:[(0,L.jsx)(t,{sx:{fontSize:{xs:"0.4rem",sm:"0.5rem"},color:i}}),"\xa0",n]})}function he(){var e=D.social,t=e.Facebook,n=e.Instagram,i=e.Whatsapp;return(0,L.jsxs)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{height:"100%",width:"100%"},children:[(0,L.jsxs)(g.Z,{direction:"row",alignItems:"baseline",children:[(0,L.jsx)(X.Z,{sx:{display:"flex",alignItems:"flex-start",fontFamily:"KaushanScript",fontSize:{xs:"0.35rem",sm:"0.4rem"},color:"brown"},children:"Colorful Possibilities"}),(0,L.jsx)(X.Z,{sx:{display:"flex",alignItems:"center",fontSize:{xs:"0.35rem",sm:"0.4rem"},color:"black",fontWeight:"bold"},children:"\xa0\xa0by MemoryTimeline"})]}),(0,L.jsx)(de,{Icon:t.Icon,color:t.color,text:t.text}),(0,L.jsx)(de,{Icon:n.Icon,color:n.color,text:n.text}),(0,L.jsx)(de,{Icon:i.Icon,color:i.color,text:i.text})]})}de.defaultProps={text:"",Icon:""};var ge=n(30627);function xe(e){var t=e.height;return(0,L.jsxs)(g.Z,{direction:"row",justifyContent:"space-around",alignItems:"center",sx:{width:"100%",height:t,backgroundSize:"cover"},children:[(0,L.jsx)(ge.Z,{fontSize:"5px"}),(0,L.jsx)(ge.Z,{fontSize:"5px"}),(0,L.jsx)(ge.Z,{fontSize:"5px"}),(0,L.jsx)(ge.Z,{fontSize:"5px"}),(0,L.jsx)(ge.Z,{fontSize:"5px"}),(0,L.jsx)(ge.Z,{fontSize:"5px"}),(0,L.jsx)(ge.Z,{fontSize:"5px"})]})}function ue(e){var t=e.image,n=e.year,i=e.name,a=e.handleChange,o=e.handleImageEdit,s=e.bgImage,l=e.width,c=e.height,d=e.datesGrid,h=e.binding,x=(0,r.useRef)(null);console.log("potrait month contents",i);var u=D.potrait,m=u.imageHeightFraction,f=u.dateHeightFraction,b=u.bindingHeightFraction,p=u.brandingHeightFraction;return(0,L.jsxs)(U.Z,{component:"div",width:"100%",height:"100%",sx:{position:"relative",zIndex:"auto"},children:["none"===h?null:(0,L.jsx)(xe,{height:c*b}),(0,L.jsxs)(U.Z,{width:"100%",height:"none"===h?c*m:c*(m-b),sx:{position:"absolute",top:"none"===h?0:c*b},children:[(0,L.jsx)(ae,{month:i,handleChange:a,ref:x}),"src"in t?(0,L.jsx)(ee,{scale:1,image:t,width:l,height:"none"===h?c*m:c*(m-b),onImageChange:o,onImageReady:o,handleImageChange:function(){x.current&&x.current.click()}}):null]}),(0,L.jsxs)(U.Z,{width:l,height:c*f,sx:{p:2,mt:0,mb:0,boxSizing:"border-box",position:"absolute",top:c*m,backgroundImage:"url(".concat(s,")"),backgroundSize:"cover",backgroundPositon:"center"},children:[(0,L.jsx)(ce,{year:n,month:i,datesGrid:d,width:"100%",height:"100%"}),(0,L.jsx)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{height:c*f*p,width:"100%",backgroundSize:"cover",borderRadius:"5px",backgroundColor:"white",px:2,py:.15,mt:.3,boxSizing:"border-box"},children:(0,L.jsx)(he,{})})]})]})}var me=(0,r.memo)(ue);function fe(e){var t=e.year,n=e.month,i=e.datesGrid;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(g.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{width:"100%",height:"15%",backgroundSize:"cover",borderRadius:"10px",backgroundColor:D.backgroundColor,p:2,mb:1,boxSizing:"border-box"},children:[(0,L.jsx)(X.Z,{sx:{fontSize:{xs:"0.85rem",sm:"2rem"},fontWeight:"bold",color:"green"},children:n}),(0,L.jsx)(X.Z,{sx:{fontSize:{xs:"0.85rem",sm:"2rem"},fontWeight:"bold",color:"green"},children:t})]}),(0,L.jsxs)(g.Z,{direction:"column",alignItems:"space-around",sx:{width:"100%",height:"70%",backgroundSize:"cover",borderRadius:"10px",backgroundColor:D.backgroundColor,p:2,boxSizing:"border-box"},children:[(0,L.jsx)(se,{}),i]})]})}var be=(0,r.memo)(fe);function pe(){var e=D.social,t=e.Facebook,n=e.Instagram,i=e.Whatsapp;return(0,L.jsxs)(g.Z,{direction:"row",alignItems:"flex-start",justifyContent:"space-between",children:[(0,L.jsxs)(g.Z,{direction:"row",alignItems:"center",sx:{height:"100%"},children:[(0,L.jsx)(X.Z,{sx:{display:"flex",alignItems:"flex-start",fontFamily:"KaushanScript",fontSize:{xs:"0.35rem",sm:"0.6rem"},color:"brown"},children:"Colorful Possibilities"}),(0,L.jsx)(X.Z,{sx:{display:"flex",alignItems:"center",fontSize:{xs:"0.35rem",sm:"0.5rem"},color:"black",fontWeight:"bold"},children:"\xa0\xa0by MemoryTimeline"})]}),(0,L.jsx)(d.Z,{orientation:"vertical",flexItem:!0,sx:{borderWidth:1}}),(0,L.jsxs)(g.Z,{direction:"column",children:[(0,L.jsx)(de,{Icon:t.Icon,color:t.color,text:t.text}),(0,L.jsx)(de,{Icon:n.Icon,color:n.color,text:n.text}),(0,L.jsx)(de,{Icon:i.Icon,color:i.color,text:i.text})]})]})}function ve(e){var t=e.binding,n=e.image,i=e.year,a=e.name,o=e.datesGrid,s=e.handleChange,l=e.handleImageEdit,c=e.bgImage,d=e.width,h=e.height,x=(0,r.useRef)(null);console.log("landscape month contents",a,i);var u=D.landscape,m=u.imageWidthFraction,f=u.dateWidthFraction,b=u.brandingHeightFraction,p=u.bindingHeightFraction;return(0,L.jsxs)(U.Z,{component:"div",width:"100%",height:"100%",sx:{position:"relative",zIndex:"auto"},children:["none"===t?null:(0,L.jsx)(xe,{height:h*p}),(0,L.jsxs)(U.Z,{width:d*m,height:"none"===t?1*h:h*(1-p),sx:{position:"absolute",top:"none"===t?0:h*p},children:[(0,L.jsx)(ae,{month:a,handleChange:s,ref:x}),"src"in n?(0,L.jsx)(ee,{image:n,width:d*m,height:"none"===t?h:h*(1-p),onImageChange:l,onImageReady:l,handleImageChange:function(){x.current&&x.current.click()}}):null]}),(0,L.jsxs)(U.Z,{width:d*f,height:"none"===t?1*h:h*(1-p),sx:{p:2,mt:0,mb:0,boxSizing:"border-box",position:"absolute",left:.5*d,top:"none"===t?0:h*p,backgroundImage:"url(".concat(c,")"),backgroundSize:"cover",backgroundPosition:"center"},children:[(0,L.jsx)(be,{year:i,month:a,datesGrid:o,width:"100%",height:"100%"}),(0,L.jsx)(g.Z,{sx:{height:h*b,width:"100%",backgroundSize:"cover",borderRadius:"5px",backgroundColor:"white",px:2,py:1,mt:1,boxSizing:"border-box"},children:(0,L.jsx)(pe,{})})]})]})}var we=(0,r.memo)(ve);function ye(e){var t=e.year,n=e.name,a=e.datesGrid,o=e.handleChange,s=e.handleImageEdit,l=e.bgImage,c=e.binding,d=e.orientation,h=(0,r.useRef)(null),g=(0,G.Z)(),x=(0,r.useState)({}),u=(0,i.Z)(x,2),m=u[0],f=u[1],b=D.aspectRatio,p=D.smallScreenWidthFraction,v=D[d].defaultMonthWidth,w=(0,r.useState)({}),y=(0,i.Z)(w,2),j=y[0],Z=y[1];console.log("month",n);var C=function(e,t){var n=new Image;n.onload=function(i){var r=i.target,a=r.naturalWidth,s=r.naturalHeight,l=(0,V.Z)((0,V.Z)({},A.getImageDets(e,a,s,n)),{},{elem:n});Z(l),o(l,t)},n.src=e instanceof File?URL.createObjectURL(e):e};return(0,r.useEffect)((function(){var e=(0,i.Z)(g,1)[0];f((function(){return 0===e?{}:e>v?"potrait"===d?{width:v,height:v/b}:{width:v,height:v*b}:"potrait"===d?{width:e*p,height:e*p/b}:{width:e*p,height:e*p*b}}))}),[g,d]),"width"in m?(0,L.jsx)(H.ZP,{item:!0,children:(0,L.jsx)(U.Z,{component:"div",ref:h,sm:12,md:6,lg:4,sx:{width:m.width,height:m.height,color:"black",display:"flex",position:"relative",overflow:"hidden",backgroundColor:"white"},children:"potrait"===d?(0,L.jsx)(me,{binding:c,year:t,name:n,image:j,handleChange:C,bgImage:l,handleImageEdit:s,width:m.width,height:m.height,datesGrid:a}):(0,L.jsx)(we,{binding:c,year:t,name:n,image:j,handleChange:C,bgImage:l,handleImageEdit:s,width:m.width,height:m.height,datesGrid:a})})},n):null}var je=(0,r.memo)(ye);function Ze(e){var t=e.binding,n=e.orientation,i=e.handleChange,r=e.handleEditChange,a=e.specialDates;return Y.monthList.map((function(e){var o=Y.months[e],s=o.days,l=o.firstDay,c=(0,L.jsx)(J,{days:s,firstDay:l,specialDates:e in a?a[e]:{}}),d=D.months[e].image;return(0,L.jsx)(je,{name:e,year:Y.year,datesGrid:c,binding:t,orientation:n,bgImage:d,handleChange:i,handleImageEdit:function(t){var n;if(t.current){var i=null===(n=t.current)||void 0===n?void 0:n.getCroppingRect(),a=i.width,o=i.height,s=i.x,l=i.y;r({cropWidth:a,cropHeight:o,x:s,y:l},e)}}},e)}))}function Ce(e){var t=e.binding,n=e.orientation,i=e.handleImageChange,r=e.handleEditChange,a=e.specialDates;return(0,L.jsx)(H.ZP,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",sx:{backgroundColor:"black",mt:0},rowSpacing:2,children:(0,L.jsx)(Ze,{binding:t,orientation:n,handleChange:i,handleEditChange:r,spacing:2,specialDates:a})})}function Se(e,t,n,r,a,o,s){if(console.log("render image",t),"elem"in t){var l=t.width,c=t.height,d=t.elem,h=A.imagePosition(n,r,l,c),g=(0,i.Z)(h,4),x=g[0],u=g[1],m=g[2],f=g[3],b=A.resizeImageSlowly(d,l,c,x,u);e.drawImage(b,"x"in t?t.x*x:m,"y"in t?t.y*u:f,n,r,a,o,n,r),s()}else!function(e,t,n,r,a,o,s){console.log("image timer render start",t.src,new Date);var l=new Image;l.onerror=function(){console.log("Error while loading image",t)},l.onload=function(){console.log("image timer load",t.src,new Date);var c=l.naturalWidth,d=l.naturalHeight,h=A.imagePosition(n,r,c,d),g=(0,i.Z)(h,4),x=g[0],u=g[1],m=g[2],f=g[3],b=A.resizeImageSlowly(l,c,d,x,u);e.drawImage(b,"x"in t?t.x*x:m,"y"in t?t.y*u:f,n,r,a,o,n,r),s(),console.log("image timer finished",t.src,new Date)},l.src=t.src}(e,t,n,r,a,o,s)}var Ie=function(e,t,n,i,r,a){e.fillStyle=n,e.save(),e.translate(r,a),e.scale(t,t),e.fill(new Path2D(i)),e.restore()};function We(e,t,n,i,r,a){console.log("in render text",t,r,e),e.save(),e.font=n,e.fillStyle=i,e.fillText(t,r,a);var o=e.measureText(t);return e.restore(),o}var ke=function(e,t,n,i,r,a,o,s){var l=n.color,c=n.path,d=n.text;Ie(e,t,l,c,r,a),We(e," ".concat(d),i,l,o,s)};function ze(e,t,n,i,r,a,o){e.beginPath(),e.roundRect(t,n,i,r,[a]),e.fillStyle=o,e.fill()}function Fe(e,t,n,i,r,a,o,s){e.save(),e.textAlign="center",e.textBaseline="alphabetic";var l=Y.icons,c=l.cake,d=l.favorite,h=l.home,g=l.travel;"Birthday"===o?Ie(e,t,c.color,c.path,n,i):"Home"===o?Ie(e,t,h.color,h.path,n,i):"Travel"===o?Ie(e,t,g.color,g.path,n,i):"Anniversary"===o?Ie(e,t,d.color,d.path,n,i):"Other"===o&&(e.fillStyle="brown",e.fillText(0===s?" ":s,r,a)),e.restore()}var De={initialize:function(e,t,n){var i=e.getContext("2d");return i.canvas.width=t,i.canvas.height=n,i.webkitImageSmoothingEnabled=!1,i.mozImageSmoothingEnabled=!1,i.imageSmoothingEnabled=!1,i.fillStyle="white",i.fillRect(0,0,e.width,e.height),i},renderImage:Se,socialBrand:ke,drawLine:function(e,t,n,i,r,a,o){e.save(),e.beginPath(),e.moveTo(t,n),e.lineTo(i,r),e.strokeStyle=a,e.lineWidth=o,e.stroke(),e.restore()},drawIcon:Ie,renderDateBoxArea:function(e,t,n,i){var r=t.width,a=t.height,o=t.startX,s=t.startY;console.log("in render date box area",t,n),Se(e,n,r,a,o,s,i)},renderSpecialDates:Fe,renderDates:function(e,t,n,i){e.save(),e.textAlign="center",e.textBaseline="alphabetic";var r=t.letterHeight,a=t.letterWidth,o=t.startX,s=t.startY,l=t.scale,c=t.width,d=t.height,h=t.font;e.font=h;var g=(c-7*a)/6,x=(d-n.length*r)/n.length;n.forEach((function(t,n){t.forEach((function(t,c){var d=o+g*c+a*c+a/2,h=s+n*x+n*r;t in i?Fe(e,l,d-a/2,h-a,d,h,i[t],t):0===c||6===c?(e.fillStyle="red",e.fillText(0===t?" ":t,d,h)):(e.fillStyle="black",e.fillText(0===t?" ":t,d,h))}))})),e.restore()},renderWeekRow:function(e,t){e.save(),e.textAlign="center",e.font=t.font;var n=(t.width-7*t.letterWidth)/6;t.letters.forEach((function(i,r){e.fillStyle=0===r||6===r?"red":"black",e.fillText(i,t.startX+n*r+t.letterWidth*r+t.letterWidth/2,t.startY)})),e.restore()},renderText:We,renderRoundedRect:ze,renderBranding:function(e,t){var n=Y.social,i=n.Facebook,r=n.Instagram,a=n.Whatsapp,o=t.scale,s=t.bfr,l=t.bstx,c=t.bsty,d=t.iconWidth;ze(e,t.bsx,t.bsy,t.bw,t.bh,t.br,t.bc),e.textAlign="start",e.textBaseline="middle";var h=Y.textSettings,g=h.brand,x=h.company,u=We(e,g.text,t.bf,g.color,l,c),m=We(e,x.text,t.bfr,x.color,l+u.width,c),f=u.width+m.width;e.font=s;var b=e.measureText(i.text),p=e.measureText(a.text),v=f+2*b.width+p.width,w=(t.bw-t.bstx-v)/3,y=l+f+w,j=y-d,Z=c-d/2,C=w+b.width;ke(e,o,i,s,j,Z,y,c),ke(e,o,r,s,j+C,Z,y+C,c),ke(e,o,a,s,j+2*C,Z,y+2*C,c)}};var He={generateImage:function(e,t,n,r,a,o){var s=A.getCanvasDimensions(n,r,t,a),l=(0,i.Z)(s,2),c=l[0],d=l[1],h=De.initialize(e,c,d);return t&&De.renderImage(h,t,c,d,0,0,o),e},generateDates:function(e,t,n,r,a,o,s,l,c,d,h){var g=A.getCanvasDimensions(s,l,{width:o.width,height:o.height},c),x=(0,i.Z)(g,2),u=x[0],m=x[1],f=De.initialize(e,u,m),b=function(e,t){console.log("in get config",e,t);var n=427,i=n/.707,r=16*e/n,a=16*e/n,o=t;return{dateBoxArea:{width:e,height:t,startX:0,startY:0,endX:e,endY:t,bgcolor:"white"},dateBox:{width:e-2*r,height:.95*o-2*r,startX:r,startY:0+r,endX:e-r,endY:.95*t-r,radius:10*e/n,color:"rgba(255,255,255,0.8)"},branding:{bsx:r,bsy:.95*t-r+1.3*t*8/i,bw:e-2*r,bh:.075*t,br:5*e/n,bf:"bold ".concat(.4*a,"px KaushanScript"),bfr:"bold ".concat(.4*a,"px sans-serif"),bc:"rgba(255,255,255,1)",bstx:2*r,bsty:.95*t-r+1.3*t*8/i+.075*t/2,scale:16*e*.4/8540,iconWidth:16*e*.4/n},year:{startX:e-2*r,startY:0+2*r+1*a,color:"green",font:"bold ".concat(1*a,"px sans-serif")},month:{startX:2*r,startY:0+2*r+1*a,color:"green",font:"bold ".concat(1*a,"px sans-serif")},divider:{startX:2*r,startY:0+2*r+1.5*a*1,endX:e-2*r,endY:0+2*r+1.5*a*1,color:"rgba(0, 0, 0, 0.12)",lineWidth:2},weekRow:{letters:["S","M","T","W","T","F","S"],letterWidth:16*e/n,startX:2*r,startY:0+2*r+1.5*a*1.9+2,endX:e-2*r,width:e-4*r,font:"bold ".concat(a,"px sans-serif")},dates:{letters:["S","M","T","W","T","F","S"],letterWidth:16*e*.8/n,letterHeight:.8*a*1.5,startX:2*r,startY:0+2*r+1.5*a*2.8,endX:e-2*r,width:e-4*r,height:.95*o-4*r-1.5*a*1.9,font:"bold ".concat(.8*a,"px sans-serif"),scale:16*e*.8/8540,iconWidth:16*e*.8/n}}}(u,m),p=A.generateCalendar(r,a),v=n in h?h[n]:{},w=b.dateBoxArea,y=w.width,j=w.height,Z=w.startX,C=w.startY;return De.renderImage(f,o,y,j,Z,C,(function(){return function(e,t,n,i,r,a,o){var s=t.dateBox,l=t.month,c=t.divider;De.renderRoundedRect(e,s.startX,s.startY,s.width,s.height,s.radius),function(e,t,n){e.save(),e.textAlign="right",e.font=t.font,e.fillStyle=t.color,e.fillText(n,t.startX,t.startY),e.restore()}(e,t.year,n),De.renderText(e,i.toUpperCase(),l.font,l.color,l.startX,l.startY),De.drawLine(e,c.startX,c.startY,c.endX,c.endY,c.color,c.lineWidth),De.renderWeekRow(e,t.weekRow),De.renderDates(e,t.dates,a,r,i),De.renderBranding(e,t.branding),o()}(f,b,t,n,v,p,d)})),e}};function Te(e,t,n,i,r,a,o){var s=t.yearBox,l=t.dateBox;De.renderRoundedRect(e,s.startX,s.startY,s.width,s.height,s.radius),De.renderRoundedRect(e,l.startX,l.startY,l.width,l.height,l.radius),function(e,t,n,i){console.log("in render year"),e.font=t.font,e.fillStyle=t.color;var r=e.measureText(i),a=e.measureText(n),o=t.width-(r.width+a.width);e.fillText(i,t.startX,t.startY),e.fillText(n,t.startX+r.width+o,t.startY)}(e,t.year,n,i),De.renderWeekRow(e,t.weekRow),De.renderDates(e,t.dates,a,r,i),function(e,t){e.textAlign="start",function(e,t){e.beginPath(),e.roundRect(t.startX,t.startY,t.width,t.height,[t.radius]),e.fillStyle=t.color,e.fill()}(e,t);var n="Colorful Possibilities";e.textBaseline="middle",e.fillStyle="brown",e.font=t.bf;var i=e.measureText(n);e.fillText(n,t.bstx,t.bsty),e.fillStyle="black",e.font=t.bfmr;var r=" by MemoryTimeline",a=e.measureText(r);e.fillText(r,t.bstx+i.width,t.bsty);var o=D.social,s=o.Facebook,l=o.Instagram,c=o.Whatsapp;e.font=t.bfr;var d=e.measureText(s.text),h=(t.contentWidth-(i.width+a.width+t.lineWidth+t.iconWidth+d.width))/2,g=(t.contentHeight-3*t.iconWidth)/2;console.log("branding gap",h,g,t);var x=t.bssy,u=t.bley,m=t.linecolor,f=t.lineWidth,b=t.scale,p=t.bfr,v=t.bstx+i.width+a.width+h;De.drawLine(e,v,x,v,u,m,f);var w=v+f+h;e.textBaseline="ideographic",De.socialBrand(e,b,s,p,w,x,w+t.iconWidth,x+t.iconWidth),De.socialBrand(e,b,l,p,w,t.bssy+t.iconWidth+g,w+t.iconWidth,t.bssy+2*t.iconWidth+g),e.textBaseline="alphabetic",De.socialBrand(e,b,c,p,w,t.bssy+2*t.iconWidth+2*g,w+t.iconWidth,t.bssy+3*t.iconWidth+2*g)}(e,t.branding),o()}var Ye={generateImage:function(e,t,n,r,a,o){var s=A.getCanvasDimensions(n,r,t,a),l=(0,i.Z)(s,2),c=l[0],d=l[1],h=De.initialize(e,c,d);return t&&De.renderImage(h,t,c,d,0,0,o),e},generateDates:function(e,t,n,r,a,o,s,l,c,d,h){var g=A.getCanvasDimensions(s,l,{width:o.width,height:o.height},c),x=(0,i.Z)(g,2),u=x[0],m=x[1],f=De.initialize(e,u,m),b=function(e,t){var n=D.landscape,i=n.yearBoxHeightFraction,r=n.dateBoxHeightFraction;console.log("in get config",e,t);var a=301.98,o=8*e/a,s=10*e/a,l=16*e/a,c=t,d="rgba(255,255,255,0.8)",h={width:e,height:t,startX:0,startY:0,endX:e,endY:t,bgcolor:"white"},g={width:e-4*o,height:(h.height-4*o)*i,startX:2*o,startY:h.startY+2*o,radius:s,color:d,marginBottom:8*e/a},x={startX:g.startX+2*o,startY:g.startY+2*o+2*l*1.5/2,color:"green",font:"bold ".concat(2*l,"px sans-serif"),width:g.width-4*o},u={width:e-4*o,height:(h.height-4*o)*r,startX:2*o,startY:h.startY+2*o+g.height+g.marginBottom,radius:s,color:d},m={letters:["S","M","T","W","T","F","S"],letterWidth:20*e*.9/a,startX:4*o,startY:u.startY+2*o+.9*l,endX:e-4*o,width:e-8*o,font:"bold ".concat(.9*l,"px sans-serif")},f={letters:["S","M","T","W","T","F","S"],letterWidth:16*e*.8/a,letterHeight:.8*l*1.5,startX:4*o,startY:m.startY+.9*l*.5+.8*l,endX:e-4*o,width:e-8*o,height:u.height-(m.startY-u.startY),font:"bold ".concat(.8*l,"px sans-serif"),scale:16*e*.8/6039.6,iconWidth:16*e*.8/a};return{dateBoxArea:h,yearBox:g,dateBox:u,branding:{startX:2*o,startY:0+4*o+.85*(c-4*o),width:e-4*o,height:.1*(t-4*o),radius:5*e/a,bf:"bold ".concat(.6*l,"px KaushanScript"),bfmr:"bold ".concat(.5*l,"px sans-serif"),bfr:"bold ".concat(.4*l,"px sans-serif"),color:"rgba(255,255,255,1)",bstx:4*o,bsty:0+4*o+.85*(c-4*o)+.1*(t-4*o)/2,bssy:0+4*o+.85*(c-4*o)+o,scale:6.4*e/6039.6,iconWidth:6.4*e/a,linecolor:"rgba(0, 0, 0, 0.12)",bley:0+4*o+.85*(c-4*o)+.1*(t-4*o)-o,lineWidth:2*t/(603.96/.707),contentWidth:e-8*o,contentHeight:.1*(t-4*o)-2*o},year:x,weekRow:m,dates:f}}(u,m),p=A.generateCalendar(r,a),v=n in h?h[n]:{},w=b.dateBoxArea,y=w.width,j=w.height,Z=w.startX,C=w.startY;return De.renderImage(f,o,y,j,Z,C,(function(){return Te(f,b,t,n,v,p,d)})),e}},Re=function(e,t,n,i,r,a,o,s,l,c,d,h){var g=n.findIndex((function(e){return e[0]===Y.monthList[t]})),x=s.findIndex((function(e){return e[0]===Y.monthList[t]})),u=n[g][1],m=s[x][1],f=u.toDataURL("image/jpeg",1),b=m.toDataURL("image/jpeg",1);e.addImage(f,a,o,i,r),e.addImage(b,d,h,l,c)},Ae={generateImage:function(e,t,n,i,r,a){var o=Y.monthCanvas[r],s=o.width,l=o.height,c=Y.maxCanvasWidth;if(console.log("I am in contextual generate",t,c),"potrait"===n){var d=D.potrait,h=d.imageHeightFraction,g=d.bindingHeightFraction;He.generateImage(e,t,s,"none"===i?l*h:l*(h-g),c,a)}if("landscape"===n){var x=D.landscape,u=x.imageWidthFraction,m=x.bindingHeightFraction;Ye.generateImage(e,t,l*u,"none"===i?s:s*(1-m),c,a)}},generateDates:function(e,t,n,i,r,a,o,s){var l=Y.year,c=Y.monthCanvas[a],d=c.width,h=c.height,g=c.maxCanvasWidth,x=Y.months[t],u=x.days,m=x.firstDay;if("potrait"===i){var f=D.potrait.dateHeightFraction;He.generateDates(e,l,t,u,m,n,d,h*f,g,o,s)}if("landscape"===i){var b=D.landscape,p=b.dateWidthFraction,v=b.bindingHeightFraction;Ye.generateDates(e,l,t,u,m,n,h*p,"none"===r?d:d*(1-v),g,o,s)}},drawSheet:function(e,t,n,i,r,a,o){var s=Y.monthCanvas[r],l=s.printWidth,c=s.printHeight;if("potrait"===o){var d=D.potrait,h=d.imageHeightFraction,g=d.bindingHeightFraction,x=d.dateHeightFraction;Re(e,t,n,l,"none"===a?c*h:c*(h-g),0,"none"===a?0:c*g,i,l,c*x,0,c*h)}if("landscape"===o){var u=D.landscape,m=u.imageWidthFraction,f=u.bindingHeightFraction,b=u.dateWidthFraction;Re(e,t,n,c*m,"none"===a?l:l*(1-f),0,"none"===a?0:l*f,i,c*b,"none"===a?l:l*(1-f),c*m,"none"===a?0:l*f)}}},Xe={config:D,generateImage:Ae.generateImage,generateDates:Ae.generateDates,drawSheet:Ae.drawSheet,totalImageRenderCount:24,Year:(0,r.memo)(Ce)},Be={specialDates:{December:{9:"Birthday"}},icons:{cake:{color:"#FF5B61",path:"M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2m4.6 9.99-1.07-1.07-1.08 1.07c-1.3 1.3-3.58 1.31-4.89 0l-1.07-1.07-1.09 1.07C6.75 16.64 5.88 17 4.96 17c-.73 0-1.4-.23-1.96-.61V21c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-4.61c-.56.38-1.23.61-1.96.61-.92 0-1.79-.36-2.44-1.01M18 9h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v1.54c0 1.08.88 1.96 1.96 1.96.52 0 1.02-.2 1.38-.57l2.14-2.13 2.13 2.13c.74.74 2.03.74 2.77 0l2.14-2.13 2.13 2.13c.37.37.86.57 1.38.57 1.08 0 1.96-.88 1.96-1.96V12C21 10.34 19.66 9 18 9"},favorite:{color:"red",path:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"},home:{color:"#5F9EA0",path:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}},aspectRatio:.707,potrait:{defaultMonthWidth:427,imageHeightFraction:.6,dateHeightFraction:.4,brandingHeightFraction:.075,bindingHeightFraction:.05},landscape:{defaultMonthWidth:603.96,imageWidthFraction:.5,dateWidthFraction:.5,brandingHeightFraction:.1,bindingHeightFraction:.070722,yearBoxHeightFraction:.15,dateBoxHeightFraction:.7},smallScreenWidthFraction:.95,backgroundColor:"rgba(255,255,255,0.8)",branding:{brandText:"Colorful Possibilities",companyText:"by MemoryTimeline"},social:{Facebook:{path:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z",Icon:k.Z,color:"#4267B2",text:"colorfulpossibilities"},Instagram:{path:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z",Icon:z.Z,color:"#E1306C",text:"colorfulpossibilities"},Whatsapp:{path:"M16.75 13.96c.25.13.41.2.46.3.06.11.04.61-.21 1.18-.2.56-1.24 1.1-1.7 1.12-.46.02-.47.36-2.96-.73-2.49-1.09-3.99-3.75-4.11-3.92-.12-.17-.96-1.38-.92-2.61.05-1.22.69-1.8.95-2.04.24-.26.51-.29.68-.26h.47c.15 0 .36-.06.55.45l.69 1.87c.06.13.1.28.01.44l-.27.41-.39.42c-.12.12-.26.25-.12.5.12.26.62 1.09 1.32 1.78.91.88 1.71 1.17 1.95 1.3.24.14.39.12.54-.04l.81-.94c.19-.25.35-.19.58-.11l1.67.88M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10c-1.97 0-3.8-.57-5.35-1.55L2 22l1.55-4.65A9.969 9.969 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 1.72.54 3.31 1.46 4.61L4.5 19.5l2.89-.96A7.95 7.95 0 0 0 12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8z",Icon:F.Z,color:"#128C7E",text:"7975218926"}},months:{January:{color:"#afd3ee"},February:{color:"#febc9c"},March:{color:"#d1817b"},April:{color:"#7f836c"},May:{color:"#d59a54"},June:{color:"#9ed6fc"},July:{color:"#262c3c"},August:{color:"#dc3b6c"},September:{color:"#88896a"},October:{color:"#d9d5ca"},November:{color:"#909b5e"},December:{color:"#fd7925"}}};function Ee(e){var t=e.text,n=e.color;return(0,L.jsx)(X.Z,{sx:{fontSize:{xs:"0.75rem",sm:"0.9rem"},color:{color:n},minWidth:"20px",textAlign:"center",fontFamily:"Pacifico, serif"},children:t})}function Me(){return(0,L.jsxs)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,L.jsx)(Ee,{text:"S",color:"#FF5B61"}),(0,L.jsx)(Ee,{text:"M",color:"black"}),(0,L.jsx)(Ee,{text:"T",color:"black"}),(0,L.jsx)(Ee,{text:"W",color:"black"}),(0,L.jsx)(Ee,{text:"T",color:"black"}),(0,L.jsx)(Ee,{text:"F",color:"black"}),(0,L.jsx)(Ee,{text:"S",color:"black"})]})}function Pe(e){var t=e.days,n=e.firstDay,i=e.specialDates,r=Be.icons,a=r.cake,o=r.favorite,s=r.home,l=A.generateCalendar(t,n);return(0,L.jsx)(g.Z,{direction:"column",alignItems:"space-between",justifyContent:"space-between",sx:{height:"100%",boxSizing:"border-box"},children:l.map((function(e){return(0,L.jsx)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:e.map((function(e,t){if(e in i){if("Birthday"===i[e])return(0,L.jsx)(g.Z,{direction:"row",justifyContent:"center",sx:{width:"20px"},children:(0,L.jsx)(B.Z,{sx:{color:a.color,fontSize:"1rem"}})});if("Anniversary"===i[e])return(0,L.jsx)(g.Z,{direction:"row",justifyContent:"center",sx:{width:"20px"},children:(0,L.jsx)(E.Z,{sx:{color:o.color,fontSize:"1rem"}})});if("Home"===i[e])return(0,L.jsx)(g.Z,{direction:"row",justifyContent:"center",sx:{width:"20px"},children:(0,L.jsx)(M.Z,{sx:{color:s.color,fontSize:"1rem"}})});if("Other"===i[e])return(0,L.jsx)(X.Z,{sx:{fontSize:"0.8rem",color:"brown",fontWeight:"bold",textAlign:"center",minWidth:"20px",fontFamily:"Pacifico, serif"},children:0===e?" ":e},"".concat(t+2).concat(e))}return(0,L.jsx)(X.Z,{sx:{fontSize:{xs:"0.65rem",sm:"0.8rem"},color:0===t?"#FF5B61":"black",textAlign:"center",minWidth:"20px",fontFamily:"Pacifico, serif"},children:0===e?" ":e},"".concat(t).concat(e))}))},e)}))})}function Le(e){var t=e.year,n=e.month,i=e.days,r=e.firstDay,a=e.color,o=Be.specialDates;return console.log("date box",o),(0,L.jsxs)(g.Z,{sx:{height:"95%",width:"100%",backgroundSize:"cover",borderRadius:"10px",backgroundColor:Be.backgroundColor,p:2,boxSizing:"border-box"},children:[(0,L.jsxs)(g.Z,{direction:"row",alignItems:"center",justifyContent:"center",spacing:2,children:[(0,L.jsx)(X.Z,{sx:{fontSize:{xs:"0.85rem",sm:"1rem"},fontFamily:"Pacifico, serif"},children:n}),(0,L.jsx)(X.Z,{sx:{fontSize:{xs:"0.85rem",sm:"1rem"},fontWeight:"bold",fontFamily:"Pacifico, serif"},children:t})]}),(0,L.jsx)(d.Z,{sx:{mb:1,borderWidth:1}}),(0,L.jsx)(Me,{}),(0,L.jsx)(Pe,{days:i,firstDay:r,specialDates:n in o?o[n]:{},color:a})]})}var Oe=(0,r.memo)(Le);function Je(e){var t=e.Icon,n=e.text,i=e.color;return(0,L.jsxs)(X.Z,{sx:{display:"flex",alignItems:"center",fontSize:{xs:"0.35rem",sm:"0.4rem"},color:i,fontWeight:"bold"},children:[(0,L.jsx)(t,{sx:{fontSize:{xs:"0.4rem",sm:"0.5rem"},color:i}}),"\xa0",n]})}function Ve(){var e=Be.social,t=e.Facebook,n=e.Instagram,i=e.Whatsapp;return console.log("potrait branding icons",t.Icon,n.Icon,i.Icon),(0,L.jsxs)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{height:"100%",width:"100%"},children:[(0,L.jsxs)(g.Z,{direction:"row",alignItems:"baseline",children:[(0,L.jsx)(X.Z,{sx:{display:"flex",alignItems:"flex-start",fontFamily:"KaushanScript",fontSize:{xs:"0.35rem",sm:"0.4rem"},color:"brown"},children:"Colorful Possibilities"}),(0,L.jsx)(X.Z,{sx:{display:"flex",alignItems:"center",fontSize:{xs:"0.35rem",sm:"0.4rem"},color:"black",fontWeight:"bold"},children:"\xa0\xa0by MemoryTimeline"})]}),(0,L.jsx)(Je,{Icon:t.Icon,color:t.color,text:t.text}),(0,L.jsx)(Je,{Icon:n.Icon,color:n.color,text:n.text}),(0,L.jsx)(Je,{Icon:i.Icon,color:i.color,text:i.text})]})}function Ue(e){var t=e.image,n=e.year,i=e.name,a=e.days,o=e.firstDay,s=e.handleChange,l=e.handleImageEdit,c=e.bgColor,d=e.width,h=e.height,x=e.binding,u=(0,r.useRef)(null);console.log("month contents",n,a,o,i);var m=Be.potrait,f=m.imageHeightFraction,b=m.dateHeightFraction,p=m.bindingHeightFraction,v=m.brandingHeightFraction;return console.log("month contents input ref",u,x),(0,L.jsxs)(U.Z,{component:"div",width:"100%",height:"100%",sx:{position:"relative",zIndex:"auto"},children:["none"===x?null:(0,L.jsxs)(g.Z,{direction:"row",justifyContent:"space-around",alignItems:"center",sx:{width:"100%",height:h*p,position:"absolute",backgroundColor:"rgba(255, 255,255, 0.6)"},children:[(0,L.jsx)(ge.Z,{fontSize:"5px"}),(0,L.jsx)(ge.Z,{fontSize:"5px"}),(0,L.jsx)(ge.Z,{fontSize:"5px"}),(0,L.jsx)(ge.Z,{fontSize:"5px"}),(0,L.jsx)(ge.Z,{fontSize:"5px"}),(0,L.jsx)(ge.Z,{fontSize:"5px"}),(0,L.jsx)(ge.Z,{fontSize:"5px"})]}),(0,L.jsxs)(U.Z,{width:"100%",height:"none"===x?h*f:h*(f-p),sx:{position:"absolute",top:"none"===x?0:h*p},children:[(0,L.jsx)(ae,{month:i,handleChange:s,ref:u}),"src"in t?(0,L.jsx)(ee,{scale:1,image:t,width:d,height:"none"===x?h*f:h*(f-p),onImageChange:l,onImageReady:l,handleImageChange:function(){u.current&&u.current.click()}}):null]}),(0,L.jsxs)(U.Z,{width:d,height:h*b,sx:{p:2,mt:0,mb:0,boxSizing:"border-box",position:"absolute",top:h*f,backgroundColor:c,backgroundSize:"cover",backgroundPositon:"center"},children:[(0,L.jsx)(Oe,{year:n,month:i,days:a,firstDay:o,width:"100%",height:"100%",color:c}),(0,L.jsx)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{height:h*b*v,width:"100%",backgroundSize:"cover",borderRadius:"5px",backgroundColor:"white",px:2,py:.15,mt:.3,boxSizing:"border-box"},children:(0,L.jsx)(Ve,{})})]})]})}Je.defaultProps={text:"",Icon:""};var Ge=(0,r.memo)(Ue),Ke=n(3813);function Ne(e){var t=e.year,n=e.month,i=e.days,r=e.firstDay,a=Be.specialDates;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(g.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{width:"100%",height:"15%",backgroundSize:"cover",borderRadius:"10px",backgroundColor:Be.backgroundColor,p:2,mb:1,boxSizing:"border-box"},children:[(0,L.jsx)(X.Z,{sx:{fontSize:{xs:"0.85rem",sm:"2rem"},fontWeight:"bold",color:"#c53f6b"},children:"Calendar"}),(0,L.jsx)(X.Z,{sx:{fontSize:{xs:"0.85rem",sm:"2rem"},fontWeight:"bold",color:"#c53f6b"},children:t})]}),(0,L.jsxs)(g.Z,{direction:"column",alignItems:"space-around",sx:{width:"100%",height:"70%",backgroundSize:"cover",borderRadius:"10px",backgroundColor:Be.backgroundColor,p:2,boxSizing:"border-box"},children:[(0,L.jsx)(X.Z,{sx:{fontSize:{xs:"0.85rem",sm:"1.7rem"},fontWeight:"bold",color:"green",width:"100%",textAlign:"center"},children:n.toUpperCase()}),(0,L.jsx)(d.Z,{sx:{mb:1,borderWidth:1}}),(0,L.jsx)(se,{}),(0,L.jsx)(Pe,{days:i,firstDay:r,specialDates:n in a?a[n]:{}})]})]})}var qe=(0,r.memo)(Ne);function Qe(){var e=Be.social,t=e.Facebook,n=e.Instagram,i=e.Whatsapp;return(0,L.jsxs)(g.Z,{direction:"row",alignItems:"flex-start",justifyContent:"space-between",children:[(0,L.jsxs)(g.Z,{direction:"row",alignItems:"center",sx:{height:"100%"},children:[(0,L.jsx)(X.Z,{sx:{display:"flex",alignItems:"flex-start",fontFamily:"KaushanScript",fontSize:{xs:"0.35rem",sm:"0.6rem"},color:"brown"},children:"Colorful Possibilities"}),(0,L.jsx)(X.Z,{sx:{display:"flex",alignItems:"center",fontSize:{xs:"0.35rem",sm:"0.5rem"},color:"black",fontWeight:"bold"},children:"\xa0\xa0by MemoryTimeline"})]}),(0,L.jsx)(d.Z,{orientation:"vertical",flexItem:!0,sx:{borderWidth:1}}),(0,L.jsxs)(g.Z,{direction:"column",children:[(0,L.jsx)(Je,{Icon:t.Icon,color:t.color,text:t.text}),(0,L.jsx)(Je,{Icon:n.Icon,color:n.color,text:n.text}),(0,L.jsx)(Je,{Icon:i.Icon,color:i.color,text:i.text})]})]})}var $e=function(e){var t=e.image,n=e.year,i=e.name,a=e.days,o=e.firstDay,s=e.handleChange,l=e.handleImageEdit,c=e.bgImage,d=e.width,h=e.height,x=e.binding,u=(0,r.useRef)(null);console.log("month contents",n,a,o);var m=Be.landscape,f=m.imageWidthFraction,b=m.dateWidthFraction,p=m.brandingHeightFraction,v=m.bindingHeightFraction;return console.log("month contents input ref",u,x),(0,L.jsxs)(U.Z,{component:"div",width:"100%",height:"100%",sx:{position:"relative",zIndex:"auto"},children:["none"===x?null:(0,L.jsxs)(g.Z,{direction:"row",justifyContent:"space-around",alignItems:"center",sx:{width:"100%",height:h*v,position:"absolute",backgroundImage:"url(".concat(c,")"),backgroundSize:"cover"},children:[(0,L.jsx)(Ke.Z,{fontSize:"5px"}),(0,L.jsx)(Ke.Z,{fontSize:"5px"}),(0,L.jsx)(Ke.Z,{fontSize:"5px"}),(0,L.jsx)(Ke.Z,{fontSize:"5px"}),(0,L.jsx)(Ke.Z,{fontSize:"5px"}),(0,L.jsx)(Ke.Z,{fontSize:"5px"}),(0,L.jsx)(Ke.Z,{fontSize:"5px"})]}),(0,L.jsxs)(U.Z,{width:d*f,height:"none"===x?1*h:h*(1-v),sx:{position:"absolute",top:"none"===x?0:h*v},children:[(0,L.jsx)(ae,{month:i,handleChange:s,ref:u}),"src"in t?(0,L.jsx)(ee,{image:t,width:d*f,height:"none"===x?h:h*(1-v),onImageChange:l,onImageReady:l,handleImageChange:function(){u.current&&u.current.click()}}):null]}),(0,L.jsxs)(U.Z,{width:d*b,height:"none"===x?1*h:h*(1-v),sx:{p:2,mt:0,mb:0,boxSizing:"border-box",position:"absolute",left:.5*d,top:"none"===x?0:h*v,backgroundImage:"url(".concat(c,")"),backgroundSize:"cover",backgroundPosition:"center"},children:[(0,L.jsx)(qe,{year:n,month:i,days:a,firstDay:o,width:"100%",height:"100%"}),(0,L.jsx)(g.Z,{sx:{height:h*p,width:"100%",backgroundSize:"cover",borderRadius:"5px",backgroundColor:"white",px:2,py:1,mt:1,boxSizing:"border-box"},children:(0,L.jsx)(Qe,{})})]})]})};function _e(e){var t=e.year,n=e.name,a=e.days,o=e.firstDay,s=e.image,l=e.handleChange,c=e.handleImageEdit,d=e.bgColor,h=e.binding,g=e.orientation,x=(0,r.useRef)(null);console.log("month with memo",x,n);var u=Be.aspectRatio,m=Be.smallScreenWidthFraction,f=Be[g].defaultMonthWidth,b=(0,G.Z)(),p=(0,r.useState)({}),v=(0,i.Z)(p,2),w=v[0],y=v[1];return(0,r.useEffect)((function(){var e=(0,i.Z)(b,2),t=e[0],n=e[1];console.log(t,n,t>0&&t>f),y((function(){return 0===t?{}:t>f?"potrait"===g?{width:f,height:f/u}:{width:f,height:f*u}:"potrait"===g?{width:t*m,height:t*m/u}:{width:t*m,height:t*m*u}}))}),[b,g]),"width"in w?(0,L.jsx)(H.ZP,{item:!0,children:(0,L.jsx)(U.Z,{component:"div",ref:x,sm:12,md:6,lg:4,sx:{width:w.width,height:w.height,color:"black",display:"flex",position:"relative",overflow:"hidden",backgroundColor:"white"},children:"potrait"===g?(0,L.jsx)(Ge,{year:t,name:n,image:s,days:a,firstDay:o,handleChange:l,bgColor:d,handleImageEdit:c,width:w.width,height:w.height,binding:h}):(0,L.jsx)($e,{year:t,name:n,image:s,days:a,firstDay:o,handleChange:l,bgColor:d,handleImageEdit:c,width:w.width,height:w.height,binding:h})})},n):null}var et=(0,r.memo)(_e),tt=(0,r.memo)((function(e){var t=e.images,n=e.handleChange,i=e.handleEditChange,r=e.binding,a=e.orientation;return Y.monthList.map((function(e){var o=Y.months[e],s=o.days,l=o.firstDay,c=e in t?t[e]:{},d=Be.months[e].color;return console.log("Rendering month",e),(0,L.jsx)(et,{name:e,days:s,firstDay:l,year:Y.year,image:c,bgColor:d,handleChange:n,handleImageEdit:function(t){var n;if(t.current){console.log("handle image edit",t.current,t.current.getXScale(),t.current.getYScale());var r=null===(n=t.current)||void 0===n?void 0:n.getCroppingRect();i({cropWidth:r.width,cropHeight:r.height,x:r.x,y:r.y},e)}},binding:r,orientation:a},e)}))}));function nt(e){var t=e.orientation,n=e.binding,i=e.menu,r=e.size,a=e.images,o=e.handleImageChange,s=e.handleEditChange;return console.log("opts",t,n,r,i,a),(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(H.ZP,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",sx:{backgroundColor:"black",mt:0},rowSpacing:2,children:(0,L.jsx)(tt,{images:a,handleChange:o,handleEditChange:s,spacing:2,binding:n,orientation:t})})})}var it=function(e,t,n,i,r,a){e.fillStyle=n,e.save(),e.translate(r,a),e.scale(t,t),e.fill(new Path2D(i)),e.restore()};var rt=function(e,t,n,i,r,a,o,s){var l=n.color,c=n.path,d=n.text;e.fillStyle=l,e.save(),e.translate(r,a),e.scale(t,t),e.fill(new Path2D(c)),e.restore(),e.fillStyle=l,e.font=i,e.fillText(d,o,s)},at=function(e,t){!function(e,t){console.log("branding rect",t),e.beginPath(),e.roundRect(t.bsx,t.bsy,t.bw,t.bh,[t.br,t.br,t.br,t.br]),e.fillStyle=t.bc,e.fill()}(e,t),e.fillStyle="brown",e.font=t.bf;var n="Colorful Possibilities",i=e.measureText(n);e.font=t.bfr;var r=" by MemoryTimeline",a=e.measureText(r),o=i.width+a.width,s=e.measureText("colorfulpossibilities"),l=e.measureText("7975218926"),c=o+2*s.width+l.width,d=(t.bw-t.bstx-c)/3;e.textBaseline="middle",e.font=t.bf,e.fillText(n,t.bstx,t.bsty),e.font=t.bfr,e.fillStyle="black",e.fillText(r,t.bstx+a.width,t.bsty);var h=Be.social,g=h.Facebook,x=h.Instagram,u=h.Whatsapp;rt(e,t.scale,g,t.bfr,t.bstx+o+d-.5*t.bsx-.1*d,t.bsty-.3*t.bsx,t.bstx+o+d,t.bsty),rt(e,t.scale,x,t.bfr,t.bstx+o+s.width+2*d-.5*t.bsx-.1*d,t.bsty-.3*t.bsx,t.bstx+o+s.width+2*d,t.bsty),rt(e,t.scale,u,t.bfr,t.bstx+o+2*s.width+3*d-.5*t.bsx-.1*d,t.bsty-.3*t.bsx,t.bstx+o+2*s.width+3*d,t.bsty)};var ot={generateImage:function(e,t,n,r,a,o){var s=De.getCanvasDimensions(n,r,t,a),l=(0,i.Z)(s,2),c=l[0],d=l[1],h=De.initialize(e,c,d);return console.log("canvas dimensions",c,d,t.width,t.height),t&&De.renderImage(h,t,c,d,0,0,o),e},generateDates:function(e,t,n,i,r,a,o,s){var l=Be.specialDates;console.log("Inside generate dates",a,o,s,o,s);var c=De.initialize(e,o,s),d=function(e,t){console.log("in get config",e,t);var n=427,i=427/.707,r=16*e/n,a=16*e/n,o=t;return{dateBoxArea:{width:e,height:t,startX:0,startY:0,endX:e,endY:t,bgcolor:"white"},dateBox:{width:e-2*r,height:.95*o-2*r,startX:r,startY:0+r,endX:e-r,endY:.95*t-r,radius:10*e/n,color:"rgba(255,255,255,0.8)"},branding:{bsx:r,bsy:.95*t-r+1.3*t*8/i,bw:e-2*r,bh:.075*t,br:5*e/n,bf:"bold ".concat(.4*a,"px KaushanScript"),bfr:"bold ".concat(.4*a,"px sans-serif"),bc:"rgba(255,255,255,1)",bstx:2*r,bsty:.95*t-r+1.3*t*8/i+.075*t/2,scale:e/1067.5},year:{startX:e/2,startY:0+2*r+1*a,color:"black",font:"bold ".concat(1*a,"px Pacifico"),rem:a},month:{startX:e/2,startY:0+2*r+1*a,color:"black",font:"".concat(1*a,"px Pacifico")},divider:{startX:2*r,startY:0+2*r+1.5*a*1,endX:e-2*r,endY:0+2*r+1.5*a*1,color:"rgba(0, 0, 0, 0.12)",lineWidth:2},weekRow:{letters:["S","M","T","W","T","F","S"],letterWidth:20*e/427,startX:2*r,startY:0+2*r+1.5*a*1.9+2,endX:e-2*r,width:e-4*r,font:"".concat(a,"px Pacifico")},dates:{letters:["S","M","T","W","T","F","S"],letterWidth:16*e/427,letterHeight:e*a*1.5/427,startX:2*r,startY:0+2*r+1.5*a*2.8,endX:e-2*r,width:e-4*r,height:.95*o-4*r-1.5*a*1.9,font:"".concat(.9*a,"px Pacifico"),scale:16*e/8540,iconWidth:20*e/427}}}(o,s),h=function(e,t){for(var n=[],i=new Array(t).fill(0),r=1;r<=e;)i.push(r),r+=1,7===i.length&&(n.push(i),i=[]);if(i.length>0){for(;i.length<7;)i.push(0);n.push(i)}return n}(i,r);return console.log("render date area",h,c,d),function(e,t,n){var i=t.width,r=t.height,a=t.startX,o=t.startY;e.fillStyle=n,e.fillRect(a,o,i,r)}(c,d.dateBoxArea,a),console.log("render date box area callback"),function(e,t){console.log("in render date box"),e.beginPath(),e.roundRect(t.startX,t.startY,t.width,t.height,[t.radius]),e.fillStyle=t.color,e.fill()}(c,d.dateBox),function(e,t,n){console.log("in render year",t),e.font=t.font,e.fillStyle=t.color,e.fillStyle=t.color,e.textAlign="left";var i=e.measureText("a");e.fillText(n,t.startX+2*i.width,t.startY),e.textAlign="start"}(c,d.year,t),function(e,t,n){e.font=t.font,e.fillStyle=t.color,e.textAlign="right",e.fillText(n,t.startX,t.startY),e.textAlign="start"}(c,d.month,n),function(e,t){De.drawLine(e,t.startX,t.startY,t.endX,t.endY,t.color,t.lineWidth)}(c,d.divider),function(e,t){e.font=t.font;var n=(t.width-7*t.letterWidth)/6;t.letters.forEach((function(i,r){e.fillStyle=0===r?"#FF5B61":"black";var a=e.measureText(i);e.fillText(i,t.startX+n*r+t.letterWidth*r+t.letterWidth-a.width,t.startY)}))}(c,d.weekRow),function(e,t,n,i,r){var a=t.letterHeight,o=t.letterWidth,s=t.startX,l=t.startY,c=t.scale,d=t.width,h=t.height,g=t.font,x=t.iconWidth,u=Be.icons,m=u.cake,f=u.favorite,b=u.home;e.font=g;var p=(d-7*o)/6,v=(h-n.length*a)/n.length;n.forEach((function(t,n){t.forEach((function(t,d){var h=e.measureText(0===t?" ":t),g=t<10?2*h.width:h.width,u=s+p*d+o*d+o-g,w=l+n*v+n*a-g,y=s+p*d+o*d+o-h.width,j=l+n*v+n*a;console.log("render dates",u,w,y,j,x,h.width,h),t in i?(e.fillStyle="blue","Birthday"===i[t]?(console.log("Special date ",r,t,u,w,y,j),it(e,c,m.color,m.path,u,w)):"Home"===i[t]?it(e,c,b.color,b.path,u,w):"Anniversary"===i[t]?it(e,c,f.color,f.path,u,w):"Other"===i[t]&&(e.fillStyle="brown",e.fillText(0===t?" ":t,y,j))):0===d?(e.fillStyle="#FF5B61",e.fillText(0===t?" ":t,y,j)):(e.fillStyle="black",e.fillText(0===t?" ":t,y,j))}))}))}(c,d.dates,h,n in l?l[n]:{},n),at(c,d.branding),e}};var st={generateImage:function(e,t,n,r,a,o){var s=De.getCanvasDimensions(n,r,t,a),l=(0,i.Z)(s,2),c=l[0],d=l[1],h=De.initialize(e,c,d);return t&&De.renderImage(h,t,c,d,0,0,o),e},generateDates:function(e,t,n,r,a,o,s,l,c,d){var h=new Image;return h.onload=function(h){var g=h.target,x=g.naturalWidth,u=g.naturalHeight,m=De.getCanvasDimensions(s,l,{width:x,height:u},c),f=(0,i.Z)(m,2),b=f[0],p=f[1];console.log("Inside generate dates",o,s,l,b,p);var v=De.initialize(e,b,p),w=function(e,t){var n=Be.landscape,i=n.yearBoxHeightFraction,r=n.dateBoxHeightFraction;console.log("in get config",e,t);var a=301.98,o=603.96/.707,s=8*e/a,l=10*e/a,c=16*e/a,d=t,h="rgba(255,255,255,0.8)",g={width:e,height:t,startX:0,startY:0,endX:e,endY:t,bgcolor:"white"},x={width:e-4*s,height:(g.height-4*s)*i,startX:2*s,startY:g.startY+2*s,radius:l,color:h,marginBottom:8*e/a},u={startX:x.startX+2*s,startY:x.startY+2*s+2*c*1.5/2,color:"#c53f6b",font:"bold ".concat(2*c,"px sans-serif"),width:x.width-4*s},m={width:e-4*s,height:(g.height-4*s)*r,startX:2*s,startY:g.startY+2*s+x.height+x.marginBottom,radius:l,color:h},f={startX:e/2,startY:m.startY+2*s+1.7*c,color:"green",font:"bold ".concat(1.7*c,"px sans-serif")},b={startX:4*s,startY:m.startY+2*s+1.7*c*1.5,endX:e-4*s,endY:m.startY+2*s+1.7*c*1.5,color:"rgba(0, 0, 0, 0.12)",lineWidth:2*t/o,marginBottom:8*e/a},p={letters:["S","M","T","W","T","F","S"],letterWidth:20*e/a,startX:4*s,startY:b.startY+b.marginBottom+.9*c,endX:e-4*s,width:e-8*s,font:"bold ".concat(.9*c,"px sans-serif")},v={letters:["S","M","T","W","T","F","S"],letterWidth:20*e/427,letterHeight:.8*e*c*1.5/a,startX:4*s,startY:b.startY+b.marginBottom+.9*c*1.5,endX:e-4*s,width:e-8*s,height:.7*(d-4*s)-2*s-2*s+1.7*c*1.5+8*e/a+.9*c*1.5,font:"bold ".concat(.8*c,"px sans-serif")};return{dateBoxArea:g,yearBox:x,dateBox:m,month:f,branding:{startX:2*s,startY:0+4*s+.85*(d-4*s),width:e-4*s,height:.1*(t-4*s),radius:5*e/a,bf:"bold ".concat(.4*c,"px KaushanScript"),bfr:"bold ".concat(.4*c,"px sans-serif"),color:"rgba(255,255,255,1)",bstx:2*s,bsty:t-15*t/o,scale:e/754.95},year:u,divider:b,weekRow:p,dates:v}}(b,p),y=function(e,t){for(var n=[],i=new Array(t).fill(0),r=1;r<=e;)i.push(r),r+=1,7===i.length&&(n.push(i),i=[]);if(i.length>0){for(;i.length<7;)i.push(0);n.push(i)}return n}(r,a);console.log("render date area",y,v,w),function(e,t,n,i){var r=t.width,a=t.height,o=t.startX,s=t.startY;console.log("in render date box area",t,n),De.renderImage(e,{src:n},r,a,o,s,i)}(v,w.dateBoxArea,o,(function(){console.log("render date box area callback"),function(e,t){e.beginPath(),e.roundRect(t.startX,t.startY,t.width,t.height,[t.radius]),e.fillStyle=t.color,e.fill()}(v,w.yearBox),function(e,t){console.log("in render date box"),e.beginPath(),e.roundRect(t.startX,t.startY,t.width,t.height,[t.radius]),e.fillStyle=t.color,e.fill()}(v,w.dateBox),function(e,t,n){console.log("in render year");var i=e.measureText("Calendar");e.font=t.font,e.fillStyle=t.color;var r=e.measureText(n),a=t.width-(i.width+r.width);e.fillText("Calendar",t.startX,t.startY),e.fillText(n,t.startX+i.width+a,t.startY)}(v,w.year,t),function(e,t,n){console.log("render month",n,e.textBaseline),e.font=t.font,e.fillStyle=t.color,e.textAlign="center",e.fillText(n.toUpperCase(),t.startX,t.startY)}(v,w.month,n),function(e,t){De.drawLine(e,t.startX,t.startY,t.endX,t.endY,t.color,t.lineWidth)}(v,w.divider),function(e,t){e.font=t.font;var n=(t.width-7*t.letterWidth)/6;t.letters.forEach((function(i,r){e.fillStyle=0===r||6===r?"red":"black";var a=e.measureText(i);e.fillText(i,t.startX+n*r+t.letterWidth*r+t.letterWidth-a.width,t.startY)}))}(v,w.weekRow),function(e,t,n){e.font=t.font;var i=(t.width-7*t.letterWidth)/6,r=(t.height-n.length*t.letterHeight)/n.length;n.forEach((function(n,a){n.forEach((function(n,o){e.fillStyle=0===o||6===o?"red":"black";var s=e.measureText(0===n?" ":n);e.fillText(0===n?" ":n,t.startX+i*o+t.letterWidth*o+t.letterWidth-s.width,t.startY+a*r+a*t.letterHeight)}))}))}(v,w.dates,y),function(e,t){!function(e,t){e.beginPath(),e.roundRect(t.startX,t.startY,t.width,t.height,[t.radius]),e.fillStyle=t.color,e.fill()}(e,t)}(v,w.branding),d()}))},h.src=o,e}},lt=function(e,t,n,i,r,a,o,s,l,c,d,h){var g=n.findIndex((function(e){return e[0]===Y.monthList[t]})),x=s.findIndex((function(e){return e[0]===Y.monthList[t]})),u=n[g][1],m=s[x][1],f=u.toDataURL("image/jpeg",1);e.addImage(f,a,o,i,r);var b=m.toDataURL("image/jpeg",1);e.addImage(b,d,h,l,c)},ct={config:Be,generateImage:function(e,t,n,i,r,a){var o=Y.monthCanvas[r],s=o.width,l=o.height,c=o.maxCanvasWidth;if("potrait"===n){var d=Be.potrait,h=d.imageHeightFraction,g=d.bindingHeightFraction;ot.generateImage(e,t,s,"none"===i?l*h:l*(h-g),c,a)}if("landscape"===n){var x=Be.landscape,u=x.imageWidthFraction,m=x.bindingHeightFraction;st.generateImage(e,t,l*u,"none"===i?s:s*(1-m),c,a)}},generateDates:function(e,t,n,i,r,a){var o=Y.year,s=Y.monthCanvas[a],l=s.width,c=s.height,d=Y.months[t],h=d.days,g=d.firstDay;if("potrait"===i){var x=Be.potrait.dateHeightFraction;ot.generateDates(e,o,t,h,g,n,l,c*x)}if("landscape"===i){var u=Be.landscape,m=u.dateWidthFraction,f=u.bindingHeightFraction;st.generateDates(e,o,t,h,g,n,c*m,"none"===r?l:l*(1-f))}},drawSheet:function(e,t,n,i,r,a,o){var s=Y.monthCanvas[r],l=s.printWidth,c=s.printHeight;if("potrait"===o){var d=Be.potrait,h=d.imageHeightFraction,g=d.bindingHeightFraction,x=d.dateHeightFraction;lt(e,t,n,l,"none"===a?c*h:c*(h-g),0,"none"===a?0:c*g,i,l,c*x,0,c*h)}if("landscape"===o){var u=Be.landscape,m=u.imageWidthFraction,f=u.bindingHeightFraction,b=u.dateWidthFraction;lt(e,t,n,c*m,"none"===a?l:l*(1-f),0,"none"===a?0:l*f,i,c*b,"none"===a?l:l*(1-f),c*m,"none"===a?0:l*f)}},totalImageRenderCount:12,Year:(0,r.memo)(nt)},dt={contextual:Xe,color:ct},ht=n(35508),gt=n(4942);function xt(){var e=(0,r.useState)([]),t=(0,i.Z)(e,2),n=t[0],a=t[1],o=(0,r.useCallback)((function(e,t){console.log("handle change",e,t),a((function(n){return(0,V.Z)((0,V.Z)({},n),{},(0,gt.Z)({},t,e))}))}),[]),s=(0,r.useCallback)((function(e,t){var i=n[t];a((function(n){return(0,V.Z)((0,V.Z)({},n),{},(0,gt.Z)({},t,(0,V.Z)((0,V.Z)({},i),e)))}))}));return[n,o,s]}var ut=n(93433);function mt(){var e=(0,r.useState)([]),t=(0,i.Z)(e,2),n=t[0],a=t[1];return[n,function(e,t){return a((function(n){return 0===n.length?[[e,t]]:[].concat((0,ut.Z)(n),[[e,t]])}))},function(){return a([])}]}var ft=n(45987),bt=n(49142);function pt(){var e=(0,r.useState)({January:{},February:{},March:{},April:{},May:{},June:{},July:{},August:{},September:{},October:{},November:{},December:{}}),t=(0,i.Z)(e,2),n=t[0],a=t[1];return[n,function(e,t,i){a((function(r){var a=(0,V.Z)((0,V.Z)({},r[e]),{},(0,gt.Z)({},t,i));return console.log("in add date",(0,V.Z)((0,V.Z)({},n),{},(0,gt.Z)({},e,a))),(0,V.Z)((0,V.Z)({},n),{},(0,gt.Z)({},e,a))}))},function(e,t){var i=n[e],r=(i[t],(0,ft.Z)(i,[t].map(bt.Z)));console.log("in remove date",e,t,(0,V.Z)((0,V.Z)({},n),{},(0,gt.Z)({},e,r))),a((0,V.Z)((0,V.Z)({},n),{},(0,gt.Z)({},e,r)))}]}var vt=n(72429),wt=n(23306),yt=n(51405),jt=n(1550),Zt=n(24256),Ct=n(83213),St=n(74748);function It(e){var t=e.label,n=e.value,i=e.options,r=e.handleChange,a=e.disabled;return(0,L.jsxs)(jt.Z,{variant:"standard",sx:{minWidth:{xs:68,sm:50,md:100},mr:1},size:"small",children:[(0,L.jsx)(wt.Z,{id:"demo-simple-select-label",children:t}),(0,L.jsx)(Zt.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",autoWidth:!0,value:n,label:t,onChange:function(e){return r(e.target.value)},sx:{fontSize:"0.9rem",maxHeight:"100px"},MenuProps:{sx:{maxHeight:"300px"}},disabled:a,children:i.map((function(e){return(0,L.jsx)(yt.Z,{value:e.value,children:(0,L.jsxs)(g.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.icon?(0,L.jsx)(St.Z,{children:e.icon}):null,(0,L.jsx)(Ct.Z,{children:e.label})]})},e.value)}))})]})}It.defaultProps={disabled:!1};var Wt=n(75930),kt=n(98481);function zt(e){var t=e.handleOpen,n=e.addDate,o=Y.monthList,l=Y.months,c=(0,r.useState)(""),x=(0,i.Z)(c,2),u=x[0],m=x[1],f=(0,r.useState)(""),p=(0,i.Z)(f,2),v=p[0],w=p[1],y=(0,r.useState)(""),j=(0,i.Z)(y,2),Z=j[0],C=j[1],S=o.map((function(e){return{label:e,value:e}})),I=[{value:"Birthday",label:"Birthday",icon:(0,L.jsx)(B.Z,{sx:{color:"#FF5B61"}})},{value:"Anniversary",label:"Anniversary",icon:(0,L.jsx)(E.Z,{sx:{color:"red"}})},{value:"Home",label:"Home",icon:(0,L.jsx)(M.Z,{sx:{color:"#5F9EA0"}})},{value:"Travel",label:"Travel",icon:(0,L.jsx)(Wt.Z,{sx:{color:"blue"}})},{value:"Other",label:"Other",icon:(0,L.jsx)(kt.Z,{sx:{color:"brown"}})}],W=[];if(""!==u)for(var k=l[u].days,z=1;z<=k;z+=1)W.push({label:z,value:z});return(0,L.jsxs)(a.Z,{fullWidth:!0,sx:{mb:1},children:[(0,L.jsx)(s.Z,{title:"Add Special Dates",sx:{color:"gray"},action:(0,L.jsx)(vt.Z,{handleClose:function(){return t(!1)}})}),(0,L.jsx)(d.Z,{}),(0,L.jsx)(h.Z,{children:(0,L.jsxs)(g.Z,{direction:"row",sx:{p:2},justifyContent:"space-around",children:[(0,L.jsx)(It,{label:"Month",value:u,options:S,handleChange:m}),(0,L.jsx)(It,{label:"Date",value:v,options:W,handleChange:w,disabled:!u}),(0,L.jsx)(It,{label:"Type",value:Z,options:I,handleChange:C,disabled:!v}),(0,L.jsx)(b.Z,{disabled:!(u&&v&&Z),variant:"outlined",onClick:function(){n(u,v,Z),m(""),w(""),C("")},children:"Add"})]})})]})}var Ft=n(57861),Dt=n(67478),Ht=n(23477),Tt=n(66835),Yt=n(11198),Rt={Birthday:(0,L.jsx)(B.Z,{sx:{color:"#FF5B61"}}),Anniversary:(0,L.jsx)(E.Z,{sx:{color:"red"}}),Home:(0,L.jsx)(M.Z,{sx:{color:"#5F9EA0"}}),Travel:(0,L.jsx)(Wt.Z,{sx:{color:"blue"}}),Other:(0,L.jsx)(kt.Z,{sx:{color:"brown"}})};function At(e){var t=e.date,n=e.type,i=e.handleRemove;return(0,L.jsxs)(Ft.Z,{children:[(0,L.jsx)(Dt.Z,{align:"right",children:t}),(0,L.jsxs)(Dt.Z,{align:"right",children:[n," "]}),(0,L.jsx)(Dt.Z,{align:"right",children:Rt[n]}),(0,L.jsx)(Dt.Z,{align:"right",children:(0,L.jsx)($.Z,{onClick:i,children:(0,L.jsx)(Yt.Z,{})})})]})}function Xt(e){var t=e.label;return(0,L.jsx)(Dt.Z,{align:"right",sx:{fontWeight:"bold",color:"gray"},children:t})}function Bt(){return(0,L.jsxs)(Ht.Z,{children:[(0,L.jsx)(Xt,{label:"Date"},"Date"),(0,L.jsx)(Xt,{label:"Type"},"Type"),(0,L.jsx)(Xt,{label:"Icon"},"Icon"),(0,L.jsx)(Xt,{label:"Remove"},"Remove")]})}function Et(e){var t=e.dates,n=e.removeDate,i=Y.monthList.map((function(e){return Object.keys(t[e]).length>0?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(X.Z,{variant:"h6",sx:{textAlign:"center",fontWeight:"bold",p:1},children:e},e),(0,L.jsxs)(Tt.Z,{size:"small",children:[(0,L.jsx)(Bt,{}),Object.keys(t[e]).map((function(i){return(0,L.jsx)(At,{date:i,type:t[e][i],handleRemove:function(){return n(e,i)}})}))]})]}):null}));console.log("Dates dialog",i,i.length);var r=i.filter((function(e){return!!e}));return r.length>0?(0,L.jsxs)(a.Z,{fullWidth:!0,sx:{maxHeight:"500px",overflowY:"scroll",scrollbarWidth:"none"},children:[(0,L.jsx)(s.Z,{title:"Added Dates"}),(0,L.jsx)(d.Z,{}),(0,L.jsx)(h.Z,{children:r})]}):null}function Mt(e){var t=e.open,n=e.handleOpen,i=e.dates,r=e.addDate,a=e.removeDate;return console.log("Dates dialog",i,r,a),(0,L.jsxs)(c.Z,{fullWidth:!0,open:t,PaperProps:{sx:{backgroundColor:"transparent"},elevation:0},children:[(0,L.jsx)(zt,{handleOpen:n,addDate:r}),(0,L.jsx)(Et,{dates:i,removeDate:a})]})}var Pt=[{label:"Contextual",value:"contextual"},{label:"Contextual Landscape",value:"contextuallandscape"},{label:"Color",value:"color"}],Lt=[{label:"Potrait",value:"potrait"},{label:"Landscape",value:"landscape"}],Ot=[{label:"Wire-o",value:"wireo"},{label:"None",value:"none"}],Jt=[{label:"Large",value:"A3"},{label:"Standard",value:"A5"},{label:"Small",value:"A7"}];function Vt(e){var t=e.options,n=e.setOptions,i=e.handleDatesClick,r=t.theme,a=t.orientation,o=t.binding,s=t.size;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(It,{label:"Theme",value:r,options:Pt,handleChange:function(e){return n((function(t){return(0,V.Z)((0,V.Z)({},t),{},{theme:e})}))}}),(0,L.jsx)(It,{label:"Orientation",value:a,options:Lt,handleChange:function(e){return n((function(t){return(0,V.Z)((0,V.Z)({},t),{},{orientation:e})}))}}),(0,L.jsx)(It,{label:"Binding",value:o,options:Ot,handleChange:function(e){return n((function(t){return(0,V.Z)((0,V.Z)({},t),{},{binding:e})}))}}),(0,L.jsx)(It,{label:"Size",value:s,options:Jt,handleChange:function(e){return n((function(t){return(0,V.Z)((0,V.Z)({},t),{},{size:e})}))}}),(0,L.jsx)(b.Z,{onClick:i,children:"Dates"})]})}function Ut(){var e=function(){var e=(0,r.useState)(0),t=(0,i.Z)(e,2),n=t[0],a=t[1],o=mt(),s=(0,i.Z)(o,3),l=s[0],c=s[1],d=s[2],h=mt(),g=(0,i.Z)(h,3),x=g[0],u=g[1],m=g[2],f=xt(),b=(0,i.Z)(f,3),p=b[0],v=b[1],w=b[2],y=xt(),j=(0,i.Z)(y,2),Z=j[0],C=j[1],S=(0,r.useState)({theme:"contextual",orientation:"landscape",binding:"none",size:"A5"}),I=(0,i.Z)(S,2),W=I[0],k=I[1],z=pt(),F=(0,i.Z)(z,3),D=F[0],H=F[1],T=F[2],R=W.theme,X=W.orientation,B=W.binding,E=W.size,M=function(){return a((function(e){return e+1}))},P=Y.monthCanvas[E],L=P.printWidth,O=P.printHeight,J=dt[R],U=J.generateImage,G=J.generateDates,K=J.drawSheet,N=J.totalImageRenderCount;(0,r.useEffect)((function(){Object.entries(dt[R].config.months).forEach((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1],a=new Image;a.onload=function(e){var t=e.target,i=t.naturalWidth,o=t.naturalHeight,s=(0,V.Z)((0,V.Z)({},A.getImageDets({src:r.image},i,o,a)),{},{elem:a});C(s,n)},a.src=r.image}))}),[R]);var q=function(){var e="potrait"===X?{orientation:"p",unit:"in",format:[L,O]}:{orientation:"l",unit:"in",format:[O,L]},t=new ht.kH(e);console.time("timer draw sheet loop");for(var n=0;n<Y.monthList.length;n+=1)n>0&&t.addPage(e),K(t,n,l,x,E,B,X);console.timeEnd("timer draw sheet loop"),t.save("tc-".concat(W.size,"-").concat(W.binding,".pdf")),m(),d()};return(0,r.useEffect)((function(){n===N&&(console.timeEnd("timer generate"),a(0),console.time("timer download"),q(),console.timeEnd("timer download"))}),[n,q]),[W,k,D,H,T,v,w,function(){console.time("timer generate"),a(0),d(),m(),Y.monthList.forEach((function(e){var t=document.createElement("canvas"),n=document.createElement("canvas");if(c(e,t),u(e,n),U(t,p[e],X,B,E,M),console.log("generate log1",e,new Date),"color"===R){var i=dt[R].config.months[e].color;G(n,e,i,X,B,E)}else G(n,e,Z[e],X,B,E,M,D)}))},Z,C]}(),t=(0,i.Z)(e,8),n=t[0],a=t[1],o=t[2],s=t[3],l=t[4],c=t[5],d=t[6],h=t[7],g=n.theme,x=n.orientation,u=n.binding,p=dt[g].Year,v=(0,r.useState)(!1),w=(0,i.Z)(v,2),y=w[0],j=w[1];return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(m.Z,{position:"static",sx:{backgroundColor:"transparent",py:.5,borderTop:"1px solid gray"},children:(0,L.jsxs)(f.Z,{variant:"dense",sx:{justifyContent:"center"},children:[(0,L.jsx)(Vt,{options:n,setOptions:a,handleDatesClick:function(){return j(!0)}}),(0,L.jsx)(b.Z,{onClick:h,children:"View Cal"})]})}),g?(0,L.jsx)(p,{binding:u,orientation:x,specialDates:o,handleImageChange:c,handleEditChange:d}):null,(0,L.jsx)(Mt,{open:y,handleOpen:j,dates:o,addDate:s,removeDate:l})]})}function Gt(e){var t=e.text,n=e.color;return(0,L.jsx)(X.Z,{sx:{fontSize:{sm:"0.5rem"},color:{color:n},fontWeight:"bold",minWidth:"10px",textAlign:"center"},children:t})}function Kt(){return(0,L.jsxs)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{pb:0},children:[(0,L.jsx)(Gt,{text:"S",color:"red"}),(0,L.jsx)(Gt,{text:"M",color:"black"}),(0,L.jsx)(Gt,{text:"T",color:"black"}),(0,L.jsx)(Gt,{text:"W",color:"black"}),(0,L.jsx)(Gt,{text:"T",color:"black"}),(0,L.jsx)(Gt,{text:"F",color:"black"}),(0,L.jsx)(Gt,{text:"S",color:"red"})]})}function Nt(e){var t=e.days,n=e.firstDay,i=e.specialDates,r=A.generateCalendar(t,n);return console.log("dates grid",r,i),(0,L.jsx)(g.Z,{direction:"column",alignItems:"space-between",justifyContent:"space-between",sx:{height:"100%",boxSizing:"border-box"},children:r.map((function(e){return(0,L.jsx)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:e.map((function(e,t){return e in i?(0,L.jsx)(O,{day:e,type:i[e],iconWidth:10,size:.4}):(0,L.jsx)(X.Z,{sx:{fontSize:{xs:"0.65rem",sm:"0.4rem"},color:0===t||6===t?"red":"black",fontWeight:"bold",textAlign:"center",minWidth:"10px"},children:0===e?" ":e},"".concat(t).concat(e))}))},e)}))})}function qt(e){var t=e.width,n=e.height,i=e.month,r=e.days,a=e.firstDay,o=e.specialDates;return console.log("wall date box",r,a),(0,L.jsxs)(g.Z,{sx:{px:1,pb:.5,pt:.5,height:{height:n},width:{width:t},backgroundSize:"cover",backgroundColor:"white",boxSizing:"border-box",borderRadius:"5px"},children:[(0,L.jsx)(g.Z,{direction:"row",alignItems:"flex-start",justifyContent:"center",children:(0,L.jsx)(X.Z,{sx:{fontSize:{xs:"0.85rem",sm:"0.65rem"},fontWeight:"bold",color:"green",lineHeight:1},children:i.toUpperCase()})}),(0,L.jsx)(d.Z,{}),(0,L.jsx)(Kt,{}),(0,L.jsx)(Nt,{days:r,firstDay:a,specialDates:o})]})}function Qt(e){var t=e.image,n=e.width,i=e.height,a=e.handleChange,o=e.handleImageEdit,s=(0,r.useRef)(null);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(X.Z,{sx:{position:"absolute",top:10,left:10,p:1,px:2,backgroundColor:"rgba(255,255,255, 0.8)",borderRadius:"10px",fontWeight:"bold",zIndex:3},children:"2025"}),(0,L.jsxs)(U.Z,{width:"100%",height:i,sx:{position:"absolute",top:0},children:[(0,L.jsx)(ae,{month:"",handleChange:a,ref:s}),"src"in t?(0,L.jsx)(ee,{scale:1,image:t,width:n,height:i,onImageChange:o,onImageReady:o,handleImageChange:function(){s.current&&s.current.click()}}):null]})]})}function $t(e){var t=e.image,n=e.year,i=e.handleChange,a=e.handleImageEdit,o=e.bgImage,s=e.width,l=e.height,c=e.specialDates,d=(0,r.useRef)(null);console.log("month contents",n);return console.log("month contents input ref",d),(0,L.jsxs)(U.Z,{id:"test",component:"div",width:s,height:l,sx:{position:"relative",zIndex:"auto",outline:"1px solid black"},children:[(0,L.jsx)(Qt,{image:t,width:s,height:.5*l,handleChange:i,handleImageEdit:function(e){var t;if(e.current){var n=null===(t=e.current)||void 0===t?void 0:t.getCroppingRect(),i=n.width,r=n.height,o=n.x,s=n.y;a({cropWidth:i,cropHeight:r,x:o,y:s})}}}),(0,L.jsxs)(U.Z,{width:s,height:.5*l,sx:{p:1,mt:0,mb:0,boxSizing:"border-box",position:"absolute",top:.5*l,backgroundImage:"url(".concat(o,")"),backgroundSize:"cover",backgroundPosition:"center"},children:[(0,L.jsx)(H.ZP,{container:!0,sx:{width:"100%",height:l/2.2},justifyContent:"space-between",alignItems:"space-between",children:Y.monthList.map((function(e){var t=Y.months[e],n=t.days,i=t.firstDay;return(0,L.jsx)(H.ZP,{item:!0,children:(0,L.jsx)(qt,{width:s/4.3,height:l/6.8,month:e,days:n,firstDay:i,specialDates:e in c?c[e]:{}})})}))}),(0,L.jsx)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{height:.5*l*.055,width:"100%",backgroundSize:"cover",borderRadius:"5px",backgroundColor:"white",px:1,boxSizing:"border-box"},children:(0,L.jsx)(he,{})})]})]})}var _t=function(e,t,n,r){var a=Y.monthCanvas[n],o=a.width,s=a.height,l=Y.maxCanvasWidth,c=A.getCanvasDimensions(o,.5*s,t,l),d=(0,i.Z)(c,2),h=d[0],g=d[1],x=De.initialize(e,h,g);return t&&De.renderImage(x,t,h,g,0,0,r),e},en=function(e,t,n,r,a){console.log("generate dates",e,t,n,r,a);var o=Y.monthCanvas[n],s=o.width,l=o.height,c=Y.maxCanvasWidth,d=new Image;return d.onload=function(n){var o=n.target,d=o.naturalWidth,h=o.naturalHeight,g=A.getCanvasDimensions(s,.5*l,{width:d,height:h},c),x=(0,i.Z)(g,2),u=x[0],m=x[1],f=De.initialize(e,u,m),b=function(e,t){var n=427,i=8*e/n,r=16*e/n,a={width:e,height:t,startX:0,startY:0},o={bsx:i,bsy:t-i-.055*t,bw:e-2*i,bh:.055*t,br:5*e/n,bf:"bold ".concat(.45*r,"px KaushanScript"),bfr:"bold ".concat(.45*r,"px sans-serif"),bc:"rgba(255,255,255,1)",bstx:2*i,bsty:t-i-.055*t/2,scale:16*e*.45/8540,iconWidth:16*e*.45/n},s={letters:["S","M","T","W","T","F","S"],letterWidth:8*e/n,font:"bold ".concat(.5*r,"px sans-serif"),width:(e-3*i)/4-2*i,letterHeight:.75*r},l={letterWidth:6.4*e/n,letterHeight:1.5*.4*r,font:"".concat(.4*r,"px sans-serif"),scale:6.4*e/8540,iconWidth:6.4*e/n};return{dateBoxArea:a,branding:o,dateBox:{width:(e-3*i)/4,height:(t-3*i-.055*t)/3,startX:i,startY:i,radius:5,endX:e,endY:t,bgcolor:"rgba(255,255,255, 0.7)",color:"rgba(255,255,255, 0.85)",gapX:i/3,gapY:i/3,monthFont:"bold ".concat(.65*r,"px sans-serif"),monthTopGap:4*e/n,letterHeight:.65*r,dividerColor:"rgba(0,0,0,0.12)",lineWidth:2*e/n,weekRow:s,dates:l}}}(u,m);De.renderDateBoxArea(f,b.dateBoxArea,t,(function(){!function(e,t,n){e.save();for(var i=t.startX,r=t.startY,a=t.width,o=t.height,s=t.color,l=t.radius,c=t.gapX,d=t.gapY,h=t.monthTopGap,g=Y.monthList,x=Y.months,u=0;u<3;u+=1)for(var m=0;m<4;m+=1){var f=g[4*u+m],b=i+m*a+m*c,p=r+u*o+u*d;De.renderRoundedRect(e,b,p,a,o,l,s),e.save(),e.fillStyle="green",e.textAlign="center",e.font=t.monthFont,e.textBaseline="hanging",e.fillText(f,b+a/2,p+h),e.restore(),De.drawLine(e,b+i,p+h+t.letterHeight,b+a-i,p+h+t.letterHeight,t.dividerColor,2),e.textBaseline="middle",De.renderWeekRow(e,(0,V.Z)((0,V.Z)({},t.weekRow),{},{startX:b+i,startY:p+h+t.letterHeight+t.weekRow.letterHeight/2,endX:b+a-t.startX,endY:p+h+t.letterHeight+t.weekRow.letterHeight/2}));var v=A.generateCalendar(x[f].days,x[f].firstDay);De.renderDates(e,(0,V.Z)((0,V.Z)({},t.dates),{},{startX:b+t.startX,startY:p+h+t.letterHeight+t.weekRow.letterHeight+t.dates.letterHeight/2,width:t.weekRow.width,height:t.height-(h+t.letterHeight+t.weekRow.letterHeight/2)-h}),v,n[f])}e.restore()}(f,b.dateBox,a),De.renderBranding(f,b.branding),r()}))},d.src=t,e};function tn(){var e=(0,r.useState)(0),t=(0,i.Z)(e,2),n=t[0],a=t[1],o=function(){var e=(0,r.useState)({}),t=(0,i.Z)(e,2),n=t[0],a=t[1];return[n,(0,r.useCallback)((function(e){if(e instanceof File){var t=new Image;t.onload=function(n){var i=n.target,r=i.naturalWidth,o=i.naturalHeight;a(A.getImageDets(e,r,o,t))},t.src=URL.createObjectURL(e)}}),[]),function(e){return a((function(t){return(0,V.Z)((0,V.Z)({},t),e)}))}]}(),s=(0,i.Z)(o,3),l=s[0],c=s[1],d=s[2],h=(0,r.useState)("contextual"),g=(0,i.Z)(h,2),x=g[0],m=g[1],f=pt(),b=(0,i.Z)(f,3),p=b[0],v=b[1],w=b[2],y=(0,r.useState)(),j=(0,i.Z)(y,2),Z=j[0],C=j[1],S=(0,r.useState)(),I=(0,i.Z)(S,2),W=I[0],k=I[1],z=function(){return a((function(e){return e+1}))},F=function(){var e=Y.monthCanvas.A3,t=e.printWidth,n=e.printHeight,i={orientation:"p",unit:"in",format:[t,n]},r=new ht.kH(i),a=Z.toDataURL("image/jpeg",1);r.addImage(a,0,0,t,.5*n);var o=W.toDataURL("image/jpeg",1);r.addImage(o,0,n/2,t,n/2),r.save("tc-A3-single.pdf")};(0,r.useEffect)((function(){2===n&&(a(0),F())}),[n,F]);return console.log("use single calendar",x,l,p),[l,x,p,v,w,function(e){return m(e)},c,d,function(){var e=document.createElement("canvas"),t=document.createElement("canvas");C(e),k(t),_t(e,l,"A3",z),en(t,u,"A3",z,p)}]}var nn=[{label:"Contextual",value:"contextual"},{label:"Contextual Landscape",value:"contextuallandscape"},{label:"Color",value:"color"}];function rn(){var e=(0,r.useState)(!1),t=(0,i.Z)(e,2),n=t[0],a=t[1],o=tn(),s=(0,i.Z)(o,9),l=s[0],c=s[1],d=s[2],h=s[3],g=s[4],x=s[5],p=s[6],v=s[7],w=s[8],y=(0,G.Z)(),j=(0,r.useState)({}),Z=(0,i.Z)(j,2),C=Z[0],S=Z[1];(0,r.useEffect)((function(){var e=(0,i.Z)(y,1)[0];S((function(){return 0===e?{}:e>427?{width:427,height:427/.707}:{width:.95*e,height:.95*e/.707}}))}),[y]);var I=function(){return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(It,{label:"Theme",value:c,options:nn,handleChange:x}),(0,L.jsx)(b.Z,{variant:"outlined",onClick:function(){return a(!0)},children:"+/- Dates"})]})};return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(m.Z,{position:"static",sx:{backgroundColor:"transparent",py:.5,borderTop:"1px solid gray",mb:1},children:(0,L.jsxs)(f.Z,{variant:"dense",sx:{justifyContent:"center"},children:[(0,L.jsx)(I,{}),(0,L.jsx)(b.Z,{onClick:w,children:"View Cal"})]})}),(0,L.jsx)($t,{year:2025,image:l,handleChange:p,handleImageEdit:v,width:C.width,height:C.height,bgImage:u,specialDates:d}),(0,L.jsx)(Mt,{open:n,handleOpen:a,dates:d,addDate:h,removeDate:g})]})}function an(e){var t=e.image,n=e.handleClick,i=e.text;return(0,L.jsx)(a.Z,{sx:{width:"200px"},onClick:n,children:(0,L.jsxs)(o.Z,{children:[(0,L.jsx)(s.Z,{subheader:i,subheaderTypographyProps:{sx:{textAlign:"center"}}}),(0,L.jsx)(l.Z,{component:"img",height:"200",image:t,alt:i})]})})}function on(){var e=(0,r.useState)(""),t=(0,i.Z)(e,2),n=t[0],o=t[1];return n?"multi"===n?(0,L.jsx)(Ut,{}):(0,L.jsx)(rn,{}):(0,L.jsx)(c.Z,{open:!0,children:(0,L.jsxs)(a.Z,{children:[(0,L.jsx)(s.Z,{title:"Choose Type",titleTypographyProps:{sx:{textAlign:"center",color:"gray"}}}),(0,L.jsx)(d.Z,{}),(0,L.jsx)(h.Z,{children:(0,L.jsxs)(g.Z,{direction:"row",spacing:2,sx:{p:1},children:[(0,L.jsx)(an,{text:"Single Page Wall Calendar",handleClick:function(){return o("single")},image:x}),(0,L.jsx)(an,{text:"Multi Page Calendar (Wall & Table)",handleClick:function(){return o("multi")},image:u})]})})]})})}}}]);