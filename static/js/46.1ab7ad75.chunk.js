"use strict";(self.webpackChunkprelaunch=self.webpackChunkprelaunch||[]).push([[46],{31652:function(e,t,n){var r=n(74165),s=n(15861),i=n(79105);t.Z={get:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.httpClient("/api/address/get",{id:t},{method:"GET"});case 2:return n=e.sent,e.abrupt("return",n.json);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.httpClient("/api/address/delete",{id:t},{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),list:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.httpClient("/api/address/list",{},{method:"GET"});case 2:return t=e.sent,e.abrupt("return",t.json);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n,s){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.httpClient("/api/address/update",{id:t},{method:"PUT",body:JSON.stringify({id:t,previousData:n,data:s})});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),create:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.httpClient("/api/address/create",{},{method:"POST",body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setDefault:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.httpClient("/api/address/setDefault",{id:t},{method:"PUT"});case 2:return n=e.sent,e.abrupt("return",n.json);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},23072:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(93405),s=n(32195),i=n(61113),a=n(23306),o=n(46417);function c(e){var t=e.value,n=e.label;return t&&(0,o.jsxs)(s.Z,{direction:"column",justifyContent:"center",sx:{my:.5},children:[(0,o.jsx)(a.Z,{sx:{fontSize:"0.8rem",fontWeight:"bold"},children:n}),(0,o.jsx)(i.Z,{sx:{fontSize:"0.9rem"},children:t})]})}function l(e){var t=e.address;return(0,o.jsxs)(r.Z,{children:[(0,o.jsx)(c,{label:"Receiver's Name",helpText:"e.g. Nabarun Chatterjee",value:t.name}),(0,o.jsx)(c,{label:"House no, Street, Locality, etc",helpText:"e.g. 123, A.B. Avenue, Serampore",value:t.content}),(0,o.jsx)(c,{label:"Landmark",value:t.landmark,helpText:"e.g. Behind Ganesh Temple"}),(0,o.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",spacing:2,sx:{my:.5},children:[(0,o.jsx)(c,{label:"City",value:t.city,helperText:"e.g. Kolkata"}),(0,o.jsx)(c,{label:"State",value:t.state,helperText:"e.g. Karnataka"}),(0,o.jsx)(c,{label:"Country",value:t.country}),(0,o.jsx)(c,{label:"Pincode",value:t.pincode})]}),(0,o.jsx)(s.Z,{direction:"row",justifyContent:"flex-start",spacing:2,sx:{my:.5},children:(0,o.jsx)(c,{label:"Mobile Number",value:t.mobile_number})})]})}c.defaultProps={value:""}},28616:function(e,t,n){n.d(t,{Kn:function(){return d},_N:function(){return c},dy:function(){return a},p6:function(){return u},y3:function(){return h}});var r=n(74165),s=n(15861),i=n(31652);function a(e,t){return o.apply(this,arguments)}function o(){return(o=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.list();case 3:s=e.sent,console.log("resp add",s),t(s.addresses),s.addresses.forEach((function(e){i.Z.get(e.id).then((function(e){return n(e)}))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function c(e,t){return l.apply(this,arguments)}function l(){return(l=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(t,!0,!0),e.next=4,i.Z.delete(t);case 4:s=e.sent,console.log("remove address",s),200===s.status?n(t,!1,!0):n(t,!1,!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var u=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!0,!0),e.next=4,i.Z.create(t);case 4:s=e.sent,console.log("resp create",s),200===s.status?n(!1,!0):n(!1,!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();function d(e,t){return x.apply(this,arguments)}function x(){return(x=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Getting address",t),e.next=4,i.Z.get(t);case 4:return s=e.sent,n(s),e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function h(e,t,n,r){return p.apply(this,arguments)}function p(){return(p=(0,s.Z)((0,r.Z)().mark((function e(t,n,s,a){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Getting address",t),e.next=4,i.Z.update(t,n,s);case 4:200===e.sent.status?a(!1,!0):a(!1,!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},99478:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(73428),s=n(93405),i=n(19536),a=n(54641),o=n(56104),c=n(46417);function l(e){var t=e.action,n=e.component,l=e.headerAction,u=e.content,d=e.componentActions;return(0,c.jsxs)(r.Z,{elevation:1,sx:{borderRadius:0,width:{sm:"100%",md:"max-content"},minWidth:"500px",maxWidth:"1150px",bgcolor:"white",display:"flex",alignItems:"start",flexDirection:"column",justifyContent:"start"},children:[(0,c.jsx)(a.Z,{title:t,subheader:n,action:l,titleTypographyProps:{color:"primary.main"},subheaderTypographyProps:{fontWeight:"bold"},sx:{width:"100%","& .MuiCardHeader-action":{alignSelf:"center"}}}),(0,c.jsx)(i.Z,{sx:{borderBottomWidth:3,mb:2},flexItem:!0}),(0,c.jsx)(s.Z,{sx:{width:"100%",p:0},children:u}),(0,c.jsx)(i.Z,{sx:{borderBottomWidth:2,mb:2},flexItem:!0}),(0,c.jsx)(o.Z,{sx:{p:1,pb:2,width:"100%"},children:d})]})}l.defaultProps={headerAction:""}},60046:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var r=n(29439),s=n(47313),i=n(9019),a=n(32195),o=n(99478),c=n(28616),l=n(31798),u=n(73428),d=n(54641),x=n(93405),h=n(56104),p=n(19536),f=n(61113),Z=n(31095),j=n(46417);function m(e){var t=e.email;return(0,j.jsxs)(u.Z,{sx:{width:"400px",position:"relative",m:1,height:"fit-content"},children:[(0,j.jsx)(d.Z,{title:"Communication",subheader:"Details",action:(0,j.jsx)(Z.Z,{children:"Change"})}),(0,j.jsx)(p.Z,{}),(0,j.jsx)(x.Z,{children:(0,j.jsxs)(a.Z,{direction:"row",justifyContent:"space-between",sx:{mt:1},children:[(0,j.jsx)(f.Z,{sx:{fontWeight:"bold",fontSize:"1.2rem"},children:"Email"}),(0,j.jsx)(f.Z,{sx:{fontWeight:"bold",fontSize:"1rem",color:"primary.main"},children:t})]})}),(0,j.jsx)(p.Z,{}),(0,j.jsx)(h.Z,{children:(0,j.jsx)(Z.Z,{sx:{width:"100%"},children:"Add Phone Number"})})]})}var v=n(23072);function b(e){var t=e.address;return(0,j.jsxs)(u.Z,{sx:{width:"400px",position:"relative",m:1},children:[(0,j.jsx)(d.Z,{title:"Delivery",subheader:"Address",action:(0,j.jsx)(Z.Z,{children:"Change"})}),(0,j.jsx)(p.Z,{}),t?(0,j.jsx)(v.Z,{address:t}):null]})}var g=n(74268),y=n(97707),w=n(83929),C=n(1550),S=n(27031);function k(){return(0,j.jsxs)(u.Z,{sx:{width:"400px",position:"relative",m:1},children:[(0,j.jsx)(d.Z,{title:"Delivery",subheader:"Options",action:(0,j.jsx)(Z.Z,{children:"Change"})}),(0,j.jsx)(p.Z,{}),(0,j.jsx)(x.Z,{children:(0,j.jsx)(C.Z,{children:(0,j.jsxs)(y.Z,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"free",name:"radio-buttons-group",children:[(0,j.jsx)(w.Z,{value:"free",control:(0,j.jsx)(g.Z,{}),label:(0,j.jsxs)(a.Z,{direction:"column",children:[(0,j.jsx)(f.Z,{sx:{fontWeight:"bold"},children:"Sun, June 15"}),(0,j.jsx)(f.Z,{children:"Free Delivery"})]}),sx:{mb:1}}),(0,j.jsx)(w.Z,{value:"express",control:(0,j.jsx)(g.Z,{}),label:(0,j.jsxs)(a.Z,{direction:"column",children:[(0,j.jsx)(f.Z,{sx:{fontWeight:"bold"},children:"Tue, June 10"}),(0,j.jsxs)(f.Z,{children:[(0,j.jsx)(S.Z,{fontSize:"20px"})," 100"]})]})})]})})})]})}var W=n(74165),T=n(15861),P=n(26998),z=n(66835),D=n(23477),A=n(24076),E=n(57861),I=n(90891),N=n(41806),B=n(67478);function M(){var e=(0,s.useContext)(P.A),t=e.cartItems,n=e.getCartDetails,i=(0,s.useState)([]),o=(0,r.Z)(i,2),c=o[0],m=o[1],v=(0,s.useState)(!0),b=(0,r.Z)(v,2),g=b[0],y=b[1],w=function(){var e=(0,T.Z)((0,W.Z)().mark((function e(){var t;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:t=e.sent,m(t.data),y(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e){console.log("get quantity",t,e,c);var n=t.findIndex((function(t){return t.product_id===e}));return-1!==n?t[n].quantity:0},k=c.length>0?c.reduce((function(e,t){return e+C(t.id)*t.price}),0):0;return(0,s.useEffect)((function(){console.log("use effect 2",t,c),w()}),[t]),(0,j.jsxs)(u.Z,{sx:{width:"550px",position:"relative",m:1,height:"fit-content"},children:[(0,j.jsx)(d.Z,{title:"Payment",subheader:"Details"}),(0,j.jsx)(p.Z,{flexItem:!0}),g?"Your Cart is loading":(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(z.Z,{sx:{minWidth:550},"aria-label":"simple table",children:[(0,j.jsx)(D.Z,{children:(0,j.jsxs)(A.Z,{children:[(0,j.jsx)(B.Z,{sx:{fontWeight:"bold"},children:"Image"}),(0,j.jsx)(B.Z,{align:"center",sx:{fontWeight:"bold"},children:"Name"}),(0,j.jsx)(B.Z,{align:"center",sx:{fontWeight:"bold"},children:"Price"}),(0,j.jsx)(B.Z,{align:"center",sx:{fontWeight:"bold"},children:"Quantity"}),(0,j.jsx)(B.Z,{align:"right",sx:{fontWeight:"bold"},children:"Total"})]})}),(0,j.jsx)(E.Z,{children:c.map((function(e){var t=e.id,n=C(t);return(0,j.jsxs)(A.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,j.jsx)(B.Z,{component:"th",scope:"row",children:(0,j.jsx)(N.Z,{component:"img",src:e.thumbnail.src,srcSet:l.ZP.getSrcSet(e.thumbnail),alt:e.thumbnail.title,sx:{objectFit:"cover",width:50}})}),(0,j.jsx)(B.Z,{align:"center",children:e.name}),(0,j.jsx)(B.Z,{align:"center",children:e.price}),(0,j.jsx)(B.Z,{align:"center",children:n}),(0,j.jsx)(B.Z,{align:"right",children:(0,j.jsxs)(f.Z,{children:[(0,j.jsx)(S.Z,{fontSize:"20px"}),e.price*n]})})]},t)}))})]})}),(0,j.jsxs)(x.Z,{children:[(0,j.jsxs)(a.Z,{direction:"row",justifyContent:"space-between",sx:{my:1},children:[(0,j.jsx)(f.Z,{children:"Items"}),(0,j.jsxs)(f.Z,{children:[(0,j.jsx)(S.Z,{fontSize:"20px"}),k]})]}),(0,j.jsxs)(a.Z,{direction:"row",justifyContent:"space-between",sx:{my:1},children:[(0,j.jsx)(f.Z,{children:"Delivery"}),(0,j.jsxs)(f.Z,{children:[(0,j.jsx)(S.Z,{fontSize:"20px"}),100]})]}),(0,j.jsxs)(a.Z,{direction:"row",justifyContent:"space-between",sx:{my:1},children:[(0,j.jsx)(f.Z,{sx:{fontWeight:"bold",fontSize:"1.2rem"},children:"Total"}),(0,j.jsxs)(f.Z,{sx:{fontWeight:"bold",fontSize:"1.2rem"},children:[(0,j.jsx)(S.Z,{}),k+100]})]})]}),(0,j.jsx)(h.Z,{children:(0,j.jsxs)(a.Z,{direction:"column",justifyContent:"space-between",children:[(0,j.jsx)(Z.Z,{variant:"contained",sx:{width:"100%",fontWeight:"bold"},children:"Make Payment"}),(0,j.jsxs)(f.Z,{sx:{fontSize:"0.87rem",mt:1},children:["By placing this order you agree to myMemoryStore's"," ",(0,j.jsx)(I.Z,{href:"/",children:"privacy notice"})," and ",(0,j.jsx)(I.Z,{href:"/",children:"conditions of use"}),"."]})]})})]})}function G(){return(0,j.jsxs)(a.Z,{direction:"row",spacing:2,children:[(0,j.jsx)(Z.Z,{variant:"contained",children:"Make Payment"}),(0,j.jsxs)(a.Z,{direction:"column",justifyContent:"space-between",children:[(0,j.jsxs)(a.Z,{direction:"row",justifyContent:"left",children:[(0,j.jsx)(f.Z,{sx:{fontWeight:"bold",fontSize:"1.2rem"},children:"Order Total:\xa0"}),(0,j.jsxs)(f.Z,{sx:{fontWeight:"bold",fontSize:"1.2rem"},children:[(0,j.jsx)(S.Z,{}),"1100"]})]}),(0,j.jsxs)(f.Z,{sx:{fontSize:"0.87rem"},children:["By placing this order you agree to myMemoryStore's",(0,j.jsx)(I.Z,{href:"/",children:"privacy notice"})," and ",(0,j.jsx)(I.Z,{href:"/",children:"conditions of use"}),"."]})]})]})}function O(){var e=(0,s.useState)(),t=(0,r.Z)(e,2),n=t[0],u=t[1],d=(0,s.useState)(),x=(0,r.Z)(d,2),h=x[0],p=x[1],f=function(e){console.log("updating address",e.id),p((function(t){return e.default?e:t}))};return(0,s.useEffect)((function(){var e=l.ZP.getUserInfo();u(e.email),(0,c.dy)(f,f)}),[]),(0,j.jsx)(o.Z,{action:"Checkout",component:"Cart",content:(0,j.jsxs)(i.ZP,{container:!0,sx:{maxWidth:"1150px",backgroundColor:"white",m:0,justifyContent:{xs:"center",md:"space-between"}},children:[(0,j.jsxs)(a.Z,{direction:"column",children:[(0,j.jsx)(m,{email:n}),(0,j.jsx)(b,{address:h}),(0,j.jsx)(k,{})]}),(0,j.jsx)(M,{})]}),componentActions:(0,j.jsx)(G,{})})}}}]);