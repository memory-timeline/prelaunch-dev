"use strict";(self.webpackChunkprelaunch=self.webpackChunkprelaunch||[]).push([[591],{72429:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(47131),i=n(11198),r=n(46417);function o(e){var t=e.handleClose;return(0,r.jsx)(a.Z,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,r.jsx)(i.Z,{})})}},58587:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(29439),i=n(47313);function r(){var e=(0,i.useState)([0,0]),t=(0,a.Z)(e,2),n=t[0],r=t[1];return(0,i.useLayoutEffect)((function(){function e(){r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}},56647:function(e,t,n){n.r(t),n.d(t,{default:function(){return Yt}});var a=n(29439),i=n(47313),r=n(9019),o=n(73428),s=n(44183),l=n(16957),c=n(54641),d=n(94469),h=n(33604),g=n(96467),u=n.p+"static/media/February.3e139cde496c24d811f8.jpeg",m=n.p+"static/media/March.4d253c6abff9c67c87bc.jpeg",f=n.p+"static/media/April.453b743d7bc16b3b1886.jpeg",p=n.p+"static/media/May.87697cadfa4c64d69285.jpeg",x=(0,i.createContext)({}),b=n(58587);var v=n(1413),w=n.p+"static/media/January.f631bfe587ab40ca785b.jpeg",y=n.p+"static/media/June.3082b41ae5798335b32a.jpeg",C=n.p+"static/media/July.e436e047a1a9dbb89599.jpeg",Z=n.p+"static/media/August.fcf8c1e87674967c75f6.jpeg",j=n.p+"static/media/September.5167afdb1086b7660649.jpeg",D=n.p+"static/media/October.fce013a8cad5d39991f3.jpeg",I=n.p+"static/media/November.fb218e2f2804d4eec8f6.jpeg",S=n.p+"static/media/December.a5f762212b6c69a22b70.jpeg",W=n(58018),F=n(71829),H=n(47597),k=603.74,M={monthList:["January","February","March","April","May","June","July","August","September","October","November","December"],months:{January:{days:31,firstDay:4},February:{days:28,firstDay:0},March:{days:31,firstDay:0},April:{days:30,firstDay:3},May:{days:31,firstDay:5},June:{days:30,firstDay:1},July:{days:31,firstDay:3},August:{days:31,firstDay:6},September:{days:30,firstDay:2},October:{days:31,firstDay:4},November:{days:30,firstDay:0},December:{days:31,firstDay:2}},year:2026,padding:50,lineWidth:.5,cutLength:40,cutColor:"black",monthCanvas:{Browser:{width:427,height:427/.707},A3:{width:3508,height:4961,minWidth:842,minHeight:1191,printWidth:11.7,printHeight:16.5,rows:1,columns:1,sheets:12},A5:{width:1754,height:2480,minWidth:420,minHeight:595,printWidth:6,printHeight:8.47,rows:2,columns:2,sheets:3},A6:{minWidth:298,minHeight:421,printWidth:4.13,printHeight:5.85,width:1240,height:1754,rows:4,columns:2,sheets:2,rotateRequired:!0},A7:{minWidth:210,minHeight:298,printWidth:2.91,printHeight:4.13,width:878,height:1240,rows:4,columns:4,sheets:1}},printCanvas:{width:3508,height:4961},pdfOptions:{orientation:"p",unit:"in",format:[12.5,18.5]},maxCanvasWidth:2e3,monthItemWidth:427,monthItemHeight:k,social:{Facebook:{path:"M 20 10 c 0 -5.52 -4.48 -10 -10 -10 S 0 4.48 0 10 c 0 4.84 3.44 8.87 8 9.8 V 13 H 6 v -3 h 2 V 7.5 C 8 5.57 9.57 4 11.5 4 H 14 v 3 h -2 c -0.55 0 -1 0.45 -1 1 v 2 h 3 v 3 h -3 v 6.95 c 5.05 -0.5 9 -4.76 9 -9.95 z",Icon:W.Z,color:"#4267B2",text:"colorfulpossibilities"},Instagram:{path:"M 5.8 0 h 8.4 C 17.4 0 20 2.6 20 5.8 v 8.4 a 5.8 5.8 0 0 1 -5.8 5.8 H 5.8 C 2.6 20 0 17.4 0 14.2 V 5.8 A 5.8 5.8 0 0 1 5.8 0 m -0.2 2 A 3.6 3.6 0 0 0 2 5.6 v 8.8 C 2 16.39 3.61 18 5.6 18 h 8.8 a 3.6 3.6 0 0 0 3.6 -3.6 V 5.6 C 18 3.61 16.39 2 14.4 2 H 5.6 m 9.65 1.5 a 1.25 1.25 0 0 1 1.25 1.25 A 1.25 1.25 0 0 1 15.25 6 A 1.25 1.25 0 0 1 14 4.75 a 1.25 1.25 0 0 1 1.25 -1.25 M 10 5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 a 5 5 0 0 1 5 -5 m 0 2 a 3 3 0 0 0 -3 3 a 3 3 0 0 0 3 3 a 3 3 0 0 0 3 -3 a 3 3 0 0 0 -3 -3 z",Icon:F.Z,color:"#E1306C",text:"colorfulpossibilities"},Whatsapp:{path:"M 14.75 11.96 c 0.25 0.13 0.41 0.2 0.46 0.3 c 0.06 0.11 0.04 0.61 -0.21 1.18 c -0.2 0.56 -1.24 1.1 -1.7 1.12 c -0.46 0.02 -0.47 0.36 -2.96 -0.73 c -2.49 -1.09 -3.99 -3.75 -4.11 -3.92 c -0.12 -0.17 -0.96 -1.38 -0.92 -2.61 c 0.05 -1.22 0.69 -1.8 0.95 -2.04 c 0.24 -0.26 0.51 -0.29 0.68 -0.26 h 0.47 c 0.15 0 0.36 -0.06 0.55 0.45 l 0.69 1.87 c 0.06 0.13 0.1 0.28 0.01 0.44 l -0.27 0.41 l -0.39 0.42 c -0.12 0.12 -0.26 0.25 -0.12 0.5 c 0.12 0.26 0.62 1.09 1.32 1.78 c 0.91 0.88 1.71 1.17 1.95 1.3 c 0.24 0.14 0.39 0.12 0.54 -0.04 l 0.81 -0.94 c 0.19 -0.25 0.35 -0.19 0.58 -0.11 l 1.67 0.88 M 10 0 a 10 10 0 0 1 10 10 a 10 10 0 0 1 -10 10 c -1.97 0 -3.8 -0.57 -5.35 -1.55 L 0 20 l 1.55 -4.65 A 9.969 9.969 0 0 1 0 10 A 10 10 0 0 1 10 0 m 0 2 a 8 8 0 0 0 -8 8 c 0 1.72 0.54 3.31 1.46 4.61 L 2.5 17.5 l 2.89 -0.96 A 7.95 7.95 0 0 0 10 18 a 8 8 0 0 0 8 -8 a 8 8 0 0 0 -8 -8 z",Icon:H.Z,color:"#128C7E",text:"7975218926"}},themes:{contextual:{monthWidth:427,monthHeight:k,imageWidthFrac:1,imageHeightFrac:.6,dateWidthFrac:1,dateHeightFrac:.4,paddingFrac:.0375,brandingHeightFrac:.0375,brandingWidthFrac:1,brandingBorderRadiusFrac:.0075,brandingPaddingYFrac:.00375,brandingMarginTFrac:.00375,brandingBorderRadius:.0075,backgroundColor:"rgba(255, 255, 255, 0.8)",months:{January:{image:w},February:{image:u},March:{image:m},April:{image:f},May:{image:p},June:{image:y},July:{image:C},August:{image:Z},September:{image:j},October:{image:D},November:{image:I},December:{image:S}},brand:[{text:"Colorful Possibilities",fontFamily:"KaushanScript",fontSize:"0.4rem",color:"brown"},{text:" by MemoryTimeline",fontFamily:"sans-serif",fontSize:"0.4rem",color:"brown"}],social:[{text:"colorfulpossibilities",fontFamily:"sans-serif",fontSize:"0.4rem",color:"#4267B2"},{text:"colorfulpossibilities",fontFamily:"sans-serif",fontSize:"0.4rem",color:"#E1306C"},{text:"7975218926",fontFamily:"sans-serif",fontSize:"0.4rem",color:"#E1306C"}]}},icons:{cake:{color:"#FF5B61",path:"M 9 6 c 1.11 0 2 -0.9 2 -2 c 0 -0.38 -0.1 -0.73 -0.29 -1.03 L 9 0 l -1.71 2.97 c -0.19 0.3 -0.29 0.65 -0.29 1.03 c 0 1.1 0.9 2 2 2 m 4.6 9.99 l -1.07 -1.07 l -1.08 1.07 c -1.3 1.3 -3.58 1.31 -4.89 0 l -1.07 -1.07 l -1.09 1.07 C 3.75 16.64 2.88 17 1.96 17 c -0.73 0 -1.4 -0.23 -1.96 -0.61 V 21 c 0 0.55 0.45 1 1 1 h 16 c 0.55 0 1 -0.45 1 -1 v -4.61 c -0.56 0.38 -1.23 0.61 -1.96 0.61 c -0.92 0 -1.79 -0.36 -2.44 -1.01 M 15 9 h -5 V 7 h -2 v 2 H 3 c -1.66 0 -3 1.34 -3 3 v 1.54 c 0 1.08 0.88 1.96 1.96 1.96 c 0.52 0 1.02 -0.2 1.38 -0.57 l 2.14 -2.13 l 2.13 2.13 c 0.74 0.74 2.03 0.74 2.77 0 l 2.14 -2.13 l 2.13 2.13 c 0.37 0.37 0.86 0.57 1.38 0.57 c 1.08 0 1.96 -0.88 1.96 -1.96 V 12 C 18 10.34 16.66 9 15 9"},favorite:{color:"red",path:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"},home:{color:"#5F9EA0",path:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},travel:{color:"blue",path:"M2.5 19h19v2h-19v-2zm19.57-9.36c-.21-.8-1.04-1.28-1.84-1.06L14.92 10l-6.9-6.43-1.93.51 4.14 7.17-4.97 1.33-1.97-1.54-1.45.39 2.59 4.49s7.12-1.9 16.57-4.43c.81-.23 1.28-1.05 1.07-1.85z"}},textSettings:{brand:{text:"Colorful Possibilities",color:"brown"},company:{text:" by MemoryTimeline",color:"black"}}},A={aspectRatio:.707,potrait:{defaultMonthWidth:427,imageHeightFraction:.6,dateHeightFraction:.4,brandingHeightFraction:.075,bindingHeightFraction:.05,dateBoxHeightFraction:.95},landscape:{defaultMonthWidth:603.96,imageWidthFraction:.5,dateWidthFraction:.5,brandingHeightFraction:.1,bindingHeightFraction:.070722,yearBoxHeightFraction:.15,dateBoxHeightFraction:.7},smallScreenWidthFraction:.95,backgroundColor:"rgba(255,255,255,0.8)",branding:{brandText:"Colorful Possibilities",companyText:"by MemoryTimeline"},social:{Facebook:{path:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z",Icon:W.Z,color:"#4267B2",text:"colorfulpossibilities"},Instagram:{path:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z",Icon:F.Z,color:"#E1306C",text:"colorfulpossibilities"},Whatsapp:{path:"M16.75 13.96c.25.13.41.2.46.3.06.11.04.61-.21 1.18-.2.56-1.24 1.1-1.7 1.12-.46.02-.47.36-2.96-.73-2.49-1.09-3.99-3.75-4.11-3.92-.12-.17-.96-1.38-.92-2.61.05-1.22.69-1.8.95-2.04.24-.26.51-.29.68-.26h.47c.15 0 .36-.06.55.45l.69 1.87c.06.13.1.28.01.44l-.27.41-.39.42c-.12.12-.26.25-.12.5.12.26.62 1.09 1.32 1.78.91.88 1.71 1.17 1.95 1.3.24.14.39.12.54-.04l.81-.94c.19-.25.35-.19.58-.11l1.67.88M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10c-1.97 0-3.8-.57-5.35-1.55L2 22l1.55-4.65A9.969 9.969 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 1.72.54 3.31 1.46 4.61L4.5 19.5l2.89-.96A7.95 7.95 0 0 0 12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8z",Icon:H.Z,color:"#128C7E",text:"7975218926"}},months:{January:{image:w},February:{image:u},March:{image:m},April:{image:f},May:{image:p},June:{image:y},July:{image:C},August:{image:Z},September:{image:j},October:{image:D},November:{image:I},December:{image:S}}},T=n(46417);function R(e){var t=e.handleChange,n=e.handleEditChange,a=e.MonthComp,i=e.DateComp,r=e.ImageComp;return M.monthList.map((function(e){return(0,T.jsx)(a,{month:e,year:M.year,handleChange:t,handleImageEdit:function(t){var a;if(t.current){var i=null===(a=t.current)||void 0===a?void 0:a.getCroppingRect(),r=i.width,o=i.height,s=i.x,l=i.y;n({cropWidth:r,cropHeight:o,x:s,y:l},e)}},ImageComp:r,DateComp:i},e)}))}function B(e){var t=e.handleImageChange,n=e.handleEditChange,a=e.MonthComp,i=e.DateComp,o=e.ImageComp;return(0,T.jsx)(r.ZP,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",sx:{backgroundColor:"black",mt:0},rowSpacing:2,children:(0,T.jsx)(R,{handleChange:t,handleEditChange:n,spacing:2,MonthComp:a,ImageComp:o,DateComp:i})})}var E=(0,i.memo)(B);var Y={generateCalendar:function(e,t){for(var n=[],a=new Array(t).fill(0),i=1;i<=e;)a.push(i),i+=1,7===a.length&&(n.push(a),a=[]);if(a.length>0){for(;a.length<7;)a.push(0);n.push(a)}return n},renderImage:function(e,t){var n=e.canvas,a=n.width,i=n.height,r=new Image;r.onload=function(){var n,o,s,l,c=a/i,d=t.width/t.height;d>c?(o=i,s=-((n=i*d)-a)/2,l=0):(n=a,s=0,l=-((o=a/d)-i)/2),e.drawImage(r,s,l,n,o)},r.src=t.src},resizeImageSlowly:function(e,t,n,a,i){console.log("image resize start",e.src,new Date);var r=document.createElement("canvas");r.width=t,r.height=n;var o,s,l=r.getContext("2d"),c=t/n,d=t,h=n;l.webkitImageSmoothingEnabled=!1,l.mozImageSmoothingEnabled=!1,l.imageSmoothingEnabled=!1;var g=Math.floor(Math.log2(t/a));if(0===g)l.drawImage(e,0,0,d,h,0,0,a,i);else{for(var u=0;u<g;u+=1)s=(o=d/2)/c,0===u?l.drawImage(e,0,0,d,h,0,0,o,s):l.drawImage(r,0,0,d,h,0,0,o,s),d=o,h=s;l.drawImage(r,0,0,d,h,0,0,a,i)}var m=document.createElement("canvas");return m.width=a,m.height=i,m.getContext("2d").drawImage(r,0,0,a,i,0,0,a,i),console.log("image resize end",e.src,new Date),m},imagePosition:function(e,t,n,a){var i,r,o,s,l=n/a;return l>e/t?(r=t,o=((i=t*l)-e)/2,s=0):(i=e,o=0,s=((r=e/l)-t)/2),[parseFloat(i.toFixed(5)),parseFloat(r.toFixed(5)),o,s]},getCanvasDimensions:function(e,t,n,a){var i,r;if(n.width<e||n.height<t){var o=e/t;n.width/n.height>o?r=(i=n.height)*(e/t):i=(r=n.width)/(e/t)}else i=t,r=e;var s=r>a?a:r,l=s*i/r;return console.log("in get canvas dimensions",e,t,parseFloat(s.toFixed(5)),parseFloat(l.toFixed(5))),[parseFloat(s.toFixed(5)),parseFloat(l.toFixed(5))]},getImageDets:function(e,t,n,a){var i=e.lastModified,r=e.size,o=e.name,s=e.type;return{height:n,lastModified:i,rawFile:e,size:r,src:a.src,title:o,type:s,width:t}}},X=Y;function z(e,t,n){var a=e.getContext("2d");return a.canvas.width=t,a.canvas.height=n,a.webkitImageSmoothingEnabled=!1,a.mozImageSmoothingEnabled=!1,a.imageSmoothingEnabled=!1,a.clearRect(0,0,t,n),a}function L(e,t,n,i,r,o,s){if(console.log("render image",t),"elem"in t){var l=t.width,c=t.height,d=t.elem,h=X.imagePosition(n,i,l,c),g=(0,a.Z)(h,4),u=g[0],m=g[1],f=g[2],p=g[3],x=X.resizeImageSlowly(d,l,c,u,m);e.drawImage(x,"x"in t?t.x*u:f,"y"in t?t.y*m:p,n,i,r,o,n,i),s()}else!function(e,t,n,i,r,o,s){console.log("image timer render start",t.src,new Date);var l=new Image;l.onerror=function(){console.log("Error while loading image",t)},l.onload=function(){console.log("image timer load",t.src,new Date);var c=l.naturalWidth,d=l.naturalHeight,h=X.imagePosition(n,i,c,d),g=(0,a.Z)(h,4),u=g[0],m=g[1],f=g[2],p=g[3],x=X.resizeImageSlowly(l,c,d,u,m);e.drawImage(x,"x"in t?t.x*u:f,"y"in t?t.y*m:p,n,i,r,o,n,i),s(),console.log("image timer finished",t.src,new Date)},l.src=t.src}(e,t,n,i,r,o,s)}var O=function(e,t,n,a,i,r){e.fillStyle=n,e.save(),e.translate(i,r),e.scale(t,t),e.fill(new Path2D(a)),e.restore()};function P(e,t,n,a,i,r){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"start",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";e.save(),e.font=n,e.fillStyle=a,e.textAlign=o,""!==s&&(e.textBaseline=s),console.log("in render text",t,i,e.textAlign,n,i,r,o,s),e.fillText(t,i,r);var l=e.measureText(t);return e.restore(),l}var J=function(e,t,n,a,i,r,o,s){var l=n.color,c=n.path,d=n.text;O(e,t,l,c,i,r),P(e," ".concat(d),a,l,o,s)};function N(e,t,n,a,i,r,o){e.beginPath(),e.roundRect(t,n,a,i,[r]),e.fillStyle=o,e.fill()}function U(e,t,n,a,i,r,o,s){e.save(),e.textAlign="center",e.textBaseline="bottom";var l=M.icons,c=l.cake,d=l.favorite,h=l.home,g=l.travel;"Birthday"===o?O(e,t,c.color,c.path,n,a):"Home"===o?O(e,t,h.color,h.path,n,a):"Travel"===o?O(e,t,g.color,g.path,n,a):"Anniversary"===o?O(e,t,d.color,d.path,n,a):"Other"===o&&(e.fillStyle="brown",e.fillText(0===s?" ":s,i,r)),e.restore()}var V={initialize:z,renderImage:L,socialBrand:J,drawLine:function(e,t,n,a,i,r,o){e.save(),e.beginPath(),e.moveTo(t,n),e.lineTo(a,i),e.strokeStyle=r,e.lineWidth=o,e.stroke(),e.restore()},drawIcon:O,renderDateBoxArea:function(e,t,n,a){var i=t.width,r=t.height,o=t.startX,s=t.startY;console.log("in render date box area",t,n),L(e,n,i,r,o,s,a)},renderSpecialDates:U,renderDates:function(e,t,n,a){e.save(),e.textAlign="center",e.textBaseline="alphabetic";var i=t.letterHeight,r=t.letterWidth,o=t.startX,s=t.startY,l=t.scale,c=t.width,d=t.height,h=t.font;e.font=h;var g=(c-7*r)/6,u=(d-n.length*i)/n.length;n.forEach((function(t,n){t.forEach((function(t,c){var d=o+g*c+r*c+r/2,h=s+n*u+n*i;t in a?U(e,l,d-r/2,h-r,d,h,a[t],t):0===c||6===c?(e.fillStyle="red",e.fillText(0===t?" ":t,d,h)):(e.fillStyle="black",e.fillText(0===t?" ":t,d,h))}))})),e.restore()},renderWeekRow:function(e,t){e.save(),e.textAlign="center",e.font=t.font;var n=(t.width-7*t.letterWidth)/6;t.letters.forEach((function(a,i){e.fillStyle=0===i||6===i?"red":"black",e.fillText(a,t.startX+n*i+t.letterWidth*i+t.letterWidth/2,t.startY)})),e.restore()},renderText:P,renderRoundedRect:N,renderBranding:function(e,t){var n=M.social,a=n.Facebook,i=n.Instagram,r=n.Whatsapp,o=t.scale,s=t.bfr,l=t.bstx,c=t.bsty,d=t.iconWidth;N(e,t.bsx,t.bsy,t.bw,t.bh,t.br,t.bc),e.textAlign="start",e.textBaseline="middle";var h=M.textSettings,g=h.brand,u=h.company,m=P(e,g.text,t.bf,g.color,l,c),f=P(e,u.text,t.bfr,u.color,l+m.width,c),p=m.width+f.width;e.font=s;var x=e.measureText(a.text),b=e.measureText(r.text),v=p+2*x.width+b.width,w=(t.bw-t.bstx-v)/3,y=l+p+w,C=y-d,Z=c-d/2,j=w+x.width;J(e,o,a,s,C,Z,y,c),J(e,o,i,s,C+j,Z,y+j,c),J(e,o,r,s,C+2*j,Z,y+2*j,c)},generateDates:function(e,t,n,i,r,o,s,l,c,d,h,g,u){var m="width"in o?X.getCanvasDimensions(s,l,{width:o.width,height:o.height},c):[s,l],f=(0,a.Z)(m,2),p=f[0],x=f[1],b=z(e,p,x),v=g(p,x),w=X.generateCalendar(i,r),y=function(){return u(b,v,t,n,h,w,d)},C=v.dateBoxArea,Z=C.width,j=C.height,D=C.startX,I=C.startY;return"width"in o?L(b,o,Z,j,D,I,y):y(),e},generateImage:function(e,t,n,i,r,o){var s=X.getCanvasDimensions(n,i,t,r),l=(0,a.Z)(s,2),c=l[0],d=l[1],h=z(e,c,d);return t&&L(h,t,c,d,0,0,o),e}};var K=function(e,t){console.log("in get config",e,t);var n=427,a=n/.707,i=16*e/n,r=16*e/n,o=t;return{dateBoxArea:{width:e,height:t,startX:0,startY:0,endX:e,endY:t,bgcolor:"white"},dateBox:{width:e-2*i,height:.95*o-2*i,startX:i,startY:0+i,endX:e-i,endY:.95*t-i,radius:10*e/n,color:"rgba(255,255,255,0.8)"},branding:{bsx:i,bsy:.95*t-i+1.3*t*8/a,bw:e-2*i,bh:.075*t,br:5*e/n,bf:"bold ".concat(.5*r,"px KaushanScript"),bfr:"bold ".concat(.4*r,"px sans-serif"),bc:"rgba(255,255,255,1)",bstx:2*i,bsty:.95*t-i+1.3*t*8/a+.075*t/2,scale:16*e*.4/8540,iconWidth:16*e*.4/n},year:{startX:e-2*i,startY:0+2*i+1*r,color:"green",font:"bold ".concat(1*r,"px sans-serif")},month:{startX:2*i,startY:0+2*i+1*r,color:"green",font:"bold ".concat(1*r,"px sans-serif")},divider:{startX:2*i,startY:0+2*i+1.5*r*1,endX:e-2*i,endY:0+2*i+1.5*r*1,color:"rgba(0, 0, 0, 0.12)",lineWidth:2},weekRow:{letters:["S","M","T","W","T","F","S"],letterWidth:16*e/n,startX:2*i,startY:0+2*i+1.5*r*1.9+2,endX:e-2*i,width:e-4*i,font:"bold ".concat(r,"px sans-serif")},dates:{letters:["S","M","T","W","T","F","S"],letterWidth:16*e*.8/n,letterHeight:.8*r*1.5,startX:2*i,startY:0+2*i+1.5*r*2.8,endX:e-2*i,width:e-4*i,height:.95*o-4*i-1.5*r*1.9,font:"bold ".concat(.8*r,"px sans-serif"),scale:16*e*.8/8540,iconWidth:16*e*.8/n}}},q=function(e,t,n,a,i,r,o){var s=t.dateBox,l=t.month,c=t.divider;V.renderRoundedRect(e,s.startX,s.startY,s.width,s.height,s.radius,s.color),function(e,t,n){e.save(),e.textAlign="right",e.font=t.font,e.fillStyle=t.color,e.fillText(n,t.startX,t.startY),e.restore()}(e,t.year,n),V.renderText(e,a.toUpperCase(),l.font,l.color,l.startX,l.startY),V.drawLine(e,c.startX,c.startY,c.endX,c.endY,c.color,c.lineWidth),V.renderWeekRow(e,t.weekRow);var d=a in i?i[a]:{};V.renderDates(e,t.dates,r,d,a),V.renderBranding(e,t.branding),o()};var G=function(e,t){var n=A.landscape,a=n.yearBoxHeightFraction,i=n.dateBoxHeightFraction;console.log("in get config",e,t);var r=301.98,o=8*e/r,s=10*e/r,l=16*e/r,c=t,d="rgba(255,255,255,0.8)",h={width:e,height:t,startX:0,startY:0,endX:e,endY:t,bgcolor:"white"},g={width:e-4*o,height:(h.height-4*o)*a,startX:2*o,startY:h.startY+2*o,radius:s,color:d,marginBottom:8*e/r},u={startX:g.startX+2*o,startY:g.startY+2*o+2*l*1.5/2,color:"green",font:"bold ".concat(2*l,"px sans-serif"),width:g.width-4*o},m={width:e-4*o,height:(h.height-4*o)*i,startX:2*o,startY:h.startY+2*o+g.height+g.marginBottom,radius:s,color:d},f={letters:["S","M","T","W","T","F","S"],letterWidth:20*e*.9/r,startX:4*o,startY:m.startY+2*o+.9*l,endX:e-4*o,width:e-8*o,font:"bold ".concat(.9*l,"px sans-serif")},p={letters:["S","M","T","W","T","F","S"],letterWidth:16*e*.8/r,letterHeight:.8*l*1.5,startX:4*o,startY:f.startY+.9*l*.5+.8*l,endX:e-4*o,width:e-8*o,height:m.height-(f.startY-m.startY),font:"bold ".concat(.8*l,"px sans-serif"),scale:16*e*.8/6039.6,iconWidth:16*e*.8/r};return{dateBoxArea:h,yearBox:g,dateBox:m,branding:{startX:2*o,startY:0+4*o+.85*(c-4*o),width:e-4*o,height:.1*(t-4*o),radius:5*e/r,bf:"bold ".concat(.6*l,"px KaushanScript"),bfmr:"bold ".concat(.5*l,"px sans-serif"),bfr:"bold ".concat(.4*l,"px sans-serif"),color:"rgba(255,255,255,1)",bstx:4*o,bsty:0+4*o+.85*(c-4*o)+.1*(t-4*o)/2,bssy:0+4*o+.85*(c-4*o)+o,scale:6.4*e/6039.6,iconWidth:6.4*e/r,linecolor:"rgba(0, 0, 0, 0.12)",bley:0+4*o+.85*(c-4*o)+.1*(t-4*o)-o,lineWidth:2*t/(603.96/.707),contentWidth:e-8*o,contentHeight:.1*(t-4*o)-2*o},year:u,weekRow:f,dates:p}},Q=function(e,t,n,a,i,r,o){var s=t.yearBox,l=t.dateBox;V.renderRoundedRect(e,s.startX,s.startY,s.width,s.height,s.radius,s.color),V.renderRoundedRect(e,l.startX,l.startY,l.width,l.height,l.radius,l.color),function(e,t,n,a){console.log("in render year"),e.font=t.font,e.fillStyle=t.color;var i=e.measureText(a),r=e.measureText(n),o=t.width-(i.width+r.width);e.fillText(a,t.startX,t.startY),e.fillText(n,t.startX+i.width+o,t.startY)}(e,t.year,n,a),V.renderWeekRow(e,t.weekRow);var c=a in i?i[a]:{};V.renderDates(e,t.dates,r,c,a),function(e,t){e.textAlign="start",function(e,t){e.beginPath(),e.roundRect(t.startX,t.startY,t.width,t.height,[t.radius]),e.fillStyle=t.color,e.fill()}(e,t);var n="Colorful Possibilities";e.textBaseline="middle",e.fillStyle="brown",e.font=t.bf;var a=e.measureText(n);e.fillText(n,t.bstx,t.bsty),e.fillStyle="black",e.font=t.bfmr;var i=" by MemoryTimeline",r=e.measureText(i);e.fillText(i,t.bstx+a.width,t.bsty);var o=A.social,s=o.Facebook,l=o.Instagram,c=o.Whatsapp;e.font=t.bfr;var d=e.measureText(s.text),h=(t.contentWidth-(a.width+r.width+t.lineWidth+t.iconWidth+d.width))/2,g=(t.contentHeight-3*t.iconWidth)/2;console.log("branding gap",h,g,t);var u=t.bssy,m=t.bley,f=t.linecolor,p=t.lineWidth,x=t.scale,b=t.bfr,v=t.bstx+a.width+r.width+h;V.drawLine(e,v,u,v,m,f,p);var w=v+p+h;e.textBaseline="ideographic",V.socialBrand(e,x,s,b,w,u,w+t.iconWidth,u+t.iconWidth),V.socialBrand(e,x,l,b,w,t.bssy+t.iconWidth+g,w+t.iconWidth,t.bssy+2*t.iconWidth+g),e.textBaseline="alphabetic",V.socialBrand(e,x,c,b,w,t.bssy+2*t.iconWidth+2*g,w+t.iconWidth,t.bssy+3*t.iconWidth+2*g)}(e,t.branding),o()},$=function(e,t,n,a,i,r,o,s,l,c,d,h){console.log("draw pdf page",l,c,d,h,s,n,a,i,r,o);var g=n.findIndex((function(e){return e[0]===t})),u=s.findIndex((function(e){return e[0]===t})),m=n[g][1],f=s[u][1],p=m.toDataURL("image/jpeg",1),x=f.toDataURL("image/png",1);e.addImage(p,r,o,a,i,"","FAST"),e.addImage(x,d,h,l,c,"","FAST")},_={generateImage:function(e,t,n,a,i,r,o){var s=M.monthCanvas[i],l=s.width,c=s.height,d=M.maxCanvasWidth;if(console.log("I am in contextual generate",t,d),"potrait"===n){var h=o.potrait,g=h.imageHeightFraction,u=h.bindingHeightFraction;console.log("I am in contextual generate potrait",t,d,g),V.generateImage(e,t,l,"none"===a?c*g:c*(g-u),d,r)}if("landscape"===n){var m=o.landscape,f=m.imageWidthFraction,p=m.bindingHeightFraction;V.generateImage(e,t,c*f,"none"===a?l:l*(1-p),d,r)}},generateDates:function(e,t,n,a,i,r,o,s,l){console.log("default generate date",r);var c=M.year,d=M.monthCanvas[r],h=d.width,g=d.height,u=d.maxCanvasWidth,m=M.months[t],f=m.days,p=m.firstDay;if("potrait"===a){var x=l.potrait.dateHeightFraction;V.generateDates(e,c,t,f,p,n||{},h,g*x,u,o,s,K,q)}if("landscape"===a){var b=l.landscape,v=b.dateWidthFraction,w=b.bindingHeightFraction;V.generateDates(e,c,t,f,p,n||{},g*v,"none"===i?h:h*(1-w),u,o,s,G,Q)}},drawSheet:function(e,t,n,a,i,r,o,s){var l=M.monthCanvas[i],c=l.printWidth,d=l.printHeight;if("potrait"===o){var h=s.potrait,g=h.imageHeightFraction,u=h.bindingHeightFraction,m=h.dateHeightFraction;$(e,t,n,c,"none"===r?d*g:d*(g-u),0,"none"===r?0:d*u,a,c,d*m,0,d*(1-m))}if("landscape"===o){var f=s.landscape,p=f.imageWidthFraction,x=f.bindingHeightFraction,b=f.dateWidthFraction;$(e,t,n,d*p,"none"===r?c:c*(1-x),0,"none"===r?0:c*x,a,d*b,"none"===r?c:c*(1-x),d*p,"none"===r?0:c*x)}}},ee={config:A,generateImage:_.generateImage,generateDates:_.generateDates,drawSheet:_.drawSheet,totalImageRenderCount:24,Year:E},te={config:(0,v.Z)((0,v.Z)({},A),{},{potrait:(0,v.Z)((0,v.Z)({},A.potrait),{},{imageHeightFraction:1}),months:{}}),generateImage:_.generateImage,generateDates:_.generateDates,drawSheet:_.drawSheet,totalImageRenderCount:24,Year:E},ne=(0,v.Z)((0,v.Z)({},A),{},{potrait:(0,v.Z)((0,v.Z)({},A.potrait),{},{imageHeightFraction:.5,dateHeightFraction:.5}),months:{"\u09ac\u09c8\u09b6\u09be\u0996":{fullMoon:28,newMoon:13,days:31,firstDay:2,english:{months:[["April",2025],["May",2025]],dates:{April:{start:15,end:30},May:{start:1,end:15}}},bengaliSpecialDates:{10:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],24:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],1:["\u09a8\u09ac\u09ac\u09b0\u09cd\u09b7"],28:["\u09ac\u09c1\u09a6\u09cd\u09a7 \u09aa\u09c2\u09b0\u09cd\u09a3\u09bf\u09ae\u09be"],25:["\u09b0\u09ac\u09c0\u09a8\u09cd\u09a6\u09cd\u09b0 \u099c\u09df\u09a8\u09cd\u09a4\u09c0"],16:["\u0985\u0995\u09cd\u09b7\u09df \u09a4\u09c3\u09a4\u09c0\u09df\u09be"],17:["\u09ae\u09c7 \u09a6\u09bf\u09ac\u09b8"]}},"\u099c\u09cd\u09af\u09c8\u09b7\u09cd\u09a0":{newMoon:12,fullMoon:27,days:31,firstDay:5,english:{months:[["May",2025],["June",2025]],dates:{May:{start:16,end:31},June:{start:1,end:15}}},bengaliSpecialDates:{17:["\u099c\u09be\u09ae\u09be\u0987 \u09b7\u09b7\u09cd\u09a0\u09c0"],23:["\u09ac\u0995\u09b0\u09bf \u0988\u09a6"],8:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],22:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"]}},"\u0986\u09b7\u09be\u09a2\u09bc":{newMoon:10,fullMoon:25,days:32,firstDay:1,english:{months:[["June",2025],["July",2025]],dates:{June:{start:16,end:30},July:{start:1,end:17}}},bengaliSpecialDates:{6:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],12:["\u09b0\u09a5 \u09af\u09be\u09a4\u09cd\u09b0\u09be"],21:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"]}},"\u09b6\u09cd\u09b0\u09be\u09ac\u09a3":{fullMoon:23,newMoon:7,days:31,firstDay:5,english:{months:[["July",2025],["August",2025]],dates:{July:{start:18,end:31},August:{start:1,end:17}}},bengaliSpecialDates:{4:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],19:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],23:["\u09b0\u09be\u0996\u09bf \u09ac\u09a8\u09cd\u09a7\u09a8"],27:["\u09a8\u09be\u0997 \u09aa\u099e\u09cd\u099a\u09ae\u09c0"],29:["\u099c\u09a8\u09cd\u09ae\u09be\u09b7\u09cd\u099f\u09ae\u09c0"],30:["\u099c\u09a8\u09cd\u09ae\u09be\u09b7\u09cd\u099f\u09ae\u09c0"]}},"\u09ad\u09be\u09a6\u09cd\u09b0":{fullMoon:21,newMoon:6,days:31,firstDay:1,english:{months:[["August",2025],["September",2025]],dates:{August:{start:18,end:31},September:{start:1,end:17}}},bengaliSpecialDates:{19:["\u09b6\u09bf\u0995\u09cd\u09b7\u0995 \u09a6\u09bf\u09ac\u09b8"],31:["\u09ac\u09bf\u09b6\u09cd\u09ac\u0995\u09b0\u09cd\u09ae\u09be \u09aa\u09c1\u099c\u09cb"],2:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],17:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"]}},"\u0986\u09b6\u09cd\u09ac\u09bf\u09a8":{fullMoon:20,newMoon:4,days:31,firstDay:4,english:{months:[["September",2025],["October",2025]],dates:{September:{start:18,end:30},October:{start:1,end:18}}},bengaliSpecialDates:{4:["\u09ae\u09b9\u09be\u09b2\u09df\u09be"],10:["\u09aa\u099e\u09cd\u099a\u09ae\u09c0"],11:["\u09b7\u09b7\u09cd\u09a0\u09c0"],12:["\u09b8\u09aa\u09cd\u09a4\u09ae\u09c0"],13:["\u0985\u09b7\u09cd\u099f\u09ae\u09c0"],14:["\u09a8\u09ac\u09ae\u09c0"],15:["\u09a6\u09b6\u09ae\u09c0"],19:["\u09b2\u0995\u09cd\u09b7\u09cd\u09ae\u09c0 \u09aa\u09c1\u099c\u09cb"],20:["\u09b2\u0995\u09cd\u09b7\u09cd\u09ae\u09c0 \u09aa\u09c1\u099c\u09cb"],31:["\u09a7\u09a8\u09cd\u09a4\u09c7\u09b0\u09be\u09b8"],16:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],30:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"]}},"\u0995\u09be\u09b0\u09cd\u09a4\u09bf\u0995":{fullMoon:18,newMoon:3,bengaliSpecialDates:{2:["\u0995\u09be\u09b2\u09c0 \u09aa\u09c1\u099c\u09cb"],3:["\u09a6\u09c0\u09aa\u09be\u09ac\u09b2\u09c0"],4:["\u09ad\u09be\u0987\u09ab\u09cb\u0981\u099f\u09be"],5:["\u09ad\u09be\u0987\u09ab\u09cb\u0981\u099f\u09be"],9:["\u099b\u099f \u09aa\u09c1\u099c\u09cb"],18:["\u0997\u09c1\u09b0\u09c1  \u09a8\u09be\u09a8\u0995","\u099c\u09df\u09a8\u09cd\u09a4\u09c0"],14:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],28:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"]},days:30,firstDay:0,english:{months:[["October",2025],["November",2025]],dates:{October:{start:19,end:31},November:{start:1,end:17}}}},"\u0985\u0997\u09cd\u09b0\u09b9\u09be\u09af\u09bc\u09a3":{fullMoon:17,newMoon:3,bengaliSpecialDates:{14:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],28:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"]},days:29,firstDay:2,english:{months:[["November",2025],["December",2025]],dates:{November:{start:18,end:30},December:{start:1,end:16}}}},"\u09aa\u09cc\u09b7":{fullMoon:18,newMoon:3,bengaliSpecialDates:{9:["\u09ac\u09dc\u09a6\u09bf\u09a8"],14:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],16:["\u09a8\u09bf\u0989 \u0987\u09df\u09be\u09b0"],27:["\u09b8\u09cd\u09ac\u09be\u09ae\u09c0 \u09ac\u09bf\u09ac\u09c7\u0995\u09be\u09a8\u09a8\u09cd\u09a6","\u099c\u09a8\u09cd\u09ae\u09a6\u09bf\u09a8"],29:["\u09ae\u0995\u09b0","\u09b8\u0982\u0995\u09cd\u09b0\u09be\u09a8\u09cd\u09a4\u09bf"]},days:29,firstDay:3,english:{months:[["December",2025],["January",2026]],dates:{December:{start:17,end:31},January:{start:1,end:14}}}},"\u09ae\u09be\u0998":{fullMoon:18,newMoon:4,bengaliSpecialDates:{9:["\u09b8\u09b0\u09b8\u09cd\u09ac\u09a4\u09c0","\u09aa\u09c1\u099c\u09cb"],12:["\u09aa\u09cd\u09b0\u099c\u09be\u09a4\u09a8\u09cd\u09a4\u09cd\u09b0","\u09a6\u09bf\u09ac\u09b8"],30:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],15:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"]},days:30,firstDay:4,english:{months:[["January",2026],["February",2026]],dates:{January:{start:15,end:31},February:{start:1,end:13}}}},"\u09ab\u09be\u09b2\u09cd\u0997\u09c1\u09a8":{fullMoon:18,newMoon:4,bengaliSpecialDates:{30:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],2:["\u09b6\u09bf\u09ac\u09b0\u09be\u09a4\u09cd\u09b0\u09bf",""],14:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],18:["\u09a6\u09cb\u09b2\u09af\u09be\u09a4\u09cd\u09b0\u09be"]},days:30,firstDay:6,english:{months:[["February",2026],["March",2026]],dates:{February:{start:14,end:28},March:{start:1,end:15}}}},"\u099a\u09c8\u09a4\u09cd\u09b0":{fullMoon:18,newMoon:4,bengaliSpecialDates:{11:["\u09b0\u09be\u09ae \u09a8\u09ac\u09ae\u09c0"],12:["\u09b0\u09be\u09ae \u09a8\u09ac\u09ae\u09c0"],14:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],29:["\u09a8\u09c0\u09b2 \u09aa\u09c1\u099c\u09cb","\u098f\u0995\u09be\u09a6\u09b6\u09c0"]},days:30,firstDay:1,english:{months:[["March",2026],["April",2026]],dates:{March:{start:16,end:31},April:{start:1,end:14}}}}},monthList:["\u09ac\u09c8\u09b6\u09be\u0996","\u099c\u09cd\u09af\u09c8\u09b7\u09cd\u09a0","\u0986\u09b7\u09be\u09a2\u09bc","\u09b6\u09cd\u09b0\u09be\u09ac\u09a3","\u09ad\u09be\u09a6\u09cd\u09b0","\u0986\u09b6\u09cd\u09ac\u09bf\u09a8","\u0995\u09be\u09b0\u09cd\u09a4\u09bf\u0995","\u0985\u0997\u09cd\u09b0\u09b9\u09be\u09af\u09bc\u09a3","\u09aa\u09cc\u09b7","\u09ae\u09be\u0998","\u09ab\u09be\u09b2\u09cd\u0997\u09c1\u09a8","\u099a\u09c8\u09a4\u09cd\u09b0"]}),ae=n(93433);var ie={0:"\u09e6",1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef"};var re={generateEnglishDates:function(e,t){var n=ne.months[e].english.dates,i=ne.months[e].english.months,r=(0,a.Z)(i[0],1)[0],o=[],s=0;return t.forEach((function(e){var t=[];e.forEach((function(e){if(0===e)t.push(e);else{var o=n[r].start+s;if(o>n[r].end){s=0;var l=(0,a.Z)(i[1],1);r=l[0],t.push([r,n[r].start+s])}else t.push([r,o]);s+=1}})),o.push(t)})),o},getMonthSpecialDates:function(e,t){var n=ne.months[e].english.months,i={};return n.forEach((function(n){var r=(0,a.Z)(n,1)[0];if(r in t&&Object.keys(t[r]).length>0){console.log("get month special dates",e,t,r,r in t);var o=ne.months[e].english.dates[r];Object.entries(t[r]).forEach((function(e){var t=(0,a.Z)(e,2),n=t[0],s=t[1];n>=o.start&&n<=o.end&&(r in i||(i[r]={}),i[r][n]=s)}))}})),i},getEnglishMonthsHeader:function(e){var t=(0,a.Z)(e,2),n=t[0],i=t[1],r=(0,a.Z)(n,2),o=r[0],s=r[1],l=(0,a.Z)(i,2),c=l[0],d=l[1],h=o.slice(0,3),g=c.slice(0,3);return s===d?"".concat(h," - ").concat(g," ").concat(s):"".concat(h," ").concat(s," - ").concat(g," ").concat(d)},getBengali:function(e){var t,n=e.toString().split("").map(Number).map((function(e){return ie[e]}));return(t="").concat.apply(t,(0,ae.Z)(n))}},oe=function(e,t){var n=427;console.log("in get bengali config",e,t,.25*e/n);var a=16*e/n,i=16*e/n,r=K(e,t);return(0,v.Z)((0,v.Z)({},r),{},{dateBox:{width:e,height:t,startX:0,startY:0,endX:e,radius:0,endY:t,color:"rgba(204,119,34,0.1)"},year:(0,v.Z)((0,v.Z)({},r.year),{},{startX:e-a,startY:0+a/2+1*i,color:"gray"}),month:(0,v.Z)((0,v.Z)({},r.month),{},{startX:a,startY:0+a/2+1*i,color:"green",font:"".concat(1.2*i,"px NotoBengali")}),divider:(0,v.Z)((0,v.Z)({},r.divider),{},{startX:a,startY:a/2+1.5*i*1,endX:e-a,endY:a+1.5*i*1}),weekRow:{letters:["\u09b0","\u09b8\u09cb","\u09ae","\u09ac\u09c1","\u09ac\u09c3","\u09b6\u09c1","\u09b6"],letterWidth:16*e/n,startX:a,startY:a/2+1.5*i*1.7,endX:e-a,width:e-2*a,font:"".concat(i,"px NotoBengali")},dates:(0,v.Z)((0,v.Z)({},r.dates),{},{startX:a,startY:a/2+1.5*i*1.9,endX:e-a,width:e-2*a,height:.95*t-1.5*a-1.5*i*1.9,color:"rgba(0, 0, 0, 0.12)",lineWidth:2,font:"".concat(1*i,"px NotoBengali"),efont:"".concat(.8*i,"px sans-serif"),sfont:"".concat(.6*i,"px NotoBengali"),scale:r.dates.scale/1.5,radius:5*e/n}),grid:{lineWidth:.25*e/n}})};function se(e,t,n,a,i,r){e.save(),e.beginPath(),e.arc(t,n,a,0,2*Math.PI),e.fillStyle=i,e.fill(),e.lineWidth=1,e.strokeStyle=r,e.stroke(),e.restore()}function le(e,t,n,a,i,r,o,s){e.save(),e.textBaseline="bottom";var l=t.radius,c=t.startX,d=t.startY;n.forEach((function(n,h){var g=d+h*r;n.forEach((function(n,d){var u=0===n?" ":re.getBengali(n),m=0===n?" ":o[h][d][1],f=o[h][d][0],p=c+i*d;!function(e,t,n,a,i,r,o,s){var l=r+13*a/16,c=o+i/4,d=ne.months[n],h=d.fullMoon,g=d.newMoon;h===t&&se(e,l,c,s,"white","gray"),g===t&&se(e,l,c,s,"black","gray")}(e,n,s,i,r,p,g,l),function(e,t,n,a,i,r,o,s,l){var c=t.scale,d=t.letterWidth,h=t.efont,g=l+o,u=s+13*r/16;if(n in i&&a in i[n]){var m=i[n][a];if("Other"===m)V.renderText(e,a,h,"brown",u,g,"center");else{var f=u-r/16,p=g-d;V.renderSpecialDates(e,c,f,p,u,g,m,a)}}else V.renderText(e,a,h,"gray",u,g,"center")}(e,t,f,m,a,i,r,p,g),function(e,t,n,a,i,r,o,s){var l=t.font,c=o+i/4,d=s+r/2,h=0===a||6===a?"red":"green";V.renderText(e,n,l,h,c,d,"center")}(e,t,u,d,i,r,p,g),function(e,t,n,a,i,r,o,s){var l=t.sfont,c=s+r/2,d=o+i/2,h="bengaliSpecialDates"in ne.months[a]?ne.months[a].bengaliSpecialDates:{};if(n in h)if(1===h[n].length)V.renderText(e,h[n],l,"#0047AB",d,c,"center","top");else{var g=o+i/16,u=s+r;V.renderText(e,h[n][0],l,"#0047AB",g,c,"start","top"),V.renderText(e,h[n][1],l,"#0047AB",g,u,"start","bottom")}}(e,t,n,s,i,r,p,g)}))})),e.restore()}function ce(e,t,n,a,i,r,o){var s=t.dateBox,l=t.month,c=t.divider,d=t.year,h=ne.months[a].english.months,g=re.generateEnglishDates(a,r);V.renderRoundedRect(e,s.startX,s.startY,s.width,s.height,s.radius,s.color);var u=d.font,m=d.color,f=d.startX,p=d.startY,x=re.getEnglishMonthsHeader(h);V.renderText(e,x,u,m,f,p,"right");var b="".concat(a.toUpperCase(),"  ").concat(re.getBengali(n)),v=l.font,w=l.color,y=l.startX,C=l.startY;V.renderText(e,b,v,w,y,C);var Z=c.startX,j=(c.endX-Z)/7,D=t.dates.height/r.length,I=re.getMonthSpecialDates(a,i);!function(e,t,n,a,i){var r=t.divider,o=r.startX,s=r.startY,l=t.dates,c=l.startX,d=l.startY,h=l.width,g=l.height;V.drawLine(e,o,s,o+7*n,s,"black",t.grid.lineWidth);for(var u=0;u<=7;u+=1){var m=o+n*u,f=s+g+(d-s);V.drawLine(e,m,s,m,f,"black",t.grid.lineWidth)}for(var p=0;p<=i;p+=1){var x=d+a*p,b=c+h;V.drawLine(e,c,x,b,x,"black",t.grid.lineWidth)}}(e,t,j,D,r.length),function(e,t,n){e.save(),e.textAlign="center",e.font=t.font,t.letters.forEach((function(a,i){e.fillStyle=0===i||6===i?"red":"black",e.fillText(a,t.startX+n*(i+1)-n/2,t.startY)})),e.restore()}(e,t.weekRow,j),le(e,t.dates,r,I,j,D,g,a),V.renderBranding(e,t.branding),o()}var de={generateDates:function(e,t,n,a,i,r,o,s,l){console.log("bengali generate date",r);var c=M.monthCanvas[r],d=c.width,h=c.height,g=c.maxCanvasWidth,u=l.months[t],m=u.days,f=u.firstDay;if("potrait"===a){var p=l.potrait.dateHeightFraction;V.generateDates(e,1432,t,m,f,n||{},d,h*p,g,o,s,oe,ce)}if("landscape"===a){var x=l.landscape,b=x.dateWidthFraction,v=x.bindingHeightFraction;V.generateDates(e,1432,t,m,f,n||{},h*b,"none"===i?d:d*(1-v),g,o,s,G,Q)}}},he=n(41806);function ge(e){var t=e.month,n=(0,i.useRef)(null),a=(0,i.useContext)(x),r=a.config,o=a.dimensions,s=a.backImages,l=a.specialDates,c=r.potrait.dateHeightFraction,d=o.height,h=o.width,g=d*c,u=d*(1-c);return console.log("bengali date box",s,l),(0,i.useEffect)((function(){null!=n.current&&de.generateDates(n.current,t,s[t]||{},"potrait","none","Browser",(function(){}),l||{},r)}),[n,s,l]),(0,T.jsx)(he.Z,{width:h,height:g,sx:{mt:0,mb:0,boxSizing:"border-box",position:"absolute",top:u,zIndex:120},children:(0,T.jsx)("canvas",{style:{zIndex:120},ref:n})})}function ue(e){var t=e.handleChange,n=e.handleEditChange,a=e.MonthComp,i=e.DateComp,r=e.ImageComp;return ne.monthList.map((function(e){return(0,T.jsx)(a,{month:e,year:1432,handleChange:t,handleImageEdit:function(t){var a;if(t.current){var i=null===(a=t.current)||void 0===a?void 0:a.getCroppingRect(),r=i.width,o=i.height,s=i.x,l=i.y;n({cropWidth:r,cropHeight:o,x:s,y:l},e)}},ImageComp:r,DateComp:i},e)}))}function me(e){var t=e.handleImageChange,n=e.handleEditChange,a=e.MonthComp,i=e.ImageComp;return(0,T.jsx)(r.ZP,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",sx:{backgroundColor:"black",mt:0},rowSpacing:2,children:(0,T.jsx)(ue,{handleChange:t,handleEditChange:n,spacing:2,MonthComp:a,ImageComp:i,DateComp:ge})})}var fe={config:ne,generateImage:_.generateImage,generateDates:de.generateDates,drawSheet:_.drawSheet,totalImageRenderCount:24,Year:(0,i.memo)(me)},pe=(0,v.Z)((0,v.Z)({},A),{},{potrait:(0,v.Z)((0,v.Z)({},A.potrait),{},{imageHeightFraction:1}),months:{}}),xe=function(e,t){console.log("in get config",e,t);var n=427,a=n/.707,i=16*e/n,r=16*e/n;return{dateBoxArea:{width:e,height:t,startX:0,startY:0,endX:e,endY:t,bgcolor:"white"},branding:{bsx:i,bsy:.95*t-i+1.3*t*8/a,bw:e-2*i,bh:.075*t,br:5*e/n,bf:"bold ".concat(.5*r,"px KaushanScript"),bfr:"bold ".concat(.4*r,"px sans-serif"),bc:"rgba(255,255,255,1)",bstx:2*i,bsty:.95*t-i+1.3*t*8/a+.075*t/2,scale:16*e*.4/8540,iconWidth:16*e*.4/n},month:{startX:e-i,startY:t-3*i,color:"#0047AB",font:"bold ".concat(1.2*r,"px sans-serif")}}};function be(e,t,n,a,i,r,o){console.log("default generate date",n,i,r);var s=t.month;V.renderRoundedRect(e,s.startX-75,s.startY-25,150,40,5,"rgba(255,255,255,0.6)"),V.renderText(e,a.toUpperCase(),s.font,s.color,s.startX,s.startY,"right"),V.renderBranding(e,t.branding),o()}var ve={config:pe,generateImage:_.generateImage,generateDates:function(e,t,n,a,i,r,o,s,l){console.log("default generate date",r,i);var c=M.year,d=M.monthCanvas[r],h=d.width,g=d.height,u=d.maxCanvasWidth,m=M.months[t],f=m.days,p=m.firstDay;if("potrait"===a){var x=l.potrait.dateHeightFraction;V.generateDates(e,c,t,f,p,n||{},h,g*x,u,o,s,xe,be)}},drawSheet:_.drawSheet,totalImageRenderCount:24,Year:E},we={default:ee,fullimage:te,bengali:fe,custom:ve},ye=n(35508),Ce=n(4942);function Ze(){var e=(0,i.useState)([]),t=(0,a.Z)(e,2),n=t[0],r=t[1],o=(0,i.useCallback)((function(e,t){return r((function(n){return(0,v.Z)((0,v.Z)({},n),{},(0,Ce.Z)({},t,e))}))}),[]),s=(0,i.useCallback)((function(e,t){var a=n[t];r((function(n){return(0,v.Z)((0,v.Z)({},n),{},(0,Ce.Z)({},t,(0,v.Z)((0,v.Z)({},a),e)))}))}));return[n,o,s,function(){console.log("in empty images"),r({})}]}function je(){var e=(0,i.useState)([]),t=(0,a.Z)(e,2),n=t[0],r=t[1];return[n,function(e,t){return r((function(n){return 0===n.length?[[e,t]]:[].concat((0,ae.Z)(n),[[e,t]])}))},function(){return r([])}]}var De=n(45987),Ie=n(49142);function Se(){var e=(0,i.useState)({January:{},February:{},March:{},April:{},May:{},June:{},July:{},August:{},September:{},October:{},November:{},December:{}}),t=(0,a.Z)(e,2),n=t[0],r=t[1];return[n,function(e,t,a){r((function(i){var r=(0,v.Z)((0,v.Z)({},i[e]),{},(0,Ce.Z)({},t,a));return console.log("in add date",(0,v.Z)((0,v.Z)({},n),{},(0,Ce.Z)({},e,r))),(0,v.Z)((0,v.Z)({},n),{},(0,Ce.Z)({},e,r))}))},function(e,t){var a=n[e],i=(a[t],(0,De.Z)(a,[t].map(Ie.Z)));console.log("in remove date",e,t,(0,v.Z)((0,v.Z)({},n),{},(0,Ce.Z)({},e,i))),r((0,v.Z)((0,v.Z)({},n),{},(0,Ce.Z)({},e,i)))}]}var We=n(19536),Fe=n(93405),He=n(32195),ke=n(31095),Me=n(72429),Ae=n(23306),Te=n(51405),Re=n(1550),Be=n(24256),Ee=n(83213),Ye=n(74748);function Xe(e){var t=e.label,n=e.value,a=e.options,i=e.handleChange,r=e.disabled;return(0,T.jsxs)(Re.Z,{variant:"standard",sx:{minWidth:{xs:68,sm:50,md:100},mr:1},size:"small",children:[(0,T.jsx)(Ae.Z,{id:"demo-simple-select-label",children:t}),(0,T.jsx)(Be.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",autoWidth:!0,value:n,label:t,onChange:function(e){return i(e.target.value)},sx:{fontSize:"0.9rem",maxHeight:"100px"},MenuProps:{sx:{maxHeight:"300px"}},disabled:r,children:a.map((function(e){return(0,T.jsx)(Te.Z,{value:e.value,children:(0,T.jsxs)(He.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.icon?(0,T.jsx)(Ye.Z,{children:e.icon}):null,(0,T.jsx)(Ee.Z,{children:e.label})]})},e.value)}))})]})}Xe.defaultProps={disabled:!1};var ze=n(49695),Le=n(11069),Oe=n(15919),Pe=n(75930),Je=n(98481);function Ne(e){var t=e.handleOpen,n=e.addDate,r=M.monthList,s=M.months,l=(0,i.useState)(""),d=(0,a.Z)(l,2),h=d[0],g=d[1],u=(0,i.useState)(""),m=(0,a.Z)(u,2),f=m[0],p=m[1],x=(0,i.useState)(""),b=(0,a.Z)(x,2),v=b[0],w=b[1],y=r.map((function(e){return{label:e,value:e}})),C=[{value:"Birthday",label:"Birthday",icon:(0,T.jsx)(ze.Z,{sx:{color:"#FF5B61"}})},{value:"Anniversary",label:"Anniversary",icon:(0,T.jsx)(Le.Z,{sx:{color:"red"}})},{value:"Home",label:"Home",icon:(0,T.jsx)(Oe.Z,{sx:{color:"#5F9EA0"}})},{value:"Travel",label:"Travel",icon:(0,T.jsx)(Pe.Z,{sx:{color:"blue"}})},{value:"Other",label:"Other",icon:(0,T.jsx)(Je.Z,{sx:{color:"brown"}})}],Z=[];if(""!==h)for(var j=s[h].days,D=1;D<=j;D+=1)Z.push({label:D,value:D});return(0,T.jsxs)(o.Z,{sx:{mb:1},children:[(0,T.jsx)(c.Z,{title:"Add Special Dates",sx:{color:"gray"},action:(0,T.jsx)(Me.Z,{handleClose:function(){return t(!1)}})}),(0,T.jsx)(We.Z,{}),(0,T.jsx)(Fe.Z,{children:(0,T.jsxs)(He.Z,{direction:"row",sx:{p:2},justifyContent:"space-around",children:[(0,T.jsx)(Xe,{label:"Month",value:h,options:y,handleChange:g}),(0,T.jsx)(Xe,{label:"Date",value:f,options:Z,handleChange:p,disabled:!h}),(0,T.jsx)(Xe,{label:"Type",value:v,options:C,handleChange:w,disabled:!f}),(0,T.jsx)(ke.Z,{disabled:!(h&&f&&v),variant:"outlined",onClick:function(){n(h,f,v),g(""),p(""),w("")},children:"Add"})]})})]})}var Ue=n(24076),Ve=n(67478),Ke=n(47131),qe=n(23477),Ge=n(61113),Qe=n(66835),$e=n(57861),_e=n(11198),et={Birthday:(0,T.jsx)(ze.Z,{sx:{color:"#FF5B61"}}),Anniversary:(0,T.jsx)(Le.Z,{sx:{color:"red"}}),Home:(0,T.jsx)(Oe.Z,{sx:{color:"#5F9EA0"}}),Travel:(0,T.jsx)(Pe.Z,{sx:{color:"blue"}}),Other:(0,T.jsx)(Je.Z,{sx:{color:"brown"}})};function tt(e){var t=e.date,n=e.type,a=e.handleRemove;return(0,T.jsxs)(Ue.Z,{children:[(0,T.jsx)(Ve.Z,{align:"right",children:t},t),(0,T.jsxs)(Ve.Z,{align:"right",children:[n," "]},n),(0,T.jsx)(Ve.Z,{align:"right",children:et[n]},et[n]),(0,T.jsx)(Ve.Z,{align:"right",children:(0,T.jsx)(Ke.Z,{onClick:a,children:(0,T.jsx)(_e.Z,{})})},"remove-button")]},"".concat(t,"-").concat(n))}function nt(e){var t=e.label;return(0,T.jsx)(Ve.Z,{align:"right",sx:{fontWeight:"bold",color:"gray"},children:t})}function at(){return(0,T.jsx)(qe.Z,{children:(0,T.jsxs)(Ue.Z,{children:[(0,T.jsx)(nt,{label:"Date"},"Date"),(0,T.jsx)(nt,{label:"Type"},"Type"),(0,T.jsx)(nt,{label:"Icon"},"Icon"),(0,T.jsx)(nt,{label:"Remove"},"Remove")]})})}function it(e){var t=e.removeDate,n=(0,i.useContext)(x).specialDates,a=M.monthList.map((function(e){return Object.keys(n[e]).length>0?(0,T.jsxs)("div",{children:[(0,T.jsx)(Ge.Z,{variant:"h6",sx:{textAlign:"center",fontWeight:"bold",p:1},children:e},e),(0,T.jsxs)(Qe.Z,{size:"small",children:[(0,T.jsx)(at,{}),(0,T.jsx)($e.Z,{children:Object.keys(n[e]).map((function(a){return(0,T.jsx)(tt,{date:a,type:n[e][a],handleRemove:function(){return t(e,a)}},"".concat(e,"-").concat(a))}))})]})]},e):null})).filter((function(e){return!!e}));return a.length>0?(0,T.jsxs)(o.Z,{sx:{maxHeight:"500px",overflowY:"scroll",scrollbarWidth:"none"},children:[(0,T.jsx)(c.Z,{title:"Added Dates",sx:{fontColor:"gray"}}),(0,T.jsx)(We.Z,{}),(0,T.jsx)(Fe.Z,{children:a})]}):null}function rt(e){var t=e.open,n=e.handleOpen,a=e.addDate,i=e.removeDate;return(0,T.jsxs)(d.Z,{fullWidth:!0,open:t,PaperProps:{sx:{backgroundColor:"transparent"},elevation:0},children:[(0,T.jsx)(Ne,{handleOpen:n,addDate:a}),(0,T.jsx)(it,{removeDate:i})]})}var ot=[{label:"Default",value:"default"},{label:"Full Image",value:"fullimage"},{label:"Bengali",value:"bengali"},{label:"Custom",value:"custom"}];function st(e){var t=e.setOptions,n=e.handleDatesClick,r=(0,i.useState)("default"),o=(0,a.Z)(r,2),s=o[0],l=o[1];return(0,i.useEffect)((function(){return t(s)}),[s]),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Xe,{label:"Theme",value:s,options:ot,handleChange:function(e){return l(e)}}),(0,T.jsx)(ke.Z,{onClick:n,children:"Dates"})]})}var lt=n(75908),ct=n(9289);function dt(e){var t=e.month,n=(0,i.useRef)(null),a=(0,i.useContext)(x),r=a.config,o=a.dimensions,s=a.backImages,l=a.specialDates,c=a.generateDates,d=r.potrait.dateHeightFraction,h=o.height,g=o.width,u=h*d,m=h*(1-d);return console.log("potrait date box",s),(0,i.useEffect)((function(){null!=n.current&&c(n.current,t,s[t]||{},"potrait","none","Browser",(function(){}),l||{},r)}),[n,s,l[t]]),(0,T.jsx)(he.Z,{width:g,height:u,sx:{mt:0,mb:0,boxSizing:"border-box",position:"absolute",top:m,zIndex:120},children:(0,T.jsx)("canvas",{style:{zIndex:120},ref:n})})}function ht(e){var t=e.month,n=e.children,a=(0,i.useContext)(x).dimensions;return(0,T.jsx)(r.ZP,{item:!0,children:(0,T.jsx)(he.Z,{component:"div",sm:12,md:6,lg:4,sx:{width:a.width,height:a.height,color:"black",display:"flex",position:"relative",overflow:"hidden",backgroundColor:"white"},children:n})},t)}function gt(e){var t=e.year,n=e.month,a=e.ImageComp,i=e.DateComp,r=e.handleChange,o=e.handleImageEdit,s=e.genDateFunc;return console.log("potrait month",t,n),(0,T.jsxs)(ht,{month:n,children:[(0,T.jsx)(a,{month:n,handleChange:r,handleImageEdit:o}),(0,T.jsx)(i,{year:t,month:n,genDateFunc:s})]})}gt.defaultProps={genDateFunc:function(){}};var ut=n(41070),mt=n.n(ut),ft=n(65954),pt=n(61689);function xt(e){var t=e.image,n=e.width,r=e.height,o=e.border,s=e.color,l=e.scale,c=e.rotate,d=e.onImageChange,h=e.onImageReady,g=e.handleImageChange,u=(0,i.useRef)(),m=(0,i.useState)(""),f=(0,a.Z)(m,2),p=f[0],x=f[1];return(0,i.useEffect)((function(){x(t.src)}),[t,n,r,l]),(0,T.jsxs)(he.Z,{component:"div",sx:{width:n,height:r,zIndex:2,position:"absolute",top:0,left:0},children:[(0,T.jsx)(mt(),{ref:u,image:p,style:{width:n,height:r},width:n,height:r,border:o,color:s,scale:l,rotate:c,onImageChange:function(){return d(u)},onImageReady:function(){return h(u)}}),(0,T.jsx)(pt.Z,{title:"Edit",children:(0,T.jsx)(Ke.Z,{onClick:g,sx:{position:"absolute",top:"90%",right:"10px",backgroundColor:"rgba(255,255,255, 0.5)","&:hover":{backgroundColor:"rgba(255,255,255, 0.7)",p:1.2},transform:"translate(0, -50%)"},children:(0,T.jsx)(ft.Z,{})})})]})}xt.defaultProps={scale:1,rotate:0,border:0,onImageReady:function(){},onImageChange:function(){},color:[0,0,0,.6],handleImageChange:function(){}};var bt=n(30627);function vt(e){var t=e.height;return(0,T.jsxs)(He.Z,{direction:"row",justifyContent:"space-around",alignItems:"center",sx:{width:"100%",height:t,backgroundSize:"cover"},children:[(0,T.jsx)(bt.Z,{fontSize:"5px",sx:{color:"rgba(0,0,0,0.12)"}}),(0,T.jsx)(bt.Z,{fontSize:"5px",sx:{color:"rgba(0,0,0,0.12)"}}),(0,T.jsx)(bt.Z,{fontSize:"5px",sx:{color:"rgba(0,0,0,0.12)"}}),(0,T.jsx)(bt.Z,{fontSize:"5px",sx:{color:"rgba(0,0,0,0.12)"}}),(0,T.jsx)(bt.Z,{fontSize:"5px",sx:{color:"rgba(0,0,0,0.12)"}}),(0,T.jsx)(bt.Z,{fontSize:"5px",sx:{color:"rgba(0,0,0,0.12)"}}),(0,T.jsx)(bt.Z,{fontSize:"5px",sx:{color:"rgba(0,0,0,0.12)"}})]})}var wt=n(75192),yt=n.n(wt),Ct=n(59344),Zt=(0,i.forwardRef)((function(e,t){var n=e.month,a=e.handleChange;return(0,T.jsxs)(he.Z,{sx:{backgroundColor:"white",position:"relative",width:"100%",height:"100%"},children:[(0,T.jsx)("input",{ref:t,type:"file",accept:"image/*",style:{opacity:"0.0",position:"absolute",width:"100%",height:"100%",zIndex:1,border:"2px dashed gray"},onChange:function(e){return a(e.target.files[0],n)}}),(0,T.jsxs)(Ke.Z,{size:"large",color:"primary",sx:{top:"50%",left:"50%",position:"absolute",transform:"translate(-50%, -50%)"},children:[(0,T.jsx)(Ct.Z,{}),(0,T.jsx)(Ge.Z,{children:"Add Image"})]})]})}));Zt.propTypes={month:yt().string.isRequired,handleChange:yt().func.isRequired};var jt=Zt;function Dt(e){var t=e.month,n=e.handleChange,r=e.handleImageEdit,o=(0,i.useState)({}),s=(0,a.Z)(o,2),l=s[0],c=s[1],d=(0,i.useRef)(null),h=(0,i.useContext)(x),g=h.config,u=h.dimensions,m=h.binding,f=g.potrait,p=f.imageHeightFraction,b=f.bindingHeightFraction,w=u.height,y=u.width,C=w*p,Z=w*b,j="none"===m?C:C-Z,D="none"===m?0:Z;return console.log("potrait image box",g),(0,T.jsxs)(he.Z,{sx:{height:C,width:"inherit",position:"relative"},children:["none"===m?null:(0,T.jsx)(vt,{height:Z}),(0,T.jsxs)(he.Z,{width:y,height:j,sx:{position:"absolute",top:D},children:[(0,T.jsx)(jt,{month:t,handleChange:function(e,t){var a=new Image;a.onload=function(i){var r=i.target,o=r.naturalWidth,s=r.naturalHeight,l=(0,v.Z)((0,v.Z)({},X.getImageDets(e,o,s,a)),{},{elem:a});c(l),n(l,t)},a.src=e instanceof File?URL.createObjectURL(e):e},ref:d}),"src"in l?(0,T.jsx)(xt,{scale:1,image:l,width:y,height:j,onImageChange:r,onImageReady:r,handleImageChange:function(){var e;return null===(e=d.current)||void 0===e?void 0:e.click()}}):null]})]})}function It(e){var t=e.year,n=e.month,a=e.ImageComp,i=e.DateComp,r=e.handleChange,o=e.handleImageEdit;return console.log("landscape month",t,n),(0,T.jsx)(ht,{month:n,children:(0,T.jsxs)(He.Z,{direction:"row",sx:{width:"inherit"},justifyContent:"space-between",children:[(0,T.jsx)(a,{month:n,handleChange:r,handleImageEdit:o}),(0,T.jsx)(i,{year:t,month:n})]})})}function St(e){var t=e.month,n=e.handleChange,r=e.handleImageEdit,o=(0,i.useState)({}),s=(0,a.Z)(o,2),l=s[0],c=s[1],d=(0,i.useRef)(null),h=(0,i.useContext)(x),g=h.config,u=h.dimensions,m=h.binding,f=g.landscape,p=f.imageWidthFraction,b=f.bindingHeightFraction,w=u.height,y=u.width*p,C=w*b,Z="none"===m?w:w-C,j="none"===m?0:C;return(0,T.jsxs)(he.Z,{sx:{height:w,width:y},children:["none"===m?null:(0,T.jsx)(vt,{height:C}),(0,T.jsxs)(he.Z,{width:y,height:Z,sx:{position:"absolute",top:j},children:[(0,T.jsx)(jt,{month:t,handleChange:function(e,t){var a=new Image;a.onload=function(i){var r=i.target,o=r.naturalWidth,s=r.naturalHeight,l=(0,v.Z)((0,v.Z)({},X.getImageDets(e,o,s,a)),{},{elem:a});c(l),n(l,t)},a.src=e instanceof File?URL.createObjectURL(e):e},ref:d}),"src"in l?(0,T.jsx)(xt,{scale:1,image:l,width:y,height:Z,onImageChange:r,onImageReady:r,handleImageChange:function(){var e;return null===(e=d.current)||void 0===e?void 0:e.click()}}):null]})]})}function Wt(e){var t=e.month,n=(0,i.useRef)(null),a=(0,i.useContext)(x),r=a.config,o=a.dimensions,s=a.backImages,l=a.specialDates,c=a.binding,d=r.landscape,h=d.dateWidthFraction,g=d.imageWidthFraction,u=d.bindingHeightFraction,m=o.height,f=o.width,p=m*u,b=f*h,v="none"===c?0:p,w=f*g,y="none"===c?m:m-p;return(0,i.useEffect)((function(){null!=n.current&&t in s&&_.generateDates(n.current,t,s[t],"landscape",c,"Browser",(function(){}),l||{})}),[n,s,l[t]]),(0,T.jsxs)(he.Z,{width:b,height:m,children:["none"===c?null:(0,T.jsx)(vt,{height:p}),(0,T.jsx)(he.Z,{width:b,height:y,sx:{boxSizing:"border-box",position:"absolute",top:v,left:w},children:(0,T.jsx)("canvas",{style:{zIndex:120},ref:n})})]})}function Ft(e){var t=e.orientation,n=e.binding,r=function(e,t,n,r){var o=(0,i.useState)(0),s=(0,a.Z)(o,2),l=s[0],c=s[1],d=je(),h=(0,a.Z)(d,3),g=h[0],u=h[1],m=h[2],f=je(),p=(0,a.Z)(f,3),x=p[0],b=p[1],w=p[2],y=Ze(),C=(0,a.Z)(y,3),Z=C[0],j=C[1],D=C[2],I=Ze(),S=(0,a.Z)(I,4),W=S[0],F=S[1],H=S[3],k=(0,i.useState)(r),A=(0,a.Z)(k,2),T=A[0],R=A[1],B=Se(),E=(0,a.Z)(B,3),Y=E[0],z=E[1],L=E[2],O=function(){return c((function(e){return e+1}))},P=M.monthCanvas[n],J=P.printWidth,N=P.printHeight,U=we[T].config.monthList||M.monthList;(0,i.useEffect)((function(){console.log("use cal useeffect",T,we[T].config.months,0===Object.keys(we[T].config.months).length),H(),Object.entries(we[T].config.months).forEach((function(e){var t=(0,a.Z)(e,2),n=t[0],i=t[1];console.log("use cal useeffect setting back images",T,we[T].config.months,0===Object.keys(we[T].config.months).length);var r=new Image;r.onload=function(e){var t=e.target,a=t.naturalWidth,o=t.naturalHeight,s=(0,v.Z)((0,v.Z)({},X.getImageDets({src:i.image},a,o,r)),{},{elem:r});F(s,n)},r.src=i.image}))}),[T]);var V=we[T].config,K=function(){var a="potrait"===e?{orientation:"p",unit:"in",format:[J,N],compress:!0}:{orientation:"l",unit:"in",format:[N,J],compress:!0},i=new ye.kH(a);console.time("timer draw sheet loop");for(var r=0;r<U.length;r+=1)r>0&&i.addPage(a),we[T].drawSheet(i,U[r],g,x,n,t,e,V);console.timeEnd("timer draw sheet loop"),i.save("tc-".concat(e,"-").concat(n,"-").concat(t,".pdf")),w(),m()};return(0,i.useEffect)((function(){l===we[T].totalImageRenderCount&&(console.timeEnd("timer generate"),c(0),console.time("timer download"),K(),console.timeEnd("timer download"))}),[l,K]),console.log("use cal",T,V,W,Z),[T,R,Y,z,L,j,D,function(){console.time("timer generate"),c(0),m(),w();var a=we[T],i=a.generateImage,r=a.generateDates;U.forEach((function(a){var o=document.createElement("canvas"),s=document.createElement("canvas");if(u(a,o),b(a,s),i(o,Z[a],e,t,n,O,V),console.log("generate log1",a,new Date,T,r),"color"===T){var l=we[T].config.months[a].color;r(s,a,l,e,t,n,V)}else r(s,a,W[a],e,t,n,O,Y,V)}))},W]}(t,n,e.size,"default"),o=(0,a.Z)(r,9),s=o[0],l=o[1],c=o[2],d=o[3],h=o[4],g=o[5],u=o[6],m=o[7],f=o[8],p=(0,i.useState)(!1),w=(0,a.Z)(p,2),y=w[0],C=w[1],Z=function(e,t){var n=(0,b.Z)(),r=(0,i.useState)({}),o=(0,a.Z)(r,2),s=o[0],l=o[1],c=t.aspectRatio,d=t.smallScreenWidthFraction,h=t[e].defaultMonthWidth;return(0,i.useEffect)((function(){var t=(0,a.Z)(n,1)[0];l((function(){return 0===t?{}:t>h?"potrait"===e?{width:h,height:h/c}:{width:h,height:h*c}:"potrait"===e?{width:t*d,height:t*d/c}:{width:t*d,height:t*d*c}}))}),[n,e]),s}(t,we[s].config),j=we[s].Year;return console.log("default calendar",s),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(lt.Z,{position:"static",sx:{backgroundColor:"transparent",py:.5,borderTop:"1px solid gray"},children:(0,T.jsxs)(ct.Z,{variant:"dense",sx:{justifyContent:"center"},children:[(0,T.jsx)(st,{setOptions:l,handleDatesClick:function(){return C(!0)}}),(0,T.jsx)(ke.Z,{onClick:m,children:"View Cal"})]})}),(0,T.jsxs)(x.Provider,{value:{backImages:f,specialDates:c,orientation:t,binding:n,config:we[s].config,dimensions:Z,generateDates:we[s].generateDates},children:[(0,T.jsx)(j,{MonthComp:"potrait"===t?gt:It,DateComp:"potrait"===t?dt:Wt,ImageComp:"potrait"===t?Dt:St,handleEditChange:u,handleImageChange:g}),(0,T.jsx)(rt,{open:y,handleOpen:C,addDate:d,removeDate:h})]})]})}function Ht(e){var t=e.image,n=e.width,a=e.height,r=e.handleChange,o=e.handleImageEdit,s=(0,i.useRef)(null);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Ge.Z,{sx:{position:"absolute",top:10,left:10,p:1,px:2,backgroundColor:"rgba(255,255,255, 0.8)",borderRadius:"10px",fontWeight:"bold",zIndex:3},children:"2025"}),(0,T.jsxs)(he.Z,{width:"100%",height:a,sx:{position:"absolute",top:0},children:[(0,T.jsx)(jt,{month:"",handleChange:r,ref:s}),"src"in t?(0,T.jsx)(xt,{scale:1,image:t,width:n,height:a,onImageChange:o,onImageReady:o,handleImageChange:function(){s.current&&s.current.click()}}):null]})]})}var kt=function(e,t,n,i){var r=M.monthCanvas[n],o=r.width,s=r.height,l=M.maxCanvasWidth,c=X.getCanvasDimensions(o,.5*s,t,l),d=(0,a.Z)(c,2),h=d[0],g=d[1],u=V.initialize(e,h,g);return t&&V.renderImage(u,t,h,g,0,0,i),e},Mt=function(e,t,n,i,r){console.log("generate dates",e,t,n,i,r);var o=M.monthCanvas[n],s=o.width,l=o.height,c=M.maxCanvasWidth,d=new Image;return d.onload=function(t){var n=t.target,o=n.naturalWidth,h=n.naturalHeight,g=X.getCanvasDimensions(s,.5*l,{width:o,height:h},c),u=(0,a.Z)(g,2),m=u[0],f=u[1],p=V.initialize(e,m,f),x=function(e,t){var n=427,a=8*e/n,i=16*e/n,r={width:e,height:t,startX:0,startY:0},o={bsx:a,bsy:t-a-.055*t,bw:e-2*a,bh:.055*t,br:5*e/n,bf:"bold ".concat(.45*i,"px KaushanScript"),bfr:"bold ".concat(.45*i,"px sans-serif"),bc:"rgba(255,255,255,1)",bstx:2*a,bsty:t-a-.055*t/2,scale:16*e*.45/8540,iconWidth:16*e*.45/n},s={letters:["S","M","T","W","T","F","S"],letterWidth:8*e/n,font:"bold ".concat(.5*i,"px sans-serif"),width:(e-3*a)/4-2*a,letterHeight:.75*i},l={letterWidth:6.4*e/n,letterHeight:1.5*.4*i,font:"".concat(.4*i,"px sans-serif"),scale:6.4*e/8540,iconWidth:6.4*e/n};return{dateBoxArea:r,branding:o,dateBox:{width:(e-3*a)/4,height:(t-3*a-.055*t)/3,startX:a,startY:a,radius:5,endX:e,endY:t,bgcolor:"rgba(255,255,255, 0.7)",color:"rgba(255,255,255, 0.85)",gapX:a/3,gapY:a/3,monthFont:"bold ".concat(.65*i,"px sans-serif"),monthTopGap:4*e/n,letterHeight:.65*i,dividerColor:"rgba(0,0,0,0.12)",lineWidth:2*e/n,weekRow:s,dates:l}}}(m,f);V.renderDateBoxArea(p,x.dateBoxArea,d,(function(){!function(e,t,n){e.save();for(var a=t.startX,i=t.startY,r=t.width,o=t.height,s=t.color,l=t.radius,c=t.gapX,d=t.gapY,h=t.monthTopGap,g=M.monthList,u=M.months,m=0;m<3;m+=1)for(var f=0;f<4;f+=1){var p=g[4*m+f],x=a+f*r+f*c,b=i+m*o+m*d;V.renderRoundedRect(e,x,b,r,o,l,s),e.save(),e.fillStyle="green",e.textAlign="center",e.font=t.monthFont,e.textBaseline="hanging",e.fillText(p,x+r/2,b+h),e.restore(),V.drawLine(e,x+a,b+h+t.letterHeight,x+r-a,b+h+t.letterHeight,t.dividerColor,2),e.textBaseline="middle",V.renderWeekRow(e,(0,v.Z)((0,v.Z)({},t.weekRow),{},{startX:x+a,startY:b+h+t.letterHeight+t.weekRow.letterHeight/2,endX:x+r-t.startX,endY:b+h+t.letterHeight+t.weekRow.letterHeight/2}));var w=X.generateCalendar(u[p].days,u[p].firstDay);V.renderDates(e,(0,v.Z)((0,v.Z)({},t.dates),{},{startX:x+t.startX,startY:b+h+t.letterHeight+t.weekRow.letterHeight+t.dates.letterHeight/2,width:t.weekRow.width,height:t.height-(h+t.letterHeight+t.weekRow.letterHeight/2)-h}),w,n[p])}e.restore()}(p,x.dateBox,r),V.renderBranding(p,x.branding),i()}))},d.src=t,e};function At(e){var t=e.image,n=e.handleChange,a=e.handleImageEdit,r=e.bgImage,o=e.width,s=e.height,l=e.specialDates,c=(0,i.useRef)(null);return(0,i.useEffect)((function(){null!=c.current&&Mt(c.current,r,"Browser",(function(){}),l||{})}),[c,l]),(0,T.jsxs)(he.Z,{id:"test",component:"div",width:o,height:s,sx:{position:"relative",zIndex:"auto",outline:"1px solid black"},children:[(0,T.jsx)(Ht,{image:t,width:o,height:.5*s,handleChange:n,handleImageEdit:function(e){var t;if(e.current){var n=null===(t=e.current)||void 0===t?void 0:t.getCroppingRect(),i=n.width,r=n.height,o=n.x,s=n.y;a({cropWidth:i,cropHeight:r,x:o,y:s})}}}),(0,T.jsx)(he.Z,{width:o,height:.5*s,sx:{boxSizing:"border-box",position:"absolute",top:.5*s},children:(0,T.jsx)("canvas",{style:{zIndex:120},ref:c})})]})}function Tt(){var e=(0,i.useState)(0),t=(0,a.Z)(e,2),n=t[0],r=t[1],o=function(){var e=(0,i.useState)({}),t=(0,a.Z)(e,2),n=t[0],r=t[1];return[n,(0,i.useCallback)((function(e){if(e instanceof File){var t=new Image;t.onload=function(n){var a=n.target,i=a.naturalWidth,o=a.naturalHeight;r(X.getImageDets(e,i,o,t))},t.src=URL.createObjectURL(e)}}),[]),function(e){return r((function(t){return(0,v.Z)((0,v.Z)({},t),e)}))}]}(),s=(0,a.Z)(o,3),l=s[0],c=s[1],d=s[2],h=(0,i.useState)("contextual"),g=(0,a.Z)(h,2),u=g[0],f=g[1],p=Se(),x=(0,a.Z)(p,3),b=x[0],w=x[1],y=x[2],C=(0,i.useState)(),Z=(0,a.Z)(C,2),j=Z[0],D=Z[1],I=(0,i.useState)(),S=(0,a.Z)(I,2),W=S[0],F=S[1],H=function(){return r((function(e){return e+1}))},k=function(){var e=M.monthCanvas.A3,t=e.printWidth,n=e.printHeight,a={orientation:"p",unit:"in",format:[t,n]},i=new ye.kH(a),r=j.toDataURL("image/jpeg",1);i.addImage(r,0,0,t,.5*n);var o=W.toDataURL("image/jpeg",1);i.addImage(o,0,n/2,t,n/2),i.save("tc-A3-single.pdf")};(0,i.useEffect)((function(){2===n&&(r(0),k())}),[n,k]);return console.log("use single calendar",u,l,b),[l,u,b,w,y,function(e){return f(e)},c,d,function(){var e=document.createElement("canvas"),t=document.createElement("canvas");D(e),F(t),kt(e,l,"A3",H),Mt(t,m,"A3",H,b)}]}var Rt=[{label:"Contextual",value:"contextual"},{label:"Contextual Landscape",value:"contextuallandscape"},{label:"Color",value:"color"}];function Bt(){var e=(0,i.useState)(!1),t=(0,a.Z)(e,2),n=t[0],r=t[1],o=Tt(),s=(0,a.Z)(o,9),l=s[0],c=s[1],d=s[2],h=s[3],g=s[4],u=s[5],f=s[6],p=s[7],x=s[8],v=(0,b.Z)(),w=(0,i.useState)({}),y=(0,a.Z)(w,2),C=y[0],Z=y[1];(0,i.useEffect)((function(){var e=(0,a.Z)(v,1)[0];Z((function(){return 0===e?{}:e>427?{width:427,height:427/.707}:{width:.95*e,height:.95*e/.707}}))}),[v]);var j=function(){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Xe,{label:"Theme",value:c,options:Rt,handleChange:u}),(0,T.jsx)(ke.Z,{variant:"outlined",onClick:function(){return r(!0)},children:"+/- Dates"})]})};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(lt.Z,{position:"static",sx:{backgroundColor:"transparent",py:.5,borderTop:"1px solid gray",mb:1},children:(0,T.jsxs)(ct.Z,{variant:"dense",sx:{justifyContent:"center"},children:[(0,T.jsx)(j,{}),(0,T.jsx)(ke.Z,{onClick:x,children:"View Cal"})]})}),(0,T.jsx)(At,{year:2025,image:l,handleChange:f,handleImageEdit:p,width:C.width,height:C.height,bgImage:m,specialDates:d}),(0,T.jsx)(rt,{open:n,handleOpen:r,dates:d,addDate:h,removeDate:g})]})}function Et(e){var t=e.image,n=e.handleClick,a=e.text,i=e.subText,d=void 0===i?"Wall * Binded * Potrait":i;return(0,T.jsx)(r.ZP,{item:!0,children:(0,T.jsx)(o.Z,{sx:{width:"250px"},onClick:n,children:(0,T.jsxs)(s.Z,{children:[(0,T.jsx)(l.Z,{component:"img",height:"200",image:t,alt:a}),(0,T.jsx)(c.Z,{title:a,subheader:d,subheaderTypographyProps:{sx:{textAlign:"center"}},titleTypographyProps:{sx:{textAlign:"center",fontWeight:"bold",color:"primary.main"},variant:"body"}})]})})})}function Yt(){var e=(0,i.useState)({}),t=(0,a.Z)(e,2),n=t[0],o=t[1],s=function(e,t,n,a){return o({binding:e,orientation:t,type:n,pages:a})};return 0===Object.keys(n).length?(0,T.jsxs)(d.Z,{open:!0,maxWidth:"lg",fullWidth:!0,children:[(0,T.jsx)(h.Z,{sx:{textAlign:"center",color:"gray",fontSize:"1.5rem"},children:"Choose Type"}),(0,T.jsx)(g.Z,{children:(0,T.jsxs)(r.ZP,{container:!0,spacing:2,sx:{p:1,width:"100%"},justifyContent:"start",children:[(0,T.jsx)(Et,{text:"Wall Calendar",subText:"Single Page",handleClick:function(){return s("none","potrait","wall","single")},image:u}),(0,T.jsx)(Et,{text:"Wall Calendar",subText:"Multiple Page",handleClick:function(){return s("none","potrait","wall","multiple")},image:m}),(0,T.jsx)(Et,{text:"Table Calendar",subText:"Potrait | Non-binded",handleClick:function(){return s("none","potrait","table","multiple")},image:f}),(0,T.jsx)(Et,{text:"Table Calendar",subText:"Potrait | Wire-O Binded",handleClick:function(){return s("wireo","potrait","table","multiple")},image:p}),(0,T.jsx)(Et,{text:"Table Calendar",subText:"Landscape | Non-binded",handleClick:function(){return s("none","landscape","table","multiple")},image:f}),(0,T.jsx)(Et,{text:"Table Calendar",subText:"Landscape | Wire-O Binded",handleClick:function(){return s("wireo","landscape","table","multiple")},image:p})]})})]}):"wall"===n.type&&"single"===n.pages?(0,T.jsx)(Bt,{}):"wall"===n.type&&"multiple"===n.pages?(0,T.jsx)(Ft,{binding:"none",size:"A3",orientation:"potrait"}):"table"===n.type?(0,T.jsx)(Ft,{binding:n.binding,size:"A5",orientation:n.orientation}):void 0}}}]);