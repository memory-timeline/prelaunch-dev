(this.webpackJsonpprelaunch=this.webpackJsonpprelaunch||[]).push([[0],{256:function(e,t,n){},339:function(e,t,n){},340:function(e,t,n){},581:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(65),i=n.n(c),o=n(657),s=n(43),l=n(17),u=(n(339),n(4)),d=(n(340),n(661)),j=n(656),b=n(126),h=n(630),m=n(0);function x(e){var t=e.authURL;return Object(h.a)((function(e){return e.breakpoints.up("sm")}))?Object(m.jsx)(j.a,{type:"submit",variant:"contained",sx:{position:"fixed",top:20,right:170,borderRadius:"25px",backgroundColor:"white","&:hover":{backgroundColor:"form.input"}},children:Object(m.jsx)("a",{href:"https://".concat(t,"/oauth2/authorize"),target:"_self",style:{textDecoration:"none",color:"white"},children:Object(m.jsx)(b.a,{variant:"h6",color:"primary",children:"Login"})})}):Object(m.jsx)(j.a,{type:"submit",variant:"contained",sx:{position:"fixed",top:"calc(100vh - 150px)",left:20,borderRadius:"5px",backgroundColor:"white","&:hover":{backgroundColor:"form.input"}},children:Object(m.jsx)("a",{href:"https://".concat(t,"/oauth2/authorize"),target:"_self",style:{textDecoration:"none",color:"white"},children:Object(m.jsx)(b.a,{variant:"h4",color:"primary",children:"Login"})})})}function f(e){var t=e.authURL;return Object(h.a)((function(e){return e.breakpoints.up("sm")}))?Object(m.jsx)(j.a,{type:"submit",variant:"contained",sx:{position:"fixed",top:20,right:30,borderRadius:"25px"},children:Object(m.jsx)("a",{href:"https://".concat(t,"/oauth2/signup"),target:"_self",rel:"noreferrer",style:{textDecoration:"none",color:"white"},children:Object(m.jsx)(b.a,{variant:"h6",children:"SignUp"})})}):Object(m.jsx)(j.a,{type:"submit",variant:"contained",sx:{position:"fixed",top:"calc(100vh - 150px)",right:20,borderRadius:"5px"},children:Object(m.jsx)("a",{href:"https://".concat(t,"/oauth2/signup"),target:"_self",rel:"noreferrer",style:{textDecoration:"none",color:"white"},children:Object(m.jsx)(b.a,{variant:"h4",children:"SignUp"})})})}var p=n(632),O=n(654),g=["title","titleId"];function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function C(e,t){var n=e.title,a=e.titleId,c=v(e,g);return r.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 80 80",fill:"#ffc745",id:"svg_icon.primary",x:60,y:41,width:40,height:40,ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,r.createElement("g",{id:"surface1"},r.createElement("path",{style:{},d:"M 12 11 C 11.640625 10.996094 11.304688 11.183594 11.121094 11.496094 C 10.941406 11.808594 10.941406 12.191406 11.121094 12.503906 C 11.304688 12.816406 11.640625 13.003906 12 13 L 12 15 L 10 15 C 7.25 15 5 17.25 5 20 L 5 62 C 5 64.75 7.25 67 10 67 L 70 67 C 72.75 67 75 64.75 75 62 L 75 20 C 75 17.25 72.75 15 70 15 L 35 15 L 35 13 C 35.359375 13.003906 35.695313 12.816406 35.878906 12.503906 C 36.058594 12.191406 36.058594 11.808594 35.878906 11.496094 C 35.695313 11.183594 35.359375 10.996094 35 11 L 24 11 C 23.640625 10.996094 23.304688 11.183594 23.121094 11.496094 C 22.941406 11.808594 22.941406 12.191406 23.121094 12.503906 C 23.304688 12.816406 23.640625 13.003906 24 13 L 24 15 L 19 15 L 19 13 C 19.359375 13.003906 19.695313 12.816406 19.878906 12.503906 C 20.058594 12.191406 20.058594 11.808594 19.878906 11.496094 C 19.695313 11.183594 19.359375 10.996094 19 11 Z M 14 13 L 17 13 L 17 15 L 14 15 Z M 26 13 L 33 13 L 33 15 L 26 15 Z M 10 17 L 70 17 C 71.667969 17 73 18.332031 73 20 L 73 62 C 73 63.667969 71.667969 65 70 65 L 10 65 C 8.332031 65 7 63.667969 7 62 L 7 20 C 7 18.332031 8.332031 17 10 17 Z M 61 21 L 61 24 L 70 24 L 70 21 Z M 46 23 C 36.621094 23 29 30.621094 29 40 C 29 49.378906 36.621094 57 46 57 C 55.378906 57 63 49.378906 63 40 C 63 30.621094 55.378906 23 46 23 Z M 46 25 C 54.296875 25 61 31.703125 61 40 C 61 48.296875 54.296875 55 46 55 C 37.703125 55 31 48.296875 31 40 C 31 31.703125 37.703125 25 46 25 Z M 10 28 C 9.449219 28 9 28.449219 9 29 C 9 29.550781 9.449219 30 10 30 C 10.550781 30 11 29.550781 11 29 C 11 28.449219 10.550781 28 10 28 Z M 14 28 C 13.449219 28 13 28.449219 13 29 C 13 29.550781 13.449219 30 14 30 C 14.550781 30 15 29.550781 15 29 C 15 28.449219 14.550781 28 14 28 Z M 18 28 C 17.449219 28 17 28.449219 17 29 C 17 29.550781 17.449219 30 18 30 C 18.550781 30 19 29.550781 19 29 C 19 28.449219 18.550781 28 18 28 Z M 22 28 C 21.449219 28 21 28.449219 21 29 C 21 29.550781 21.449219 30 22 30 C 22.550781 30 23 29.550781 23 29 C 23 28.449219 22.550781 28 22 28 Z M 26 28 C 25.449219 28 25 28.449219 25 29 C 25 29.550781 25.449219 30 26 30 C 26.550781 30 27 29.550781 27 29 C 27 28.449219 26.550781 28 26 28 Z M 30 28 C 29.449219 28 29 28.449219 29 29 C 29 29.550781 29.449219 30 30 30 C 30.550781 30 31 29.550781 31 29 C 31 28.449219 30.550781 28 30 28 Z M 46 28 C 39.382813 28 34 33.382813 34 40 C 34 46.617188 39.382813 52 46 52 C 52.617188 52 58 46.617188 58 40 C 58 33.382813 52.617188 28 46 28 Z M 62 28 C 61.449219 28 61 28.449219 61 29 C 61 29.550781 61.449219 30 62 30 C 62.550781 30 63 29.550781 63 29 C 63 28.449219 62.550781 28 62 28 Z M 66 28 C 65.449219 28 65 28.449219 65 29 C 65 29.550781 65.449219 30 66 30 C 66.550781 30 67 29.550781 67 29 C 67 28.449219 66.550781 28 66 28 Z M 70 28 C 69.449219 28 69 28.449219 69 29 C 69 29.550781 69.449219 30 70 30 C 70.550781 30 71 29.550781 71 29 C 71 28.449219 70.550781 28 70 28 Z M 46 30 C 51.535156 30 56 34.464844 56 40 C 56 45.535156 51.535156 50 46 50 C 40.464844 50 36 45.535156 36 40 C 36 34.464844 40.464844 30 46 30 Z M 25 38 C 23.894531 38 23 38.894531 23 40 C 23 41.105469 23.894531 42 25 42 C 26.105469 42 27 41.105469 27 40 C 27 38.894531 26.105469 38 25 38 Z M 10 60 C 9.449219 60 9 60.449219 9 61 C 9 61.550781 9.449219 62 10 62 C 10.550781 62 11 61.550781 11 61 C 11 60.449219 10.550781 60 10 60 Z M 14 60 C 13.449219 60 13 60.449219 13 61 C 13 61.550781 13.449219 62 14 62 C 14.550781 62 15 61.550781 15 61 C 15 60.449219 14.550781 60 14 60 Z M 18 60 C 17.449219 60 17 60.449219 17 61 C 17 61.550781 17.449219 62 18 62 C 18.550781 62 19 61.550781 19 61 C 19 60.449219 18.550781 60 18 60 Z M 22 60 C 21.449219 60 21 60.449219 21 61 C 21 61.550781 21.449219 62 22 62 C 22.550781 62 23 61.550781 23 61 C 23 60.449219 22.550781 60 22 60 Z M 26 60 C 25.449219 60 25 60.449219 25 61 C 25 61.550781 25.449219 62 26 62 C 26.550781 62 27 61.550781 27 61 C 27 60.449219 26.550781 60 26 60 Z M 30 60 C 29.449219 60 29 60.449219 29 61 C 29 61.550781 29.449219 62 30 62 C 30.550781 62 31 61.550781 31 61 C 31 60.449219 30.550781 60 30 60 Z M 34 60 C 33.449219 60 33 60.449219 33 61 C 33 61.550781 33.449219 62 34 62 C 34.550781 62 35 61.550781 35 61 C 35 60.449219 34.550781 60 34 60 Z M 38 60 C 37.449219 60 37 60.449219 37 61 C 37 61.550781 37.449219 62 38 62 C 38.550781 62 39 61.550781 39 61 C 39 60.449219 38.550781 60 38 60 Z M 42 60 C 41.449219 60 41 60.449219 41 61 C 41 61.550781 41.449219 62 42 62 C 42.550781 62 43 61.550781 43 61 C 43 60.449219 42.550781 60 42 60 Z M 46 60 C 45.449219 60 45 60.449219 45 61 C 45 61.550781 45.449219 62 46 62 C 46.550781 62 47 61.550781 47 61 C 47 60.449219 46.550781 60 46 60 Z M 50 60 C 49.449219 60 49 60.449219 49 61 C 49 61.550781 49.449219 62 50 62 C 50.550781 62 51 61.550781 51 61 C 51 60.449219 50.550781 60 50 60 Z M 54 60 C 53.449219 60 53 60.449219 53 61 C 53 61.550781 53.449219 62 54 62 C 54.550781 62 55 61.550781 55 61 C 55 60.449219 54.550781 60 54 60 Z M 58 60 C 57.449219 60 57 60.449219 57 61 C 57 61.550781 57.449219 62 58 62 C 58.550781 62 59 61.550781 59 61 C 59 60.449219 58.550781 60 58 60 Z M 62 60 C 61.449219 60 61 60.449219 61 61 C 61 61.550781 61.449219 62 62 62 C 62.550781 62 63 61.550781 63 61 C 63 60.449219 62.550781 60 62 60 Z M 66 60 C 65.449219 60 65 60.449219 65 61 C 65 61.550781 65.449219 62 66 62 C 66.550781 62 67 61.550781 67 61 C 67 60.449219 66.550781 60 66 60 Z M 70 60 C 69.449219 60 69 60.449219 69 61 C 69 61.550781 69.449219 62 70 62 C 70.550781 62 71 61.550781 71 61 C 71 60.449219 70.550781 60 70 60 Z "})))}var k=r.forwardRef(C);n.p;function w(e){var t=e.width,n=e.height;return Object(m.jsx)(k,{width:t,height:n})}function S(e){var t=e.fontSize;return Object(m.jsx)(b.a,{color:"secondary",variant:"badscript",sx:{paddingX:1,fontSize:t,display:"inline"},children:"myMemoryStore"})}function M(e){var t=e.fontSize,n=e.width,r=e.height;return Object(m.jsx)(O.a,{item:!0,children:Object(m.jsxs)(d.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(m.jsx)(w,{width:n,height:r}),Object(m.jsx)(S,{fontSize:t})]})})}function I(){return Object(m.jsx)(d.a,{sx:{bgcolor:"primary.cta",mb:2,width:300,justifyContent:"center",display:"flex",borderRadius:"inherit"},children:Object(m.jsx)(M,{})})}function z(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.a,{variant:"h4",noWrap:!0,sx:{color:"button.main",textAlign:"center",fontFamily:"BadScript",pb:2},children:"Give Your"}),Object(m.jsx)(b.a,{variant:"h4",noWrap:!0,sx:{color:"secondary.main",textAlign:"center",fontFamily:"BadScript",pb:2},children:"Memories"}),Object(m.jsx)(b.a,{variant:"h4",sx:{display:"inline",color:"form.stepper",textAlign:"center",fontFamily:"BadScript"},children:"The home"}),Object(m.jsx)(b.a,{variant:"h4",sx:{textAlign:"center",fontFamily:"BadScript",color:"ternary.main",pb:2},children:"they deserve"})]})}M.defaultProps={width:"64px",height:"64px",fontSize:"2em"};var L=function(e){var t=e.authURL;return Object(m.jsx)(p.a,{id:t,alignItems:"center",sx:{position:"fixed",top:"calc(50vh)",left:"calc(50vw)",transform:"translate(-50%, -50%)",bgcolor:"transparent",borderRadius:2,border:"5px solid white"},children:Object(m.jsx)(p.a,{sx:{bgcolor:"transparent",alignItems:"center",direction:"column",borderRadius:5},children:Object(m.jsxs)(p.a,{direction:"column",sx:{alignItems:"space-between",bgcolor:"faded.black",borderRadius:"2px 2px 0 0",blur:"5px"},children:[Object(m.jsx)(I,{}),Object(m.jsx)(z,{})]})})})},E=n.p+"static/media/b1.6d728861.webp",R=n.p+"static/media/b2.68e43eea.webp",D=n.p+"static/media/b3.c8bcec18.webp",P=n.p+"static/media/b4.fcc92fc0.webp",T=n.p+"static/media/b1-2000.abb0a568.webp",U=n.p+"static/media/b2-2000.a5a6e91b.webp",F=n.p+"static/media/b3-2000.3d35df88.webp",N=n.p+"static/media/b4-2000.6981d209.webp";var Z=function(e){var t=e.authURL,n=[[E,"".concat(T," 1500w, ").concat(E," 2000w")],[R,"".concat(U," 1500w, ").concat(E," 2000w")],[D,"".concat(F," 1500w, ").concat(E," 2000w")],[P,"".concat(N," 1500w, ").concat(E," 2000w")]],a=Object(r.useState)(0),c=Object(u.a)(a,2),i=c[0],o=c[1],s=Object(r.useState)("none"),l=Object(u.a)(s,2),j=l[0],b=l[1];return Object(r.useEffect)((function(){var e=setTimeout((function(){return o((function(e){return(e+1)%n.length}))}),5e3);return function(){return clearTimeout(e)}})),Object(m.jsxs)("div",{className:"App",sx:{display:j},children:[Object(m.jsx)(d.a,{component:"img",src:n[i],alt:"Background",width:"100%",height:"100vh",onLoad:function(){return b("block")},sx:{positon:"absolute",top:0,bottom:0,objectFit:"cover"}}),Object(m.jsx)(x,{authURL:t}),Object(m.jsx)(f,{authURL:t}),Object(m.jsx)(L,{authURL:t})]})},A=n(664),B=n(287),W=n.n(B),_=n(668),H=n(76),q=n.n(H),J=n(637),Y=n(675);function G(e){var t=e.children;return Object(m.jsx)(O.a,{container:!0,alignItems:"center",sx:{p:0,pb:1,borderBottom:4,borderColor:"secondary.main",flexShrink:0,justifyContent:{sm:"space-between",xs:"space-between"}},children:t})}function K(e){var t=e.text,n=e.onClick,r=e.borderColor,a=Object(h.a)((function(e){return e.breakpoints.down("md")}))?"body1":"h6";return Object(m.jsx)(j.a,{sx:{color:"button.main",border:2,borderColor:r,borderRadius:5},variant:"outlined",onClick:n,children:Object(m.jsx)(b.a,{variant:a,children:t})})}function V(e){var t=e.onClick;return Object(m.jsx)(A.a,{edge:"start",onClick:t,"aria-label":"close",sx:{fontSize:"3.5rem",position:"absolute",top:0,right:0},children:Object(m.jsx)(q.a,{sx:{fontSize:"3rem",fill:"muted.main"}})})}function X(e){var t=e.text,n=e.open,r=e.onClose,a=e.onClick,c=e.children,i=e.wdth;return Object(m.jsxs)(_.a,{open:n,onClose:r,fullWidth:!0,maxWidth:i,children:[Object(m.jsxs)(J.a,{children:[t,Object(m.jsx)(V,{onClick:a})]}),Object(m.jsx)(Y.a,{dividers:!0,children:c})]})}K.defaultProps={borderColor:"transparent"};var $=n(16),Q=function(e){return Object.fromEntries(e.split(";").map((function(e){return e.split("=",2)})))};var ee={parseCookie:Q,getUserInfo:function(){var e=Q(document.cookie);return"userInfo"in e?JSON.parse(atob(e.userInfo)):""}};var te=function(e){return function(t){return!0===(""!==ee.getUserInfo())?Object(m.jsx)(e,Object($.a)({},t)):Object(m.jsx)(l.a,{to:"/login",replace:!0})}},ne=n(669),re=n(666),ae=n(665),ce=n.p+"static/media/gogol.56b2d6a2.jpg",ie=n.p+"static/media/sagnika.5dbc30e1.jpg",oe={gogol:{name:"Shlok Chatterjee (Gogol)",image:ce,text:["CMO (Chief Motivation Officer)","CCC (Chief Chaos Creator)"]},nabarun:{name:"Nabarun Chatterjee",image:n.p+"static/media/blog_pic.0071f886.jpg",text:["Full time father to my 1 year old son and husband to my loving wife . Site Reliability Engineer by profession. Memory making travel and finger licking food are what I live for."]},sagnika:{name:"Sagnika Dasgupta",image:ie,text:["I don't remember my life from 1 year back. Now it is mostly Gogol and a little bit of food, travel, painting, writing and other things."]}};function se(e){var t=e.data;return Object(m.jsxs)(ne.a,{sx:{minWidth:250,maxWidth:350,p:{md:1,xs:0},m:{md:1,xs:0}},children:[Object(m.jsx)(ae.a,{component:"img",height:"350",image:t.image,alt:t.name,sx:{border:{md:5,xs:0},borderColor:"primary.main"}}),Object(m.jsxs)(re.a,{children:[Object(m.jsx)(b.a,{variant:"h6",sx:{py:1},children:t.name}),t.text.map((function(e){return Object(m.jsx)(b.a,{variant:"body2",color:"text.secondary",children:e},e)}))]})]})}var le=function(){return Object(h.a)((function(e){return e.breakpoints.down("lg")}))?Object(m.jsxs)(O.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object(m.jsx)(O.a,{item:!0,align:"center",children:Object(m.jsx)(se,{data:oe.gogol},"gogol")}),Object(m.jsx)(O.a,{item:!0,align:"center",children:Object(m.jsx)(se,{data:oe.nabarun},"nabarun")}),Object(m.jsx)(O.a,{item:!0,align:"center",children:Object(m.jsx)(se,{data:oe.sagnika},"sagnika")})]}):Object(m.jsxs)(O.a,{container:!0,justifyContent:"space-between",children:[Object(m.jsx)(O.a,{item:!0,align:"center",children:Object(m.jsx)(se,{data:oe.nabarun},"nabarun")}),Object(m.jsx)(O.a,{item:!0,align:"center",children:Object(m.jsx)(se,{data:oe.gogol},"gogol")}),Object(m.jsx)(O.a,{item:!0,align:"center",children:Object(m.jsx)(se,{data:oe.sagnika},"sagnika")})]})},ue=n(69),de=n(157),je=n(676),be=n(104),he=n(662),me=n(655);function xe(){var e=Object(l.f)().pathname;return Object(r.useEffect)((function(){window.scroll(0,0)}),[e]),null}function fe(e){var t=e.children;return Object(m.jsx)(b.a,{sx:{paddingX:2,color:"muted.main",display:"inline"},children:t})}function pe(e){var t=e.size;return Object(m.jsx)(ue.a,{icon:be.e,size:t})}function Oe(e){var t=e.size;return Object(m.jsx)(ue.a,{icon:be.a,size:t})}function ge(e){var t=e.size;return Object(m.jsx)(ue.a,{icon:be.d,size:t})}function ye(e){var t=e.size;return Object(m.jsx)(ue.a,{icon:be.b,size:t})}function ve(){return Object(m.jsx)(ue.a,{icon:be.c})}function Ce(){return Object(m.jsx)(ue.a,{icon:de.b})}function ke(e){var t=e.size,n=e.color;return Object(m.jsx)(Le,{to:"https://en.wikipedia.org/wiki/Love",color:n,children:Object(m.jsx)(Ce,{size:t})})}function we(e){var t=e.size,n=e.color;return Object(m.jsx)(Le,{to:"https://reactjs.org/",color:n,children:Object(m.jsx)(ve,{size:t})})}function Se(e){var t=e.size,n=e.color;return Object(m.jsx)(Le,{to:"https://www.youtube.com/channel/UCabGr_w5PLFIg1rcmKPbeVg",color:n,children:Object(m.jsx)(pe,{size:t})})}function Me(e){var t=e.size,n=e.color;return Object(m.jsx)(Le,{to:"https://www.facebook.com/mymemorystore.in",color:n,children:Object(m.jsx)(Oe,{size:t})})}function Ie(e){var t=e.size,n=e.color;return Object(m.jsx)(Le,{to:"https://twitter.com/mymymemorystore/",color:n,children:Object(m.jsx)(ge,{size:t})})}function ze(e){var t=e.size,n=e.color;return Object(m.jsx)(Le,{to:"https://www.instagram.com/mymemorystore.in/",color:n,children:Object(m.jsx)(ye,{size:t})})}function Le(e){var t=e.to,n=e.color,r=e.children;return Object(m.jsx)(je.a,{underline:"none",href:t,rel:"noreferrer noopener",target:"_blank",sx:{px:1,color:"".concat(n)},children:r})}function Ee(e){var t=e.size;return Object(m.jsxs)(O.a,{item:!0,children:[Object(m.jsx)(fe,{children:"Follow Us"}),Object(m.jsx)(Se,{color:"social.youtube",size:t}),Object(m.jsx)(Me,{color:"social.facebook",size:t}),Object(m.jsx)(Ie,{color:"social.twitter",size:t}),Object(m.jsx)(ze,{color:"social.instagram",size:t})]})}ke.defaultProps={size:"1x"},we.defaultProps={size:"1x"},Ee.defaultProps={size:"1x"};var Re={display:"flex",justifyContent:"center",m:1,borderRadius:1};var De=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.a,{variant:"h6",align:"center",className:"text-muted",children:"To share your queries or feedback"}),Object(m.jsx)(je.a,{underline:"none",href:"mailto:support@mymemorystore.in",children:Object(m.jsxs)(d.a,{sx:Object($.a)({},Re),children:[Object(m.jsx)(ue.a,{icon:de.a,className:"black-icon",size:"2x"}),Object(m.jsx)(b.a,{variant:"h6",className:"px-1",sx:{fontSize:"1.5rem"},children:"Email Us"})]})}),Object(m.jsx)("hr",{}),Object(m.jsx)(d.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(m.jsx)(b.a,{variant:"h6",className:"text-muted",sx:{p:1},children:"Follow Us"})}),Object(m.jsxs)(d.a,{sx:{display:"flex",justifyContent:"space-between",m:1,borderRadius:1},children:[Object(m.jsx)(Se,{color:"social.youtube",size:"2x"}),Object(m.jsx)(Me,{color:"social.facebook",size:"2x"}),Object(m.jsx)(Ie,{color:"social.twitter",size:"2x"}),Object(m.jsx)(ze,{color:"social.instagram",size:"2x"})]}),Object(m.jsx)("hr",{})]})},Pe=n(658),Te=n(304),Ue=n(670),Fe=n(641),Ne=n(640),Ze=n(659),Ae=n(285),Be=n.n(Ae),We=n(639);function _e(e){var t=e.name,n=e.picture,r=e.email,a=Array.from(r)[0].toUpperCase();return Object(m.jsx)(Pe.a,{alt:t,src:n,sx:{referrerPolicy:"no-referrer"},children:a})}function He(e){var t=e.name,n=e.email,r=e.open,a=e.handleClick,c=e.avatar;return console.log(t,n,r,c),Object(m.jsx)(d.a,{sx:{display:"flex",alignItems:"center",textAlign:"center",marginRight:"10px"},children:Object(m.jsx)(Ze.a,{title:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.a,{children:t}),Object(m.jsx)(b.a,{children:n})]}),children:Object(m.jsx)(A.a,{onClick:a,size:"small",sx:{ml:2},"aria-controls":r?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":r?"true":void 0,children:c})})})}function qe(e){var t=e.name,n=e.open,r=e.handleClose,a=e.anchorEl,c=e.avatar,i=e.email,o=t||i;return console.log("profile identifier",o),Object(m.jsxs)(Te.a,{anchorEl:a,id:"account-menu",open:n,onClose:r,onClick:r,PaperProps:{elevation:0,sx:{filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(m.jsxs)(Ue.a,{children:[c,Object(m.jsx)(We.a,{children:o})]}),Object(m.jsx)(Ne.a,{}),Object(m.jsx)(je.a,{href:"https://auth-stage.mymemorystore.in/oauth2/logout",underline:"none",sx:{alignItems:"center",display:"flex"},children:Object(m.jsxs)(Ue.a,{children:[Object(m.jsx)(Fe.a,{children:Object(m.jsx)(Be.a,{fontSize:"small"})}),Object(m.jsx)(b.a,{sx:{color:"muted.main"},children:"Logout"})]})})]})}function Je(){var e=r.useState(null),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Boolean(n),i=ee.getUserInfo(),o=Object(m.jsx)(_e,{name:i.name,picture:i.picture,email:i.email});return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(He,{avatar:o,open:c,email:i.email,handleClick:function(e){return a(e.currentTarget)},name:i.name}),Object(m.jsx)(qe,{anchorEl:n,avatar:o,handleClose:function(){return a(null)},name:i.name,email:i.email,open:c})]})}function Ye(){var e=te(Je);return Object(m.jsx)(O.a,{item:!0,sx:{paddingTop:"0.3rem"},children:Object(m.jsx)(e,{})})}var Ge=n(286),Ke=n.n(Ge);function Ve(){var e=Object(l.g)(),t=r.useState(null),n=Object(u.a)(t,2),a=n[0],c=n[1],i=Boolean(a),o=r.useState(!1),s=Object(u.a)(o,2),j=s[0],b=s[1],h=r.useState(!1),x=Object(u.a)(h,2),f=x[0],p=x[1],O=function(){return b(!1)},g=function(){return p(!1)},y=function(){return c(null)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d.a,{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:Object(m.jsx)(A.a,{onClick:function(e){return c(e.currentTarget)},size:"small",sx:{ml:2},"aria-controls":i?"burger-menu":void 0,"aria-haspopup":"true","aria-expanded":i?"true":void 0,children:Object(m.jsx)(Ke.a,{sx:{width:45,height:45,color:"button.main"}})})}),Object(m.jsxs)(Te.a,{anchorEl:a,id:"burger-menu",open:i,onClose:y,onClick:y,PaperProps:{backgroundColor:"form.input",elevation:0,sx:{filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(m.jsx)(Ue.a,{onClick:function(){return e("/memories")},children:"My Memories"}),Object(m.jsx)(Ue.a,{onClick:function(){return b(!0)},children:"About"}),Object(m.jsx)(Ue.a,{onClick:function(){return p(!0)},children:"Contact Us"})]}),Object(m.jsx)(X,{text:"About",wdth:"lg",open:j,onClose:O,onClick:O,children:Object(m.jsx)(le,{})}),Object(m.jsx)(X,{text:"Contact",wdth:"sm",open:f,onClose:g,onClick:g,children:Object(m.jsx)(De,{})})]})}function Xe(){var e=Object(h.a)((function(e){return e.breakpoints.down("sm")}))?Object(m.jsx)(M,{width:"55px",height:"55px",fontSize:"1.55rem"}):Object(m.jsx)(M,{});return Object(m.jsx)(s.b,{style:{textDecoration:"none"},to:"/memories",children:Object(m.jsx)(j.a,{children:e})})}function $e(){return Object(m.jsx)(O.a,{item:!0,sx:{paddingTop:"0.55rem",position:"fixed",left:"50vw",transform:"translate(-50%)"},children:Object(m.jsx)(s.b,{style:{textDecoration:"none"},to:"/memories",children:Object(m.jsx)(K,{text:"My Memories",borderColor:"secondary.main",onClick:function(){}})})})}function Qe(){var e=Object(h.a)((function(e){return e.breakpoints.down("md")}));return Object(h.a)((function(e){return e.breakpoints.down("sm")}))?Object(m.jsx)(G,{children:Object(m.jsx)(Xe,{})}):e?Object(m.jsxs)(G,{children:[Object(m.jsx)(Ve,{}),Object(m.jsx)(Xe,{}),Object(m.jsx)(Ye,{})]}):Object(m.jsxs)(G,{children:[Object(m.jsx)(Xe,{}),Object(m.jsx)($e,{}),Object(m.jsx)(Ye,{})]})}function et(){return Object(m.jsxs)(O.a,{item:!0,children:[Object(m.jsx)(fe,{children:"Made with"}),Object(m.jsx)(ke,{color:"social.heart"}),Object(m.jsx)(fe,{children:"&"}),Object(m.jsx)(we,{color:"social.react"})]})}function tt(){return Object(m.jsx)(O.a,{item:!0,children:Object(m.jsxs)(fe,{children:["\xa9 myMemoryStore",(new Date).getFullYear()]})})}function nt(e){var t=e.justify,n=e.children;return Object(m.jsx)(O.a,{container:!0,alignItems:"center",justifyContent:t,sx:{borderTop:4,borderColor:"secondary.main",bgcolor:"primary.main",bottom:0,overflow:"hidden",flexShrink:0,padding:1},children:n})}function rt(){return Object(h.a)((function(e){return e.breakpoints.down("md")}))?Object(m.jsxs)(nt,{justify:"center",children:[Object(m.jsx)(tt,{}),Object(m.jsx)(Ee,{})]}):Object(m.jsxs)(nt,{justify:"space-between",children:[Object(m.jsx)(tt,{}),Object(m.jsx)(et,{}),Object(m.jsx)(Ee,{})]})}function at(e){var t=e.children;return Object(m.jsx)(d.a,{sx:{backgroundColor:"basepage.background",overflow:"auto",flex:1,width:1},children:t})}function ct(){return Object(m.jsx)(s.b,{style:{textDecoration:"none"},to:"/memories",children:Object(m.jsx)(A.a,{sx:{paddingTop:"0.3rem"},children:Object(m.jsx)(W.a,{fontSize:"medium",sx:{width:45,height:45,color:"button.main"}})})})}function it(){return Object(m.jsxs)(p.a,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{borderTop:4,borderColor:"secondary.main"},children:[Object(m.jsx)(Ve,{}),Object(m.jsx)(ct,{}),Object(m.jsx)(Ye,{})]})}function ot(e){var t=e.children,n=Object(h.a)((function(e){return e.breakpoints.down("sm")}));return Object(m.jsxs)(d.a,{sx:{display:"flex",flexDirection:"column",flexWrap:"no-wrap",height:"100vh",width:"100vw"},children:[Object(m.jsx)(Qe,{}),Object(m.jsx)(at,{children:t}),n?Object(m.jsx)(it,{}):null,Object(m.jsx)(rt,{})]})}function st(e){var t=e.mode,n=e.handleModeChange,r=e.modes;return Object(m.jsx)(Ne.a,{children:Object(m.jsx)(d.a,{sx:{display:"flex",justifyContent:"center",p:2},children:Object(m.jsx)(me.a,{exclusive:!0,value:t,"aria-label":"view-change",color:"primary",sx:{bgcolor:"button.main"},children:r.map((function(e){return Object(m.jsx)(he.a,{value:e,onClick:function(){return n("".concat(e))},sx:{border:2,borderColor:"primary.main"},children:Object(m.jsx)(b.a,{variant:"h6",children:e})},e)}))})})})}var lt=n(19),ut=n(14),dt=n.n(ut),jt=n(41);function bt(e){var t=Object(r.useState)(e),n=Object(u.a)(t,2),a=n[0],c=n[1];Object(r.useEffect)((function(){return c(e)}),[e]);return[a,c,function(e){c(e.target.value)}]}function ht(e){var t=Object(r.useState)(e),n=Object(u.a)(t,2),a=n[0],c=n[1];return[a,c,function(e){var t=new Date(e);if(e){var n=t.toLocaleDateString("en-in",{day:"numeric",month:"long",year:"numeric"});c(n)}else c(null)}]}var mt=n(15);function xt(e){var t=Object(r.useState)(e),n=Object(u.a)(t,2),a=n[0],c=n[1];return[a,c,function(e){return c(e)}]}var ft=n(652),pt=n(677),Ot=n(649);function gt(e){var t=e.titles,n=e.activeStep,r=e.handleClick;return Object(m.jsx)(ft.a,{activeStep:n,alternativeLabel:!0,sx:{py:4},children:t.map((function(e,t){return Object(m.jsx)(pt.a,{onClick:r(t),children:Object(m.jsx)(Ot.a,{children:e})},e)}))})}var yt=n(667),vt=n(671);function Ct(e){var t=e.handleClick,n=e.children;return Object(m.jsx)(vt.a,{onClick:t,children:Object(m.jsx)(ne.a,{elevation:0,sx:{bgcolor:"#fff",borderRadius:5,border:"2px solid gray",color:"black",position:"relative",height:{lg:350,sm:300,xs:250},"&:hover":{border:3,borderColor:"secondary.main",elevation:0}},children:n})})}function kt(e){var t=e.imageSrc,n=e.imageSrcSet,r=e.title,a=e.handleImageLoad;return Object(m.jsx)(ae.a,{component:"img",src:t,srcSet:n,alt:r,sx:{borderColor:"muted.main",borderRadius:4,textAlign:"center",objectFit:"cover",height:{lg:270,sm:220,xs:170}},onLoad:a})}function wt(e){var t=e.title,n=e.date;return Object(m.jsx)(re.a,{children:Object(m.jsx)(yt.a,{disableTypography:!0,title:Object(m.jsx)(b.a,{noWrap:!0,sx:{overflow:"hidden",textOverflow:"ellipsis",width:{xs:"calc(75%)",sm:"calc(100%)"},fontWeight:600},children:t}),subheader:Object(m.jsx)(b.a,{sx:{color:"muted.main"},children:n}),sx:{padding:0,color:"faded.black"}})})}function St(e){var t=e.title,n=e.date,r=e.thumbnailImage,a=e.thumbnailImageSrcSet,c=e.handleClick,i=e.handleImageLoad;return Object(m.jsxs)(Ct,{handleClick:c,children:[Object(m.jsx)(kt,{imageSrc:r,imgSrcSet:a,title:t,handleImageLoad:i}),Object(m.jsx)(wt,{title:t,date:n})]})}wt.defaultProps={title:"Memory Thumbnail Image",date:"Memory Date"},kt.defaultProps={title:"Memory Thumbnail Image",imageSrc:"",imageSrcSet:"",handleImageLoad:function(){}},St.defaultProps={thumbnailImageSrcSet:"",handleImageLoad:function(){}};var Mt=n(295),It=n.n(Mt),zt=n(291),Lt=n.n(zt),Et=n(290),Rt=n.n(Et),Dt=n(288),Pt=n.n(Dt),Tt=n(289),Ut=Object(Tt.autoPlay)(Pt.a);function Ft(e){var t=e.index,n=e.images,a=e.handleNext,c=r.useState(t),i=Object(u.a)(c,2),o=i[0],s=i[1];r.useEffect((function(){s(t)}),[t]);var l=n.map((function(e){var t=e.images?e.images.map((function(e){var t=e.src,n=e.width;return"".concat(t," ").concat(n,"w")})):[],n=t.join(",");return Object(m.jsx)(d.a,{component:"img",sx:{display:"flex",justifyContents:"center",width:"100%",bgcolor:"#1c1c1c"},src:e.src,srcSet:n,style:{display:"block",boxSizing:"content-box",cursor:"pointer",objectFit:"contain",height:"100vh"},alt:e.src},e.src)}));return Object(m.jsx)(Ut,{index:o,onChangeIndex:function(e){s(e)},enableMouseEvents:!0,animateTransitions:!0,interval:1e4,onClick:a,springConfig:{duration:"0.7s",easeFunction:"cubic-bezier(0.83, 0, 0.17, 1)",delay:"0s"},style:{backgroundColor:"muted.main"},children:l})}Ft.defaultProps={index:0};var Nt=n(584);function Zt(e){var t=e.size,n=e.handleClick;return Object(m.jsx)(A.a,{size:t,sx:{color:"black",bgcolor:Object(Nt.a)("#fff",.4),position:"absolute",top:10,right:12},onClick:n,children:Object(m.jsx)(q.a,{size:t})})}function At(e){var t=e.handleClick;return Object(m.jsx)(A.a,{edge:"start",color:"primary","aria-label":"close",onClick:t,sx:{position:"absolute",top:"50%",right:0,transform:"translate(0%, -50%)"},children:Object(m.jsx)(Rt.a,{sx:{color:"button.main",fontSize:"4.5rem"}})})}function Bt(e){var t=e.handleClick;return Object(m.jsx)(A.a,{edge:"start",color:"primary","aria-label":"close",onClick:t,sx:{position:"absolute",top:"50%",left:0,transform:"translate(0%, -50%)"},children:Object(m.jsx)(Lt.a,{sx:{color:"button.main",fontSize:"4.5rem"}})})}function Wt(e){var t=e.open,n=e.title,r=e.date,a=e.images,c=e.index,i=e.handleNext,o=e.handleBack,s=e.handleClose;return Object(m.jsxs)(_.a,{open:t,fullScreen:!0,children:[Object(m.jsx)(Ft,{images:a,index:c,handleNext:i}),Object(m.jsx)(yt.a,{title:n,subheader:r,sx:{position:"absolute",top:10,left:10,bgcolor:"button.main",borderRadius:3,padding:1}}),Object(m.jsx)(Bt,{handleClick:o}),Object(m.jsx)(At,{handleClick:i}),Object(m.jsx)(Zt,{size:"large",handleClick:s})]})}Zt.defaultProps={size:"small"},Wt.defaultProps={index:0};var _t=n(159),Ht=n.n(_t),qt=n(44),Jt=n(78),Yt=n.n(Jt);function Gt(){return Object(m.jsxs)(d.a,{sx:{alignItems:"center"},onClick:function(){},children:[Object(m.jsx)(A.a,{"aria-label":"update",sx:{bgcolor:"form.input"},onClick:function(){},children:Object(m.jsx)(Yt.a,{})}),"Edit"]})}var Kt=n(158),Vt=n.n(Kt);function Xt(){return Object(m.jsxs)(d.a,{sx:{alignItems:"center"},children:[Object(m.jsx)(A.a,{"aria-label":"delete",sx:{bgcolor:"form.input"},children:Object(m.jsx)(Vt.a,{})}),"Delete"]})}var $t=n(650);function Qt(e){var t=e.snackBarOpen,n=e.message,a=e.onClose,c=Object(r.useState)(t),i=Object(u.a)(c,2),o=i[0],s=i[1],l=Object(r.useState)(n),d=Object(u.a)(l,2),j=d[0],b=d[1];Object(r.useEffect)((function(){return s(t)}),[t]),Object(r.useEffect)((function(){return b(n)}),[n]);var h=function(){s(!1),b(null),a()},x=Object(m.jsx)(A.a,{size:"small","aria-label":"close",color:"inherit",onClick:h,children:Object(m.jsx)(q.a,{fontSize:"small"})});return console.log("in snackbar",o,n),Object(m.jsx)($t.a,{open:o,autoHideDuration:3e3,onClose:h,message:j,action:x,anchorOrigin:{vertical:"top",horizontal:"center"}})}function en(e){var t=e.confirm,n=e.handleCallback,a=e.handleCloseCallback,c=e.title,i=e.message,o=Object(r.useState)(t),s=Object(u.a)(o,2),l=s[0],h=s[1];Object(r.useEffect)((function(){return h(t)}),[t]);var x=function(){h(!1),a()};return console.log("in confirm",l),Object(m.jsxs)(_.a,{open:l,sx:{backgroundColor:"faded.black"},children:[Object(m.jsx)(J.a,{children:c}),Object(m.jsxs)(d.a,{sx:{p:2},children:[Object(m.jsx)(b.a,{sx:{pb:2},children:i}),Object(m.jsxs)(p.a,{spacing:2,direction:"row",children:[Object(m.jsx)(j.a,{variant:"contained",onClick:x,children:"Cancel"}),Object(m.jsx)(j.a,{variant:"outlined",onClick:function(){x(),n()},children:"OK"})]})]})]})}function tn(e){var t=e.deleteItem,n=e.updateItem,a=e.snackBar,c=e.confirmMessage,i=e.handleDeleteObject,o=e.handleEditClick,s=Object(r.useState)(!1),l=Object(u.a)(s,2),d=l[0],j=l[1],b=Object(r.useState)(null),h=Object(u.a)(b,2),x=h[0],f=h[1],p=Boolean(x),O=function(){return f(null)};return Object(m.jsxs)("div",{children:[Object(m.jsx)(Ht.a,{onClick:function(e){return f(e.currentTarget)}}),Object(m.jsxs)(Te.a,{id:"basic-menu",anchorEl:x,open:p,onClose:O,MenuListProps:{"aria-labelledby":"basic-button"},sx:{borderRadius:"10px"},children:[Object(m.jsx)(Ue.a,{onClick:function(){o(),O()},children:n}),Object(m.jsx)(Ue.a,{onClick:function(){j(!0),O()},children:t})]}),Object(m.jsx)(en,{title:"Delete Memory",confirm:d,handleCallback:i,handleCloseCallback:function(){return j(!1)},message:c}),a]})}var nn=function(){var e=Object(lt.a)(dt.a.mark((function e(t,n){var r,a,c,i,o=arguments;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:{},a="https://".concat(t).concat(n),c={method:"GET",credentials:"include",headers:new Headers({"content-type":"application/json"})},a+="?".concat(new URLSearchParams(r).toString()),e.next=6,fetch(a,c);case 6:if((i=e.sent).ok){e.next=13;break}if(401!==i.status){e.next=11;break}return document.cookie="userInfo=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",e.abrupt("return",{status:"unauthenticated"});case 11:if(403!==i.status){e.next=13;break}return e.abrupt("return",{status:"forbidden"});case 13:return e.abrupt("return",i.json());case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function rn(e,t,n,r){try{return nn(t,"/api/presigned-url",{key:n,bucket:e,method:r}).then((function(e){return e.Error?(console.log(e.Error),""):e.URL}))}catch(a){return a}}function an(){return(an=Object(lt.a)(dt.a.mark((function e(t,n,r){var a,c,i;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/api/details/validate",a={bucket:t},c="https://".concat(n).concat("/api/details/validate"),c+="?".concat(new URLSearchParams(a).toString()),i={method:"POST",credentials:"include",headers:new Headers({"content-type":"application/json"}),body:r},e.next=8,fetch(c,i).then((function(e){return console.log(e),e.ok?e.json():{status:"error"}}));case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function cn(e,t,n,r){return on.apply(this,arguments)}function on(){return(on=Object(lt.a)(dt.a.mark((function e(t,n,r,a){var c,i,o;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rn(t,n,r,"PUT");case 3:return c=e.sent,i={body:a,method:"PUT"},e.next=7,fetch(c,i).then((function(e){return e}));case 7:return o=e.sent,e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function sn(){return(sn=Object(lt.a)(dt.a.mark((function e(t,n,r){var a,c,i;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/api/memory",a={bucket:t,memory_id:r},c="https://".concat(n).concat("/api/memory"),c+="?".concat(new URLSearchParams(a).toString()),i={method:"DELETE",credentials:"include",headers:new Headers({"content-type":"application/json"})},e.next=8,fetch(c,i).then((function(e){return console.log(e),e.ok?{status:"ok",body:e.json()}:{status:"error"}}));case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function ln(){return(ln=Object(lt.a)(dt.a.mark((function e(t,n,r,a,c){var i,o,s;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/api/memory",i={bucket:t,memory_id:r},o="https://".concat(n).concat("/api/memory"),o+="?".concat(new URLSearchParams(i).toString()),s={method:"PATCH",credentials:"include",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({item:a,value:c})},e.next=8,fetch(o,s).then((function(e){return console.log(e),!!e.ok}));case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function un(){return(un=Object(lt.a)(dt.a.mark((function e(t,n,r,a,c){var i,o,s;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/api/memory",i={bucket:t,memory_id:r},o="https://".concat(n).concat("/api/memory"),o+="?".concat(new URLSearchParams(i).toString()),s={method:"PATCH",credentials:"include",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({item:"image",action:a,image:c})},e.next=8,fetch(o,s).then((function(e){return e}));case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var dn={getObjectUrl:rn,validateDetails:function(e,t,n){return an.apply(this,arguments)},upload:cn,uploadMultipleImages:function(e,t,n,r){try{return n.map(function(){var n=Object(lt.a)(dt.a.mark((function n(a){var c;return dt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,cn(e,t,a.Key,a.Body);case 2:return c=n.sent,r(),n.abrupt("return",c);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}catch(a){return console.log(a),a}},getMemories:function(e,t,n){try{var r={bucket:e};return n&&(r.next_token=n),nn(t,"/api/memories",r)}catch(a){return a}},viewMemory:function(e,t,n){try{return nn(t,"/api/memory",{bucket:e,memory_id:n})}catch(r){return console.log("lord, I have erred",r),r}},getThumbnails:function(e,t,n){try{return console.log("Memories = ",n),n.map(function(){var n=Object(lt.a)(dt.a.mark((function n(r){var a;return dt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={bucket:e,memory_id:r},n.abrupt("return",nn(t,"/api/memory/thumbnail",a));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}catch(r){return console.log(r),r}},finalizeMemory:function(e,t,n){try{return nn(t,"/api/memory/finalize",{bucket:e,memory_id:n})}catch(r){return r}},deleteMemory:function(e,t,n){return sn.apply(this,arguments)},updateMemoryDetails:function(e,t,n,r,a){return ln.apply(this,arguments)},updateMemoryImage:function(e,t,n,r,a){return un.apply(this,arguments)}};function jn(){return(jn=Object(lt.a)(dt.a.mark((function e(t,n,r,a){var c;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dn.deleteMemory(t,n,r);case 3:c=e.sent,a(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function bn(e){var t,n=e.header,a=e.subheader,c=e.photoLayout,i=e.storyLayout,o=e.bucket,s=e.memoryID,j=e.authURL,b=e.handleEditClick,x=e.preview,f=Object(r.useState)(null),p=Object(u.a)(f,2),O=p[0],g=p[1],y=Object(r.useState)(null),v=Object(u.a)(y,2),C=v[0],k=v[1],w=Object(qt.a)();t=Object(h.a)(w.breakpoints.down("lg"))?"":"vertical-scroll";var S=function(e){return k(e)},M=function(e){"ok"===e.status?S("Memory deleted successfully"):S("Error while deleting memory"),g(!0)},I=Object(m.jsx)(Qt,{snackBarOpen:O,message:C,onClose:function(){g(!1)}}),z=x?Object(m.jsx)(Ht.a,{}):Object(m.jsx)(tn,{confirmMessage:"Do you want to delete this memory?",snackBar:I,handleDeleteObject:function(){!function(e,t,n,r){jn.apply(this,arguments)}(o,j,s,M)},deleteItem:Object(m.jsx)(Xt,{}),updateItem:Object(m.jsx)(Gt,{}),handleEditClick:b});return console.log("Rendering",O,C),!1===O?Object(m.jsx)(l.a,{to:"/memories",replace:!0}):Object(m.jsxs)(ne.a,{sx:{boxShadow:10,bgcolor:"button.main",p:1},children:[Object(m.jsx)(yt.a,{title:n,subheader:a,action:z}),Object(m.jsx)(Ne.a,{}),Object(m.jsxs)(d.a,{sx:{display:"flex",justifyContent:"flex-start",flexDirection:{lg:"row",xs:"column"},height:{lg:"72vh"},my:1},children:[Object(m.jsx)(d.a,{sx:{width:{lg:"70%",xs:"100%"},overflowY:"scroll",borderRadius:5},className:t,children:c}),Object(m.jsx)(d.a,{sx:{width:{lg:"30%",sx:"100%"},overflowY:"scroll",mt:{lg:0,xs:2},p:{lg:1},px:1},className:t,children:i})]})]})}var hn=n(647),mn=n(100),xn=n.n(mn),fn=n(101),pn=n.n(fn);function On(e){var t=e.editable,n=e.text,a=e.handleTitleUpdate,c=bt(n),i=Object(u.a)(c,3),o=i[0],s=i[1],l=i[2],d=Object(r.useState)(t),j=Object(u.a)(d,2),h=j[0],x=j[1],f=Object(r.useState)(!1),O=Object(u.a)(f,2),g=O[0],y=O[1];return Object(r.useEffect)((function(){x(t),s(n),y(!1)}),[t]),console.log("Memory Title ",h,g,o),h||g?h&&!g?Object(m.jsxs)(p.a,{direction:"row",sx:{alignItems:"center"},spacing:2,children:[Object(m.jsx)(b.a,{variant:"h6",children:o}),Object(m.jsx)(Yt.a,{fontSize:"medium",onClick:function(){return y(!0)}})]}):h&&g?Object(m.jsxs)(p.a,{direction:"row",sx:{alignItems:"flex-end",justifyContent:"flex-start"},spacing:2,children:[Object(m.jsx)(hn.a,{id:"standard-basic",size:"small",label:"Title",onChange:l,variant:"standard",defaultValue:o,sx:{maxWidth:"200px"}}),Object(m.jsx)(xn.a,{fontSize:"medium",onClick:function(){console.log(o),a(o),y(!1)}}),Object(m.jsx)(pn.a,{fontSize:"medium",onClick:function(){s(n),y(!1)}})]}):void 0:Object(m.jsx)(b.a,{variant:"h6",children:o})}var gn=n(645),yn=n(292),vn=n(644);function Cn(e){var t=e.editable,n=e.prevDate,a=e.handleDateUpdate,c=Object(r.useState)(t),i=Object(u.a)(c,2),o=i[0],s=i[1],l=Object(r.useState)(!1),d=Object(u.a)(l,2),j=d[0],h=d[1],x=ht(n),f=Object(u.a)(x,3),O=f[0],g=f[1],y=f[2];return Object(r.useEffect)((function(){s(t),g(n),h(!1)}),[t,n]),console.log("Memory Date ",o,j,O),o||j?o&&!j?Object(m.jsxs)(p.a,{direction:"row",sx:{alignItems:"center"},spacing:2,children:[Object(m.jsx)(b.a,{children:O}),Object(m.jsx)(Yt.a,{fontSize:"medium",onClick:function(){return h(!0)}})]}):o&&j?Object(m.jsxs)(p.a,{direction:"row",sx:{alignItems:"flex-end",justifyContent:"flex-start",mt:3},spacing:2,children:[Object(m.jsx)(yn.a,{dateAdapter:vn.a,children:Object(m.jsx)(gn.a,{label:"Memory Date",value:O,onChange:y,placeholder:"dd/MM/yyyy",inputFormat:"dd/MM/yyyy",maxDate:new Date,renderInput:function(e){return Object(m.jsx)(hn.a,Object($.a)({readOnly:!0,required:!0},e))}})}),Object(m.jsx)(xn.a,{fontSize:"medium",onClick:function(){a(O),h(!1)}}),Object(m.jsx)(pn.a,{fontSize:"medium",onClick:function(){g(n),h(!1)}})]}):void 0:Object(m.jsx)(b.a,{children:O})}n(256);function kn(e){var t=e.editable,n=e.prevEditorState,a=e.handleEditorStateUpdate,c=Object(r.useState)(t),i=Object(u.a)(c,2),o=i[0],s=i[1],l=Object(r.useState)(!1),j=Object(u.a)(l,2),b=j[0],h=j[1],x=xt(n),f=Object(u.a)(x,3),O=f[0],g=f[1],y=f[2],v=Object(r.useRef)();return Object(r.useEffect)((function(){s(t),g(n),h(!1)}),[t,n]),console.log("Memory Title ",o,b),o||b?o&&!b?Object(m.jsxs)(p.a,{direction:"column",sx:{alignItems:"flex-end",justifyContent:"flex-end"},spacing:2,children:[Object(m.jsx)(Yt.a,{fontSize:"medium",onClick:function(){h(!0)}}),Object(m.jsx)(jt.Editor,{readOnly:!0,editorState:O})]}):o&&b?Object(m.jsxs)(p.a,{direction:"column",sx:{alignItems:"flex-end",justifyContent:"flex-start"},spacing:2,children:[Object(m.jsxs)(p.a,{direction:"row",spacing:2,children:[Object(m.jsx)(xn.a,{fontSize:"medium",onClick:function(){a(JSON.stringify(Object(jt.convertToRaw)(O.getCurrentContent()))),h(!1)}}),Object(m.jsx)(pn.a,{fontSize:"medium",onClick:function(){g(n),h(!1)}})]}),Object(m.jsx)(d.a,{sx:{p:2,m:1,my:2,border:1,borderColor:"primary.main",bgcolor:"input.background",minHeight:"200px",borderRadius:5,width:"90%"},onClick:function(){return v.current.focus()},children:Object(m.jsx)(jt.Editor,{autoFocus:!0,onChange:y,editorState:O,ref:v})})]}):void 0:Object(m.jsx)(jt.Editor,{readOnly:!0,editorState:O})}var wn=n(61),Sn=n(119),Mn=n(648),In=n(672),zn=n(294),Ln=n.n(zn),En=["alt","style"],Rn=["alt","style"];function Dn(e){var t=e.children,n=e.onClick,r=e.name,a=e.updateOp;return Object(m.jsx)(j.a,{id:r,variant:"contained",component:"label",onClick:n,sx:{color:a===r?"button.main":"muted.main",borderRadius:5,backgroundColor:a===r?"primary.main":"button.main",padding:"6px 8px"},children:t})}function Pn(e){var t=e.handleChange,n=e.onClick,r=e.updateOp;return Object(m.jsxs)(Dn,{onClick:n,name:"add",updateOp:r,children:[Object(m.jsx)("input",{type:"file",hidden:!0,multiple:!0,accept:"image/*",onChange:t}),Object(m.jsx)(Ln.a,{sx:{fontSize:"1.5rem"}}),"Add"]})}function Tn(e){var t=e.images,n=e.handlePhotoClick,a=e.renderPhoto,c=Object(r.useState)(null),i=Object(u.a)(c,2),o=i[0],s=i[1];return Object(r.useEffect)((function(){var e=0,n=0;t.forEach((function(t){t.height>t.width?n+=1:e+=1})),s(e>n?"rows":"columns")}),[t]),a?Object(m.jsx)(Sn.a,{layout:o,photos:t,onClick:n,spacing:2,renderPhoto:a}):Object(m.jsx)(Sn.a,{layout:o,photos:t,onClick:n,spacing:2})}function Un(e){var t=e.editable,n=e.images,a=e.handlePhotoClick,c=e.handleThumbnailUpdate,i=e.deleteImage,o=e.addImage,s=Object(r.useState)(t),l=Object(u.a)(s,2),d=l[0],h=l[1],x=Object(r.useState)(null),f=Object(u.a)(x,2),O=f[0],g=f[1],y=Object(r.useState)(null),v=Object(u.a)(y,2),C=v[0],k=v[1];console.log("memory images",O,d),Object(r.useEffect)((function(){h(t),g(null)}),[t]);var w=Object(m.jsxs)(p.a,{direction:"row",spacing:2,children:[Object(m.jsx)(Pn,{handleChange:o,onClick:function(){return g("add")},updateOp:O}),Object(m.jsxs)(Dn,{onClick:function(){return g("delete")},name:"delete",updateOp:O,children:[Object(m.jsx)(Vt.a,{sx:{fontSize:"1.5rem"}}),"Delete"]}),Object(m.jsx)(Dn,{onClick:function(){return g("thumbnail")},name:"thumbnail",updateOp:O,children:"Set Thumbnail"})]}),S=Object(m.jsx)(p.a,{direction:"row",sx:{justifyContent:"flex-end"},alignItems:"center",children:Object(m.jsxs)(b.a,{variant:"body1",children:["Images:",n.length]})});return d?d&&"delete"===O?Object(m.jsxs)(p.a,{direction:"column",spacing:2,sx:{p:2},children:[S,w,Object(m.jsx)(Tn,{images:n,handlePhotoClick:a,renderPhoto:function(e){var t=e.layout,r=e.layoutOptions,a=e.imageProps,c=a.alt,o=a.style,s=Object(wn.a)(a,En);return console.log(t,r),Object(m.jsxs)(j.a,{component:"div",children:[Object(m.jsx)("img",Object($.a)({alt:c,style:Object($.a)(Object($.a)({},o),{},{width:t.width,padding:0})},s)),Object(m.jsx)(A.a,{size:"medium",sx:{color:"black",bgcolor:Object(Nt.a)("#fff",.4),position:"absolute",top:10,right:12},onClick:function(){return function(e){var t=n.find((function(t){return t.alt===e}));i(t)}(c)},children:Object(m.jsx)(q.a,{size:"medium"})})]})}})]}):d&&"thumbnail"===O?Object(m.jsxs)(p.a,{direction:"column",spacing:2,sx:{p:2},children:[S,w,Object(m.jsx)(Tn,{images:n,handlePhotoClick:a,renderPhoto:function(e){var t=e.layout,r=e.layoutOptions,a=e.imageProps,i=a.alt,o=a.style,s=Object(wn.a)(a,Rn);return console.log(r),Object(m.jsxs)(j.a,{component:"div",children:[Object(m.jsx)("img",Object($.a)({alt:i,style:Object($.a)(Object($.a)({},o),{},{width:t.width,padding:0})},s)),Object(m.jsx)(In.a,{control:Object(m.jsx)(Mn.a,{}),label:"",checked:i===C,onChange:function(){return function(e){console.log("name",e),console.log("images",n),k(e);var t=n.find((function(t){return t.alt===e}));console.log("thumbnail image",t),c(t)}(i)},sx:{pr:1,position:"absolute",bgcolor:Object(Nt.a)("#fff",.6),color:"black",borderRadius:"0px 5px 5px 0px",borderColor:"secondary.main",borderLeft:0,bottom:20,left:15}})]})}})]}):d&&"add"===O||d&&!O?Object(m.jsxs)(p.a,{direction:"column",spacing:2,sx:{p:2},children:[S,w,Object(m.jsx)(Tn,{images:n,handlePhotoClick:a})]}):void 0:Object(m.jsx)(Tn,{images:n,handlePhotoClick:a})}function Fn(e){var t=e.memTitle,n=e.memDate,a=e.memEditorState,c=e.memImages,i=e.bucket,o=e.memoryID,s=e.authURL,l=e.preview,h=Object(r.useState)(!1),x=Object(u.a)(h,2),f=x[0],O=x[1],g=Object(r.useState)(!1),y=Object(u.a)(g,2),v=y[0],C=y[1],k=Object(r.useState)(0),w=Object(u.a)(k,2),S=w[0],M=w[1],I=Object(r.useState)(t),z=Object(u.a)(I,2),L=z[0],E=z[1],R=Object(r.useState)(n),D=Object(u.a)(R,2),P=D[0],T=D[1],U=Object(r.useState)(a),F=Object(u.a)(U,2),N=F[0],Z=F[1],A=Object(r.useState)(c),B=Object(u.a)(A,2),W=B[0],_=B[1],H=Object(r.useState)(null),q=Object(u.a)(H,2),J=q[0],Y=q[1],G=Object(r.useState)(null),K=Object(u.a)(G,2),V=K[0],X=K[1];console.log("images",W);var $=W.length;Object(r.useEffect)((function(){return E(t)}),[t]),Object(r.useEffect)((function(){return T(n)}),[n]),Object(r.useEffect)((function(){return Z(a)}),[a]),Object(r.useEffect)((function(){return _(c)}),[c]);var Q=function(e){console.log("Setting snack message",e),X(e)},ee=function(){var e=Object(lt.a)(dt.a.mark((function e(t,n){var r;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dn.updateMemoryDetails(i,s,o,t,n);case 3:return r=e.sent,Q(r?"Memory ".concat(t," updated successfully"):"Error while updating memory ".concat(t)),Y(!0),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),te=function(){var e=Object(lt.a)(dt.a.mark((function e(t){var n;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dn.updateMemoryImage(i,s,o,"thumbnail",t);case 3:return n=e.sent,console.log("Response",n),n.ok?Q("Memory thumbnail updated successfully"):Q("Error while updating memory thumbnail"),Y(!0),e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(lt.a)(dt.a.mark((function e(t){var n;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(W.length>1)){e.next=9;break}return e.next=4,dn.updateMemoryImage(i,s,o,"delete",t);case 4:n=e.sent,console.log("Response",n),n?(console.log("set snack message - successfully deleted memory image"),Q("Memory image deleted successfully"),_(W.filter((function(e){return e.title!==t.title})))):(console.log("set snack message - error while deleting memory image"),Q("Error while deleting memory image")),e.next=11;break;case 9:console.log("set snack message - atleast one image is needed for memory"),Q("Atleast 1 image is needed for memory. Unable to delete");case 11:return Y(!0),e.abrupt("return",n);case 15:return e.prev=15,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(lt.a)(dt.a.mark((function e(t){var n;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("addImage details",t),e.next=4,dn.updateMemoryImage(i,s,o,"add",t);case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(lt.a)(dt.a.mark((function e(t){var n;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.files&&(n=Array.from(t.target.files),console.log("files to add:",n.length,"exsting images:",W.length),W.length+n.length<=15?(n.forEach((function(e){var t=new Image;t.onload=function(){var t=Object(lt.a)(dt.a.mark((function t(n){var r,a,c,i,s,l,u,d,j,b,h;return dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.target.naturalHeight,a=n.target.naturalWidth,c=e.size/1048576,i=e.name,s=[500,1e3,1500].map((function(e){return{height:e,width:Math.ceil(e*a/r)}})),l=Date.now(),u="".concat(l,"-").concat(i),d={name:u,size:c,height:r,width:a,images:s},t.next=10,re(d);case 10:if(!(j=t.sent).ok){t.next=32;break}return b={key:"memories/".concat(o,"/images/").concat(u),src:n.target.src,alt:u,title:u,width:a,height:r,images:[]},console.log("uploading photo",b),t.next=16,j.text();case 16:return h=t.sent,Q("Uploading image. Please wait..."),Y(!0),t.next=21,fetch(h,{body:e,method:"PUT"}).then((function(e){return e}));case 21:if(!t.sent.ok){t.next=28;break}return _((function(e){return e.concat([b])})),console.log("Setting snack message - image add success"),Q("Memory image added successfully"),Y(!0),t.abrupt("return");case 28:return console.log("Setting snack message - error uploading image"),Q("Error while uploading memory image"),Y(!0),t.abrupt("return");case 32:console.log("Setting snack message - error adding image"),Q("Error while adding memory image"),Y(!0);case 35:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.src=URL.createObjectURL(e)})),n.map((function(e){return URL.revokeObjectURL(e)}))):(console.log("Setting snack message - error adding image as exceeding 15"),Q("Unable to add ".concat(n.length," images. Maximum images allowed pre memory is 15")),Y(!0)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=Object(m.jsx)(On,{editable:v,text:L,handleTitleUpdate:function(e){ee("title",e)&&E(e)}}),ie=Object(m.jsx)(Cn,{editable:v,prevDate:P,handleDateUpdate:function(e){ee("date",e)&&T(e)}}),oe=Object(m.jsx)(kn,{editable:v,prevEditorState:N,handleEditorStateUpdate:function(e){ee("story",e)&&Z(e)}}),se=Object(m.jsx)(Un,{editable:v,images:W,handlePhotoClick:function(e,t,n){O(!0),M(n)},handleThumbnailUpdate:te,deleteImage:ne,addImage:ae}),le=Object(m.jsxs)(j.a,{variant:"contained",component:"label",onClick:function(){return C(!1)},sx:{color:"primary.main",borderRadius:5,backgroundColor:"button.main",padding:"6px 8px"},children:[Object(m.jsx)(It.a,{size:"medium",sx:{paddingRight:1}}),Object(m.jsx)(b.a,{variant:"body1",color:"muted.main",children:"Edit"})]});return Object(m.jsxs)(m.Fragment,{children:[v?Object(m.jsx)(p.a,{direction:"row",justifyContent:"flex-start",sx:{backgroundColor:"button.main",paddingX:2,paddingY:3},children:le}):null,Object(m.jsx)(d.a,{component:"div",sx:{backgroundColor:"button.main",margin:v?"5px":0},children:Object(m.jsx)(bn,{header:ce,subheader:ie,photoLayout:se,storyLayout:oe,memoryID:o,bucket:i,authURL:s,handleEditClick:function(){return C(!0)},preview:l})}),Object(m.jsx)(Wt,{open:f,title:L,date:P,images:W,index:S,handleNext:function(){M((function(e){return(e+1)%$}))},handleBack:function(){M((function(e){return(e-1+$)%$}))},handleClose:function(){return O(!1)}}),Object(m.jsx)(Qt,{snackBarOpen:J,message:V,onClose:function(){console.log("snack close, set snack false, message null"),Y(!1),X(null)}})]})}function Nn(e){var t=e.title;return Object(m.jsx)(yt.a,{title:t,sx:{border:0,borderColor:"primary.main",textAlign:"center",width:1,mb:1,bgcolor:"button.main",p:0,py:2,borderRadius:2}})}Tn.defaultProps={renderPhoto:null},Dn.defaultProps={onClick:function(){}},Fn.defaultProps={memTitle:"Memory Title",memDate:"Memory Date",memEditorState:jt.EditorState.createWithText("Memory Text")};var Zn=n(5),An=n(124);function Bn(e){var t=e.label,n=e.handleClick,r=e.disabled;return Object(m.jsx)(j.a,{onClick:n,disabled:r,sx:{m:2,border:2,borderColor:r?"muted.main":"ternary.main",borderRadius:5,bgcolor:"input.background"},children:t})}function Wn(e){var t=e.handleNext,n=e.handlePrevious,r=e.isLast,a=e.isFirst;return Object(m.jsxs)(d.a,{sx:{display:"flex",flexDirection:"row",pt:2,width:1,justifyContent:"space-evenly"},children:[a?Object(m.jsx)(Bn,{disabled:!0,handleClick:function(){},label:"Back"}):Object(m.jsx)(Bn,{handleClick:n,label:"Back"}),r?Object(m.jsx)(Bn,{handleClick:t,label:"Create Memory"}):Object(m.jsx)(Bn,{handleClick:t,label:"Next"})]})}function _n(e){var t=e.children;return Object(m.jsx)(d.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,maxWidth:"90%",width:"45ch"},"& .MuiOutlinedInput-root":{backgroundColor:"form.input",borderRadius:5},flexDirection:"column",display:"flex",alignItems:"center",width:"auto",pt:2},autoComplete:"true",children:t})}function Hn(e){var t=e.title,n=e.date,a=e.handleTitleChange,c=e.handleDateChange,i=e.handleNext,o=e.handlePrevious,s=e.isLast,l=e.isFirst,d=e.activeStep,j=Object(r.useState)(""),b=Object(u.a)(j,2),h=b[0],x=b[1],f=Object(r.useState)(""),p=Object(u.a)(f,2),O=p[0],g=p[1],y=Object(r.useState)(!1),v=Object(u.a)(y,2),C=v[0],k=v[1],w=Object(r.useState)(!1),S=Object(u.a)(w,2),M=S[0],I=S[1],z=An.b({title:An.c().required("Memory Title is required")}).required(),L=An.b({date:An.a("Enter date by clicking calendar icon on the right end of date picker").required("Memory Date is required").nullable()}).required(),E=function(){var e=Object(lt.a)(dt.a.mark((function e(t,n,r,a){var c,i;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=!1,e.next=3,a.validate(Object(Zn.a)({},t,n),{abortEarly:!1}).catch((function(e){return e}));case 3:return i=e.sent,r(""),i.inner&&(i.inner.forEach((function(e){return r(e.message)})),c=!0),e.abrupt("return",!c);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),R=function(){var e=Object(lt.a)(dt.a.mark((function e(){var r,a;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("title",t,x,z);case 2:return r=e.sent,e.next=5,E("date",n,g,L);case 5:return a=e.sent,e.abrupt("return",r&&a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){C&&E("title",t,x,z),M&&E("date",n,g,L)}),[t,n]);var D=function(){var e=Object(lt.a)(dt.a.mark((function e(t){return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:e.sent&&t();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(_n,{children:[Object(m.jsx)(hn.a,{required:!0,onChange:function(e){k(!0),a(e)},id:"outlined-required",label:"Memory Name",defaultValue:t,helperText:h||"E.g. Gogol's 2nd Birthday",error:!!h}),Object(m.jsx)(yn.a,{dateAdapter:vn.a,children:Object(m.jsx)(gn.a,{label:"Memory Date",value:n,onChange:function(e){I(!0),c(e)},placeholder:"dd/MM/yyyy",inputFormat:"dd/MM/yyyy",maxDate:new Date,renderInput:function(e){return Object(m.jsx)(hn.a,Object($.a)(Object($.a)({readOnly:!0,required:!0},e),{},{error:!!O,helperText:O||""}))}})}),Object(m.jsx)(Wn,{activeStep:d,handleNext:function(){return D(i)},handlePrevious:o,isLast:s,isFirst:l})]})}Bn.defaultProps={disabled:!1},Hn.defaultProps={date:""};var qn=n(299),Jn=n.n(qn);function Yn(e){var t=e.handleChange;return Object(m.jsx)(d.a,{sx:{display:"flex",justifyContent:"center",pb:1},children:Object(m.jsxs)(j.a,{variant:"contained",component:"label",color:"button",sx:{borderRadius:5,border:2,borderColor:"primary.main",backgroundColor:"input.background"},children:[Object(m.jsx)("input",{type:"file",hidden:!0,multiple:!0,accept:"image/*",onChange:t}),Object(m.jsx)(b.a,{variant:"h6",children:"Add Pictures"}),Object(m.jsx)(Jn.a,{sx:{fontSize:"2.5rem"}})]})})}function Gn(e){var t=e.index,n=e.thumbnail,r=e.handleThumbnailChange;return Object(m.jsx)(In.a,{control:Object(m.jsx)(Mn.a,{}),label:"Thumbnail",checked:n===t,onChange:function(){return r(t)},sx:{pr:1,position:"absolute",bgcolor:Object(Nt.a)("#fff",.6),color:"black",borderRadius:"0px 5px 5px 0px",borderColor:"secondary.main",borderLeft:0,bottom:20,left:15}})}function Kn(e){var t=e.photo,n=e.index,r=e.setDimensions,a=e.thumbnail,c=e.resizeHeights;return Object(m.jsx)(d.a,{component:"img",onLoad:function(e){return function(e,t){var a=e.target.naturalWidth,c=e.target.naturalHeight,i=t.map((function(e){return{height:e,width:Math.ceil(e*a/c)}}));r(n,i)}(e,c)},sx:{border:a===n?4:0,borderColor:"primary.main",borderRadius:a===n?5:0,mb:1,"&:hover":{border:5,borderColor:"secondary.main"}},src:t,alt:t.name,height:"140px",width:"140px",fit:"crop",auto:"format",loading:"lazy"})}function Vn(e){var t=e.imageDetails,n=e.handleRemoveImage,r=e.thumbnail,a=e.handleThumbnailChange,c=e.setDimensions,i=e.resizeHeights;return t.length?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ne.a,{}),Object(m.jsx)(b.a,{sx:{p:2},variant:"h6",align:"center",children:"Selected Images"}),Object(m.jsx)(O.a,{container:!0,alignItems:"center",justifyContent:"space-around",sx:{p:1},children:t.map((function(e,t){return Object(m.jsxs)(j.a,{component:"div",children:[Object(m.jsx)(Kn,{photo:e.url,index:t,setDimensions:c,thumbnail:r,resizeHeights:i}),Object(m.jsx)(Zt,{handleClick:function(){return n(t)}}),Object(m.jsx)(Gn,{index:t,thumbnail:r,handleThumbnailChange:a})]},e.url)}))})]}):null}function Xn(e){var t=e.text;return Object(m.jsx)(b.a,{sx:{color:"error.main"},children:t})}function $n(e){var t=e.imageDetails,n=e.thumbnail,a=e.handleSelectedImageChange,c=e.handleThumbnailChange,i=e.removeSelectedImage,o=e.handleNext,s=e.handlePrevious,l=e.isLast,d=e.isFirst,j=e.setDimensions,h=e.resizeHeights,x=Object(r.useState)(""),f=Object(u.a)(x,2),p=f[0],g=f[1],y=Object(r.useState)(!1),v=Object(u.a)(y,2),C=v[0],k=v[1];function w(){var e=!0;return g(""),t.length<1&&(g("Need atleast one image to create a memory"),e=!1),t.length>15&&(g("Maximum Allowed Images per Memory: ".concat(15)),e=!1),e}Object(r.useEffect)((function(){C&&w()}),[t,C]);return Object(m.jsxs)(_n,{children:[Object(m.jsx)(O.a,{item:!0,children:Object(m.jsx)(Yn,{handleChange:function(e){k(!0),a(e,w)}})}),Object(m.jsxs)(O.a,{item:!0,container:!0,direction:"column",alignItems:"center",children:[Object(m.jsxs)(b.a,{children:["Total Images Selected:",t.length]}),Object(m.jsx)(Xn,{text:p})]}),Object(m.jsx)(Wn,{handleNext:function(){return e=o,void(w()&&e());var e},handlePrevious:s,isLast:l,isFirst:d}),Object(m.jsx)(O.a,{item:!0,children:Object(m.jsx)(Vn,{imageDetails:t,handleRemoveImage:i,thumbnail:n,handleThumbnailChange:c,setDimensions:j,resizeHeights:h})})]})}n(580);function Qn(e){var t=e.storyError,n=e.editorState,a=e.handleEditorStateChange,c=Object(r.useRef)();return Object(r.useEffect)((function(){c.current.focus()}),[]),Object(m.jsx)(d.a,{sx:{p:2,m:1,my:2,border:1,borderColor:t?"error.main":"primary.main",bgcolor:"input.background",minHeight:"200px",borderRadius:5},onClick:function(){return c.current.focus()},children:Object(m.jsx)(jt.Editor,{editorState:n,onChange:a,placeholder:"Tell your story...",ref:c})})}function er(e){var t=e.editorState,n=e.handleEditorStateChange,a=e.handleNext,c=e.handlePrevious,i=e.isLast,o=e.isFirst,s=e.progressDialog,l=1e5,j=Object(r.useState)(""),b=Object(u.a)(j,2),h=b[0],x=b[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Qn,{storyError:h,editorState:t,handleEditorStateChange:n}),Object(m.jsx)(d.a,{sx:{p:1,m:1},children:Object(m.jsx)(Xn,{text:h})}),Object(m.jsx)(Wn,{handleNext:function(){return e=a,void(t.getCurrentContent().getPlainText().length<=l?(x(""),e()):x("Maximum story length is: ".concat(l)));var e},handlePrevious:c,isLast:i,isFirst:o}),s]})}var tr=n(673),nr=n(674),rr=n(300),ar=n.n(rr),cr=n(301),ir=n.n(cr);function or(e){var t=e.value;return Object(m.jsxs)(d.a,{sx:{display:"flex",alignItems:"center",mb:1},children:[Object(m.jsx)(d.a,{sx:{width:"100%",mr:1},children:Object(m.jsx)(tr.a,{variant:"determinate",value:t})}),Object(m.jsx)(d.a,{sx:{minWidth:35},children:Object(m.jsx)(b.a,{variant:"body2",color:"text.secondary",children:"".concat(Math.round(t),"%")})})]})}function sr(e){var t,n=e.message,r=e.done;return t="failed"===r?Object(m.jsx)(b.a,{color:"error.main",children:"Failed"}):!0===r?Object(m.jsx)(b.a,{color:"success.main",children:"Done"}):Object(m.jsx)(nr.a,{size:30}),Object(m.jsxs)(d.a,{sx:{display:"flex",alignItems:"space-between"},children:[Object(m.jsx)(d.a,{sx:{width:"100%",mr:1},children:Object(m.jsx)(b.a,{children:n})}),Object(m.jsx)(d.a,{sx:{minWidth:35},children:t})]})}function lr(e){var t=e.progress,n=e.counter;return 100===t?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(d.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",m:2},children:[Object(m.jsx)(ar.a,{color:"success",fontSize:"large",sx:{mr:2}}),Object(m.jsx)(b.a,{variant:"h5",color:"primary.main",children:"Memory Created Successfully"})]}),Object(m.jsxs)(d.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(m.jsx)(d.a,{children:Object(m.jsx)(b.a,{children:"Navigating to memories page in "})}),Object(m.jsx)(d.a,{sx:{mx:1},children:Object(m.jsx)(b.a,{variant:"h6",color:"success.main",children:n})}),Object(m.jsx)(d.a,{children:Object(m.jsx)(b.a,{children:"seconds"})})]})]}):-1===t?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(d.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",m:2},children:[Object(m.jsx)(ir.a,{color:"error",fontSize:"large",sx:{mr:2}}),Object(m.jsx)(b.a,{variant:"h5",color:"primary.main",children:"Memory Creation Failed"})]}),Object(m.jsxs)(d.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(m.jsx)(d.a,{children:Object(m.jsx)(b.a,{children:"Navigating to memories page in "})}),Object(m.jsx)(d.a,{sx:{mx:1},children:Object(m.jsx)(b.a,{variant:"h6",color:"success.main",children:n})}),Object(m.jsx)(d.a,{children:Object(m.jsx)(b.a,{children:"seconds"})})]})]}):null}function ur(e){var t=e.open,n=e.progress,a=e.messages,c=Object(r.useState)(0),i=Object(u.a)(c,2),o=i[0],s=i[1];return Object(r.useEffect)((function(){var e;return o>0&&(e=setTimeout((function(){return s(o-1)}),1e3)),function(){return clearTimeout(e)}}),[o]),Object(r.useEffect)((function(){100!==n&&-1!==n||s(10)}),[n]),Object(m.jsx)(_.a,{open:t,fullWidth:!0,sx:{p:1},children:Object(m.jsxs)(ne.a,{sx:{maxWidth:1,p:1},children:[Object(m.jsx)(yt.a,{title:"Creating Memory",sx:{textAlign:"center"}}),Object(m.jsx)(Ne.a,{}),Object(m.jsxs)(re.a,{children:[Object(m.jsx)(or,{value:n>0?n:0}),a.map((function(e){return Object(m.jsx)(sr,{message:e.message,done:e.done},e.message)})),Object(m.jsx)(lr,{progress:n,counter:o})]})]})})}function dr(e,t,n,r,a,c,i){var o=a.map((function(e,t){var r=c[t];return{Key:["memories",n,"images",e.name].join("/"),Body:r,ContentType:r.type}})),s=dn.uploadMultipleImages(e,t,o,i);return Promise.allSettled(s)}function jr(e,t,n){return br.apply(this,arguments)}function br(){return(br=Object(lt.a)(dt.a.mark((function e(t,n,r){var a,c;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify(r),e.next=3,dn.validateDetails(t,n,a);case 3:if(c=e.sent,console.log(c),"error"!==c.status){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",!0===c.Valid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hr(e,t,n){return mr.apply(this,arguments)}function mr(){return(mr=Object(lt.a)(dt.a.mark((function e(t,n,r){var a,c,i;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify(r),c=["memories",r.key,"details.json"].join("/"),e.next=4,dn.upload(t,n,c,a);case 4:return i=e.sent,e.abrupt("return",i&&!0===i.ok);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}ur.defaultProps={messages:[]};var xr=function(){var e=Object(lt.a)(dt.a.mark((function e(t,n,r,a,c,i){var o,s;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(0),i("Initializing memory",!1),e.next=4,jr(t,n,r);case 4:if(!0!==(o=e.sent)){e.next=13;break}return e.next=8,hr(t,n,r);case 8:s=e.sent,c("Initializing Memory",s),a(10),e.next=14;break;case 13:c("Initializing Memory","failed");case 14:return e.abrupt("return",o);case 15:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,i){return e.apply(this,arguments)}}(),fr=function(){var e=Object(lt.a)(dt.a.mark((function e(t,n,r,a,c,i,o,s){var l,u;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr(t,n,r,0,c,i,o);case 2:l=e.sent,u=0;case 4:if(!(u<l.length)){e.next=10;break}if("rejected"!==l[u].status&&!0===l[u].value.ok){e.next=7;break}return e.abrupt("return",!1);case 7:u+=1,e.next=4;break;case 10:return s(95),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,i,o,s){return e.apply(this,arguments)}}(),pr=function(){var e=Object(lt.a)(dt.a.mark((function e(t,n,r,a,c,i,o,s){var l,u;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xr(t,n,r,a,c,i);case 2:if(l=e.sent,console.log("Initialize Memory completed",l,new Date),!0!==l){e.next=16;break}return e.next=7,fr(t,n,r.key,r.title,r.imageDetails,o,s,a);case 7:if(!0!==e.sent){e.next=15;break}return e.next=11,dn.finalizeMemory(t,n,r.key);case 11:if(u=e.sent,parseInt(u.MemoryID,10)===r.key){e.next=14;break}return e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:c("Uploading Original Images","failed");case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,i,o,s){return e.apply(this,arguments)}}(),Or={CreateMemory:pr};function gr(e){var t=e.mode,n=e.bucket,a=e.authURL,c=Object(l.g)(),i=["Enter memory title and date","Upload Pictures","Write story"],o=function(e){var t=Object(r.useState)(0),n=Object(u.a)(t,2),a=n[0],c=n[1];return[a,function(){c((a+1)%e)},function(){c((a-1+e)%e)},a===e-1,0===a]}(i.length),s=Object(u.a)(o,5),j=s[0],b=s[1],h=s[2],x=s[3],f=s[4],p=bt(""),g=Object(u.a)(p,3),y=g[0],v=g[2],C=ht(""),k=Object(u.a)(C,3),w=k[0],S=k[2],M=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),i=Object(u.a)(c,2),o=i[0],s=i[1],l=Object(r.useState)(0),d=Object(u.a)(l,2),j=d[0],b=d[1],h=function(e){b(e)};return[n,j,function(e){if(e.target.files){var t=Array.from(e.target.files);t.forEach((function(e){var t=new Image;t.onload=function(t){var n=Date.now(),r="".concat(n,"-").concat(e.name);a((function(n){return n.concat([{name:r,size:e.size/1048576,url:t.target.src,height:t.target.naturalHeight,width:t.target.naturalWidth,imageFile:e}])}))},t.src=URL.createObjectURL(e)})),s((function(e){return e.concat(t)})),t.map((function(e){return URL.revokeObjectURL(e)}))}},function(e){a([].concat(Object(mt.a)(n.slice(0,e)),Object(mt.a)(n.slice(e+1)))),s([].concat(Object(mt.a)(o.slice(0,e)),Object(mt.a)(o.slice(e+1)))),e<j?h(j-1):e===j&&h(0)},h,function(e,t){a([].concat(Object(mt.a)(n.slice(0,e)),[Object($.a)(Object($.a)({},n[e]),{},{images:t})],Object(mt.a)(n.slice(e+1))))}]}(),I=Object(u.a)(M,6),z=I[0],L=I[1],E=I[2],R=I[3],D=I[4],P=I[5],T=xt(jt.EditorState.createEmpty()),U=Object(u.a)(T,3),F=U[0],N=U[2],Z=Object(r.useState)(!1),A=Object(u.a)(Z,2),B=A[0],W=A[1],_=Object(r.useState)(0),H=Object(u.a)(_,2),q=H[0],J=H[1],Y=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1];return[n,function(e,t){var n=[{message:e,done:t}];a((function(e){return e.concat(n)}))},function(e,t){var n=[{message:e,done:t}];a((function(e){return e.slice(0,-1).concat(n)}))}]}(),G=Object(u.a)(Y,3),K=G[0],V=G[1],X=G[2],Q=Object(r.useState)(0),ee=Object(u.a)(Q,2),te=ee[0],ne=ee[1],re=function(e){return J(e)},ae=function(){return ne((function(e){return e+1}))},ce=z.map((function(e){return e.imageFile}));Object(r.useEffect)((function(){var e="Uploading Original Images (".concat(te,"/").concat(z.length,")");te>=0&&q>=10&&(0===te?V(e,!1):X(e,!1),z.length===te&&X(e,!0))}),[te,q]);var ie,oe=Object(m.jsx)(Hn,{activeStep:j,handleNext:b,handlePrevious:h,isLast:x,isFirst:f,title:y,date:w,handleTitleChange:v,handleDateChange:S}),se=Object(m.jsx)($n,{imageDetails:z,handleSelectedImageChange:E,removeSelectedImage:R,thumbnail:L,handleThumbnailChange:D,handleNext:b,handlePrevious:h,isLast:x,isFirst:f,setDimensions:P,resizeHeights:[500,1e3,1500]}),le=function(){var e=Object(lt.a)(dt.a.mark((function e(){var t,r,i;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date(2100,1,1).getTime()-Date.now(),r={key:t,title:y,date:w,lastModified:new Date,imageDetails:z,contentState:Object(jt.convertToRaw)(F.getCurrentContent()),thumbnail:z[L],totalSize:(o=z,o.reduce((function(e,t){return e+t.size}),0))},W(!0),e.next=5,Or.CreateMemory(n,a,r,re,X,V,ce,ae);case 5:i=e.sent,console.log("created=",i),!0===i?re(100):(re(-1),console.log("error while creating memory")),setTimeout((function(){return c("/memories")}),1e4);case 9:case"end":return e.stop()}var o}),e)})));return function(){return e.apply(this,arguments)}}(),ue=Object(m.jsx)(ur,{open:B,progress:q,messages:K}),de=function(e,t,n,r,a){return Object(m.jsx)(O.a,{container:!0,justifyContent:"center",children:Object(m.jsx)(O.a,{item:!0,lg:6,xs:12,sx:{boxShadow:10,borderRadius:5,bgcolor:"button.main",mb:2},children:Object(m.jsxs)(d.a,{children:[Object(m.jsx)(gt,{titles:t,activeStep:a,handleClick:function(){}}),Object(m.jsx)(Ne.a,{}),n[a]]})})})}(0,i,[oe,se,Object(m.jsx)(er,{editorState:F,handleEditorStateChange:N,handleNext:le,handlePrevious:h,isLast:x,isFirst:f,progressDialog:ue})],0,j),je=function(e,t,n,r,a){return Object(m.jsxs)(O.a,{container:!0,justifyContent:"space-evenly",sx:{p:0},children:[Object(m.jsxs)(O.a,{item:!0,xs:6,sm:4,md:4,lg:3,xl:2,sx:{px:1,mb:1},children:[Object(m.jsx)(Nn,{title:"Thumbnail Preview"}),Object(m.jsx)(St,{title:e,date:t||"",thumbnailImage:n.length>0?n[r].url:"",handleClick:function(){}})]}),Object(m.jsxs)(O.a,{item:!0,xs:12,lg:9,xl:10,children:[Object(m.jsx)(Nn,{title:"Memory Preview"}),Object(m.jsx)(Fn,{memTitle:e,memDate:t,memEditorState:a,memImages:n.map((function(e){return{src:e.url,width:e.width,height:e.height}})),imageNames:n.map((function(e){return e.name})),preview:!0})]})]})}(y,w,z,L,F);return"Create"===t&&(ie=de),"Preview"===t&&(ie=je),ie}var yr=n(663),vr=n(302),Cr=n.n(vr);function kr(){var e=Object(l.g)(),t=Object(h.a)((function(e){return e.breakpoints.down("md")}));return Object(m.jsx)(O.a,{item:!0,lg:3,md:4,xs:6,sx:{p:1},children:Object(m.jsxs)(Ct,{handleClick:function(){e("/memory/create")},children:[Object(m.jsx)(b.a,{variant:t?"body1":"h5",color:"button.main",sx:{p:1,color:"secondary.main",bgcolor:"primary.main",borderRadius:"0px 10px 10px 0px",borderColor:"secondary.main",position:"absolute",bottom:15,left:0},children:"Create a memory"}),Object(m.jsx)(Cr.a,{sx:{position:"absolute",border:3,borderRadius:"50%",fontSize:"7.5rem",left:"50%",top:"50%",transform:"translate(-50%, -50%)",color:"muted.main"}})]})},"creatememory")}function wr(e){var t=e.handleMoreClick;return Object(m.jsx)(O.a,{item:!0,lg:3,md:4,xs:6,sx:{p:1},children:Object(m.jsx)(Ct,{handleClick:t,children:Object(m.jsx)(b.a,{variant:"h5",sx:{p:2,color:"secondary.main",bgcolor:"primary.main",borderRadius:{md:10,xs:"50%"},borderColor:"secondary.main",position:"absolute",bottom:"50%",left:"50%",transform:"translate(-50%, +50%)",textAlign:"center"},children:"Load More"})})},"creatememory")}function Sr(e){var t=e.memories,n=e.handleMoreClick,r=e.nextToken,a=e.handleImageLoad,c=Object(l.g)(),i=t.sort((function(e,t){return e.memory_id>t.memory_id?1:-1})),o=function(e){var t=e.images?e.images.map((function(e){var t=e.src,n=e.width;return"".concat(t," ").concat(n,"w")})):[];return t.join(",")};return Object(m.jsxs)(O.a,{container:!0,sx:{bgcolor:"button.main",py:1},justifyContent:"left",alignItems:"flex-start",children:[Object(m.jsx)(kr,{}),i.map((function(e){return Object(m.jsx)(O.a,{item:!0,lg:3,md:4,xs:6,sx:{p:1},children:Object(m.jsx)(St,{title:e.title,date:e.date,thumbnailImage:e.photo.src,thumbnailImageSrcSet:o(e.photo),handleClick:function(){var t;c("/memory/".concat((t=e).memory_id),{state:t})},handleImageLoad:a})},e.title)})),r&&Object(m.jsx)(wr,{handleMoreClick:n})]})}Sr.defaultProps={memories:[]};var Mr=n.p+"static/media/image-loading.b17d2768.gif";function Ir(e,t,n,r,a){return zr.apply(this,arguments)}function zr(){return zr=Object(lt.a)(dt.a.mark((function e(t,n,r,a,c){var i,o,s,l=arguments;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>5&&void 0!==l[5]?l[5]:"",e.prev=1,e.next=4,dn.getMemories(t,n,i);case 4:if(o=e.sent,console.log(o),!o){e.next=13;break}return c(o),e.next=10,Promise.all(dn.getThumbnails(t,n,o));case 10:s=e.sent,r(s),a(o.next_continuation_token||"");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])}))),zr.apply(this,arguments)}var Lr=n(303),Er=n(643),Rr=Object(Lr.a)({palette:{primary:{main:"#0e516a",inverse:"#F1AE95",cta:Object(Nt.a)("#0e516a",.9)},secondary:{main:"#ffc745"},ternary:{main:"#FFA500"},muted:{main:"#6c757d"},button:{main:"#ffffff"},faded:{black:Object(Nt.a)("#000",.7)},social:{youtube:"#CD201F",facebook:"#1877F2",twitter:"#1DA1F2",instagram:"#E4405F",heart:"#6b0000",react:"#61dbfb"},memorycard:{background:"#dff2f3"},form:{stepper:"#f1f1f1",body:"#f9ffff",input:Object(Nt.a)("#fff",.5)},basepage:{background:"#9e9e9e"}},typography:{badscript:{fontFamily:"BadScript",fontDisplay:"swap"},button:{textTransform:"none",fontSize:"1rem"}}}),Dr=Object(Er.a)(Rr),Pr=[{key:1,src:Mr,width:667,height:500},{key:2,src:Mr,width:667,height:500},{key:3,src:Mr,width:375,height:500},{key:4,src:Mr,width:667,height:500},{key:5,src:Mr,width:375,height:500},{key:6,src:Mr,width:667,height:500},{key:7,src:Mr,width:667,height:500},{key:8,src:Mr,width:667,height:500},{key:9,src:Mr,width:667,height:500},{key:10,src:Mr,width:667,height:500},{key:11,src:Mr,width:375,height:500},{key:12,src:Mr,width:375,height:500},{key:13,src:Mr,width:375,height:500},{key:14,src:Mr,width:375,height:500},{key:15,src:Mr,width:667,height:500}];function Tr(){return Object(m.jsx)(bn,{header:Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:{lg:"20%",md:"30%",xs:"70%"}}}),subheader:Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:{lg:"15%",md:"20%",xs:"60%"}}}),photoLayout:Object(m.jsx)(Sn.a,{layout:"rows",photos:Pr,spacing:2}),storyLayout:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"50%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"50%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"50%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"98%"}}),Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"50%"}})]})})}function Ur(e,t,n,r,a){return Fr.apply(this,arguments)}function Fr(){return(Fr=Object(lt.a)(dt.a.mark((function e(t,n,r,a,c){var i;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dn.viewMemory(t,n,r);case 3:if(i=e.sent,console.log(i),!i.status){e.next=8;break}return c(i),e.abrupt("return");case 8:a(i),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.p;var Nr="mymemorystore-stage",Zr="auth-stage.mymemorystore.in",Ar=te((function(e){var t=e.bucket,n=e.authURL,a=Object(r.useState)(""),c=Object(u.a)(a,2),i=c[0],o=c[1],s=Object(r.useState)([]),l=Object(u.a)(s,2),j=l[0],b=l[1],h=Object(r.useState)([]),x=Object(u.a)(h,2),f=x[0],p=x[1],g=Object(r.useState)(0),y=Object(u.a)(g,2),v=y[0],C=y[1],k=Object(r.useState)(null),w=Object(u.a)(k,2),S=w[0],M=w[1],I=function(){console.log("Image loaded",v),C((function(e){return e+1}))},z=function(e){return o(e)},L=function(e){p((function(t){return t.concat(e)}))},E=function(e){b((function(t){return t.concat(e)}))};return Object(r.useEffect)((function(){Ir(t,n,L,z,E,i)}),[]),Object(r.useEffect)((function(){return console.log(f,i),void M(Object(m.jsx)(ot,{children:Object(m.jsx)(Sr,{memories:f,nextToken:i,handleMoreClick:function(){return Ir(t,n,L,z,i)},handleImageLoad:I})}))}),[f,i]),console.log(f.length,j.length,v),f.length===j.length&&v>=j.length?S:Object(m.jsxs)(ot,{children:[Object(m.jsxs)(O.a,{container:!0,sx:{bgcolor:"button.main",py:1},justifyContent:"left",alignItems:"flex-start",children:[Object(m.jsx)(kr,{}),j.map((function(e){return Object(m.jsx)(O.a,{item:!0,lg:3,md:4,xs:6,sx:{p:1},children:Object(m.jsx)(St,{title:Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"60%"}}),date:Object(m.jsx)(yr.a,{type:"rectangular",sx:{width:"50%"}}),thumbnailImage:Mr,handleClick:function(){}})},e)}))]}),Object(m.jsx)(d.a,{component:"div",sx:{display:"none"},children:S})]})})),Br=te((function(e){var t=e.bucket,n=e.authURL,a=["Create","Preview"],c=Object(r.useState)(a[0]),i=Object(u.a)(c,2),o=i[0],s=i[1],l=Object(r.useRef)(null);return Object(m.jsxs)(ot,{children:[Object(m.jsx)(st,{mode:o,handleModeChange:s,modes:a}),Object(m.jsx)(gr,{mode:o,formRef:l,bucket:t,authURL:n})]})})),Wr=te((function(e){var t=e.bucket,n=e.authURL,a=Object(l.h)().memoryId,c=Object(r.useState)(),i=Object(u.a)(c,2),o=i[0],s=i[1],d=Object(r.useState)(null),j=Object(u.a)(d,2),b=j[0],h=j[1],x=Object(r.useState)(null),f=Object(u.a)(x,2),p=f[0],O=f[1],g=function(e){return s(e)},y=Object(r.useState)(null),v=Object(u.a)(y,2),C=v[0],k=v[1],w=function(e){console.log("Setting snack message",e),O(e)},S=function(){console.log("snack close, set snack false, message null"),h(!1),O(null)},M=function(e){"unauthenticated"===e.status&&(w("You have been logged out. Navigating to login page"),h(!0),setInterval((function(){return k("unauthenticated")}),3e3)),"forbidden"===e.status&&(w("You do not have access to this memory. Navigating to memories page"),h(!0),setInterval((function(){return k("forbidden")}),3e3))};return Object(r.useEffect)((function(){Ur(t,n,a,g,M);var e=setInterval((function(){return Ur(t,n,a,g,M)}),3e5);return function(){return clearInterval(e)}}),[]),"unauthenticated"===C?Object(m.jsx)(l.a,{to:"/login"}):"forbidden"===C?Object(m.jsx)(l.a,{to:"/memories"}):(console.log("memory",o,"memError",C),o?Object(m.jsxs)(ot,{children:[Object(m.jsx)(Fn,{memTitle:o.title,memDate:o.date,memImages:o.pictures.photos,memEditorState:jt.EditorState.createWithContent(Object(jt.convertFromRaw)(o.contentState)),memoryID:a,bucket:t,authURL:n,preview:!1}),Object(m.jsx)(Qt,{snackBarOpen:b,message:p,onClose:S})]}):Object(m.jsxs)(ot,{children:[Object(m.jsx)(Tr,{}),Object(m.jsx)(Qt,{snackBarOpen:b,message:p,onClose:S})]}))}));i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(o.a,{theme:Dr,children:Object(m.jsxs)(s.a,{basename:"",children:[Object(m.jsx)(xe,{}),Object(m.jsxs)(l.d,{children:[Object(m.jsx)(l.b,{exact:!0,path:"/",element:Object(m.jsx)(Ar,{bucket:Nr,authURL:Zr})}),Object(m.jsx)(l.b,{path:"/login",element:Object(m.jsx)(Z,{authURL:Zr})}),Object(m.jsx)(l.b,{exact:!0,path:"/memories",element:Object(m.jsx)(Ar,{bucket:Nr,authURL:Zr})}),Object(m.jsx)(l.b,{path:"/memory/create",element:Object(m.jsx)(Br,{bucket:Nr,authURL:Zr})}),Object(m.jsx)(l.b,{path:"/memory/:memoryId",element:Object(m.jsx)(Wr,{bucket:Nr,authURL:Zr})}),Object(m.jsx)(l.b,{path:"*",element:Object(m.jsx)(Z,{authURL:Zr})})]})]})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[581,1,2]]]);
//# sourceMappingURL=main.0673f33f.chunk.js.map