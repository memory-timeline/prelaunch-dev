{"version":3,"sources":["components/topbar/utils.jsx","pages/Api.jsx","components/contact.jsx","components/social.jsx","static/images/3.jpg","components/about.jsx","components/simple_snackbar.jsx","pages/MemoryThumbnailCard.jsx","static/images/icons/logo.svg","components/brand.jsx","hooks/title.jsx","hooks/date.jsx","hooks/story.jsx","pages/MemoryThumbnail.jsx","pages/memory/RemovePhotoIcon.jsx","components/profile.jsx","components/topbar/misclinks.jsx","components/topbar/BurgerMenu.jsx","components/topbar/index.jsx","components/footer.jsx","pages/base_page.jsx","pages/memory/UpdateMemoryIcon.jsx","pages/memory/DeleteMemoryIcon.jsx","components/confirmation.jsx","pages/memory/MemoryActions.jsx","pages/memory/MemoryContentStructure.jsx","pages/memory/MemoryImageSlide.jsx","pages/memory/MemoryCarousel.jsx","pages/memory/MemoryTitle.jsx","pages/memory/MemoryDate.jsx","pages/memory/MemoryStory.jsx","pages/memory/MemoryImages.jsx","pages/memory/MemoryContent.jsx","pages/memory/ToggleViewMode.jsx","pages/memory/FormStepper.jsx","pages/memory/PreviewCardHeader.jsx","pages/memory/NavigationButton.jsx","pages/memory/FormStepperNavigation.jsx","pages/memory/BoxForm.jsx","pages/memory/TitleDateForm.jsx","pages/memory/ImageSelector.jsx","pages/memory/ThumbnailChooser.jsx","pages/memory/SelectedImage.jsx","pages/memory/ImagePreviewer.jsx","pages/memory/ErrorText.jsx","pages/memory/ImageForm.jsx","pages/memory/StoryEditor.jsx","pages/memory/StoryForm.jsx","pages/memory/CreateMemoryProgress.jsx","pages/memory/MemoryUtils.jsx","pages/memory/ModeContent.jsx","hooks/formStep.jsx","hooks/selectedImages.jsx","hooks/progressMessage.jsx","pages/memory/CreateMemoryForm.jsx","pages/memory/PreviewMemory.jsx","pages/memory/CreateMemory.jsx"],"names":["TopBarGridContainer","children","container","alignItems","sx","p","pb","borderBottom","borderColor","flexShrink","backgroundColor","justifyContent","sm","xs","TopBarButton","text","onClick","textVariant","useMediaQuery","theme","breakpoints","down","color","border","borderRadius","variant","CloseButton","edge","fontSize","position","top","right","fill","TopBarDialog","open","onClose","wdth","fullWidth","maxWidth","dividers","TopBarLink","React","setOpen","handleClose","defaultProps","get","url","path","a","params","newUrl","options","method","credentials","headers","Headers","URLSearchParams","toString","fetch","resp","ok","status","document","cookie","json","getObjectUrl","bucket","authURL","key","then","response","Error","console","log","URL","error","details","urlParams","apiUrl","body","upload","putURL","memoryID","memory_id","item","value","JSON","stringify","action","image","validateDetails","uploadMultipleImages","paramList","incrementImageCount","map","Key","Body","getMemories","nextToken","next_token","viewMemory","memoryKey","getThumbnails","memories","finalizeMemory","deleteMemory","updateMemoryDetails","updateMemoryImage","boxSx","display","m","Contact","align","className","underline","href","icon","faEnvelope","size","YoutubeIcon","faYoutube","FacebookIcon","faFacebook","TwitterIcon","faTwitter","InstagramIcon","faInstagramSquare","ReactIcon","faReact","HeartIcon","faHeart","HeartLink","SocialLink","to","ReactLink","YoutubeLink","FacebookLink","TwitterLink","InstagramLink","rel","target","px","SocialLinks","AboutCard","title","content","Card","raised","minWidth","py","maxHeight","CardHeader","textAlign","CardContent","overflowY","textRendering","Typography","About","Grid","Stack","direction","CardMedia","three","height","SnackText","message","spacing","justifyContents","SimpleSnackbar","snackBarOpen","useState","snackMessage","setSnackMessage","useEffect","autoHideDuration","anchorOrigin","vertical","horizontal","MemoryThumbnailCard","handleClick","elevation","bgcolor","lg","_excluded","_extends","Object","assign","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogo","_ref","svgRef","titleId","props","xmlns","xmlnsXlink","viewBox","id","x","y","width","ref","style","d","ForwardRef","BrandLogo","BrandText","paddingX","Branding","Box","useTitle","initialValue","setTitle","e","useDate","initialDate","date","setDate","newDate","Date","formattedDate","toLocaleDateString","day","month","year","useStory","initialState","story","setStory","event","ThumbnailImage","imageSrc","imageSrcSet","handleImageLoad","component","src","srcSet","alt","objectFit","onLoad","ThumbnailDetails","disableTypography","noWrap","overflow","textOverflow","fontWeight","subheader","padding","MemoryThumbnail","thumbnailImage","thumbnailImageSrcSet","RemovePhotoIcon","alpha","ProfileAvatar","name","picture","email","initials","Array","from","toUpperCase","Avatar","referrerPolicy","ProfileIcon","avatar","marginRight","Tooltip","IconButton","ml","undefined","ProfileMenu","anchorEl","profileIdentifier","Menu","PaperProps","filter","mt","mr","transform","zIndex","transformOrigin","MenuItem","ListItemText","Divider","Link","process","ListItemIcon","Profile","setAnchorEl","Boolean","userInfo","commonUtils","getUserInfo","userAvatar","currentTarget","MiscLinks","ProfileButton","Authenticate","paddingTop","BurgerMenu","navigate","useNavigate","aboutOpen","setAboutOpen","contactOpen","setContactOpen","handleAboutClose","handleContactClose","BrandLink","branding","textDecoration","Button","TopBar","belowmd","MadeWith","Copyright","getFullYear","FooterGridContainer","justify","borderTop","bottom","Footer","DefaultBackground","flex","HomeButton","ProfileBar","BasePage","belowsm","flexDirection","flexWrap","UpdateMemoryIcon","DeleteMemoryIcon","Confirm","confirm","handleCallback","handleCloseCallback","Dialog","DialogTitle","MemoryActions","deleteItem","updateItem","snackBar","confirmMessage","handleDeleteObject","handleEditClick","setConfirm","MenuListProps","memoryDeleteCallback","api","deleteResults","MemoryContentStructure","header","photoLayout","storyLayout","preview","snack","setSnack","snackError","setSnackError","useTheme","handleSnackMessage","msg","actions","replace","boxShadow","my","EnhancedSwipeableViews","bindKeyboard","autoPlay","virtualize","SwipeableViews","MemoryImageSlide","ind","images","handleNext","handleStepChange","activeStep","setActiveStep","loadedImages","setLoadedImages","setDisplay","prevLoaded","index","onChangeIndex","enableMouseEvents","animateTransitions","interval","slideRenderer","virtNum","count","total","modulus","mod","join","boxSizing","cursor","NextPic","PreviousPic","left","MemoryCarousel","handleBack","handleChange","fullScreen","MemoryTitle","editable","handleTitleUpdate","handleTitleChange","edit","setEdit","startEdit","setStartEdit","TextField","label","onChange","defaultValue","MemoryDate","prevDate","handleDateUpdate","handleDateChange","LocalizationProvider","dateAdapter","AdapterDateFns","placeholder","inputFormat","maxDate","renderInput","readOnly","required","MemoryStory","prevStory","handleStoryUpdate","handleStoryChange","storyRef","useRef","whiteSpace","minHeight","current","focus","TextareaAutosize","autoFocus","outline","resize","OptionsButton","updateOp","AddPhotos","type","hidden","multiple","accept","MemoryPhotoAlbum","handlePhotoClick","renderPhoto","arrangement","setArrangement","twidth","theight","forEach","layout","photos","MemoryImages","handleThumbnailUpdate","deleteImage","addImage","setUpdateOp","thumbnail","setThumbnail","handleOpUpdate","op","OptionsRow","updatePanel","imageProps","restImageProps","deleted","find","handleImageDelete","FormControlLabel","control","Radio","checked","handleThumbnailChange","pr","borderLeft","BackButton","paddingY","paddingRight","MemoryContent","memTitle","memDate","memStory","memImages","activeIndex","setActiveIndex","setImages","newImages","setNewImages","newImagesCount","setNewImagesCount","errorUploadImages","setErrorUploadImages","addImageOpen","setAddImageOpen","uploadImageProgress","setUploadImageProgress","uploadImageStatus","setUploadImageStatus","httpError","setHTTPError","maxSteps","handleHTTPError","operation","callback","httpErrorCallback","UpdateDetails","UpdateThumbnail","handleNewImages","entries","img","det","file","photo","uploadResp","pics","concat","errImgs","setTimeout","handleImageAdd","files","Image","onload","naturalHeight","naturalWidth","resImages","resHeight","Math","ceil","creationDate","now","newName","imageDetails","createObjectURL","revokeObjectURL","memoryTitle","memoryDate","updateDone","margin","prevActiveStep","step","ToggleViewMode","mode","handleModeChange","modes","ToggleButtonGroup","exclusive","modeName","ToggleButton","FormStepper","titles","Stepper","alternativeLabel","Step","StepLabel","PreviewCardHeader","mb","NavigationButton","disabled","FormStepperNavigation","handlePrevious","isLast","isFirst","pt","BoxForm","autoComplete","TitleDateForm","titleError","setTitleError","dateError","setDateError","titleTouched","setTitleTouched","dateTouched","setDateTouched","titleSchema","yup","max","dateSchema","nullable","isFieldValid","setFieldError","schema","hasError","validate","abortEarly","catch","testField","inner","isValid","titleValid","dateValid","submitForm","helperText","ImageSelector","ThumbnailChooser","SelectedImage","setDimensions","resizeHeights","heights","originalWidth","originalHeight","handleImageOnload","fit","auto","loading","ImagePreviewer","handleRemoveImage","ErrorText","ImageForm","handleSelectedImageChange","removeSelectedImage","imageError","setImageError","touched","setTouched","totalImages","setTotalImages","valid","prevCount","StoryEditor","storyError","StoryForm","progressDialog","maxStoryLength","setStoryError","LinearProgressWithLabel","LinearProgress","round","MessageProgress","showStatus","done","CircularProgress","MemoryCreationStatus","progress","counter","mx","CreateMemoryProgress","messages","setCounter","timerId","clearTimeout","mesg","UploadImages","imageFiles","detail","imgFile","ContentType","uploadPromises","Promise","allSettled","ValidateDetails","memoryDetails","detailsJSON","validateResp","Valid","UploadDetails","memoryDetailsKey","InitializeMemory","handleProgress","updateMessageStatus","addMessage","initRes","HandleImages","imagesResults","CreateMemory","finalizeResults","parseInt","MemoryID","ModeContent","stepTitles","stepCount","useStep","setImageDetails","setImageFiles","arr","imageFile","slice","useSelectedImages","setProgress","setMessages","newMessage","useProgressMessage","uploadCount","setUploadCount","progressPercentage","cnt","TitleDate","SelectImages","handleSubmit","getTime","lastModified","totalSize","reduce","partialSum","MemoryUtils","created","ProgressDialog","CreateModeContent","stepForms","CreateMemoryForm","PreviewModeContent","md","xl","imageNames","PreviewMemory","setMode","formRef"],"mappings":"iUAaO,SAASA,EAAT,GAA4C,IAAbC,EAAY,EAAZA,SACpC,OACE,cAAC,IAAD,CACEC,WAAS,EACTC,WAAW,SACXC,GAAI,CACFC,EAAG,EACHC,GAAI,EACJC,aAAc,EACdC,YAAa,iBACbC,WAAY,EACZC,gBAAiB,eACjBC,eAAgB,CACdC,GAAI,gBACJC,GAAI,kBAZV,SAgBGZ,IAKA,SAASa,EAAT,GAAuD,IAA/BC,EAA8B,EAA9BA,KAAMC,EAAwB,EAAxBA,QAASR,EAAe,EAAfA,YAEtCS,EADUC,aAAc,SAACC,GAAD,OAAWA,EAAMC,YAAYC,KAAK,SAClC,QAAU,KACxC,OACE,cAAC,IAAD,CACEjB,GAAI,CACFkB,MAAO,cACPC,OAAQ,EACRf,cACAgB,aAAc,GAEhBC,QAAQ,WACRT,QAASA,EARX,SAUE,cAAC,IAAD,CAAYS,QAASR,EAArB,SAAmCF,MAKzC,SAASW,EAAT,GAAmC,IAAZV,EAAW,EAAXA,QACrB,OACE,cAAC,IAAD,CACEW,KAAK,QACLX,QAASA,EACT,aAAW,QACXZ,GAAI,CACFwB,SAAU,SACVC,SAAU,WACVC,IAAK,EACLC,MAAO,GARX,SAWE,cAAC,IAAD,CAAW3B,GAAI,CAAEwB,SAAU,OAAQI,KAAM,kBAKxC,SAASC,EAAT,GAEH,IADFlB,EACC,EADDA,KAAMmB,EACL,EADKA,KAAMC,EACX,EADWA,QAASnB,EACpB,EADoBA,QAASf,EAC7B,EAD6BA,SAAUmC,EACvC,EADuCA,KAExC,OACE,eAAC,IAAD,CAAQF,KAAMA,EAAMC,QAASA,EAASE,WAAS,EAACC,SAAUF,EAA1D,UACE,eAAC,IAAD,CAAahC,GAAI,CAAEM,gBAAiB,eAApC,UACGK,EACD,cAACW,EAAD,CAAaV,QAASA,OAExB,cAAC,IAAD,CAAeuB,UAAQ,EAACnC,GAAI,CAAEC,EAAG,GAAjC,SAAuCJ,OAKtC,SAASuC,EAAT,GAA+C,IAAzBzB,EAAwB,EAAxBA,KAAMd,EAAkB,EAAlBA,SAAUmC,EAAQ,EAARA,KAC3C,EAAwBK,YAAe,GAAvC,mBAAOP,EAAP,KAAaQ,EAAb,KAEMC,EAAc,kBAAMD,GAAQ,IAElC,OACE,iCACE,cAAC5B,EAAD,CAAcC,KAAMA,EAAMC,QALN,kBAAM0B,GAAQ,MAMlC,cAACT,EAAD,CACElB,KAAMA,EACNmB,KAAMA,EACNE,KAAMA,EACND,QAASQ,EACT3B,QAAS2B,EALX,SAOG1C,OAqBTa,EAAa8B,aAAe,CAC1BpC,YAAa,gB,gEC5HTqC,EAAG,uCAAG,WAAOC,EAAKC,GAAZ,iCAAAC,EAAA,6DAAkBC,EAAlB,+BAA2B,GACjCC,EADM,kBACcJ,GADd,OACoBC,GACxBI,EAAU,CACdC,OAAQ,MACRC,YAAa,UACbC,QAAS,IAAIC,QAAQ,CAAE,eAAgB,sBAEzCL,GAAM,WAAQ,IAAIM,gBAAgBP,GAAQQ,YAPhC,SAQSC,MAAMR,EAAQC,GARvB,WAQJQ,EARI,QASAC,GATA,oBAUY,MAAhBD,EAAKE,OAVD,wBAWNC,SAASC,OAAS,4DAXZ,kBAYC,CAAEF,OAAQ,oBAZX,WAcY,MAAhBF,EAAKE,OAdD,0CAeC,CAAEA,OAAQ,cAfX,iCAmBHF,EAAKK,QAnBF,4CAAH,wDAsBT,SAASC,EAAaC,EAAQC,EAASC,EAAKhB,GAC1C,IAGE,OAAOP,EAAIsB,EAFE,qBACE,CAAEC,MAAKF,SAAQd,WACIiB,MAAK,SAACC,GACtC,OAAIA,EAASC,OAEXC,QAAQC,IAAIH,EAASC,OACd,IAEFD,EAASI,OAElB,MAAOC,GACP,OAAOA,G,4CAIX,WAA+BT,EAAQC,EAASS,GAAhD,mBAAA5B,EAAA,sEAEiB,wBACP6B,EAAY,CAAEX,UAChBY,EAJR,kBAI4BX,GAJ5B,OAEiB,yBAGbW,GAAM,WAAQ,IAAItB,gBAAgBqB,GAAWpB,YACvCN,EAAU,CACdC,OAAQ,OACRC,YAAa,UACbC,QAAS,IAAIC,QAAQ,CAAE,eAAgB,qBACvCwB,KAAMH,GAVZ,SAYiBlB,MAAMoB,EAAQ3B,GAASkB,MAAK,SAACC,GACxC,OAAKA,EAASV,GAGPU,EAASN,OAFP,CAAEH,OAAQ,YAdzB,iFAoBIW,QAAQC,IAAR,MApBJ,mF,+BAyBeO,E,oFAAf,WAAsBd,EAAQC,EAASC,EAAKW,GAA5C,mBAAA/B,EAAA,+EAEyBiB,EAAaC,EAAQC,EAASC,EAAK,OAF5D,cAEUa,EAFV,OAGUhC,EAAS,CAAE8B,OAAM3B,OAAQ,OAHnC,SAIuBM,MAAMuB,EAAQhC,GAAQoB,MAAK,SAACC,GAAD,OAAcA,KAJhE,cAIUX,EAJV,yBAKWA,GALX,yCAQIa,QAAQC,IAAR,MARJ,mF,kEAaA,WAA4BP,EAAQC,EAASe,GAA7C,mBAAAlC,EAAA,sEAEiB,cACPC,EAAS,CAAEiB,SAAQiB,UAAWD,GAChCJ,EAJR,kBAI4BX,GAJ5B,OAEiB,eAGbW,GAAM,WAAQ,IAAItB,gBAAgBP,GAAQQ,YACpCN,EAAU,CACdC,OAAQ,SACRC,YAAa,UACbC,QAAS,IAAIC,QAAQ,CAAE,eAAgB,sBAT7C,SAWiBG,MAAMoB,EAAQ3B,GAASkB,MAAK,SAACC,GACxC,OAAKA,EAASV,GAGP,CAAEC,OAAQ,KAAMkB,KAAMT,EAASN,QAF7B,CAAEH,OAAQ,YAbzB,oK,kEAsFA,WAAmCK,EAAQC,EAASe,EAAUE,EAAMC,GAApE,mBAAArC,EAAA,sEAEiB,cACP6B,EAAY,CAAEX,SAAQiB,UAAWD,GACnCJ,EAJR,kBAI4BX,GAJ5B,OAEiB,eAGbW,GAAM,WAAQ,IAAItB,gBAAgBqB,GAAWpB,YACvCN,EAAU,CACdC,OAAQ,QACRC,YAAa,UACbC,QAAS,IAAIC,QAAQ,CAAE,eAAgB,qBACvCwB,KAAMO,KAAKC,UAAU,CAAEH,OAAMC,WAVnC,SAYiB3B,MAAMoB,EAAQ3B,GAASkB,MAAK,SAACC,GAAD,OAAcA,KAZ3D,iFAeIE,QAAQC,IAAR,MAfJ,mBAgBW,GAhBX,2D,kEAoBA,WAAiCP,EAAQC,EAASe,EAAUM,EAAQC,GAApE,mBAAAzC,EAAA,sEAEiB,cACP6B,EAAY,CAAEX,SAAQiB,UAAWD,GACnCJ,EAJR,kBAI4BX,GAJ5B,OAEiB,eAGbW,GAAM,WAAQ,IAAItB,gBAAgBqB,GAAWpB,YACvCN,EAAU,CACdC,OAAQ,QACRC,YAAa,UACbC,QAAS,IAAIC,QAAQ,CAAE,eAAgB,qBACvCwB,KAAMO,KAAKC,UAAU,CAAEH,KAAM,QAASI,SAAQC,WAVpD,SAYiB/B,MAAMoB,EAAQ3B,GAASkB,MAAK,SAACC,GAAD,OAAcA,KAZ3D,iFAeIE,QAAQC,IAAR,MAfJ,mBAgBW,GAhBX,2D,sBAmBe,KACbR,eACAyB,gB,gDACAV,SACAW,qBA7FF,SAA8BzB,EAAQC,EAASyB,EAAWC,GACxD,IACE,OAAOD,EAAUE,IAAV,uCAAc,WAAO7C,GAAP,eAAAD,EAAA,sEACAgC,EAAOd,EAAQC,EAASlB,EAAO8C,IAAK9C,EAAO+C,MAD3C,cACbrC,EADa,OAEnBkC,IAFmB,kBAGZlC,GAHY,2CAAd,uDAKP,MAAOgB,GAGP,OADAH,QAAQC,IAAIE,GACLA,IAoFTsB,YAhFF,SAAqB/B,EAAQC,EAAS+B,GACpC,IACE,IACMjD,EAAS,CAAEiB,UAMjB,OAJIgC,IACFjD,EAAOkD,WAAaD,GAGfrD,EAAIsB,EAPE,gBAOalB,GAC1B,MAAO0B,GACP,OAAOA,IAsETyB,WAlEF,SAAoBlC,EAAQC,EAASkC,GACnC,IAIE,OAAOxD,EAAIsB,EAHE,cACE,CAAED,SAAQiB,UAAWkB,IAGpC,MAAO1B,GACP,OAAOA,IA4DT2B,cA9GF,SAAuBpC,EAAQC,EAASoC,GACtC,IAEE,OAAOA,EAAST,IAAT,uCAAa,WAAOZ,GAAP,eAAAlC,EAAA,6DACZC,EAAS,CAAEiB,SAAQiB,UAAWD,GADlB,kBAEXrC,EAAIsB,EAHA,wBAGelB,IAFR,2CAAb,uDAIP,MAAO0B,GAGP,OADAH,QAAQC,IAAIE,GACLA,IAqGT6B,eAzDF,SAAwBtC,EAAQC,EAASkC,GACvC,IAGE,OAAOxD,EAAIsB,EAFE,uBACE,CAAED,SAAQiB,UAAWkB,IAEpC,MAAO1B,GACP,OAAOA,IAoDT8B,a,gDACAC,oB,oDACAC,kB,8JC5MIC,EAAQ,CACZC,QAAS,OACTlG,eAAgB,SAChBmG,EAAG,EACHtF,aAAc,GA6CDuF,IA1Cf,WACE,OACE,qCACE,cAAC,IAAD,CAAYtF,QAAQ,KAAKuF,MAAM,SAASC,UAAU,aAAlD,+CAIA,cAAC,IAAD,CAAMC,UAAU,OAAOC,KAAK,kCAA5B,SACE,eAAC,IAAD,CAAK/G,GAAE,eAAOwG,GAAd,UACE,cAAC,IAAD,CAAiBQ,KAAMC,IAAYJ,UAAU,aAAaK,KAAK,OAC/D,cAAC,IAAD,CAAY7F,QAAQ,KAAKwF,UAAU,OAAO7G,GAAI,CAAEwB,SAAU,UAA1D,2BAMJ,uBACA,cAAC,IAAD,CACExB,GAAI,CAAEyG,QAAS,OAAQlG,eAAgB,SAAUR,WAAY,UAD/D,SAGE,cAAC,IAAD,CAAYsB,QAAQ,KAAKwF,UAAU,aAAa7G,GAAI,CAAEC,EAAG,GAAzD,yBAIF,eAAC,IAAD,CACED,GAAI,CACFyG,QAAS,OACTlG,eAAgB,gBAChBmG,EAAG,EACHtF,aAAc,GALlB,UAQE,cAAC,IAAD,CAAaF,MAAM,iBAAiBgG,KAAK,OACzC,cAAC,IAAD,CAAchG,MAAM,kBAAkBgG,KAAK,OAC3C,cAAC,IAAD,CAAahG,MAAM,iBAAiBgG,KAAK,OACzC,cAAC,IAAD,CAAehG,MAAM,mBAAmBgG,KAAK,UAE/C,4B,iCCpDN,8SAgBA,SAASC,EAAT,GAAgC,IAATD,EAAQ,EAARA,KACrB,OAAO,cAAC,IAAD,CAAiBF,KAAMI,IAAWF,KAAMA,IAGjD,SAASG,EAAT,GAAiC,IAATH,EAAQ,EAARA,KACtB,OAAO,cAAC,IAAD,CAAiBF,KAAMM,IAAYJ,KAAMA,IAGlD,SAASK,EAAT,GAAgC,IAATL,EAAQ,EAARA,KACrB,OAAO,cAAC,IAAD,CAAiBF,KAAMQ,IAAWN,KAAMA,IAGjD,SAASO,EAAT,GAAkC,IAATP,EAAQ,EAARA,KACvB,OAAO,cAAC,IAAD,CAAiBF,KAAMU,IAAmBR,KAAMA,IAGzD,SAASS,IACP,OAAO,cAAC,IAAD,CAAiBX,KAAMY,MAEhC,SAASC,IACP,OAAO,cAAC,IAAD,CAAiBb,KAAMc,MAGzB,SAASC,EAAT,GAAqC,IAAhBb,EAAe,EAAfA,KAAMhG,EAAS,EAATA,MAChC,OACE,cAAC8G,EAAD,CAAYC,GAAG,qCAAqC/G,MAAOA,EAA3D,SACE,cAAC2G,EAAD,CAAWX,KAAMA,MAKhB,SAASgB,EAAT,GAAqC,IAAhBhB,EAAe,EAAfA,KAAMhG,EAAS,EAATA,MAChC,OACE,cAAC8G,EAAD,CAAYC,GAAG,uBAAuB/G,MAAOA,EAA7C,SACE,cAACyG,EAAD,CAAWT,KAAMA,MAKhB,SAASiB,EAAT,GAAuC,IAAhBjB,EAAe,EAAfA,KAAMhG,EAAS,EAATA,MAClC,OACE,cAAC8G,EAAD,CACEC,GAAG,2DACH/G,MAAOA,EAFT,SAIE,cAACiG,EAAD,CAAaD,KAAMA,MAKlB,SAASkB,EAAT,GAAwC,IAAhBlB,EAAe,EAAfA,KAAMhG,EAAS,EAATA,MACnC,OACE,cAAC8G,EAAD,CAAYC,GAAG,4CAA4C/G,MAAOA,EAAlE,SACE,cAACmG,EAAD,CAAcH,KAAMA,MAKnB,SAASmB,EAAT,GAAuC,IAAhBnB,EAAe,EAAfA,KAAMhG,EAAS,EAATA,MAClC,OACE,cAAC8G,EAAD,CAAYC,GAAG,uCAAuC/G,MAAOA,EAA7D,SACE,cAACqG,EAAD,CAAaL,KAAMA,MAKlB,SAASoB,EAAT,GAAyC,IAAhBpB,EAAe,EAAfA,KAAMhG,EAAS,EAATA,MACpC,OACE,cAAC8G,EAAD,CAAYC,GAAG,8CAA8C/G,MAAOA,EAApE,SACE,cAACuG,EAAD,CAAeP,KAAMA,MAKpB,SAASc,EAAT,GAA8C,IAAxBC,EAAuB,EAAvBA,GAAI/G,EAAmB,EAAnBA,MAAOrB,EAAY,EAAZA,SACtC,OACE,cAAC,IAAD,CACEiH,UAAU,OACVC,KAAMkB,EACNM,IAAI,sBACJC,OAAO,SACPxI,GAAI,CAAEyI,GAAI,EAAGvH,MAAM,GAAD,OAAKA,IALzB,SAOGrB,IAKA,SAAS6I,EAAT,GAAgC,IAATxB,EAAQ,EAARA,KAC5B,OACE,eAAC,IAAD,CAAMlC,MAAI,EAAV,UACE,cAAC,IAAD,wBACA,cAACmD,EAAD,CAAajH,MAAM,iBAAiBgG,KAAMA,IAC1C,cAACkB,EAAD,CAAclH,MAAM,kBAAkBgG,KAAMA,IAC5C,cAACmB,EAAD,CAAanH,MAAM,iBAAiBgG,KAAMA,IAC1C,cAACoB,EAAD,CAAepH,MAAM,mBAAmBgG,KAAMA,OAyDpDa,EAAUvF,aAAe,CACvB0E,KAAM,MAGRgB,EAAU1F,aAAe,CACvB0E,KAAM,MAGRwB,EAAYlG,aAAe,CACzB0E,KAAM,O,mGClLO,MAA0B,8B,OCUzC,SAASyB,EAAT,GAAwC,IAAnBC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,QAC1B,OACE,eAACC,EAAA,EAAD,CACEC,QAAM,EACN/I,GAAI,CACFgJ,SAAU,IAAK9G,SAAU,IAAK+G,GAAI,EAAGvC,EAAG,EAAGwC,UAAW,KAH1D,UAME,cAACC,EAAA,EAAD,CACEP,MAAOA,EACP5I,GAAI,CACFM,gBAAiB,eACjB8I,UAAW,SACXlI,MAAO,iBAGX,cAACmI,EAAA,EAAD,CAAarJ,GAAI,CAAEkJ,UAAW,QAASI,UAAW,OAAQC,cAAe,sBAAzE,SACE,cAACC,EAAA,EAAD,CAAYxJ,GAAI,CAAEoJ,UAAW,OAAQlI,MAAO,eAA5C,SACG2H,SA2DIY,IApDf,WACE,OACE,eAACC,EAAA,EAAD,CAAM5J,WAAS,EAACS,eAAe,SAASR,WAAW,aAAnD,UACE,eAAC4J,EAAA,EAAD,CAAOC,UAAU,SAAjB,UACE,cAACjB,EAAD,CACEC,MAAM,UACNC,QAAQ,gEAEV,cAACF,EAAD,CACEC,MAAM,kBACNC,QAAQ,6FAGZ,cAACa,EAAA,EAAD,CAAM1E,MAAI,EAAC4B,MAAM,SAAjB,SACE,cAAC+B,EAAD,CACEC,MAAM,YACNC,QAAQ,kqBAWZ,cAACa,EAAA,EAAD,CAAM1E,MAAI,EAAC4B,MAAM,SAAjB,SACE,eAACkC,EAAA,EAAD,CAAM9I,GAAI,CACRgJ,SAAU,IAAK9G,SAAU,IAAK+G,GAAI,EAAGvC,EAAG,EAAGwC,UAAW,IAAK5I,gBAAiB,eAD9E,UAIE,cAAC6I,EAAA,EAAD,CACEP,MAAM,WACN5I,GAAI,CACFM,gBAAiB,eACjB8I,UAAW,SACXlI,MAAO,iBAGX,cAAC2I,EAAA,EAAD,CAAWxE,MAAOyE,EAAO9J,GAAI,CAAE+J,OAAQ,KAAOnB,MAAM,oB,oKClE9D,SAASoB,EAAT,GAAwC,IAAnBC,EAAkB,EAAlBA,QACnB,OAAc,IADuB,EAAT1F,MAGxB,eAAC,IAAD,CAAOqF,UAAU,MAAMM,QAAS,EAAGC,gBAAgB,gBAAgBpK,WAAW,SAA9E,UACE,cAAC,IAAD,CAAWyB,SAAS,QAAQN,MAAM,UAClC,cAAC,IAAD,UAAa+I,OAKjB,eAAC,IAAD,CAAOL,UAAU,MAAMM,QAAS,EAAGC,gBAAgB,gBAAgBpK,WAAW,SAA9E,UACE,cAAC,IAAD,CAAUyB,SAAS,QAAQN,MAAM,YACjC,cAAC,IAAD,UAAa+I,OAKJ,SAASG,EAAT,GAEX,IADFC,EACC,EADDA,aAAcJ,EACb,EADaA,QAASlI,EACtB,EADsBA,QAASwC,EAC/B,EAD+BA,MAEhC,EAAwB+F,mBAASD,GAAjC,mBAAOvI,EAAP,KAAaQ,EAAb,KACA,EAAwCgI,mBAASL,GAAjD,mBAAOM,EAAP,KAAqBC,EAArB,KAEAC,qBAAU,kBAAMnI,EAAQ+H,KAAe,CAACA,IACxCI,qBAAU,kBAAMD,EAAgBP,KAAU,CAACA,IAE3C,IAAM1H,EAAc,WAKlBD,GAAQ,GACRkI,EAAgB,MAChBzI,KAGIqD,EACJ,cAAC,IAAD,CACE8B,KAAK,QACL,aAAW,QACXhG,MAAM,UACNN,QAAS2B,EAJX,SAME,cAAC,IAAD,CAAWf,SAAS,YAIxB,OACE,cAAC,IAAD,CACEM,KAAMA,EACN4I,iBAAkB,IAClB3I,QAASQ,EACT0H,QAAS,cAACD,EAAD,CAAWC,QAASM,EAAchG,MAAOA,IAClDa,OAAQA,EACRuF,aAAc,CAAEC,SAAU,MAAOC,WAAY,YAKnDT,EAAe5H,aAAe,CAC5B+B,OAAO,I,iCCpET,+DAIe,SAASuG,EAAT,GAAyD,IAA1BC,EAAyB,EAAzBA,YAAalL,EAAY,EAAZA,SAGzD,OACE,cAAC,IAAD,CAAgBe,QAASmK,EAAzB,SACE,cAAC,IAAD,CACEC,UAAW,EACXhL,GAAI,CACFiL,QAAS,OACT7J,aAAc,EACdD,OAAQ,iBACRD,MAAO,QACPO,SAAU,WACVsI,OAAQ,CACNmB,GAAI,IACJ1K,GAAI,IACJC,GAAI,KAEN,UAAW,CACTU,OAAQ,EACRf,YAAa,iBACb4K,UAAW,IAhBjB,SAoBGnL,Q,6HC9BLsL,EAAY,CAAC,QAAS,WAE1B,SAASC,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAU9C,GAAU,IAAK,IAAI+C,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAIvH,KAAO0H,EAAcL,OAAOM,UAAUC,eAAeC,KAAKH,EAAQ1H,KAAQwE,EAAOxE,GAAO0H,EAAO1H,IAAY,OAAOwE,GAAkB4C,EAASU,MAAMC,KAAMP,WAEhT,SAASQ,EAAyBN,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAAkE1H,EAAKuH,EAAnE/C,EAEzF,SAAuCkD,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAA2D1H,EAAKuH,EAA5D/C,EAAS,GAAQ0D,EAAab,OAAOc,KAAKT,GAAqB,IAAKH,EAAI,EAAGA,EAAIW,EAAWT,OAAQF,IAAOvH,EAAMkI,EAAWX,GAAQU,EAASG,QAAQpI,IAAQ,IAAawE,EAAOxE,GAAO0H,EAAO1H,IAAQ,OAAOwE,EAFxM6D,CAA8BX,EAAQO,GAAuB,GAAIZ,OAAOiB,sBAAuB,CAAE,IAAIC,EAAmBlB,OAAOiB,sBAAsBZ,GAAS,IAAKH,EAAI,EAAGA,EAAIgB,EAAiBd,OAAQF,IAAOvH,EAAMuI,EAAiBhB,GAAQU,EAASG,QAAQpI,IAAQ,GAAkBqH,OAAOM,UAAUa,qBAAqBX,KAAKH,EAAQ1H,KAAgBwE,EAAOxE,GAAO0H,EAAO1H,IAAU,OAAOwE,EAMne,SAASiE,EAAQC,EAAMC,GACrB,IAAI/D,EAAQ8D,EAAK9D,MACbgE,EAAUF,EAAKE,QACfC,EAAQb,EAAyBU,EAAMvB,GAE3C,OAAoB,gBAAoB,MAAOC,EAAS,CACtD0B,MAAO,6BACPC,WAAY,+BACZC,QAAS,YACTpL,KAAM,UACNqL,GAAI,mBACJC,EAAG,GACHC,EAAG,GACHC,MAAO,GACPrD,OAAQ,GACRsD,IAAKV,EACL,kBAAmBC,GAClBC,GAAQjE,EAAqB,gBAAoB,QAAS,CAC3DqE,GAAIL,GACHhE,GAAS,KAAmB,gBAAoB,IAAK,CACtDqE,GAAI,YACU,gBAAoB,OAAQ,CAC1CK,MAAO,GACPC,EAAG,+5KAIP,IAAIC,EAA0B,aAAiBf,G,GAChC,I,MChCR,SAASgB,EAAT,GAAuC,IAAlBL,EAAiB,EAAjBA,MAAOrD,EAAU,EAAVA,OACjC,OAAO,cAAC,EAAD,CAAMqD,MAAOA,EAAOrD,OAAQA,IAG9B,SAAS2D,EAAT,GAAkC,IAAblM,EAAY,EAAZA,SAC1B,OACE,cAACgI,EAAA,EAAD,CACEtI,MAAM,YACNG,QAAQ,YACRrB,GAAI,CAAE2N,SAAU,EAAGnM,WAAUiF,QAAS,UAHxC,2BAUG,SAASmH,EAAT,GAEH,IADFpM,EACC,EADDA,SAAU4L,EACT,EADSA,MAAOrD,EAChB,EADgBA,OAEjB,OACE,cAACL,EAAA,EAAD,CAAM1E,MAAI,EAAV,SACE,eAAC6I,EAAA,EAAD,CACE7N,GAAI,CACFyG,QAAS,OACTlG,eAAgB,SAChBR,WAAY,UAJhB,UAOE,cAAC0N,EAAD,CAAWL,MAAOA,EAAOrD,OAAQA,IACjC,cAAC2D,EAAD,CAAWlM,SAAUA,SAM7BoM,EAASpL,aAAe,CACtB4K,MAAO,OACPrD,OAAQ,OACRvI,SAAU,Q,sFC1CG,SAASsM,EAASC,GAC/B,MAA0BzD,mBAASyD,GAAnC,mBAAOnF,EAAP,KAAcoF,EAAd,KACAvD,qBAAU,kBAAMuD,EAASD,KAAe,CAACA,IAIzC,MAAO,CAACnF,EAAOoF,EAHW,SAACC,GACzBD,EAASC,EAAEzF,OAAOvD,W,sFCJP,SAASiJ,EAAQC,GAC9B,MAAwB7D,mBAAS6D,GAAjC,mBAAOC,EAAP,KAAaC,EAAb,KAcA,MAAO,CAACD,EAAMC,EAbW,SAACJ,GACxB,IAAMK,EAAU,IAAIC,KAAKN,GACzB,GAAIA,EAAG,CACL,IAAMO,EAAgBF,EAAQG,mBAAmB,QAAS,CACxDC,IAAK,UACLC,MAAO,OACPC,KAAM,YAERP,EAAQG,QAERH,EAAQ,U,sFCZC,SAASQ,EAASC,GAC/B,MAA0BxE,mBAASwE,GAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAEA,MAAO,CAACD,EAAOC,EADW,SAACC,GAAD,OAAWD,EAASC,EAAMzG,OAAOvD,W,iCCH7D,yFAMA,SAASiK,EAAT,GAEI,IADFC,EACC,EADDA,SAAUC,EACT,EADSA,YAAaxG,EACtB,EADsBA,MAAOyG,EAC7B,EAD6BA,gBAE9B,OACE,cAAC,IAAD,CACEC,UAAU,MACVC,IAAKJ,EACLK,OAAQJ,EACRK,IAAK7G,EACL5I,GAAI,CACFI,YAAa,aACbgB,aAAc,EACdgI,UAAW,SACXsG,UAAW,QACX3F,OAAQ,CACNmB,GAAI,IACJ1K,GAAI,IACJC,GAAI,MAGRkP,OAAQN,IAKd,SAASO,EAAT,GAA4C,IAAhBhH,EAAe,EAAfA,MAAOwF,EAAQ,EAARA,KACjC,OACE,cAAC,IAAD,UACE,cAAC,IAAD,CACEyB,mBAAiB,EACjBjH,MACE,cAAC,IAAD,CACEkH,QAAM,EACN9P,GAAI,CACF+P,SAAU,SACVC,aAAc,WACd5C,MAAO,CAAE3M,GAAI,YAAaD,GAAI,cAC9ByP,WAAY,KANhB,SASGrH,IAGLsH,UAAW,cAAC,IAAD,CAAYlQ,GAAI,CAAEkB,MAAO,cAAzB,SAA0CkN,IACrDpO,GAAI,CACFmQ,QAAS,EACTjP,MAAO,mBAOF,SAASkP,EAAT,GAOX,IANFxH,EAMC,EANDA,MACAwF,EAKC,EALDA,KACAiC,EAIC,EAJDA,eACAC,EAGC,EAHDA,qBACAvF,EAEC,EAFDA,YACAsE,EACC,EADDA,gBAEA,OACE,eAAC,IAAD,CAAqBtE,YAAaA,EAAlC,UACE,cAACmE,EAAD,CACEC,SAAUkB,EACVjB,YAAakB,EACb1H,MAAOA,EACPyG,gBAAiBA,IAEnB,cAACO,EAAD,CAAkBhH,MAAOA,EAAOwF,KAAMA,OAK5CwB,EAAiBpN,aAAe,CAC9BoG,MAAO,yBACPwF,KAAM,eAQRc,EAAe1M,aAAe,CAC5BoG,MAAO,yBACPuG,SAAU,GACVC,YAAa,GACbC,gBAAiB,cAUnBe,EAAgB5N,aAAe,CAC7B8N,qBAAsB,GACtBjB,gBAAiB,e,iCC1GnB,iFAIe,SAASkB,EAAT,GAAiD,IAAtBrJ,EAAqB,EAArBA,KAAM6D,EAAe,EAAfA,YAC9C,OACE,cAAC,IAAD,CACE7D,KAAMA,EACNlH,GAAI,CACFkB,MAAO,QACP+J,QAASuF,YAAM,OAAQ,IACvB/O,SAAU,WACVC,IAAK,GACLC,MAAO,IAETf,QAASmK,EATX,SAWE,cAAC,IAAD,CAAW7D,KAAMA,MAKvBqJ,EAAgB/N,aAAe,CAC7B0E,KAAM,U,kUCRR,SAASuJ,EAAT,GAAkD,IAAzBC,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,QAASC,EAAS,EAATA,MAChCC,EAAWC,MAAMC,KAAKH,GAAO,GAAGI,cACtC,OACE,cAACC,EAAA,EAAD,CAAQxB,IAAKiB,EAAMnB,IAAKoB,EAAS3Q,GAAI,CAAEkR,eAAgB,eAAvD,SAAyEL,IAI7E,SAASM,EAAT,GAEI,IADFT,EACC,EADDA,KAAME,EACL,EADKA,MAAO9O,EACZ,EADYA,KAAMiJ,EAClB,EADkBA,YAAaqG,EAC/B,EAD+BA,OAEhC,OACE,cAACvD,EAAA,EAAD,CACE7N,GAAI,CACFyG,QAAS,OACT1G,WAAY,SACZqJ,UAAW,SACXiI,YAAa,QALjB,SAQE,cAACC,EAAA,EAAD,CACE1I,MACE,qCACE,cAACY,EAAA,EAAD,UAAakH,IACb,cAAClH,EAAA,EAAD,UAAaoH,OAJnB,SAQE,cAACW,EAAA,EAAD,CACE3Q,QAASmK,EACT7D,KAAK,QACLlH,GAAI,CAAEwR,GAAI,GACV,gBAAe1P,EAAO,oBAAiB2P,EACvC,gBAAc,OACd,gBAAe3P,EAAO,YAAS2P,EANjC,SAQGL,QAOX,SAASM,EAAT,GAEI,IADFhB,EACC,EADDA,KAAM5O,EACL,EADKA,KAAMS,EACX,EADWA,YAAaoP,EACxB,EADwBA,SAAUP,EAClC,EADkCA,OAAQR,EAC1C,EAD0CA,MAErCgB,EAAoBlB,GAAQE,EAElC,OACE,eAACiB,EAAA,EAAD,CACEF,SAAUA,EACV1E,GAAG,eACHnL,KAAMA,EACNC,QAASQ,EACT3B,QAAS2B,EACTuP,WAAY,CACV9G,UAAW,EACXhL,GAAI,CACF+R,OAAQ,4CACRC,GAAI,IACJ,oBAAqB,CACnB5E,MAAO,GACPrD,OAAQ,GACRyH,IAAK,GACLS,GAAI,GAEN,WAAY,CACVpJ,QAAS,KACTpC,QAAS,QACThF,SAAU,WACVC,IAAK,EACLC,MAAO,GACPyL,MAAO,GACPrD,OAAQ,GACRkB,QAAS,mBACTiH,UAAW,iCACXC,OAAQ,KAIdC,gBAAiB,CAAEvH,WAAY,QAASD,SAAU,OAClDD,aAAc,CAAEE,WAAY,QAASD,SAAU,UAhCjD,UAkCE,eAACyH,EAAA,EAAD,WACGjB,EACD,cAACkB,EAAA,EAAD,UAAeV,OAEjB,cAACW,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,CACEzL,KAAI,kBA1CM0L,oCA0CN,kBACJ3L,UAAU,OACV9G,GAAI,CAAED,WAAY,SAAU0G,QAAS,QAHvC,SAKE,eAAC4L,EAAA,EAAD,WACE,cAACK,EAAA,EAAD,UACE,cAAC,IAAD,CAAQlR,SAAS,YAEnB,cAACgI,EAAA,EAAD,CAAYxJ,GAAI,CAAEkB,MAAO,cAAzB,4BAOK,SAASyR,IACtB,MAAgCtQ,WAAe,MAA/C,mBAAOsP,EAAP,KAAiBiB,EAAjB,KACM9Q,EAAO+Q,QAAQlB,GACfmB,EAAWC,IAAYC,cAGvBC,EACJ,cAACxC,EAAD,CAAeC,KAAMoC,EAASpC,KAAMC,QAASmC,EAASnC,QAASC,MAAOkC,EAASlC,QAGjF,OACE,qCACE,cAACO,EAAD,CACEC,OAAQ6B,EACRnR,KAAMA,EACN8O,MAAOkC,EAASlC,MAChB7F,YAXc,SAACkE,GAAD,OAAW2D,EAAY3D,EAAMiE,gBAY3CxC,KAAMoC,EAASpC,OAEjB,cAACgB,EAAD,CACEC,SAAUA,EACVP,OAAQ6B,EACR1Q,YAlBc,kBAAMqQ,EAAY,OAmBhClC,KAAMoC,EAASpC,KACfE,MAAOkC,EAASlC,MAChB9O,KAAMA,OCxHP,SAASqR,IACd,IAAMC,EAAgBC,YAAaV,GACnC,OACE,cAACjJ,EAAA,EAAD,CAAM1E,MAAI,EAAChF,GAAI,CAAEsT,WAAY,UAA7B,SACE,cAACF,EAAD,M,6BChBS,SAASG,IACtB,IAAMC,EAAWC,cACjB,EAAgCpR,WAAe,MAA/C,mBAAOsP,EAAP,KAAiBiB,EAAjB,KACM9Q,EAAO+Q,QAAQlB,GAErB,EAAkCtP,YAAe,GAAjD,mBAAOqR,EAAP,KAAkBC,EAAlB,KACA,EAAsCtR,YAAe,GAArD,mBAAOuR,EAAP,KAAoBC,EAApB,KAGMC,EAAmB,kBAAMH,GAAa,IAGtCI,EAAqB,kBAAMF,GAAe,IAG1CtR,EAAc,kBAAMqQ,EAAY,OAEtC,OACE,qCACE,cAAC/E,EAAA,EAAD,CAAK7N,GAAI,CAAEyG,QAAS,OAAQ1G,WAAY,SAAUqJ,UAAW,UAA7D,SACE,cAACmI,EAAA,EAAD,CACE3Q,QAPY,SAACqO,GAAD,OAAW2D,EAAY3D,EAAMiE,gBAQzChM,KAAK,QACLlH,GAAI,CAAEwR,GAAI,GACV,gBAAe1P,EAAO,mBAAgB2P,EACtC,gBAAc,OACd,gBAAe3P,EAAO,YAAS2P,EANjC,SAQE,cAAC,IAAD,CAAUzR,GAAI,CAAEoN,MAAO,GAAIrD,OAAQ,GAAI7I,MAAO,qBAGlD,eAAC2Q,EAAA,EAAD,CACEF,SAAUA,EACV1E,GAAG,cACHnL,KAAMA,EACNC,QAASQ,EACT3B,QAAS2B,EACTuP,WAAY,CACVxR,gBAAiB,aACjB0K,UAAW,EACXhL,GAAI,CACF+R,OAAQ,4CACRC,GAAI,IACJ,oBAAqB,CACnB5E,MAAO,GACPrD,OAAQ,GACRyH,IAAK,GACLS,GAAI,GAEN,WAAY,CACVpJ,QAAS,KACTpC,QAAS,QACThF,SAAU,WACVC,IAAK,EACLC,MAAO,GACPyL,MAAO,GACPrD,OAAQ,GACRkB,QAAS,mBACTiH,UAAW,iCACXC,OAAQ,KAIdC,gBAAiB,CAAEvH,WAAY,QAASD,SAAU,OAClDD,aAAc,CAAEE,WAAY,QAASD,SAAU,UAjCjD,UAmCE,cAACyH,EAAA,EAAD,CAAUzR,QAAS,kBAAM4S,EAAS,cAAlC,yBACA,cAACnB,EAAA,EAAD,CAAUzR,QA3DQ,kBAAM+S,GAAa,IA2DrC,mBACA,cAACtB,EAAA,EAAD,CAAUzR,QAzDU,kBAAMiT,GAAe,IAyDzC,2BAEF,cAAC,IAAD,CACElT,KAAK,QACLqB,KAAK,KACLF,KAAM4R,EACN3R,QAAS+R,EACTlT,QAASkT,EALX,SAOE,cAAC,IAAD,MAEF,cAAC,IAAD,CACEnT,KAAK,UACLqB,KAAK,KACLF,KAAM8R,EACN7R,QAASgS,EACTnT,QAASmT,EALX,SAOE,cAAC,IAAD,SCxFR,SAASC,IACP,IACMC,EADUnT,aAAc,SAACC,GAAD,OAAWA,EAAMC,YAAYC,KAAK,SACrC,cAAC,IAAD,CAAUmM,MAAM,OAAOrD,OAAO,OAAOvI,SAAS,YAAe,cAAC,IAAD,IACxF,OACE,cAAC,IAAD,CAAM8L,MAAO,CAAE4G,eAAgB,QAAUjM,GAAG,YAA5C,SACE,cAACkM,EAAA,EAAD,UACGF,MAwBM,SAASG,IACtB,IAAMC,EAAUvT,aAAc,SAACC,GAAD,OAAWA,EAAMC,YAAYC,KAAK,SAGhE,OAFgBH,aAAc,SAACC,GAAD,OAAWA,EAAMC,YAAYC,KAAK,SAI5D,cAAC,IAAD,UACE,cAAC+S,EAAD,MAKFK,EAEA,eAAC,IAAD,WACE,cAACd,EAAD,IACA,cAACS,EAAD,IACA,cAACb,EAAD,OAMJ,eAAC,IAAD,WACE,cAACa,EAAD,IAEA,cAACb,EAAD,O,qBC3DN,SAASmB,IACP,OACE,eAAC5K,EAAA,EAAD,CAAM1E,MAAI,EAAV,UACE,cAAC,IAAD,wBACA,cAAC,IAAD,CAAW9D,MAAM,iBACjB,cAAC,IAAD,gBACA,cAAC,IAAD,CAAWA,MAAM,oBAKvB,SAASqT,IACP,OACE,cAAC7K,EAAA,EAAD,CAAM1E,MAAI,EAAV,SACE,eAAC,IAAD,iCAEG,IAAIuJ,MAAOiG,mBAMpB,SAASC,EAAT,GAAqD,IAAtBC,EAAqB,EAArBA,QAAS7U,EAAY,EAAZA,SACtC,OACE,cAAC6J,EAAA,EAAD,CACE5J,WAAS,EACTC,WAAW,SACXQ,eAAgBmU,EAChB1U,GAAI,CACF2U,UAAW,EACXvU,YAAa,iBACb6K,QAAS,eACT2J,OAAQ,EACR7E,SAAU,SACV1P,WAAY,EACZ8P,QAAS,GAXb,SAcGtQ,IAKQ,SAASgV,IAEtB,OADe/T,aAAc,SAACC,GAAD,OAAWA,EAAMC,YAAYC,KAAK,SAG3D,eAACwT,EAAD,CAAqBC,QAAQ,SAA7B,UACE,cAACH,EAAD,IACA,cAAC,IAAD,OAIF,eAACE,EAAD,CAAqBC,QAAQ,gBAA7B,UACE,cAACH,EAAD,IACA,cAACD,EAAD,IACA,cAAC,IAAD,OClDR,SAASQ,EAAT,GAA0C,IAAbjV,EAAY,EAAZA,SAC3B,OACE,cAACgO,EAAA,EAAD,CACE7N,GAAI,CACFM,gBAAiB,sBACjByP,SAAU,OACVgF,KAAM,EACN3H,MAAO,GALX,SAQGvN,IAKP,SAASmV,IACP,OACE,cAAC,IAAD,CAAM1H,MAAO,CAAE4G,eAAgB,QAAUjM,GAAG,YAA5C,SACE,cAACsJ,EAAA,EAAD,CAAYvR,GAAI,CAAEsT,WAAY,UAA9B,SACE,cAAC,IAAD,CAAU9R,SAAS,SAASxB,GAAI,CAAEoN,MAAO,GAAIrD,OAAQ,GAAI7I,MAAO,qBAMxE,SAAS+T,IACP,OACE,eAACtL,EAAA,EAAD,CACEC,UAAU,MACVrJ,eAAe,gBACfR,WAAW,SACXC,GAAI,CACF2U,UAAW,EACXvU,YAAa,iBACbE,gBAAiB,gBAPrB,UAUE,cAACiT,EAAD,IACA,cAACyB,EAAD,IACA,cAAC7B,EAAD,OAKS,SAAS+B,EAAT,GAAiC,IAAbrV,EAAY,EAAZA,SAC3BsV,EAAUrU,aAAc,SAACC,GAAD,OAAWA,EAAMC,YAAYC,KAAK,SAChE,OACE,eAAC4M,EAAA,EAAD,CACE7N,GAAI,CACFyG,QAAS,OACT2O,cAAe,SACfC,SAAU,UACVtL,OAAQ,QACRqD,MAAO,SANX,UASE,cAACgH,EAAD,IACA,cAACU,EAAD,UAAoBjV,IACnBsV,EAAU,cAACF,EAAD,IAAiB,KAC5B,cAACJ,EAAD,S,iOCpES,SAASS,IACtB,OACE,eAACzH,EAAA,EAAD,CAAK7N,GAAI,CAAED,WAAY,UAAYa,QAAS,aAA5C,UACE,cAAC2Q,EAAA,EAAD,CACE,aAAW,SACXvR,GAAI,CACFiL,QAAS,cAEXrK,QAAS,aALX,SAOE,cAAC,IAAD,MARJ,U,sBCFW,SAAS2U,IACtB,OACE,eAAC1H,EAAA,EAAD,CAAK7N,GAAI,CAAED,WAAY,UAAvB,UACE,cAACwR,EAAA,EAAD,CACE,aAAW,SACXvR,GAAI,CACFiL,QAAS,cAHb,SAME,cAAC,IAAD,MAPJ,Y,2ECIW,SAASuK,EAAT,GAEX,IADFC,EACC,EADDA,QAASC,EACR,EADQA,eAAgBC,EACxB,EADwBA,oBAAqB/M,EAC7C,EAD6CA,MAAOqB,EACpD,EADoDA,QAErD,EAAwBK,mBAASmL,GAAjC,mBAAO3T,EAAP,KAAaQ,EAAb,KACAmI,qBAAU,kBAAMnI,EAAQmT,KAAU,CAACA,IAEnC,IAAMlT,EAAc,WAClBD,GAAQ,GACRqT,KAQF,OACE,eAACC,EAAA,EAAD,CAAQ9T,KAAMA,EAAM9B,GAAI,CAAEM,gBAAiB,eAA3C,UACE,cAACuV,EAAA,EAAD,UAAcjN,IACd,eAACiF,EAAA,EAAD,CAAK7N,GAAI,CAAEC,EAAG,GAAd,UACE,cAACuJ,EAAA,EAAD,CAAYxJ,GAAI,CAAEE,GAAI,GAAtB,SAA4B+J,IAC5B,eAACN,EAAA,EAAD,CAAOO,QAAS,EAAGN,UAAU,MAA7B,UACE,cAACuK,EAAA,EAAD,CAAQ9S,QAAQ,YAAYT,QAAS2B,EAArC,oBACA,cAAC4R,EAAA,EAAD,CAAQ9S,QAAQ,WAAWT,QAZd,WACnB2B,IACAmT,KAUM,yBC1BK,SAASI,EAAT,GAEX,IADFC,EACC,EADDA,WAAYC,EACX,EADWA,WAAYC,EACvB,EADuBA,SAAUC,EACjC,EADiCA,eAAgBC,EACjD,EADiDA,mBAAoBC,EACrE,EADqEA,gBAEtE,EAA8B9L,oBAAS,GAAvC,mBAAOmL,EAAP,KAAgBY,EAAhB,KACA,EAAgC/L,mBAAS,MAAzC,mBAAOqH,EAAP,KAAiBiB,EAAjB,KACM9Q,EAAO+Q,QAAQlB,GAEfpP,EAAc,kBAAMqQ,EAAY,OAYtC,OACE,gCACE,cAAC,IAAD,CAAchS,QAfE,SAACqO,GAAD,OAAW2D,EAAY3D,EAAMiE,kBAgB7C,eAACrB,EAAA,EAAD,CACE5E,GAAG,aACH0E,SAAUA,EACV7P,KAAMA,EACNC,QAASQ,EACT+T,cAAe,CACb,kBAAmB,gBAErBtW,GAAI,CAAEoB,aAAc,QARtB,UAUE,cAACiR,EAAA,EAAD,CAAUzR,QAlBG,WACjBwV,IACA7T,KAgBI,SAAgCyT,IAChC,cAAC3D,EAAA,EAAD,CAAUzR,QAxBU,WACxByV,GAAW,GACX9T,KAsBI,SAAuCwT,OAEzC,cAACP,EAAD,CACE5M,MAAM,gBACN6M,QAASA,EACTC,eAAgBS,EAChBR,oBAAqB,kBAAMU,GAAW,IACtCpM,QAASiM,IAEVD,K,yDCjCP,WAA4BnS,EAAQC,EAASe,EAAUyR,GAAvD,eAAA3T,EAAA,+EAEgC4T,IAAInQ,aAAavC,EAAQC,EAASe,GAFlE,OAEU2R,EAFV,OAGIF,EAAqBE,GAHzB,gDAMIrS,QAAQC,IAAR,MANJ,0D,sBAUe,SAASqS,EAAT,GAEX,IAIE7P,EALJ8P,EACC,EADDA,OAAQzG,EACP,EADOA,UAAW0G,EAClB,EADkBA,YAAaC,EAC/B,EAD+BA,YAAa/S,EAC5C,EAD4CA,OAAQgB,EACpD,EADoDA,SAAUf,EAC9D,EAD8DA,QAASqS,EACvE,EADuEA,gBAAiBU,EACxF,EADwFA,QAEzF,EAA0BxM,mBAAS,MAAnC,mBAAOyM,EAAP,KAAcC,EAAd,KACA,EAAwC1M,mBAAS,MAAjD,mBAAOC,EAAP,KAAqBC,EAArB,KACA,EAAoCF,mBAAS,MAA7C,mBAAO2M,EAAP,KAAmBC,EAAnB,KAEMnW,EAAQoW,cAEFtQ,EADG/F,YAAcC,EAAMC,YAAYC,KAAK,OAC5B,GACP,kBAEjB,IAAMmW,EAAqB,SAACC,EAAK9S,GAC/BiG,EAAgB6M,GAChBH,EAAc3S,IAGVgS,EAAuB,SAACzU,GACR,OAAhBA,EAAK2B,OACP2T,EAAmB,+BAA+B,GAElDA,EAAmB,+BAA+B,GAEpDJ,GAAS,IASLf,EACJ,cAAC,IAAD,CACE5L,aAAc0M,EACd9M,QAASM,EACTxI,QAVwB,WAC1BiV,GAAS,GACTxM,EAAgB,MAChB0M,EAAc,OAQZ3S,MAAO0S,IAILK,EAAWR,EAWb,cAAC,IAAD,IAVF,cAAChB,EAAD,CACEI,eAAe,qCACfD,SAAUA,EACVE,mBAAoB,Y,0CAClB9P,CAAavC,EAAQC,EAASe,EAAUyR,IAE1CR,WAAY,cAACR,EAAD,IACZS,WAAY,cAACV,EAAD,IACZc,gBAAiBA,IAIrB,OAAkB,IAAVW,EACN,cAAC,IAAD,CAAU9O,GAAG,YAAYsP,SAAO,IAEhC,eAACzO,EAAA,EAAD,CACE9I,GAAI,CACFwX,UAAW,EACXvM,QAAS,cACThL,EAAG,GAJP,UAOE,cAACkJ,EAAA,EAAD,CACEP,MAAO+N,EACPzG,UAAWA,EACX9K,OAAQkS,IAEV,cAAC/E,EAAA,EAAD,IACA,eAAC1E,EAAA,EAAD,CACE7N,GAAI,CACFyG,QAAS,OACTlG,eAAgB,aAChB6U,cAAe,CACblK,GAAI,MACJzK,GAAI,UAENsJ,OAAQ,CACNmB,GAAI,QAENuM,GAAI,GAXR,UAcE,cAAC5J,EAAA,EAAD,CACE7N,GAAI,CACFoN,MAAO,CACLlC,GAAI,MACJzK,GAAI,QAEN6I,UAAW,SACXlI,aAAc,GAEhByF,UAAWA,EATb,SAWG+P,IAEH,cAAC/I,EAAA,EAAD,CACE7N,GAAI,CACFoN,MAAO,CAAElC,GAAI,MAAOlL,GAAI,QACxBsJ,UAAW,SACX0I,GAAI,CACF9G,GAAI,EACJzK,GAAI,GAENR,EAAG,CACDiL,GAAI,GAENzC,GAAI,GAEN5B,UAAWA,EAbb,SAeGgQ,Y,4UCnILa,EAAyBC,uBAAaC,mBAASC,qBAAWC,OAUjD,SAASC,EAAT,GAEX,IADFC,EACC,EADDA,IAAKC,EACJ,EADIA,OAAQC,EACZ,EADYA,WAAYC,EACxB,EADwBA,iBAEzB,EAAoC7N,mBAAS0N,GAA7C,mBAAOI,EAAP,KAAmBC,EAAnB,KACA,EAAwC/N,mBAAS,GAAjD,mBAAOgO,EAAP,KAAqBC,EAArB,KACA,EAA8BjO,mBAAS,MAAvC,mBAAO7D,EAAP,KAAgB+R,EAAhB,KAEA/N,qBAAU,WACR4N,EAAcL,KACb,CAACA,IAEJvN,qBAAU,WACJ6N,EAAeL,EAAOxM,OACxB+M,EAAW,QAEXA,EAAW,UAEZ,CAACF,IAEJ,IAAMjJ,EAAkB,kBAAMkJ,GAAgB,SAACE,GAAD,OAAgBA,EAAa,MAqC3E,OACE,cAACf,EAAD,CACEgB,MAAON,EACPO,cAAeR,EACfS,mBAAiB,EACjBC,oBAAkB,EAClBC,SAAU,IACVlY,QAASsX,EACT5K,MAAO,CAAEhN,gBAAiB,cAC1ByY,cA5CkB,SAAClM,GAErB,IAAQ6L,EAAe7L,EAAf6L,MAAO1U,EAAQ6I,EAAR7I,IACTgV,EAhCV,SAAaC,EAAOC,GAClB,IAAMC,EAAUF,EAAQC,EACxB,OAAIC,EAAU,EACLA,EAAUD,EAEZC,EA2BWC,CAAIV,EAAOT,EAAOxM,QAI5B+D,GAHayI,EAAOe,GAASf,OACjCA,EAAOe,GAASf,OAAOvS,KAAI,gBAAG6J,EAAH,EAAGA,IAAKnC,EAAR,EAAQA,MAAR,gBAAuBmC,EAAvB,YAA8BnC,EAA9B,QACzB,IACsBiM,KAAK,KAS/B,OACE,cAACxL,EAAA,EAAD,CACEyB,UAAU,MACVK,OAAQN,EACRrP,GAAI,CACFyG,QAAS,CAAEA,WACX0D,gBAAiB,SACjBiD,MAAO,OACPnC,QAAS,WAEXsE,IAAK0I,EAAOe,GAASzJ,IACrBC,OAAQA,EACRlC,MApBU,CACZ7G,QAAS,QACT6S,UAAW,cACXC,OAAQ,UACR7J,UAAW,UACX3F,OAAQ,SAgBN0F,IAAKwI,EAAOe,GAASzJ,KAChBvL,MAmBb+T,EAAiBvV,aAAe,CAC9BwV,IAAK,G,aC9EP,SAASwB,EAAT,GAAmC,IAAhBzO,EAAe,EAAfA,YACjB,OACE,cAACwG,EAAA,EAAD,CACEhQ,KAAK,QACLL,MAAM,UACN,aAAW,QACXN,QAASmK,EACT/K,GAAI,CACFyB,SAAU,WAAYC,IAAK,MAAOC,MAAO,EAAGuQ,UAAW,uBAN3D,SASE,cAAC,IAAD,CAAoBlS,GAAI,CAAEkB,MAAO,cAAeM,SAAU,cAKhE,SAASiY,EAAT,GAAuC,IAAhB1O,EAAe,EAAfA,YACrB,OACE,cAACwG,EAAA,EAAD,CACEhQ,KAAK,QACLL,MAAM,UACN,aAAW,QACXN,QAASmK,EACT/K,GAAI,CACFyB,SAAU,WAAYC,IAAK,MAAOgY,KAAM,EAAGxH,UAAW,uBAN1D,SASE,cAAC,IAAD,CAAmBlS,GAAI,CAAEkB,MAAO,cAAeM,SAAU,cAKhD,SAASmY,EAAT,GAEX,IADF7X,EACC,EADDA,KAAM8G,EACL,EADKA,MAAOwF,EACZ,EADYA,KAAM6J,EAClB,EADkBA,OAAQS,EAC1B,EAD0BA,MAAOR,EACjC,EADiCA,WAAY0B,EAC7C,EAD6CA,WAAYrX,EACzD,EADyDA,YAAasX,EACtE,EADsEA,aAEvE,OACE,eAACjE,EAAA,EAAD,CACE9T,KAAMA,EACNgY,YAAU,EAFZ,UAIE,cAAC/B,EAAD,CACEE,OAAQA,EACRD,IAAKU,EACLR,WAAYA,EACZC,iBAAkB0B,IAEpB,cAAC1Q,EAAA,EAAD,CACEP,MAAOA,EACPsH,UAAW9B,EACXpO,GAAI,CACFyB,SAAU,WACVC,IAAK,GACLgY,KAAM,GACNzO,QAAS,cACT7J,aAAc,EACd+O,QAAS,KAGb,cAACsJ,EAAD,CAAa1O,YAAa6O,IAC1B,cAACJ,EAAD,CAASzO,YAAamN,IACtB,cAAC3H,EAAA,EAAD,CAAiBrJ,KAAK,QAAQ6D,YAAaxI,OAajDoX,EAAenX,aAAe,CAC5BkW,MAAO,G,qFC1EM,SAASqB,EAAT,GAA6D,IAAtCC,EAAqC,EAArCA,SAAUrZ,EAA2B,EAA3BA,KAAMsZ,EAAqB,EAArBA,kBACpD,EAA6CnM,YAASnN,GAAtD,mBAAOiI,EAAP,KAAcoF,EAAd,KAAwBkM,EAAxB,KACA,EAAwB5P,mBAAS0P,GAAjC,mBAAOG,EAAP,KAAaC,EAAb,KACA,EAAkC9P,oBAAS,GAA3C,mBAAO+P,EAAP,KAAkBC,EAAlB,KAQA,OANA7P,qBAAU,WACR2P,EAAQJ,GACRhM,EAASrN,GACT2Z,GAAa,KACZ,CAACN,IAECG,GAASE,EAIVF,IAASE,EAET,eAAC1Q,EAAA,EAAD,CAAOC,UAAU,MAAM5J,GAAI,CAAED,WAAY,UAAYmK,QAAS,EAA9D,UACE,cAACV,EAAA,EAAD,CAAYnI,QAAQ,KAApB,SAA0BuH,IAC1B,cAAC,IAAD,CAAUpH,SAAS,SAASZ,QAAS,kBAAM0Z,GAAa,SAK1DH,GAAQE,EAER,eAAC1Q,EAAA,EAAD,CAAOC,UAAU,MAAM5J,GAAI,CAAED,WAAY,WAAYQ,eAAgB,cAAgB2J,QAAS,EAA9F,UACE,cAACqQ,EAAA,EAAD,CACEtN,GAAG,iBACH/F,KAAK,QACLsT,MAAM,QACNC,SAAUP,EACV7Y,QAAQ,WACRqZ,aAAc9R,EACd5I,GAAI,CAAEkC,SAAU,WAElB,cAAC,IAAD,CACEV,SAAS,SACTZ,QAAS,WACPqZ,EAAkBrR,GAClB0R,GAAa,MAGjB,cAAC,IAAD,CAAW9Y,SAAS,SAASZ,QAAS,WAAQoN,EAASrN,GAAO2Z,GAAa,cAnBjF,EAZS,cAAC9Q,EAAA,EAAD,CAAYnI,QAAQ,KAApB,SAA0BuH,I,gDCRtB,SAAS+R,GAAT,GAA+D,IAAzCX,EAAwC,EAAxCA,SAAUY,EAA8B,EAA9BA,SAAUC,EAAoB,EAApBA,iBACvD,EAAwBvQ,mBAAS0P,GAAjC,mBAAOG,EAAP,KAAaC,EAAb,KACA,EAAkC9P,oBAAS,GAA3C,mBAAO+P,EAAP,KAAkBC,EAAlB,KACA,EAA0CpM,YAAQ0M,GAAlD,mBAAOxM,EAAP,KAAaC,EAAb,KAAsByM,EAAtB,KAQA,OANArQ,qBAAU,WACR2P,EAAQJ,GACR3L,EAAQuM,GACRN,GAAa,KACZ,CAACN,EAAUY,IAETT,GAASE,EAIVF,IAASE,EAET,eAAC1Q,EAAA,EAAD,CAAOC,UAAU,MAAM5J,GAAI,CAAED,WAAY,UAAYmK,QAAS,EAA9D,UACE,cAACV,EAAA,EAAD,UAAa4E,IACb,cAAC,IAAD,CAAU5M,SAAS,SAASZ,QAAS,kBAAM0Z,GAAa,SAK1DH,GAAQE,EAER,eAAC1Q,EAAA,EAAD,CAAOC,UAAU,MAAM5J,GAAI,CAAED,WAAY,WAAYQ,eAAgB,aAAcyR,GAAI,GAAK9H,QAAS,EAArG,UACE,cAAC6Q,EAAA,EAAD,CAAsBC,YAAaC,IAAnC,SACE,cAAC,IAAD,CACET,MAAM,cACNvV,MAAOmJ,EACPqM,SAAUK,EACVI,YAAY,aACZC,YAAY,aACZC,QAAS,IAAI7M,KACb8M,YAAa,SAACxO,GAAD,OACX,cAAC0N,EAAA,EAAD,aACEe,UAAQ,EACRC,UAAQ,GAEJ1O,SAKZ,cAAC,IAAD,CACErL,SAAS,SACTZ,QAAS,WACPia,EAAiBzM,GACjBkM,GAAa,MAGjB,cAAC,IAAD,CAAW9Y,SAAS,SAASZ,QAAS,WAAQyN,EAAQuM,GAAWN,GAAa,cA5BpF,EAZS,cAAC9Q,EAAA,EAAD,UAAa4E,I,+BCbT,SAASoN,GAAT,GAAkE,IAA3CxB,EAA0C,EAA1CA,SAAUyB,EAAgC,EAAhCA,UAAWC,EAAqB,EAArBA,kBACzD,EAAwBpR,mBAAS0P,GAAjC,mBAAOG,EAAP,KAAaC,EAAb,KACA,EAAkC9P,oBAAS,GAA3C,mBAAO+P,EAAP,KAAkBC,EAAlB,KACA,EAA6CzL,aAAS4M,GAAtD,mBAAO1M,EAAP,KAAcC,EAAd,KAAwB2M,EAAxB,KACMC,EAAWC,mBAQjB,OANApR,qBAAU,WACR2P,EAAQJ,GACRhL,EAASyM,GACTnB,GAAa,KACZ,CAACN,EAAUyB,IAETtB,GAASE,EAMVF,IAASE,EAET,eAAC1Q,EAAA,EAAD,CAAOC,UAAU,SAASM,QAAS,EAAnC,UACE,eAACP,EAAA,EAAD,CAAOC,UAAU,MAAMM,QAAS,EAAG3J,eAAe,WAAlD,UACE,cAACiJ,EAAA,EAAD,CAAYxJ,GAAI,CAAEkB,MAAO,cAAzB,wBACA,cAAC,IAAD,CACEM,SAAS,SACTZ,QAAS,WACP0Z,GAAa,SAInB,cAAC/H,EAAA,EAAD,CAASvS,GAAI,CAAEoN,MAAO,KACtB,cAAC5D,EAAA,EAAD,CAAY8D,MAAO,CAAEwO,WAAY,YAAjC,SAAgD/M,OAKlDoL,GAAQE,EAER,eAAC1Q,EAAA,EAAD,CAAOC,UAAU,SAASM,QAAS,EAAnC,UACE,eAACP,EAAA,EAAD,CAAOC,UAAU,MAAMM,QAAS,EAAG3J,eAAe,WAAlD,UACE,cAACiJ,EAAA,EAAD,CAAYxJ,GAAI,CAAEkB,MAAO,cAAzB,2BACA,cAAC,IAAD,CACEM,SAAS,SACTZ,QAAS,WACP8a,EAAkB3M,GAClBuL,GAAa,MAGjB,cAAC,IAAD,CACE9Y,SAAS,SACTZ,QAAS,WACPoO,EAASyM,GACTnB,GAAa,SAInB,cAAC/H,EAAA,EAAD,CAASvS,GAAI,CAAEoN,MAAO,KACtB,cAACS,EAAA,EAAD,CACE7N,GAAI,CACFC,EAAG,EACHyG,EAAG,EACH+Q,GAAI,EACJtW,OAAQ,EACRf,YAAa,eACb6K,QAAS,mBACT8Q,UAAW,OACX3a,aAAc,EACdgM,MAAO,OAETxM,QAAS,kBAAMgb,EAASI,QAAQC,SAZlC,SAcE,cAACC,GAAA,EAAD,CACEC,WAAS,EACT,aAAW,iBACXjB,YAAY,qBACZjW,MAAO8J,EACP0L,SAAUkB,EACVrO,MAAO,CACLF,MAAO,OACP2O,UAAW,QACX7S,UAAW,OACXoQ,UAAW,aACXhG,WAAY,MACZnS,OAAQ,EACR4O,SAAU,OACVqM,QAAS,OACTC,OAAQ,WACRjb,aAAc,EACd,UAAW,CACTD,OAAQ,IAGZkM,IAAKuO,cAxDf,EAtBI,cAACpS,EAAA,EAAD,CAAY8D,MAAO,CAAEwO,WAAY,YAAjC,SAAgD/M,I,2JCbtD,SAASuN,GAAT,GAEI,IADFzc,EACC,EADDA,SAAUe,EACT,EADSA,QAAS8P,EAClB,EADkBA,KAAM6L,EACxB,EADwBA,SAEzB,OACE,cAACpI,EAAA,EAAD,CACElH,GAAIyD,EACJrP,QAAQ,YACRiO,UAAU,QACV1O,QAASA,EACTZ,GAAI,CACFkB,MAAQqb,IAAa7L,EAAQ,cAAgB,aAC7CtP,aAAc,EACdd,gBAAkBic,IAAa7L,EAAQ,eAAiB,cACxDP,QAAS,UACT,UAAW,CACTjP,MAAQqb,IAAa7L,EAAQ,cAAgB,aAC7CpQ,gBAAkBic,IAAa7L,EAAQ,eAAiB,gBAZ9D,SAgBG7Q,IAKP,SAAS2c,GAAT,GAAyD,IAApC3C,EAAmC,EAAnCA,aAAcjZ,EAAqB,EAArBA,QAAS2b,EAAY,EAAZA,SAC1C,OACE,eAACD,GAAD,CAAe1b,QAASA,EAAS8P,KAAK,MAAM6L,SAAUA,EAAtD,UACE,uBAAOE,KAAK,OAAOC,QAAM,EAACC,UAAQ,EAACC,OAAO,UAAUnC,SAAUZ,IAC9D,cAAC,KAAD,CAAc7Z,GAAI,CAAEwB,SAAU,YAFhC,SAQJ,SAASqb,GAAT,GAAsE,IAA1C5E,EAAyC,EAAzCA,OAAQ6E,EAAiC,EAAjCA,iBAAkBC,EAAe,EAAfA,YACpD,EAAsCzS,mBAAS,MAA/C,mBAAO0S,EAAP,KAAoBC,EAApB,KAYA,OAXAxS,qBAAU,WACR,IAAIyS,EAAS,EACTC,EAAU,EACdlF,EAAOmF,SAAQ,YAAuB,EAApBrT,OAAoB,EAAZqD,MACJ+P,GAAW,EAC1BD,GAAU,KAEKD,EAAlBC,EAASC,EAAwB,OACjB,aACnB,CAAClF,IAEG8E,EACL,cAAC,KAAD,CACEM,OAAQL,EACRM,OAAQrF,EACRrX,QAASkc,EACT5S,QAAS,EACT6S,YAAaA,IAGf,cAAC,KAAD,CACEM,OAAQL,EACRM,OAAQrF,EACRrX,QAASkc,EACT5S,QAAS,IAKA,SAASqT,GAAT,GAEX,IADFvD,EACC,EADDA,SAAU/B,EACT,EADSA,OAAQ6E,EACjB,EADiBA,iBAAkBU,EACnC,EADmCA,sBAAuBC,EAC1D,EAD0DA,YAAaC,EACvE,EADuEA,SAExE,EAAwBpT,mBAAS0P,GAAjC,mBAAOG,EAAP,KAAaC,EAAb,KACA,EAAgC9P,mBAAS,MAAzC,mBAAOiS,EAAP,KAAiBoB,EAAjB,KACA,EAAkCrT,mBAAS,MAA3C,mBAAOsT,EAAP,KAAkBC,EAAlB,KAEMC,EAAiB,SAACC,GAEpBJ,EADEpB,IAAawB,EACH,KAEAA,IAIhBtT,qBAAU,WACR2P,EAAQJ,GACR2D,EAAY,QACX,CAAC3D,IAEJ,IAuEMgE,EACJ,eAACrU,EAAA,EAAD,CAAOC,UAAU,MAAMM,QAAS,EAAhC,UACE,cAACsS,GAAD,CAAW3C,aAAc6D,EAAU9c,QAAS,kBAAMkd,EAAe,QAAQvB,SAAUA,IACnF,eAACD,GAAD,CAAe1b,QAAS,kBAAMkd,EAAe,WAAWpN,KAAK,SAAS6L,SAAUA,EAAhF,UACE,cAAC,KAAD,CAAYvc,GAAI,CAAEwB,SAAU,YAD9B,YAIA,cAAC8a,GAAD,CAAe1b,QAAS,kBAAMkd,EAAe,cAAcpN,KAAK,YAAY6L,SAAUA,EAAtF,8BAIE0B,EACJ,cAACtU,EAAA,EAAD,CAAOC,UAAU,MAAjB,SACE,eAACJ,EAAA,EAAD,CAAYnI,QAAQ,KAAKH,MAAM,aAA/B,oBAEG+W,EAAOxM,YAKd,OAAK0O,EAMDA,GAAqB,WAAboC,EAER,eAAC5S,EAAA,EAAD,CAAOC,UAAU,SAASM,QAAS,EAAGlK,GAAI,CAAEC,EAAG,GAA/C,UACGge,EACAD,EACD,cAACnB,GAAD,CACE5E,OAAQA,EACR6E,iBAAkBA,EAClBC,YA9F2B,SAAC,GAAD,IACjCM,EADiC,EACjCA,OADiC,IAEjCa,WAAczO,EAFmB,EAEnBA,IAAKnC,EAFc,EAEdA,MAAU6Q,EAFI,0BAIjC,eAAChK,EAAA,EAAD,CAAQ7E,UAAU,MAAlB,UACE,iCACEG,IAAKA,EAELnC,MAAK,2BAAOA,GAAP,IAAcF,MAAOiQ,EAAOjQ,MAAO+C,QAAS,KAE7CgO,IAEN,cAAC5M,EAAA,EAAD,CACErK,KAAK,SACLlH,GAAI,CACFkB,MAAO,QACP+J,QAASuF,aAAM,OAAQ,IACvB/O,SAAU,WACVC,IAAK,GACLC,MAAO,IAETf,QAAS,kBA1BW,SAAC8P,GACzB,IAAM0N,EAAUnG,EAAOoG,MAAK,SAAChZ,GAAD,OAAWA,EAAMoK,MAAQiB,KACrD+M,EAAYW,GAwBOE,CAAkB7O,IATnC,SAWE,cAAC,KAAD,CAAWvI,KAAK,sBA6ElBiT,GAAqB,cAAboC,EAER,eAAC5S,EAAA,EAAD,CAAOC,UAAU,SAASM,QAAS,EAAGlK,GAAI,CAAEC,EAAG,GAA/C,UACGge,EACAD,EACD,cAACnB,GAAD,CACE5E,OAAQA,EACR6E,iBAAkBA,EAClBC,YAhF4B,SAAC,GAAD,IAClCM,EADkC,EAClCA,OADkC,IAElCa,WAAczO,EAFoB,EAEpBA,IAAKnC,EAFe,EAEfA,MAAU6Q,EAFK,0BAIlC,eAAChK,EAAA,EAAD,CAAQ7E,UAAU,MAAlB,UACE,iCACEG,IAAKA,EAELnC,MAAK,2BAAOA,GAAP,IAAcF,MAAOiQ,EAAOjQ,MAAO+C,QAAS,KAE7CgO,IAEN,cAACI,GAAA,EAAD,CACEC,QAAS,cAACC,GAAA,EAAD,IACTjE,MAAM,GACNkE,QAASjP,IAAQmO,EACjBnD,SAAU,kBAvDc,SAAC/J,GAC7BmN,EAAanN,GACb,IAAML,EAAiB4H,EAAOoG,MAAK,SAAChZ,GAAD,OAAWA,EAAMoK,MAAQiB,KAC5D8M,EAAsBnN,GAoDFsO,CAAsBlP,IACtCzP,GAAI,CACF4e,GAAI,EACJnd,SAAU,WACVwJ,QAASuF,aAAM,OAAQ,IACvBtP,MAAO,QACPE,aAAc,kBACdhB,YAAa,iBACbye,WAAY,EACZjK,OAAQ,GACR8E,KAAM,eA4DVS,GAAqB,QAAboC,GAaRpC,IAASoC,EAXT,eAAC5S,EAAA,EAAD,CAAOC,UAAU,SAASM,QAAS,EAAGlK,GAAI,CAAEC,EAAG,GAA/C,UACGge,EACAD,EACD,cAACnB,GAAD,CACE5E,OAAQA,EACR6E,iBAAkBA,YAM1B,EA7CI,cAACD,GAAD,CAAkB5E,OAAQA,EAAQ6E,iBAAkBA,IAmF1DD,GAAiBra,aAAe,CAC9Bua,YAAa,MASfT,GAAc9Z,aAAe,CAC3B5B,QAAS,c,wBCrQX,SAASke,GAAT,GACE,OAAgB,IADe,EAAXhI,QAGhB,cAACnN,EAAA,EAAD,CACEC,UAAU,MACVrJ,eAAe,aACfP,GAAI,CAAEM,gBAAiB,cAAeqN,SAAU,EAAGoR,SAAU,GAH/D,SAKE,cAACvM,EAAA,EAAD,CAAMzL,KAAK,IAAID,UAAU,OAAzB,SACE,eAACqN,EAAA,EAAD,CACE9S,QAAQ,YACRiO,UAAU,QACVtP,GAAI,CACFkB,MAAO,eACPZ,gBAAiB,cACjB6P,QAAS,UACTqH,UAAW,EACX,UAAW,CACTlX,gBAAiB,gBATvB,UAaE,cAAC,IAAD,CAAe4G,KAAK,SAASlH,GAAI,CAAEgf,aAAc,KACjD,cAACxV,EAAA,EAAD,CAAYnI,QAAQ,QAAQH,MAAM,aAAlC,6BAMH,KAGM,SAAS+d,GAAT,GASX,IARFC,EAQC,EARDA,SACAC,EAOC,EAPDA,QACAC,EAMC,EANDA,SACAC,EAKC,EALDA,UACAvb,EAIC,EAJDA,OACAgB,EAGC,EAHDA,SACAf,EAEC,EAFDA,QACA+S,EACC,EADDA,QAEA,EAAwBxM,oBAAS,GAAjC,mBAAOxI,EAAP,KAAaQ,EAAb,KACA,EAAwBgI,oBAAS,GAAjC,mBAAO6P,EAAP,KAAaC,EAAb,KACA,EAAsC9P,mBAAS,GAA/C,mBAAOgV,EAAP,KAAoBC,EAApB,KACA,EAA0BjV,mBAAS4U,GAAnC,mBAAOtW,EAAP,KAAcoF,EAAd,KACA,EAAwB1D,mBAAS6U,GAAjC,mBAAO/Q,EAAP,KAAaC,EAAb,KACA,EAA0B/D,mBAAS8U,GAAnC,mBAAOrQ,EAAP,KAAcC,EAAd,KACA,EAA4B1E,mBAAS+U,GAArC,oBAAOpH,GAAP,MAAeuH,GAAf,MACA,GAA0BlV,mBAAS,MAAnC,qBAAOyM,GAAP,MAAcC,GAAd,MACA,GAAwC1M,mBAAS,MAAjD,qBAAOC,GAAP,MAAqBC,GAArB,MAEA,GAAkCF,mBAAS,IAA3C,qBAAOmV,GAAP,MAAkBC,GAAlB,MACA,GAA4CpV,mBAAS,MAArD,qBAAOqV,GAAP,MAAuBC,GAAvB,MACA,GAAkDtV,mBAAS,IAA3D,qBAAOuV,GAAP,MAA0BC,GAA1B,MACA,GAAwCxV,oBAAS,GAAjD,qBAAOyV,GAAP,MAAqBC,GAArB,MACA,GAAsD1V,mBAAS,MAA/D,qBAAO2V,GAAP,MAA4BC,GAA5B,MACA,GAAkD5V,mBAAS,MAA3D,qBAAO6V,GAAP,MAA0BC,GAA1B,MACA,GAAoC9V,mBAAS,MAA7C,qBAAO2M,GAAP,MAAmBC,GAAnB,MACA,GAAkC5M,oBAAS,GAA3C,qBAAO+V,GAAP,MAAkBC,GAAlB,MAEMC,GAAWtI,GAAOxM,OAExBhB,qBAAU,kBAAMuD,EAASkR,KAAW,CAACA,IACrCzU,qBAAU,kBAAM4D,EAAQ8Q,KAAU,CAACA,IACnC1U,qBAAU,kBAAMuE,EAASoQ,KAAW,CAACA,IACrC3U,qBAAU,kBAAM+U,GAAUH,KAAY,CAACA,IAEvC,IAAMjI,GAAqB,SAACC,EAAK9S,GAC/BiG,GAAgB6M,GAChBH,GAAc3S,IAGVic,GAAkB,SAACtc,EAAUuc,EAAWC,GACpB,MAApBxc,EAAST,OACX2T,GAAmB,uDAAuD,GAC7C,MAApBlT,EAAST,OAClB2T,GAAmB,qDAAqD,GAExEA,GAAmB,+BAAD,OAAgCqJ,IAAa,GAEjEC,EAASxc,EAAST,SASdkd,GAAoB,SAACld,GACzBuT,IAAS,GACTsJ,GAAa7c,IAGTmd,GAAa,uCAAG,WAAO5b,EAAMC,GAAb,eAAArC,EAAA,+EAEC4T,KAAIlQ,oBACrBxC,EACAC,EACAe,EACAE,EACAC,GAPgB,cAEZ1B,EAFY,QASTC,GACP4T,GAAmB,UAAD,OAAWpS,EAAX,0BAAwC,GAE1Dwb,GAAgBjd,EAAD,mBAAmByB,GAAQ2b,IAE5C3J,IAAS,GAdS,kBAeXzT,GAfW,uCAkBlBa,QAAQC,IAAR,MAlBkB,mBAmBX,GAnBW,yDAAH,wDAuBbwc,GAAe,uCAAG,WAAOxb,GAAP,eAAAzC,EAAA,+EAED4T,KAAIjQ,kBACrBzC,EACAC,EACAe,EACA,YACAO,GAPkB,cAEd9B,EAFc,QASXC,IACP4T,GAAmB,yCAAyC,GAC5DJ,IAAS,IAETwJ,GAAgBjd,EAAM,qBAAsBod,IAb1B,kBAebpd,GAfa,uCAkBpBa,QAAQC,IAAR,MAlBoB,mBAmBb,GAnBa,yDAAH,sDAuBfoZ,GAAW,uCAAG,WAAOpY,GAAP,eAAAzC,EAAA,oEAGZqV,GAAOxM,OAAS,GAHJ,gCAID+K,KAAIjQ,kBACfzC,EACAC,EACAe,EACA,SACAO,GATY,QAId9B,EAJc,QAWLC,IACP4T,GAAmB,qCAAqC,GACxDoI,GAAUvH,GAAOlG,QAAO,SAAC/M,GAAD,OAAUA,EAAK4D,QAAUvD,EAAMuD,WAEvD4X,GAAgBjd,EAAM,iBAAkBod,IAf5B,sBAkBdvJ,GAAmB,0DAA0D,GAlB/D,cAoBhBJ,IAAS,GApBO,kBAqBTzT,GArBS,yCAwBhBa,QAAQC,IAAR,MAxBgB,mBAyBT,GAzBS,0DAAH,sDA6BXqZ,GAAQ,uCAAG,WAAOlZ,GAAP,eAAA5B,EAAA,+EAEM4T,KAAIjQ,kBACrBzC,EACAC,EACAe,EACA,MACAN,GAPW,cAEPjB,EAFO,yBASNA,GATM,uCAYba,QAAQC,IAAR,MAZa,mBAaN,GAbM,yDAAH,sDAiBRyc,GAAe,uCAAG,gCAAAle,EAAA,oEAEK6c,GAAUsB,WAFf,aAAAne,EAAA,oDAAAA,EAAA,sFAEV8V,EAFU,KAEHsI,EAFG,mBAGKA,EAHL,GAGbC,EAHa,KAGRC,EAHQ,KAGF3R,EAHE,cAICmO,GAASuD,GAAKhd,MAAK,SAACC,GACvC,OAAIA,EAASV,GACJU,EAASvD,QAElB6f,GAAgBtc,EAAU,eAAgByc,IACnC,OATW,cAId9b,EAJc,OAWdsc,EAAQ,CACZnd,IAAI,YAAD,OAAcc,EAAd,mBAAiCmc,EAAIvQ,MACxCnB,MACAE,IAAKwR,EAAIvQ,KACT9H,MAAOqY,EAAIvQ,KACXtD,MAAO6T,EAAI7T,MACXrD,OAAQkX,EAAIlX,OACZkO,OAAQ,IAlBU,SAoBK3U,MAAMuB,EAAQ,CAAEF,KAAMuc,EAAMle,OAAQ,QApBzC,QAoBdoe,EApBc,QAqBL5d,IACb0c,GAAuB,oBAAD,OAAqBxH,EAAQ,EAA7B,cAAoCiH,GAApC,MACtBH,IAAU,SAAC6B,GAAD,OAAUA,EAAKC,OAAO,CAACH,SAEjCf,GAAqB,sCACrBN,IAAqB,SAACyB,GAAD,OAAaA,EAAQD,OAAO,CAACL,EAAIvQ,UACtD8P,GAAgBY,EAAY,iBAAkBT,KA3B5B,kUAAH,qDAgCrBlW,oBAAS,sBAAC,sBAAA7H,EAAA,yDACJ6c,GAAUhU,OAAS,IACrBuU,IAAgB,GAChBE,GAAuB,oCAErBT,GAAUhU,SAAWkU,GALjB,gCAMAmB,KANA,OAOFjB,GAAkBpU,OAAS,EAC7B2U,GAAqB,yBAAD,OAA0BP,GAAkBpU,OAA5C,YAEpB2U,GAAqB,GAAD,OAAIX,GAAUhU,OAAd,oCAEtBqU,GAAqB,IACrBF,GAAkB,MAClBF,GAAa,IACb8B,YAAW,WACTxB,IAAgB,GAChBI,GAAqB,MACrBF,GAAuB,QACtB,KAnBG,2CAqBP,CAACT,KAEJ,IAAMgC,GAAc,uCAAG,WAAOxS,GAAP,eAAArM,EAAA,sDACjBqM,EAAMzG,OAAOkZ,QACTA,EAAQ5Q,MAAMC,KAAK9B,EAAMzG,OAAOkZ,OACtC9B,GAAkB8B,EAAMjW,QACpBwM,GAAOxM,OAASiW,EAAMjW,QAAU,IAClCiW,EAAMtE,SAAQ,SAAC8D,GACb,IAAM7b,EAAQ,IAAIsc,MAClBtc,EAAMuc,OAAN,uCAAe,WAAO3T,GAAP,6BAAArL,EAAA,sDACPmH,EAASkE,EAAEzF,OAAOqZ,cAClBzU,EAAQa,EAAEzF,OAAOsZ,aACjB5a,EAAOga,EAAKha,KAAL,QACLwJ,EAASwQ,EAATxQ,KACFqR,EAAY,CAAC,IAAK,IAAM,MAAMrc,KAAI,SAACsc,GAAD,MAAgB,CACtDjY,OAAQiY,EAAW5U,MAAO6U,KAAKC,KAAMF,EAAY5U,EAASrD,OAEtDoY,EAAe5T,KAAK6T,MACpBC,EATO,UASMF,EATN,YASsBzR,GAC7B4R,EAAe,CAAC,CACpB5R,KAAM2R,EAASnb,OAAM6C,SAAQqD,QAAO6K,OAAQ8J,GAC3Cb,EAAMjT,EAAEzF,OAAO+G,KAClBmQ,IAAa,SAAC2B,GAAD,OAAUA,EAAKC,OAAO,CAACgB,OAbvB,2CAAf,sDAeAjd,EAAMkK,IAAMjL,IAAIie,gBAAgBrB,MAElCQ,EAAMhc,KAAI,SAACwb,GAAD,OAAU5c,IAAIke,gBAAgBtB,QAExC9J,GAAmB,iBAAD,OAAkBsK,EAAMjW,OAAxB,qDAAkF,GACpGuL,IAAS,KA3BQ,2CAAH,sDA0EdyL,GACJ,cAAC1I,EAAD,CACEC,SAAUG,EACVxZ,KAAMiI,EACNqR,kBA9CgB,SAAChV,GACN2b,GAAc,QAAS3b,IAElC+I,EAAS/I,MA+CPyd,GACJ,cAAC/H,GAAD,CAAYX,SAAUG,EAAMS,SAAUxM,EAAMyM,iBA5C3B,SAAC5V,GACL2b,GAAc,OAAQ3b,IAEjCoJ,EAAQpJ,MA4CN4R,GACJ,cAAC2E,GAAD,CACExB,SAAUG,EACVsB,UAAW1M,EACX2M,kBA5CgB,SAACzW,GACN2b,GAAc,QAAS3b,IAElC+J,EAAS/J,MA6CP2R,GACJ,cAAC2G,GAAD,CACEvD,SAAUG,EACVlC,OAAQA,GACR6E,iBA/BqB,SAACqE,EAAOlS,EAAOyJ,GACtCpW,GAAQ,GACRid,EAAe7G,IA8Bb8E,sBAAuBqD,GACvBpD,YAAaA,GACbC,SAAU+D,KAIRkB,GACJ,eAACxO,EAAA,EAAD,CACE9S,QAAQ,YACRiO,UAAU,QACV1O,QAAS,kBAAMwZ,GAAQ,IACvBpa,GAAI,CACFkB,MAAO,eACPE,aAAc,EACdd,gBAAiB,cACjB6P,QAAS,WARb,UAWE,cAAC,IAAD,CAAUjJ,KAAK,SAASlH,GAAI,CAAEgf,aAAc,KAC5C,cAACxV,EAAA,EAAD,CAAYnI,QAAQ,QAAQH,MAAM,aAAlC,qBAIJ,OAAkB,MAAdmf,KAA+B,IAAVtJ,GAChB,cAAC,IAAD,CAAU9O,GAAG,WAIpB,qCACGkS,EACC,cAACxQ,EAAA,EAAD,CACEC,UAAU,MACVrJ,eAAe,aACfP,GAAI,CAAEM,gBAAiB,cAAeqN,SAAU,EAAGoR,SAAU,GAH/D,SAKG4D,KAED,cAAC7D,GAAD,CAAYhI,QAASA,IACzB,cAACjJ,EAAA,EAAD,CACEyB,UAAU,MACVtP,GAAI,CACFM,gBAAiB,cACjBsiB,OAAQzI,EAAO,MAAQ,GAJ3B,SAOE,cAACzD,EAAA,EAAD,CACEC,OAAQ8L,GACRvS,UAAWwS,GACX9L,YAAaA,GACbC,YAAaA,GACb/R,SAAUA,EACVhB,OAAQA,EACRC,QAASA,EACTqS,gBAhFgB,kBAAMgE,GAAQ,IAiF9BtD,QAASA,MAGb,cAAC6C,EAAD,CACE7X,KAAMA,EACN8G,MAAOA,EACPwF,KAAMA,EACN6J,OAAQA,GACRS,MAAO4G,EACPpH,WAnGa,WACjBqH,GAAe,SAACsD,GAAD,OAAqBA,EAAiB,GAAKtC,OAmGtD3G,WA1Ga,WACjB2F,GACE,SAACsD,GAAD,OAAqBA,EAAiB,EAAItC,IAAYA,OAyGpDhe,YA/Gc,kBAAMD,GAAQ,IAgH5BuX,aA9G0B,SAACiJ,GAAD,OAAUvD,EAAeuD,MAgHrD,cAAC,KAAD,CACEzY,aAAc0M,GACd9M,QAASM,GACTxI,QAxUsB,WAC1BiV,IAAS,GACTxM,GAAgB,MAChB0M,GAAc,OAsUV3S,MAAO0S,KAET,cAACrB,EAAA,EAAD,CACE9T,KAAMie,GACN9d,WAAS,EACTjC,GAAI,CACFC,EAAG,GAJP,SAOE,eAAC6I,EAAA,EAAD,CAAM9I,GAAI,CAAEkC,SAAU,EAAGjC,EAAG,GAA5B,UACE,cAACkJ,EAAA,EAAD,CAAYP,MAAM,gBAAgB5I,GAAI,CAAEoJ,UAAW,YACnD,cAACmJ,EAAA,EAAD,IACA,eAAClJ,EAAA,EAAD,WACE,cAACG,EAAA,EAAD,CAAYnI,QAAQ,KAAKrB,GAAI,CAAEkB,MAAO,cAAtC,SAAuD+e,KACvD,cAACtW,EAAA,EAAD,CAAOpJ,eAAe,SAASP,GAAI,CAAEiJ,GAAI,GAAzC,SACE,cAACO,EAAA,EAAD,CAAYnI,QAAQ,KAApB,SAA0B8e,kBAUxClB,GAAczc,aAAe,CAC3B0c,SAAU,eACVC,QAAS,cACTC,SAAU,gB,6JC5cG,SAAS2D,EAAT,GAA4D,IAAlCC,EAAiC,EAAjCA,KAAMC,EAA2B,EAA3BA,iBAAkBC,EAAS,EAATA,MAC/D,OACE,cAAC3Q,EAAA,EAAD,UACE,cAAC1E,EAAA,EAAD,CAAK7N,GAAI,CAAEyG,QAAS,OAAQlG,eAAgB,SAAUN,EAAG,GAAzD,SACE,cAACkjB,EAAA,EAAD,CACEC,WAAS,EACTne,MAAO+d,EACP,aAAW,cACX9hB,MAAM,UACNlB,GAAI,CAAEiL,QAAS,eALjB,SAQGiY,EAAMxd,KAAI,SAAC2d,GAAD,OACT,cAACC,EAAA,EAAD,CAEEre,MAAOoe,EACPziB,QAAS,kBAAMqiB,EAAiB,GAAD,OAAII,KACnCrjB,GAAI,CAAEmB,OAAQ,EAAGf,YAAa,gBAJhC,SAME,cAACoJ,EAAA,EAAD,CAAYnI,QAAQ,KAApB,SAA0BgiB,KALrBA,Y,6HChBJ,SAASE,EAAT,GAA2D,IAApCC,EAAmC,EAAnCA,OAAQpL,EAA2B,EAA3BA,WAAYrN,EAAe,EAAfA,YACxD,OACE,cAAC0Y,EAAA,EAAD,CACErL,WAAYA,EACZsL,kBAAgB,EAChB1jB,GAAI,CAAEiJ,GAAI,GAHZ,SAKGua,EAAO9d,KAAI,SAAC8U,EAAO9B,GAAR,OACV,cAACiL,EAAA,EAAD,CAAkB/iB,QAASmK,EAAY2N,GAAvC,SACE,cAACkL,EAAA,EAAD,UAAYpJ,KADHA,Q,+BCVJ,SAASqJ,EAAT,GAAuC,IAAVjb,EAAS,EAATA,MAC1C,OACE,cAACO,EAAA,EAAD,CACEP,MAAOA,EACP5I,GAAI,CACFmB,OAAQ,EACRf,YAAa,eACbgJ,UAAW,SACXgE,MAAO,EACP0W,GAAI,EACJ7Y,QAAS,cACThL,EAAG,EACHgJ,GAAI,EACJ7H,aAAc,K,iECbP,SAAS2iB,EAAT,GAA6D,IAAjCvJ,EAAgC,EAAhCA,MAAOzP,EAAyB,EAAzBA,YAAaiZ,EAAY,EAAZA,SAC7D,OACE,cAAC7P,EAAA,EAAD,CACEvT,QAASmK,EACTiZ,SAAUA,EACVhkB,GAAI,CACF0G,EAAG,EACHvF,OAAQ,EACRf,YAAa4jB,EAAW,aAAe,eACvC5iB,aAAc,EACd6J,QAAS,oBARb,SAWGuP,ICZQ,SAASyJ,EAAT,GAEX,IADF/L,EACC,EADDA,WAAYgM,EACX,EADWA,eAAgBC,EAC3B,EAD2BA,OAAQC,EACnC,EADmCA,QAEpC,OACE,eAACvW,EAAA,EAAD,CACE7N,GAAI,CACFyG,QAAS,OACT2O,cAAe,MACfiP,GAAI,EACJjX,MAAO,EACP7M,eAAgB,gBANpB,UASI6jB,EACA,cAACL,EAAD,CAAkBC,UAAQ,EAACjZ,YAAa,aAAUyP,MAAM,SAExD,cAACuJ,EAAD,CAAkBhZ,YAAamZ,EAAgB1J,MAAM,SAErD2J,EACA,cAACJ,EAAD,CAAkBhZ,YAAamN,EAAYsC,MAAM,kBAEjD,cAACuJ,EAAD,CAAkBhZ,YAAamN,EAAYsC,MAAM,YCtB1C,SAAS8J,EAAT,GAAgC,IAAbzkB,EAAY,EAAZA,SAChC,OACE,cAACgO,EAAA,EAAD,CACEyB,UAAU,OACVtP,GAAI,CACF,uBAAwB,CACtB0G,EAAG,EAAGxE,SAAU,MAAOkL,MAAO,QAEhC,2BAA4B,CAC1B9M,gBAAiB,aACjBc,aAAc,GAEhBgU,cAAe,SACf3O,QAAS,OACT1G,WAAY,SACZqN,MAAO,OACPiX,GAAI,GAENE,aAAa,OAhBf,SAkBG1kB,ICXQ,SAAS2kB,EAAT,GAUX,IATF5b,EASC,EATDA,MACAwF,EAQC,EARDA,KACA8L,EAOC,EAPDA,kBACAY,EAMC,EANDA,iBACA5C,EAKC,EALDA,WACAgM,EAIC,EAJDA,eACAC,EAGC,EAHDA,OACAC,EAEC,EAFDA,QACAhM,EACC,EADDA,WAEA,EAAoC9N,mBAAS,IAA7C,mBAAOma,EAAP,KAAmBC,EAAnB,KACA,EAAkCpa,mBAAS,IAA3C,mBAAOqa,EAAP,KAAkBC,EAAlB,KAEA,EAAwCta,oBAAS,GAAjD,mBAAOua,EAAP,KAAqBC,EAArB,KACA,EAAsCxa,oBAAS,GAA/C,mBAAOya,EAAP,KAAoBC,EAApB,KAEMC,EAAcC,IAAW,CAC7Btc,MAAOsc,MAAa3J,SAAS,4BAA4B4J,IAAI,GAAI,0CAChE5J,WAEG6J,EAAaF,IAAW,CAC5B9W,KAAM8W,IAAS,wEACZ3J,SAAS,2BAA2B8J,aACtC9J,WACG+J,EAAY,uCAAG,WAAOthB,EAAKiB,EAAOsgB,EAAeC,GAAlC,iBAAA5iB,EAAA,6DACf6iB,GAAW,EADI,SAEKD,EACrBE,SADqB,eACT1hB,EAAMiB,GAAS,CAAE0gB,YAAY,IACzCC,OAAM,SAACrhB,GAAD,OAAWA,KAJD,cAEbshB,EAFa,OAKnBN,EAAc,IACVM,EAAUC,QACZD,EAAUC,MAAM1I,SAAQ,SAAC7Y,GAAD,OAAWghB,EAAchhB,EAAM0F,YACvDwb,GAAW,GARM,mBAUXA,GAVW,2CAAH,4DAaZM,EAAO,uCAAG,8BAAAnjB,EAAA,sEACW0iB,EAAa,QAAS1c,EAAO8b,EAAeO,GADvD,cACRe,EADQ,gBAEUV,EAAa,OAAQlX,EAAMwW,EAAcQ,GAFnD,cAERa,EAFQ,yBAGPD,GAAcC,GAHP,2CAAH,qDAMbxb,qBAAU,WACJoa,GACFS,EAAa,QAAS1c,EAAO8b,EAAeO,GAE1CF,GACFO,EAAa,OAAQlX,EAAMwW,EAAcQ,KAE1C,CAACxc,EAAOwF,IAEX,IAAM8X,EAAU,uCAAG,WAAOxQ,GAAP,SAAA9S,EAAA,sEACGmjB,IADH,eAGfrQ,IAHe,2CAAH,sDAiBhB,OACE,eAAC4O,EAAD,WACE,cAAC/J,EAAA,EAAD,CACEgB,UAAQ,EACRd,SAdgB,SAACxL,GACrB6V,GAAgB,GAChB5K,EAAkBjL,IAadhC,GAAG,oBACHuN,MAAM,cACNE,aAAc9R,EACdud,WAAY1B,GAAc,4BAC1BlgB,QAASkgB,IAEX,cAAC1J,EAAA,EAAD,CAAsBC,YAAaC,IAAnC,SACE,cAAC,IAAD,CACET,MAAM,cACNvV,MAAOmJ,EACPqM,SApBa,SAACxL,GACpB+V,GAAe,GACflK,EAAiB7L,IAmBXiM,YAAY,aACZC,YAAY,aACZC,QAAS,IAAI7M,KACb8M,YAAa,SAACxO,GAAD,OACX,cAAC0N,EAAA,EAAD,yBACEe,UAAQ,EACRC,UAAQ,GAEJ1O,GAJN,IAKEtI,QAASogB,EACTwB,WAAYxB,GAAa,WAKjC,cAACV,EAAD,CACE7L,WAAYA,EACZF,WAAY,kBAAMgO,EAAWhO,IAC7BgM,eAAgBA,EAChBC,OAAQA,EACRC,QAASA,OHjGjBL,EAAiBvhB,aAAe,CAC9BwhB,UAAU,GGsGZQ,EAAchiB,aAAe,CAC3B4L,KAAM,I,0DCtHO,SAASgY,EAAT,GAA0C,IAAjBvM,EAAgB,EAAhBA,aACtC,OACE,cAAChM,EAAA,EAAD,CAAK7N,GAAI,CAAEyG,QAAS,OAAQlG,eAAgB,SAAUL,GAAI,GAA1D,SACE,eAACiU,EAAA,EAAD,CACE9S,QAAQ,YACRiO,UAAU,QACVpO,MAAM,SACNlB,GAAI,CACFoB,aAAc,EAAGD,OAAQ,EAAGf,YAAa,eAAgBE,gBAAiB,oBAL9E,UAQE,uBAAOmc,KAAK,OAAOC,QAAM,EAACC,UAAQ,EAACC,OAAO,UAAUnC,SAAUZ,IAC9D,cAACrQ,EAAA,EAAD,CAAYnI,QAAQ,KAApB,0BACA,cAAC,IAAD,CAAerB,GAAI,CAAEwB,SAAU,iB,wCCfxB,SAAS6kB,EAAT,GAAwE,IAA5C3N,EAA2C,EAA3CA,MAAOkF,EAAoC,EAApCA,UAAWe,EAAyB,EAAzBA,sBAC3D,OACE,cAACJ,EAAA,EAAD,CACEC,QAAS,cAACC,EAAA,EAAD,IACTjE,MAAM,YACNkE,QAASd,IAAclF,EACvB+B,SAAU,kBAAMkE,EAAsBjG,IACtC1Y,GAAI,CACF4e,GAAI,EACJnd,SAAU,WACVwJ,QAASuF,YAAM,OAAQ,IACvBtP,MAAO,QACPE,aAAc,kBACdhB,YAAa,iBACbye,WAAY,EACZjK,OAAQ,GACR8E,KAAM,MClBC,SAAS4M,GAAT,GAEX,IADFnF,EACC,EADDA,MAAOzI,EACN,EADMA,MAAO6N,EACb,EADaA,cAAe3I,EAC5B,EAD4BA,UAAW4I,EACvC,EADuCA,cAWxC,OACE,cAAC3Y,EAAA,EAAD,CACEyB,UAAU,MACVK,OAAQ,SAACV,GAAD,OAZc,SAACA,EAAOwX,GAChC,IAAMC,EAAgBzX,EAAMzG,OAAOsZ,aAC7B6E,EAAiB1X,EAAMzG,OAAOqZ,cAC9B5J,EAASwO,EAAQ/gB,KAAI,SAACqE,GAAD,MAAa,CACtCA,SAAQqD,MAAO6U,KAAKC,KAAMnY,EAAS2c,EAAiBC,OAEtDJ,EAAc7N,EAAOT,GAMA2O,CAAkB3X,EAAOuX,IAC5CxmB,GAAI,CACFmB,OAASyc,IAAclF,EAAS,EAAI,EACpCtY,YAAa,eACbgB,aAAewc,IAAclF,EAAS,EAAI,EAC1CoL,GAAI,EACJ,UAAW,CACT3iB,OAAQ,EACRf,YAAa,mBAGjBmP,IAAK4R,EACL1R,IAAK0R,EAAMzQ,KACX3G,OAAO,QACPqD,MAAM,QACNyZ,IAAI,OACJC,KAAK,SACLC,QAAQ,SCzBC,SAASC,GAAT,GAOX,IANF1E,EAMC,EANDA,aACA2E,EAKC,EALDA,kBACArJ,EAIC,EAJDA,UACAe,EAGC,EAHDA,sBACA4H,EAEC,EAFDA,cACAC,EACC,EADDA,cAEA,OAAOlE,EAAa7W,OAEhB,qCACE,cAAC8G,EAAA,EAAD,IACA,cAAC/I,EAAA,EAAD,CAAYxJ,GAAI,CAAEC,EAAG,GAAKoB,QAAQ,KAAKuF,MAAM,SAA7C,6BAGA,cAAC8C,EAAA,EAAD,CACE5J,WAAS,EACTC,WAAW,SACXQ,eAAe,eACfP,GAAI,CAAEC,EAAG,GAJX,SAMGqiB,EAAa5c,KAAI,SAACyb,EAAOzI,GAAR,OAChB,eAACvE,EAAA,EAAD,CAAwB7E,UAAU,MAAlC,UACE,cAACgX,GAAD,CACEnF,MAAOA,EAAMze,IACbgW,MAAOA,EACP6N,cAAeA,EACf3I,UAAWA,EACX4I,cAAeA,IAEjB,cAACjW,EAAA,EAAD,CAAiBxF,YAAa,kBAAMkc,EAAkBvO,MACtD,cAAC2N,EAAD,CACE3N,MAAOA,EACPkF,UAAWA,EACXe,sBAAuBA,MAZdwC,EAAMze,aAmBzB,KChDS,SAASwkB,GAAT,GAA8B,IAATvmB,EAAQ,EAARA,KAClC,OACE,cAAC6I,EAAA,EAAD,CAAYxJ,GAAI,CAAEkB,MAAO,cAAzB,SACIP,ICWO,SAASwmB,GAAT,GAYX,IAXF7E,EAWC,EAXDA,aACA1E,EAUC,EAVDA,UACAwJ,EASC,EATDA,0BACAzI,EAQC,EARDA,sBACA0I,EAOC,EAPDA,oBACAnP,EAMC,EANDA,WACAgM,EAKC,EALDA,eACAC,EAIC,EAJDA,OACAC,EAGC,EAHDA,QACAmC,EAEC,EAFDA,cACAC,EACC,EADDA,cAIA,EAAoClc,mBAAS,IAA7C,mBAAOgd,EAAP,KAAmBC,EAAnB,KACA,EAA8Bjd,oBAAS,GAAvC,mBAAOkd,EAAP,KAAgBC,EAAhB,KACA,EAAsCnd,mBAAS,GAA/C,mBAAOod,EAAP,KAAoBC,EAApB,KACA,EAAwBrd,oBAAS,GAAjC,mBAAOxI,EAAP,KAAaQ,EAAb,KAEA,SAASyjB,IACP,IAAI6B,GAAQ,EAYZ,OAXAL,EAAc,IACVjF,EAAa7W,OATM,IAUrB8b,EAAc,6CACdK,GAAQ,GAGNtF,EAAa7W,OAfM,KAgBrB8b,EAAc,sCAAD,OAhBQ,KAiBrBK,GAAQ,GAGHA,EAGTnd,qBAAU,WACJ+c,GAASzB,MACZ,CAACzD,EAAckF,IAElB/c,qBAAU,WACJid,EAAcpF,EAAa7W,QAC7Bkc,EAAerF,EAAa7W,QAE1Bic,EAAcpF,EAAa7W,QAC7BnJ,GAAQ,GAENolB,IAAgBpF,EAAa7W,QAC/BnJ,GAAQ,KAET,CAACggB,EAAcoF,IAqBlB,OACE,eAACpD,EAAD,WACE,cAAC5a,EAAA,EAAD,CAAM1E,MAAI,EAAV,SACE,cAACohB,EAAD,CACEvM,aAjBkB,SAAC5K,GACzBwY,GAAW,GACPxY,EAAMzG,OAAOkZ,OACfiG,EAAe1Y,EAAMzG,OAAOkZ,MAAMjW,OAAS6W,EAAa7W,QAE1D2b,EAA0BnY,EAAO8W,QAe/B,eAACrc,EAAA,EAAD,CAAM1E,MAAI,EAAClF,WAAS,EAAC8J,UAAU,SAAS7J,WAAW,SAAnD,UACE,eAACyJ,EAAA,EAAD,oCAEG8Y,EAAa7W,OAFhB,IAlEmB,MAwEnB,cAACyb,GAAD,CAAWvmB,KAAM2mB,OAEnB,cAACrD,EAAD,CACE/L,WAAY,kBApCIxC,EAoCewC,OAnC/B6N,KACFrQ,KAFiB,IAACA,GAqChBwO,eAAgBA,EAChBC,OAAQA,EACRC,QAASA,IAEX,cAAC1a,EAAA,EAAD,CAAM1E,MAAI,EAAV,SACE,cAACgiB,GAAD,CACE1E,aAAcA,EACd2E,kBA9BkB,SAACvO,GACzBiP,GAAe,SAACE,GAAD,OAAeA,EAAY,KAC1CR,EAAoB3O,IA6BdkF,UAAWA,EACXe,sBAAuBA,EACvB4H,cAAeA,EACfC,cAAeA,MAGnB,cAAC5Q,EAAA,EAAD,CACE9T,KAAMA,EACNG,WAAS,EACTjC,GAAI,CACFC,EAAG,GAJP,SAOE,eAAC6I,EAAA,EAAD,CAAM9I,GAAI,CAAEkC,SAAU,EAAGjC,EAAG,GAA5B,UACE,cAACkJ,EAAA,EAAD,CAAYP,MAAM,gBAAgB5I,GAAI,CAAEoJ,UAAW,YACnD,cAACmJ,EAAA,EAAD,IACA,eAAClJ,EAAA,EAAD,WACE,eAACG,EAAA,EAAD,CAAYnI,QAAQ,KAAKrB,GAAI,CAAEkB,MAAO,cAAtC,mCAEGohB,EAAa7W,OAFhB,IArGe,MA2Gf,cAAC9B,EAAA,EAAD,CAAOpJ,eAAe,SAASP,GAAI,CAAEiJ,GAAI,GAAzC,SACE,cAACO,EAAA,EAAD,CAAYnI,QAAQ,KAAKH,MAAM,QAA/B,SAAwComB,iB,qBCrIvC,SAASQ,GAAT,GAEX,IADFC,EACC,EADDA,WAAYhZ,EACX,EADWA,MAAO4M,EAClB,EADkBA,kBAEbC,EAAWC,mBAMjB,OAJApR,qBAAU,WACRmR,EAASI,QAAQC,UAChB,IAGD,cAACpO,EAAA,EAAD,CACE7N,GAAI,CACFC,EAAG,EACHyG,EAAG,EACH+Q,GAAI,EACJtW,OAAQ,EACRf,YAAa2nB,EAAa,aAAe,eACzC9c,QAAS,mBACT8Q,UAAW,QACX3a,aAAc,GAEhBR,QAAS,kBAAMgb,EAASI,QAAQC,SAXlC,SAaE,cAACC,GAAA,EAAD,CACEC,WAAS,EACT,aAAW,iBACXjB,YAAY,qBACZjW,MAAO8J,EACP0L,SAAUkB,EACVrO,MAAO,CACLF,MAAO,OACP2O,UAAW,QACX7S,UAAW,OACXoQ,UAAW,aACXhG,WAAY,MACZnS,OAAQ,EACR4O,SAAU,OACVqM,QAAS,OACTC,OAAQ,WACRjb,aAAc,EACd,UAAW,CACTD,OAAQ,IAGZkM,IAAKuO,MCxCE,SAASoM,GAAT,GAQX,IAPFjZ,EAOC,EAPDA,MACA4M,EAMC,EANDA,kBACAzD,EAKC,EALDA,WACAgM,EAIC,EAJDA,eACAC,EAGC,EAHDA,OACAC,EAEC,EAFDA,QACA6D,EACC,EADDA,eAEMC,EAAiB,IACvB,EAAoC5d,mBAAS,IAA7C,mBAAOyd,EAAP,KAAmBI,EAAnB,KAaA,OACE,qCACE,cAACL,GAAD,CACEC,WAAYA,EACZhZ,MAAOA,EACP4M,kBAAmBA,IAErB,cAAC9N,EAAA,EAAD,CAAK7N,GAAI,CAAEC,EAAG,EAAGyG,EAAG,GAApB,SACE,cAACwgB,GAAD,CAAWvmB,KAAMonB,MAEnB,cAAC9D,EAAD,CACE/L,WAAY,kBAtBExC,EAsBewC,OApBdnJ,EACJtD,QAAUyc,GACvBC,EAAc,IACdzS,KAEAyS,EAAc,4BAAD,OAA6BD,KAP3B,IAACxS,GAuBdwO,eAAgBA,EAChBC,OAAQA,EACRC,QAASA,IAEV6D,K,kEClCP,SAASG,GAAT,GAA6C,IAAVnjB,EAAS,EAATA,MACjC,OACE,eAAC4I,EAAA,EAAD,CAAK7N,GAAI,CAAEyG,QAAS,OAAQ1G,WAAY,SAAU+jB,GAAI,GAAtD,UACE,cAACjW,EAAA,EAAD,CAAK7N,GAAI,CAAEoN,MAAO,OAAQ6E,GAAI,GAA9B,SACE,cAACoW,GAAA,EAAD,CAAgBhnB,QAAQ,cAAc4D,MAAOA,MAE/C,cAAC4I,EAAA,EAAD,CAAK7N,GAAI,CAAEgJ,SAAU,IAArB,SACE,cAACQ,EAAA,EAAD,CAAYnI,QAAQ,QAAQH,MAAM,iBAAlC,mBACM+gB,KAAKqG,MACPrjB,GAFJ,YAUR,SAASsjB,GAAT,GAA6C,IACvCC,EADqBve,EAAiB,EAAjBA,QAASwe,EAAQ,EAARA,KAelC,OAZED,EADW,WAATC,EACW,cAACjf,EAAA,EAAD,CAAYtI,MAAM,aAAlB,qBACK,IAATunB,EACI,cAACjf,EAAA,EAAD,CAAYtI,MAAM,eAAlB,kBAEA,cAACwnB,GAAA,EAAD,CAAkBxhB,KAAM,KASrC,eAAC2G,EAAA,EAAD,CAAK7N,GAAI,CAAEyG,QAAS,OAAQ1G,WAAY,iBAAxC,UACE,cAAC8N,EAAA,EAAD,CAAK7N,GAAI,CAAEoN,MAAO,OAAQ6E,GAAI,GAA9B,SACE,cAACzI,EAAA,EAAD,UAAaS,MAEf,cAAC4D,EAAA,EAAD,CAAK7N,GAAI,CAAEgJ,SAAU,IAArB,SACGwf,OAOT,SAASG,GAAT,GAAsD,IAAtBC,EAAqB,EAArBA,SAAUC,EAAW,EAAXA,QACxC,OAAiB,MAAbD,EAEA,qCACE,eAAC/a,EAAA,EAAD,CAAK7N,GAAI,CACPyG,QAAS,OAAQlG,eAAgB,SAAUR,WAAY,SAAU2G,EAAG,GADtE,UAIE,cAAC,KAAD,CAAwBxF,MAAM,UAAUM,SAAS,QAAQxB,GAAI,CAAEiS,GAAI,KACnE,cAACzI,EAAA,EAAD,CAAYnI,QAAQ,KAAKH,MAAM,eAA/B,4CAGF,eAAC2M,EAAA,EAAD,CAAK7N,GAAI,CAAEyG,QAAS,OAAQ1G,WAAY,SAAUQ,eAAgB,UAAlE,UACE,cAACsN,EAAA,EAAD,UACE,cAACrE,EAAA,EAAD,gDAEF,cAACqE,EAAA,EAAD,CAAK7N,GAAI,CAAE8oB,GAAI,GAAf,SACE,cAACtf,EAAA,EAAD,CAAYnI,QAAQ,KAAKH,MAAM,eAA/B,SACG2nB,MAGL,cAAChb,EAAA,EAAD,UACE,cAACrE,EAAA,EAAD,+BAMQ,IAAdof,EAEA,qCACE,eAAC/a,EAAA,EAAD,CAAK7N,GAAI,CACPyG,QAAS,OAAQlG,eAAgB,SAAUR,WAAY,SAAU2G,EAAG,GADtE,UAIE,cAAC,KAAD,CAAkBxF,MAAM,QAAQM,SAAS,QAAQxB,GAAI,CAAEiS,GAAI,KAC3D,cAACzI,EAAA,EAAD,CAAYnI,QAAQ,KAAKH,MAAM,eAA/B,uCAGF,eAAC2M,EAAA,EAAD,CAAK7N,GAAI,CAAEyG,QAAS,OAAQ1G,WAAY,SAAUQ,eAAgB,UAAlE,UACE,cAACsN,EAAA,EAAD,UACE,cAACrE,EAAA,EAAD,gDAEF,cAACqE,EAAA,EAAD,CAAK7N,GAAI,CAAE8oB,GAAI,GAAf,SACE,cAACtf,EAAA,EAAD,CAAYnI,QAAQ,KAAKH,MAAM,eAA/B,SACG2nB,MAGL,cAAChb,EAAA,EAAD,UACE,cAACrE,EAAA,EAAD,8BAMH,KAGM,SAASuf,GAAT,GAEX,IADFjnB,EACC,EADDA,KAAM8mB,EACL,EADKA,SAAUI,EACf,EADeA,SAEhB,EAA8B1e,mBAAS,GAAvC,mBAAOue,EAAP,KAAgBI,EAAhB,KAaA,OAZAxe,qBAAU,WACR,IAAIye,EAIJ,OAHIL,EAAU,IACZK,EAAU1H,YAAW,kBAAMyH,EAAWJ,EAAU,KAAI,MAE/C,kBAAMM,aAAaD,MACzB,CAACL,IAEJpe,qBAAU,WACS,MAAbme,IAAkC,IAAdA,GAAiBK,EAAW,KACnD,CAACL,IAGF,cAAChT,EAAA,EAAD,CACE9T,KAAMA,EACNG,WAAS,EACTjC,GAAI,CACFC,EAAG,GAJP,SAQE,eAAC6I,EAAA,EAAD,CAAM9I,GAAI,CAAEkC,SAAU,EAAGjC,EAAG,GAA5B,UACE,cAACkJ,EAAA,EAAD,CAAYP,MAAM,kBAAkB5I,GAAI,CAAEoJ,UAAW,YACrD,cAACmJ,EAAA,EAAD,IACA,eAAClJ,EAAA,EAAD,WACE,cAAC+e,GAAD,CAAyBnjB,MAAO2jB,EAAW,EAAIA,EAAW,IACzDI,EAAStjB,KAAI,SAAC0jB,GAAD,OACZ,cAACb,GAAD,CAAoCte,QAASmf,EAAKnf,QAASwe,KAAMW,EAAKX,MAAhDW,EAAKnf,YAE7B,cAAC0e,GAAD,CAAsBC,SAAUA,EAAUC,QAASA,YAsB7DE,GAAqBvmB,aAAe,CAClCwmB,SAAU,I,cC3KZ,SAASK,GACPvlB,EACAC,EACAkC,EACA2C,EACA0Z,EACAgH,EACA7jB,GAEA,IAAMD,EAAY8c,EAAa5c,KAAI,SAAC6jB,EAAQ7Q,GAC1C,IAAM8Q,EAAUF,EAAW5Q,GAC3B,MAAO,CACL/S,IAAK,CAAC,WAAYM,EAAW,SAAUsjB,EAAO7Y,MAAM2I,KAAK,KACzDzT,KAAM4jB,EACNC,YAAaD,EAAQ/M,SAGnBiN,EAAiBlT,KAAIjR,qBAAqBzB,EAAQC,EAASyB,EAAWC,GAC5E,OAAOkkB,QAAQC,WAAWF,G,SAGbG,G,qFAAf,WAA+B/lB,EAAQC,EAAS+lB,GAAhD,iBAAAlnB,EAAA,6DACQmnB,EAAc7kB,KAAKC,UAAU2kB,GADrC,SAE6BtT,KAAIlR,gBAAgBxB,EAAQC,EAASgmB,GAFlE,UAG8B,WADtBC,EAFR,QAGmBvmB,OAHnB,0CAIW,GAJX,iCAMgC,IAAvBumB,EAAaC,OANtB,4C,+BASeC,G,qFAAf,WAA6BpmB,EAAQC,EAAS+lB,GAA9C,mBAAAlnB,EAAA,6DACQmnB,EAAc7kB,KAAKC,UAAU2kB,GAC7BK,EAAmB,CAAC,WAAYL,EAAc9lB,IAAK,gBAAgBqV,KAAK,KAFhF,SAG2B7C,KAAI5R,OAAOd,EAAQC,EAASomB,EAAkBJ,GAHzE,cAGQ3I,EAHR,yBAIUA,IAAgC,IAAlBA,EAAW5d,IAJnC,4C,sBAOA,IAAM4mB,GAAgB,uCAAG,WACvBtmB,EACAC,EACA+lB,EACAO,EACAC,EACAC,GANuB,iBAAA3nB,EAAA,6DAQvBynB,EAAe,GACfE,EAAW,uBAAuB,GATX,SAUHV,GAAgB/lB,EAAQC,EAAS+lB,GAV9B,WAYT,KAFRlC,EAViB,yCAaLsC,GAAcpmB,EAAQC,EAAS+lB,GAb1B,OAarBU,EAbqB,OAcrBF,EAAoB,sBAAuBE,GAC3CH,EAAe,IAfM,wBAiBrBC,EAAoB,sBAAuB,UAjBtB,iCAmBhB1C,GAnBgB,4CAAH,gEAsBhB6C,GAAY,uCAAG,WACnB3mB,EACAC,EACAkC,EACA2C,EACA0Z,EACAgH,EACA7jB,EACA4kB,GARmB,iBAAAznB,EAAA,sEAUSymB,GAC1BvlB,EACAC,EACAkC,EACA2C,EACA0Z,EACAgH,EACA7jB,GAjBiB,OAUbilB,EAVa,OAmBVnf,EAAI,EAnBM,YAmBHA,EAAImf,EAAcjf,QAnBf,oBAoBgB,aAA5Bif,EAAcnf,GAAG9H,SAAyD,IAA9BinB,EAAcnf,GAAGtG,MAAMzB,GApBvD,0CAqBR,GArBQ,OAmBuB+H,GAAK,EAnB5B,8BAwBnB8e,EAAe,IAxBI,mBAyBZ,GAzBY,4CAAH,oEA4BZM,GAAY,uCAAG,WACnB7mB,EACAC,EACA+lB,EACAO,EACAC,EACAC,EACAjB,EACA7jB,GARmB,eAAA7C,EAAA,sEAWUwnB,GAC3BtmB,EACAC,EACA+lB,EACAO,EACAC,EACAC,GAjBiB,WAqBI,IArBJ,wCAuBKE,GACpB3mB,EACAC,EACA+lB,EAAc9lB,IACd8lB,EAAclhB,MACdkhB,EAAcxH,aACdgH,EACA7jB,EACA4kB,GA/Be,WAkCK,IAlCL,yCAmCe7T,KAAIpQ,eAAetC,EAAQC,EAAS+lB,EAAc9lB,KAnCjE,WAmCT4mB,EAnCS,OAoCXC,SAASD,EAAgBE,SAAU,MAAQhB,EAAc9lB,IApC9C,2CAqCN,GArCM,kCAuCR,GAvCQ,QAyCjBsmB,EAAoB,4BAA6B,UAzChC,kCA4CZ,GA5CY,4CAAH,oEA+CH,IAAEK,iBChHF,SAASI,GAAT,GAAiD,IAA1B/H,EAAyB,EAAzBA,KAAMlf,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,QAC5CyP,EAAWC,cAEXuX,EAAa,CACjB,8BACA,kBACA,eAEF,EC9Ba,SAAiBC,GAC9B,MAAoC3gB,mBAAS,GAA7C,mBAAO8N,EAAP,KAAmBC,EAAnB,KAaA,MAAO,CAACD,EAXW,WACjBC,GAAeD,EAAa,GAAK6S,IAGZ,WACrB5S,GAAeD,EAAa,EAAI6S,GAAaA,IAGhC7S,IAAe6S,EAAY,EACX,IAAf7S,GDkBkD8S,CAAQF,EAAWvf,QAArF,mBAAO2M,EAAP,KAAmBF,EAAnB,KAA+BgM,EAA/B,KAA+CC,EAA/C,KAAuDC,EAAvD,KACA,EAAoCtW,YAAS,IAA7C,mBAAOlF,EAAP,KAAesR,EAAf,KACA,EAAkChM,YAAQ,IAA1C,mBAAOE,EAAP,KAAc0M,EAAd,KACA,EEjCa,WACb,MAAwCxQ,mBAAS,IAAjD,mBAAOgY,EAAP,KAAqB6I,EAArB,KACA,EAAoC7gB,mBAAS,IAA7C,mBAAOgf,EAAP,KAAmB8B,EAAnB,KACA,EAAkC9gB,mBAAS,GAA3C,mBAAOsT,EAAP,KAAkBC,EAAlB,KAEMc,EAAwB,SAACjG,GAC7BmF,EAAanF,IA0Df,MAAO,CACL4J,EACA1E,EAzDgC,SAAC3O,GACjC,GAAIA,EAAMzG,OAAOkZ,MAAO,CACtB,IAAMA,EAAQ5Q,MAAMC,KAAK9B,EAAMzG,OAAOkZ,OACtCA,EAAMtE,SAAQ,SAAC8D,GACb,IAAM7b,EAAQ,IAAIsc,MAClBtc,EAAMuc,OAAS,SAAC3T,GACd,IAAMG,EAAOG,KAAK6T,MACZC,EAAO,UAAMjU,EAAN,YAAc8S,EAAKxQ,MAChCya,GAAgB,SAACE,GAAD,OAASA,EAAI/J,OAAO,CAClC,CACE5Q,KAAM2R,EACNnb,KAAMga,EAAKha,KAAL,QACNxE,IAAKuL,EAAEzF,OAAO+G,IACdxF,OAAQkE,EAAEzF,OAAOqZ,cACjBzU,MAAOa,EAAEzF,OAAOsZ,aAChBwJ,UAAWpK,SAIjB7b,EAAMkK,IAAMjL,IAAIie,gBAAgBrB,MAElCkK,GAAc,SAACC,GAAD,OAASA,EAAI/J,OAAOI,MAClCA,EAAMhc,KAAI,SAACwb,GAAD,OAAU5c,IAAIke,gBAAgBtB,QAIhB,SAACxI,GAC3ByS,EAAgB,GAAD,mBACV7I,EAAaiJ,MAAM,EAAG7S,IADZ,YAEV4J,EAAaiJ,MAAM7S,EAAQ,MAGhC0S,EAAc,GAAD,mBACR9B,EAAWiC,MAAM,EAAG7S,IADZ,YAER4Q,EAAWiC,MAAM7S,EAAQ,MAG1BA,EAAQkF,EACVe,EAAsBf,EAAY,GACzBlF,IAAUkF,GACnBe,EAAsB,IAoBxBA,EAhBoB,SAACjG,EAAOT,GAC5BkT,EAAgB,GAAD,mBACV7I,EAAaiJ,MAAM,EAAG7S,IADZ,aAAC,eAGT4J,EAAa5J,IAHL,IAIXT,YAJW,YAMVqK,EAAaiJ,MAAM7S,EAAQ,QFpB9B8S,GAPJ,mBACElJ,EADF,KAEE1E,EAFF,KAGEwJ,EAHF,KAIEC,EAJF,KAKE1I,EALF,KAME4H,EANF,KAUA,EAAoC1X,YAAS,IAA7C,mBAAOE,EAAP,KAAe4M,EAAf,KACA,EAAwBrR,oBAAS,GAAjC,mBAAOxI,GAAP,KAAaQ,GAAb,KACA,GAAgCgI,mBAAS,GAAzC,qBAAOse,GAAP,MAAiB6C,GAAjB,MACA,GG9Ca,WACb,MAAgCnhB,mBAAS,IAAzC,mBAAO0e,EAAP,KAAiB0C,EAAjB,KAYA,MAAO,CAAC1C,EAVW,SAAC/e,EAASwe,GAC3B,IAAMkD,EAAa,CAAC,CAAE1hB,UAASwe,SAC/BiD,GAAY,SAACL,GAAD,OAASA,EAAI/J,OAAOqK,OAGN,SAAC1hB,EAASwe,GACpC,IAAMkD,EAAa,CAAC,CAAE1hB,UAASwe,SAC/BiD,GAAY,SAACL,GAAD,OAASA,EAAIE,MAAM,GAAI,GAAGjK,OAAOqK,QHoCKC,GAApD,qBAAO5C,GAAP,MAAiBuB,GAAjB,MAA6BD,GAA7B,MACA,GAAsChgB,mBAAS,GAA/C,qBAAOuhB,GAAP,MAAoBC,GAApB,MAEMzB,GAAiB,SAAC0B,GAAD,OAAwBN,GAAYM,IACrDtmB,GAAsB,kBAAMqmB,IAAe,SAACE,GAAD,OAASA,EAAM,MAC1D1C,GAAahH,EAAa5c,KAAI,SAAC6jB,GAAD,OAAYA,EAAO+B,aAEvD7gB,qBAAU,WACR,IAAMR,EAAO,qCAAiC4hB,GAAjC,YAAgDvJ,EAAa7W,OAA7D,KACTogB,IAAe,GAAKjD,IAAY,KACd,IAAhBiD,GAAmBtB,GAAWtgB,GAAS,GACtCqgB,GAAoBrgB,GAAS,GAE9BqY,EAAa7W,SAAWogB,IAAavB,GAAoBrgB,GAAS,MAEvE,CAAC4hB,GAAajD,KAEjB,IAoFI/f,GApFEojB,GACJ,cAACzH,EAAD,CACEpM,WAAYA,EACZF,WAAYA,EACZgM,eAAgBA,EAChBC,OAAQA,EACRC,QAASA,EACTxb,MAAOA,EACPwF,KAAMA,EACN8L,kBAAmBA,EACnBY,iBAAkBA,IAIhBoR,GACJ,cAAC/E,GAAD,CACE7E,aAAcA,EACd8E,0BAA2BA,EAC3BC,oBAAqBA,EACrBzJ,UAAWA,EACXe,sBAAuBA,EACvBzG,WAAYA,EACZgM,eAAgBA,EAChBC,OAAQA,EACRC,QAASA,EACTmC,cAAeA,EACfC,cAjEkB,CAAC,IAAK,IAAM,QAqE5B2F,GAAY,uCAAG,gCAAAvpB,EAAA,6DAGbqD,EAAY,IAAIsI,KAAK,KAAM,EAAG,GAAG6d,UAAY7d,KAAK6T,MAClD0H,EAAgB,CACpB9lB,IAAKiC,EACL2C,QACAwF,OACAie,aAAc,IAAI9d,KAClB+T,eAEAvT,QACA6O,UAAW0E,EAAa1E,GACxB0O,WAxFgBrU,EAwFQqK,EAvFrBrK,EAAOsU,QAAO,SAACC,EAAYnnB,GAAb,OAAuBmnB,EAAannB,EAAM6B,OAAM,KAyFnE5E,IAAQ,GAfW,SAiBGmqB,GAAY9B,aAChC7mB,EACAC,EACA+lB,EACAO,GACAC,GACAC,GACAjB,GACA7jB,IAzBiB,OAiBbinB,EAjBa,OA6BjBrC,IADc,IAAZqC,EACa,KAEC,GAElBlL,YAAW,kBAAMhO,EAAS,eAAc,KAjCrB,iCA3EvB,IAAsByE,IA2EC,OAAH,qDAoCZ0U,GACJ,cAAC5D,GAAD,CAAsBjnB,KAAMA,GAAM8mB,SAAUA,GAAUI,SAAUA,KAmB5D4D,GIlJO,SACb3B,EACAD,EACA6B,EACAV,EACA/T,GAEA,OACE,cAAC1O,EAAA,EAAD,CAAM5J,WAAS,EAACS,eAAe,SAA/B,SACE,cAACmJ,EAAA,EAAD,CACE1E,MAAI,EACJkG,GAAI,EACJzK,GAAI,GACJT,GAAI,CACFwX,UAAW,GACXpW,aAAc,EACd6J,QAAS,cACT6Y,GAAI,GARR,SAWE,eAACjW,EAAA,EAAD,WACE,cAAC0V,EAAD,CACEC,OAAQwH,EACR5S,WAAYA,EACZrN,YAAa,eAEf,cAACwH,EAAA,EAAD,IACCsa,EAAUzU,UJuHO0U,CACxB9B,EACAA,EANgB,CAACiB,GAAWC,GAX5B,cAAClE,GAAD,CACEjZ,MAAOA,EACP4M,kBAAmBA,EACnBzD,WAAYiU,GACZjI,eAAgBA,EAChBC,OAAQA,EACRC,QAASA,EACT6D,eAAgB0E,MAYlBR,EACA/T,GAKI2U,GK3JO,SACbnkB,EACAwF,EACAkU,EACA1E,EACA7O,GAEA,OACE,eAACrF,EAAA,EAAD,CAAM5J,WAAS,EAACS,eAAe,eAAeP,GAAI,CAAEC,EAAG,GAAvD,UACE,eAACyJ,EAAA,EAAD,CACE1E,MAAI,EACJvE,GAAI,EACJD,GAAI,EACJwsB,GAAI,EACJ9hB,GAAI,EACJ+hB,GAAI,EACJjtB,GAAI,CAAEyI,GAAI,EAAGqb,GAAI,GAPnB,UASE,cAACD,EAAD,CAAmBjb,MAAM,sBACzB,cAACwH,EAAA,EAAD,CACExH,MAAOA,EACPwF,KAAMA,GAAQ,GACdiC,eAAiBiS,EAAa7W,OAAU,EAAI6W,EAAa1E,GAAWlb,IAAM,GAC1EqI,YAAa,kBAIjB,eAACrB,EAAA,EAAD,CACE1E,MAAI,EACJvE,GAAI,GACJyK,GAAI,EACJ+hB,GAAI,GAJN,UAME,cAACpJ,EAAD,CAAmBjb,MAAM,mBACzB,cAACqW,EAAA,EAAD,CACEC,SAAUtW,EACVuW,QAAS/Q,EACTgR,SAAUrQ,EACVsQ,UAAWiD,EAAa5c,KAAI,SAACL,GAAD,MAAY,CACtCkK,IAAKlK,EAAM3C,IACX0K,MAAO/H,EAAM+H,MACbrD,OAAQ1E,EAAM0E,WAEhBmjB,WAAY5K,EAAa5c,KAAI,SAACL,GAAD,OAAWA,EAAMqL,QAC9CoG,SAAO,UL+GYqW,CAAcvkB,EAAOwF,EAAMkU,EAAc1E,EAAW7O,GAS/E,MARa,WAATiU,IACFna,GAAU+jB,IAGC,YAAT5J,IACFna,GAAUkkB,IAGLlkB,GMpKM,SAAS8hB,GAAT,GAA4C,IAApB7mB,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,QACvCmf,EAAQ,CAAC,SAAU,WACzB,EAAwB5Y,mBAAS4Y,EAAM,IAAvC,mBAAOF,EAAP,KAAaoK,EAAb,KACM/f,EAAMwO,iBAAO,MAEnB,OACE,eAAC,IAAD,WACE,cAACkH,EAAD,CAAgBC,KAAMA,EAAMC,iBAAkBmK,EAASlK,MAAOA,IAC9D,cAAC6H,GAAD,CAAa/H,KAAMA,EAAMqK,QAAShgB,EAAKvJ,OAAQA,EAAQC,QAASA","file":"static/js/8.f9d7e156.chunk.js","sourcesContent":["import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\n//  import { alpha } from '@mui/material/styles';\n\nexport function TopBarGridContainer({ children }) {\n  return (\n    <Grid\n      container\n      alignItems=\"center\"\n      sx={{\n        p: 0,\n        pb: 1,\n        borderBottom: 4,\n        borderColor: 'secondary.main',\n        flexShrink: 0,\n        backgroundColor: 'primary.main',\n        justifyContent: {\n          sm: 'space-between',\n          xs: 'space-between',\n        },\n      }}\n    >\n      {children}\n    </Grid>\n  );\n}\n\nexport function TopBarButton({ text, onClick, borderColor }) {\n  const belowmd = useMediaQuery((theme) => theme.breakpoints.down('md'));\n  const textVariant = belowmd ? 'body1' : 'h6';\n  return (\n    <Button\n      sx={{\n        color: 'button.main',\n        border: 2,\n        borderColor,\n        borderRadius: 5,\n      }}\n      variant=\"outlined\"\n      onClick={onClick}\n    >\n      <Typography variant={textVariant}>{text}</Typography>\n    </Button>\n  );\n}\n\nfunction CloseButton({ onClick }) {\n  return (\n    <IconButton\n      edge=\"start\"\n      onClick={onClick}\n      aria-label=\"close\"\n      sx={{\n        fontSize: '3.5rem',\n        position: 'absolute',\n        top: 0,\n        right: 0,\n      }}\n    >\n      <CloseIcon sx={{ fontSize: '3rem', fill: 'muted.main' }} />\n    </IconButton>\n  );\n}\n\nexport function TopBarDialog({\n  text, open, onClose, onClick, children, wdth,\n}) {\n  return (\n    <Dialog open={open} onClose={onClose} fullWidth maxWidth={wdth}>\n      <DialogTitle sx={{ backgroundColor: 'transparent' }}>\n        {text}\n        <CloseButton onClick={onClick} />\n      </DialogTitle>\n      <DialogContent dividers sx={{ p: 0 }}>{children}</DialogContent>\n    </Dialog>\n  );\n}\n\nexport function TopBarLink({ text, children, wdth }) {\n  const [open, setOpen] = React.useState(false);\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  return (\n    <span>\n      <TopBarButton text={text} onClick={handleClickOpen} />\n      <TopBarDialog\n        text={text}\n        open={open}\n        wdth={wdth}\n        onClose={handleClose}\n        onClick={handleClose}\n      >\n        {children}\n      </TopBarDialog>\n    </span>\n  );\n}\n\nTopBarLink.propTypes = {\n  text: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  wdth: PropTypes.string.isRequired,\n};\n\nTopBarDialog.propTypes = {\n  text: PropTypes.string.isRequired,\n  open: PropTypes.bool.isRequired,\n  children: PropTypes.node.isRequired,\n  wdth: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nTopBarButton.defaultProps = {\n  borderColor: 'transparent',\n};\n\nTopBarButton.propTypes = {\n  text: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  borderColor: PropTypes.string,\n};\n\nTopBarGridContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nCloseButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","const get = async (url, path, params = {}) => {\n  let newUrl = `https://${url}${path}`;\n  const options = {\n    method: 'GET',\n    credentials: 'include',\n    headers: new Headers({ 'content-type': 'application/json' }),\n  };\n  newUrl += `?${new URLSearchParams(params).toString()}`;\n  const resp = await fetch(newUrl, options);\n  if (!resp.ok) {\n    if (resp.status === 401) {\n      document.cookie = 'userInfo=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';\n      return { status: 'unauthenticated' };\n    }\n    if (resp.status === 403) {\n      return { status: 'forbidden' };\n    }\n  }\n\n  return resp.json();\n};\n\nfunction getObjectUrl(bucket, authURL, key, method) {\n  try {\n    const path = '/api/presigned-url';\n    const params = { key, bucket, method };\n    return get(authURL, path, params).then((response) => {\n      if (response.Error) {\n        /* eslint-disable no-console */\n        console.log(response.Error);\n        return '';\n      }\n      return response.URL;\n    });\n  } catch (error) {\n    return error;\n  }\n}\n\nasync function validateDetails(bucket, authURL, details) {\n  try {\n    const path = '/api/details/validate';\n    const urlParams = { bucket };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(urlParams).toString()}`;\n    const options = {\n      method: 'POST',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n      body: details,\n    };\n    return await fetch(apiUrl, options).then((response) => {\n      if (!response.ok) {\n        return { status: 'error' };\n      }\n      return response.json();\n    });\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n    return error;\n  }\n}\n\nasync function upload(bucket, authURL, key, body) {\n  try {\n    const putURL = await getObjectUrl(bucket, authURL, key, 'PUT');\n    const params = { body, method: 'PUT' };\n    const resp = await fetch(putURL, params).then((response) => response);\n    return resp;\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n    return error;\n  }\n}\n\nasync function deleteMemory(bucket, authURL, memoryID) {\n  try {\n    const path = '/api/memory';\n    const params = { bucket, memory_id: memoryID };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(params).toString()}`;\n    const options = {\n      method: 'DELETE',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n    };\n    return await fetch(apiUrl, options).then((response) => {\n      if (!response.ok) {\n        return { status: 'error' };\n      }\n      return { status: 'ok', body: response.json() };\n    });\n  } catch (error) {\n    return error;\n  }\n}\n\nfunction getThumbnails(bucket, authURL, memories) {\n  try {\n    const path = '/api/memory/thumbnail';\n    return memories.map(async (memoryID) => {\n      const params = { bucket, memory_id: memoryID };\n      return get(authURL, path, params);\n    });\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n    return error;\n  }\n}\n\nfunction uploadMultipleImages(bucket, authURL, paramList, incrementImageCount) {\n  try {\n    return paramList.map(async (params) => {\n      const resp = await upload(bucket, authURL, params.Key, params.Body);\n      incrementImageCount();\n      return resp;\n    });\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n    return error;\n  }\n}\n\nfunction getMemories(bucket, authURL, nextToken) {\n  try {\n    const path = '/api/memories';\n    const params = { bucket };\n\n    if (nextToken) {\n      params.next_token = nextToken;\n    }\n\n    return get(authURL, path, params);\n  } catch (error) {\n    return error;\n  }\n}\n\nfunction viewMemory(bucket, authURL, memoryKey) {\n  try {\n    const path = '/api/memory';\n    const params = { bucket, memory_id: memoryKey };\n\n    return get(authURL, path, params);\n  } catch (error) {\n    return error;\n  }\n}\n\nfunction finalizeMemory(bucket, authURL, memoryKey) {\n  try {\n    const path = '/api/memory/finalize';\n    const params = { bucket, memory_id: memoryKey };\n    return get(authURL, path, params);\n  } catch (error) {\n    return error;\n  }\n}\n\nasync function updateMemoryDetails(bucket, authURL, memoryID, item, value) {\n  try {\n    const path = '/api/memory';\n    const urlParams = { bucket, memory_id: memoryID };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(urlParams).toString()}`;\n    const options = {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n      body: JSON.stringify({ item, value }),\n    };\n    return await fetch(apiUrl, options).then((response) => response);\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n    return false;\n  }\n}\n\nasync function updateMemoryImage(bucket, authURL, memoryID, action, image) {\n  try {\n    const path = '/api/memory';\n    const urlParams = { bucket, memory_id: memoryID };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(urlParams).toString()}`;\n    const options = {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n      body: JSON.stringify({ item: 'image', action, image }),\n    };\n    return await fetch(apiUrl, options).then((response) => response);\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n    return false;\n  }\n}\nexport default {\n  getObjectUrl,\n  validateDetails,\n  upload,\n  uploadMultipleImages,\n  getMemories,\n  viewMemory,\n  getThumbnails,\n  finalizeMemory,\n  deleteMemory,\n  updateMemoryDetails,\n  updateMemoryImage,\n};\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEnvelope } from '@fortawesome/free-solid-svg-icons';\nimport Typography from '@mui/material/Typography';\nimport Link from '@mui/material/Link';\nimport Box from '@mui/material/Box';\nimport {\n  FacebookLink, TwitterLink, YoutubeLink, InstagramLink,\n} from './social';\n\nconst boxSx = {\n  display: 'flex',\n  justifyContent: 'center',\n  m: 1,\n  borderRadius: 1,\n};\n\nfunction Contact() {\n  return (\n    <>\n      <Typography variant=\"h6\" align=\"center\" className=\"text-muted\">\n        To share your queries or feedback\n      </Typography>\n\n      <Link underline=\"none\" href=\"mailto:support@mymemorystore.in\">\n        <Box sx={{ ...boxSx }}>\n          <FontAwesomeIcon icon={faEnvelope} className=\"black-icon\" size=\"2x\" />\n          <Typography variant=\"h6\" className=\"px-1\" sx={{ fontSize: '1.5rem' }}>\n            Email Us\n          </Typography>\n        </Box>\n      </Link>\n\n      <hr />\n      <Box\n        sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}\n      >\n        <Typography variant=\"h6\" className=\"text-muted\" sx={{ p: 1 }}>\n          Follow Us\n        </Typography>\n      </Box>\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          m: 1,\n          borderRadius: 1,\n        }}\n      >\n        <YoutubeLink color=\"social.youtube\" size=\"2x\" />\n        <FacebookLink color=\"social.facebook\" size=\"2x\" />\n        <TwitterLink color=\"social.twitter\" size=\"2x\" />\n        <InstagramLink color=\"social.instagram\" size=\"2x\" />\n      </Box>\n      <hr />\n    </>\n  );\n}\n\nexport default Contact;\n","import PropTypes from 'prop-types';\nimport Grid from '@mui/material/Grid';\nimport Link from '@mui/material/Link';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faYoutube,\n  faFacebook,\n  faTwitter,\n  faInstagramSquare,\n  faReact,\n} from '@fortawesome/free-brands-svg-icons';\n\nimport { faHeart } from '@fortawesome/free-solid-svg-icons';\n\nimport { MutedText } from './common';\n\nfunction YoutubeIcon({ size }) {\n  return <FontAwesomeIcon icon={faYoutube} size={size} />;\n}\n\nfunction FacebookIcon({ size }) {\n  return <FontAwesomeIcon icon={faFacebook} size={size} />;\n}\n\nfunction TwitterIcon({ size }) {\n  return <FontAwesomeIcon icon={faTwitter} size={size} />;\n}\n\nfunction InstagramIcon({ size }) {\n  return <FontAwesomeIcon icon={faInstagramSquare} size={size} />;\n}\n\nfunction ReactIcon() {\n  return <FontAwesomeIcon icon={faReact} />;\n}\nfunction HeartIcon() {\n  return <FontAwesomeIcon icon={faHeart} />;\n}\n\nexport function HeartLink({ size, color }) {\n  return (\n    <SocialLink to=\"https://en.wikipedia.org/wiki/Love\" color={color}>\n      <HeartIcon size={size} />\n    </SocialLink>\n  );\n}\n\nexport function ReactLink({ size, color }) {\n  return (\n    <SocialLink to=\"https://reactjs.org/\" color={color}>\n      <ReactIcon size={size} />\n    </SocialLink>\n  );\n}\n\nexport function YoutubeLink({ size, color }) {\n  return (\n    <SocialLink\n      to=\"https://www.youtube.com/channel/UCabGr_w5PLFIg1rcmKPbeVg\"\n      color={color}\n    >\n      <YoutubeIcon size={size} />\n    </SocialLink>\n  );\n}\n\nexport function FacebookLink({ size, color }) {\n  return (\n    <SocialLink to=\"https://www.facebook.com/mymemorystore.in\" color={color}>\n      <FacebookIcon size={size} />\n    </SocialLink>\n  );\n}\n\nexport function TwitterLink({ size, color }) {\n  return (\n    <SocialLink to=\"https://twitter.com/mymymemorystore/\" color={color}>\n      <TwitterIcon size={size} />\n    </SocialLink>\n  );\n}\n\nexport function InstagramLink({ size, color }) {\n  return (\n    <SocialLink to=\"https://www.instagram.com/mymemorystore.in/\" color={color}>\n      <InstagramIcon size={size} />\n    </SocialLink>\n  );\n}\n\nexport function SocialLink({ to, color, children }) {\n  return (\n    <Link\n      underline=\"none\"\n      href={to}\n      rel=\"noreferrer noopener\"\n      target=\"_blank\"\n      sx={{ px: 1, color: `${color}` }}\n    >\n      {children}\n    </Link>\n  );\n}\n\nexport function SocialLinks({ size }) {\n  return (\n    <Grid item>\n      <MutedText>Follow Us</MutedText>\n      <YoutubeLink color=\"social.youtube\" size={size} />\n      <FacebookLink color=\"social.facebook\" size={size} />\n      <TwitterLink color=\"social.twitter\" size={size} />\n      <InstagramLink color=\"social.instagram\" size={size} />\n    </Grid>\n  );\n}\n\nFacebookIcon.propTypes = {\n  size: PropTypes.string.isRequired,\n};\n\nInstagramIcon.propTypes = {\n  size: PropTypes.string.isRequired,\n};\n\nYoutubeIcon.propTypes = {\n  size: PropTypes.string.isRequired,\n};\n\nTwitterIcon.propTypes = {\n  size: PropTypes.string.isRequired,\n};\n\nHeartLink.propTypes = {\n  size: PropTypes.string,\n  color: PropTypes.string.isRequired,\n};\n\nReactLink.propTypes = {\n  size: PropTypes.string,\n  color: PropTypes.string.isRequired,\n};\n\nFacebookLink.propTypes = {\n  size: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n};\n\nYoutubeLink.propTypes = {\n  size: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n};\n\nTwitterLink.propTypes = {\n  size: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n};\n\nInstagramLink.propTypes = {\n  size: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n};\n\nSocialLink.propTypes = {\n  to: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nHeartLink.defaultProps = {\n  size: '1x',\n};\n\nReactLink.defaultProps = {\n  size: '1x',\n};\n\nSocialLinks.defaultProps = {\n  size: '1x',\n};\n\nSocialLinks.propTypes = {\n  size: PropTypes.string,\n};\n","export default __webpack_public_path__ + \"static/media/3.c2979588.jpg\";","import PropTypes from 'prop-types';\nimport Typography from '@mui/material/Typography';\nimport Grid from '@mui/material/Grid';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport CardHeader from '@mui/material/CardHeader';\nimport Stack from '@mui/material/Stack';\nimport CardMedia from '@mui/material/CardMedia';\nimport three from '../static/images/3.jpg';\n\nfunction AboutCard({ title, content }) {\n  return (\n    <Card\n      raised\n      sx={{\n        minWidth: 210, maxWidth: 400, py: 1, m: 1, maxHeight: 400,\n      }}\n    >\n      <CardHeader\n        title={title}\n        sx={{\n          backgroundColor: 'primary.main',\n          textAlign: 'center',\n          color: 'button.main',\n        }}\n      />\n      <CardContent sx={{ maxHeight: '260px', overflowY: 'auto', textRendering: 'optimizeLegibility' }}>\n        <Typography sx={{ textAlign: 'left', color: 'faded.black' }}>\n          {content}\n        </Typography>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction About() {\n  return (\n    <Grid container justifyContent=\"center\" alignItems=\"flex-start\">\n      <Stack direction=\"column\">\n        <AboutCard\n          title=\"Mission\"\n          content=\"To make a home worthy of your timeless, priceless memories.\"\n        />\n        <AboutCard\n          title=\"What we are not\"\n          content=\"A photo graveyard app. Where photos are dumped mindlessly, never to be visited again.\"\n        />\n      </Stack>\n      <Grid item align=\"center\">\n        <AboutCard\n          title=\"Our Story\"\n          content=\"When our son was born 2 years back, we started clicking pictures like crazy.\n              Sadly enough could not find them when related conversations arose.\n              Most photo storage solutions out there felt like empty boxes where you dump all photos.\n              We kept the most precious photos along with the misclicks, the hazy ones and the ones\n              we could not remember why we took.\n              We kept the photos but what we really wanted to keep were the memories.\n              But what are photos without the associated emotions and the stories.\n              That is why we started building myMemoryStore, where you can keep your precious photos and\n              the stories related to them so that you can relive the memories whenever you want.\"\n        />\n      </Grid>\n      <Grid item align=\"center\">\n        <Card sx={{\n          minWidth: 210, maxWidth: 400, py: 1, m: 1, maxHeight: 400, backgroundColor: 'transparent',\n        }}\n        >\n          <CardHeader\n            title=\"The Team\"\n            sx={{\n              backgroundColor: 'primary.main',\n              textAlign: 'center',\n              color: 'button.main',\n            }}\n          />\n          <CardMedia image={three} sx={{ height: 300 }} title=\"three\" />\n        </Card>\n      </Grid>\n    </Grid>\n  );\n}\n\nAboutCard.propTypes = {\n  title: PropTypes.string.isRequired,\n  content: PropTypes.string.isRequired,\n};\n\nexport default About;\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Snackbar from '@mui/material/Snackbar';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport Stack from '@mui/material/Stack';\nimport DoneIcon from '@mui/icons-material/Done';\nimport Typography from '@mui/material/Typography';\n\nfunction SnackText({ message, error }) {\n  if (error === true) {\n    return (\n      <Stack direction=\"row\" spacing={2} justifyContents=\"space-between\" alignItems=\"center\">\n        <CloseIcon fontSize=\"small\" color=\"error\" />\n        <Typography>{message}</Typography>\n      </Stack>\n    );\n  }\n  return (\n    <Stack direction=\"row\" spacing={2} justifyContents=\"space-between\" alignItems=\"center\">\n      <DoneIcon fontSize=\"small\" color=\"success\" />\n      <Typography>{message}</Typography>\n    </Stack>\n  );\n}\n\nexport default function SimpleSnackbar({\n  snackBarOpen, message, onClose, error,\n}) {\n  const [open, setOpen] = useState(snackBarOpen);\n  const [snackMessage, setSnackMessage] = useState(message);\n\n  useEffect(() => setOpen(snackBarOpen), [snackBarOpen]);\n  useEffect(() => setSnackMessage(message), [message]);\n\n  const handleClose = () => {\n    /*    if (reason === 'clickaway') { */\n    /* return; */\n    /* } */\n\n    setOpen(false);\n    setSnackMessage(null);\n    onClose();\n  };\n\n  const action = (\n    <IconButton\n      size=\"small\"\n      aria-label=\"close\"\n      color=\"inherit\"\n      onClick={handleClose}\n    >\n      <CloseIcon fontSize=\"small\" />\n    </IconButton>\n  );\n\n  return (\n    <Snackbar\n      open={open}\n      autoHideDuration={3000}\n      onClose={handleClose}\n      message={<SnackText message={snackMessage} error={error} />}\n      action={action}\n      anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n    />\n  );\n}\n\nSimpleSnackbar.defaultProps = {\n  error: false,\n};\n\nSimpleSnackbar.propTypes = {\n  message: PropTypes.string.isRequired,\n  snackBarOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  error: PropTypes.bool,\n};\n\nSnackText.propTypes = {\n  message: PropTypes.string.isRequired,\n  error: PropTypes.bool.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Card from '@mui/material/Card';\nimport CardActionArea from '@mui/material/CardActionArea';\n//  import { useTheme, alpha } from '@mui/material/styles';\n\nexport default function MemoryThumbnailCard({ handleClick, children }) {\n  //  const theme = useTheme();\n\n  return (\n    <CardActionArea onClick={handleClick}>\n      <Card\n        elevation={0}\n        sx={{\n          bgcolor: '#fff',\n          borderRadius: 5,\n          border: '2px solid gray',\n          color: 'black',\n          position: 'relative',\n          height: {\n            lg: 350,\n            sm: 300,\n            xs: 250,\n          },\n          '&:hover': {\n            border: 3,\n            borderColor: 'secondary.main',\n            elevation: 0,\n          },\n        }}\n      >\n        {children}\n      </Card>\n    </CardActionArea>\n  );\n}\n\nMemoryThumbnailCard.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n};\n","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 80 80\",\n    fill: \"#ffc745\",\n    id: \"svg_icon.primary\",\n    x: 60,\n    y: 41,\n    width: 40,\n    height: 40,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"surface1\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    style: {},\n    d: \"M 12 11 C 11.640625 10.996094 11.304688 11.183594 11.121094 11.496094 C 10.941406 11.808594 10.941406 12.191406 11.121094 12.503906 C 11.304688 12.816406 11.640625 13.003906 12 13 L 12 15 L 10 15 C 7.25 15 5 17.25 5 20 L 5 62 C 5 64.75 7.25 67 10 67 L 70 67 C 72.75 67 75 64.75 75 62 L 75 20 C 75 17.25 72.75 15 70 15 L 35 15 L 35 13 C 35.359375 13.003906 35.695313 12.816406 35.878906 12.503906 C 36.058594 12.191406 36.058594 11.808594 35.878906 11.496094 C 35.695313 11.183594 35.359375 10.996094 35 11 L 24 11 C 23.640625 10.996094 23.304688 11.183594 23.121094 11.496094 C 22.941406 11.808594 22.941406 12.191406 23.121094 12.503906 C 23.304688 12.816406 23.640625 13.003906 24 13 L 24 15 L 19 15 L 19 13 C 19.359375 13.003906 19.695313 12.816406 19.878906 12.503906 C 20.058594 12.191406 20.058594 11.808594 19.878906 11.496094 C 19.695313 11.183594 19.359375 10.996094 19 11 Z M 14 13 L 17 13 L 17 15 L 14 15 Z M 26 13 L 33 13 L 33 15 L 26 15 Z M 10 17 L 70 17 C 71.667969 17 73 18.332031 73 20 L 73 62 C 73 63.667969 71.667969 65 70 65 L 10 65 C 8.332031 65 7 63.667969 7 62 L 7 20 C 7 18.332031 8.332031 17 10 17 Z M 61 21 L 61 24 L 70 24 L 70 21 Z M 46 23 C 36.621094 23 29 30.621094 29 40 C 29 49.378906 36.621094 57 46 57 C 55.378906 57 63 49.378906 63 40 C 63 30.621094 55.378906 23 46 23 Z M 46 25 C 54.296875 25 61 31.703125 61 40 C 61 48.296875 54.296875 55 46 55 C 37.703125 55 31 48.296875 31 40 C 31 31.703125 37.703125 25 46 25 Z M 10 28 C 9.449219 28 9 28.449219 9 29 C 9 29.550781 9.449219 30 10 30 C 10.550781 30 11 29.550781 11 29 C 11 28.449219 10.550781 28 10 28 Z M 14 28 C 13.449219 28 13 28.449219 13 29 C 13 29.550781 13.449219 30 14 30 C 14.550781 30 15 29.550781 15 29 C 15 28.449219 14.550781 28 14 28 Z M 18 28 C 17.449219 28 17 28.449219 17 29 C 17 29.550781 17.449219 30 18 30 C 18.550781 30 19 29.550781 19 29 C 19 28.449219 18.550781 28 18 28 Z M 22 28 C 21.449219 28 21 28.449219 21 29 C 21 29.550781 21.449219 30 22 30 C 22.550781 30 23 29.550781 23 29 C 23 28.449219 22.550781 28 22 28 Z M 26 28 C 25.449219 28 25 28.449219 25 29 C 25 29.550781 25.449219 30 26 30 C 26.550781 30 27 29.550781 27 29 C 27 28.449219 26.550781 28 26 28 Z M 30 28 C 29.449219 28 29 28.449219 29 29 C 29 29.550781 29.449219 30 30 30 C 30.550781 30 31 29.550781 31 29 C 31 28.449219 30.550781 28 30 28 Z M 46 28 C 39.382813 28 34 33.382813 34 40 C 34 46.617188 39.382813 52 46 52 C 52.617188 52 58 46.617188 58 40 C 58 33.382813 52.617188 28 46 28 Z M 62 28 C 61.449219 28 61 28.449219 61 29 C 61 29.550781 61.449219 30 62 30 C 62.550781 30 63 29.550781 63 29 C 63 28.449219 62.550781 28 62 28 Z M 66 28 C 65.449219 28 65 28.449219 65 29 C 65 29.550781 65.449219 30 66 30 C 66.550781 30 67 29.550781 67 29 C 67 28.449219 66.550781 28 66 28 Z M 70 28 C 69.449219 28 69 28.449219 69 29 C 69 29.550781 69.449219 30 70 30 C 70.550781 30 71 29.550781 71 29 C 71 28.449219 70.550781 28 70 28 Z M 46 30 C 51.535156 30 56 34.464844 56 40 C 56 45.535156 51.535156 50 46 50 C 40.464844 50 36 45.535156 36 40 C 36 34.464844 40.464844 30 46 30 Z M 25 38 C 23.894531 38 23 38.894531 23 40 C 23 41.105469 23.894531 42 25 42 C 26.105469 42 27 41.105469 27 40 C 27 38.894531 26.105469 38 25 38 Z M 10 60 C 9.449219 60 9 60.449219 9 61 C 9 61.550781 9.449219 62 10 62 C 10.550781 62 11 61.550781 11 61 C 11 60.449219 10.550781 60 10 60 Z M 14 60 C 13.449219 60 13 60.449219 13 61 C 13 61.550781 13.449219 62 14 62 C 14.550781 62 15 61.550781 15 61 C 15 60.449219 14.550781 60 14 60 Z M 18 60 C 17.449219 60 17 60.449219 17 61 C 17 61.550781 17.449219 62 18 62 C 18.550781 62 19 61.550781 19 61 C 19 60.449219 18.550781 60 18 60 Z M 22 60 C 21.449219 60 21 60.449219 21 61 C 21 61.550781 21.449219 62 22 62 C 22.550781 62 23 61.550781 23 61 C 23 60.449219 22.550781 60 22 60 Z M 26 60 C 25.449219 60 25 60.449219 25 61 C 25 61.550781 25.449219 62 26 62 C 26.550781 62 27 61.550781 27 61 C 27 60.449219 26.550781 60 26 60 Z M 30 60 C 29.449219 60 29 60.449219 29 61 C 29 61.550781 29.449219 62 30 62 C 30.550781 62 31 61.550781 31 61 C 31 60.449219 30.550781 60 30 60 Z M 34 60 C 33.449219 60 33 60.449219 33 61 C 33 61.550781 33.449219 62 34 62 C 34.550781 62 35 61.550781 35 61 C 35 60.449219 34.550781 60 34 60 Z M 38 60 C 37.449219 60 37 60.449219 37 61 C 37 61.550781 37.449219 62 38 62 C 38.550781 62 39 61.550781 39 61 C 39 60.449219 38.550781 60 38 60 Z M 42 60 C 41.449219 60 41 60.449219 41 61 C 41 61.550781 41.449219 62 42 62 C 42.550781 62 43 61.550781 43 61 C 43 60.449219 42.550781 60 42 60 Z M 46 60 C 45.449219 60 45 60.449219 45 61 C 45 61.550781 45.449219 62 46 62 C 46.550781 62 47 61.550781 47 61 C 47 60.449219 46.550781 60 46 60 Z M 50 60 C 49.449219 60 49 60.449219 49 61 C 49 61.550781 49.449219 62 50 62 C 50.550781 62 51 61.550781 51 61 C 51 60.449219 50.550781 60 50 60 Z M 54 60 C 53.449219 60 53 60.449219 53 61 C 53 61.550781 53.449219 62 54 62 C 54.550781 62 55 61.550781 55 61 C 55 60.449219 54.550781 60 54 60 Z M 58 60 C 57.449219 60 57 60.449219 57 61 C 57 61.550781 57.449219 62 58 62 C 58.550781 62 59 61.550781 59 61 C 59 60.449219 58.550781 60 58 60 Z M 62 60 C 61.449219 60 61 60.449219 61 61 C 61 61.550781 61.449219 62 62 62 C 62.550781 62 63 61.550781 63 61 C 63 60.449219 62.550781 60 62 60 Z M 66 60 C 65.449219 60 65 60.449219 65 61 C 65 61.550781 65.449219 62 66 62 C 66.550781 62 67 61.550781 67 61 C 67 60.449219 66.550781 60 66 60 Z M 70 60 C 69.449219 60 69 60.449219 69 61 C 69 61.550781 69.449219 62 70 62 C 70.550781 62 71 61.550781 71 61 C 71 60.449219 70.550781 60 70 60 Z \"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.d683ad42.svg\";\nexport { ForwardRef as ReactComponent };","import PropTypes from 'prop-types';\nimport Typography from '@mui/material/Typography';\nimport Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport { ReactComponent as Logo } from '../static/images/icons/logo.svg';\n\nexport function BrandLogo({ width, height }) {\n  return <Logo width={width} height={height} />;\n}\n\nexport function BrandText({ fontSize }) {\n  return (\n    <Typography\n      color=\"secondary\"\n      variant=\"badscript\"\n      sx={{ paddingX: 1, fontSize, display: 'inline' }}\n    >\n      myMemoryStore\n    </Typography>\n  );\n}\n\nexport function Branding({\n  fontSize, width, height,\n}) {\n  return (\n    <Grid item>\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n        }}\n      >\n        <BrandLogo width={width} height={height} />\n        <BrandText fontSize={fontSize} />\n      </Box>\n    </Grid>\n  );\n}\n\nBranding.defaultProps = {\n  width: '64px',\n  height: '64px',\n  fontSize: '2em',\n};\n\nBrandLogo.propTypes = {\n  width: PropTypes.string.isRequired,\n  height: PropTypes.string.isRequired,\n};\n\nBrandText.propTypes = {\n  fontSize: PropTypes.string.isRequired,\n};\n\nBranding.propTypes = {\n  width: PropTypes.string,\n  height: PropTypes.string,\n  fontSize: PropTypes.string,\n};\n","import { useState, useEffect } from 'react';\n\nexport default function useTitle(initialValue) {\n  const [title, setTitle] = useState(initialValue);\n  useEffect(() => setTitle(initialValue), [initialValue]);\n  const handleTitleChange = (e) => {\n    setTitle(e.target.value);\n  };\n  return [title, setTitle, handleTitleChange];\n}\n","import { useState } from 'react';\n\nexport default function useDate(initialDate) {\n  const [date, setDate] = useState(initialDate);\n  const handleDateChange = (e) => {\n    const newDate = new Date(e);\n    if (e) {\n      const formattedDate = newDate.toLocaleDateString('en-in', {\n        day: 'numeric',\n        month: 'long',\n        year: 'numeric',\n      });\n      setDate(formattedDate);\n    } else {\n      setDate(null);\n    }\n  };\n  return [date, setDate, handleDateChange];\n}\n","import { useState } from 'react';\n\nexport default function useStory(initialState) {\n  const [story, setStory] = useState(initialState);\n  const handleStoryChange = (event) => setStory(event.target.value);\n  return [story, setStory, handleStoryChange];\n}\n","import PropTypes from 'prop-types';\nimport CardMedia from '@mui/material/CardMedia';\nimport CardContent from '@mui/material/CardContent';\nimport CardHeader from '@mui/material/CardHeader';\nimport Typography from '@mui/material/Typography';\nimport MemoryThumbnailCard from './MemoryThumbnailCard';\n\nfunction ThumbnailImage({\n  imageSrc, imageSrcSet, title, handleImageLoad,\n}) {\n  return (\n    <CardMedia\n      component=\"img\"\n      src={imageSrc}\n      srcSet={imageSrcSet}\n      alt={title}\n      sx={{\n        borderColor: 'muted.main',\n        borderRadius: 4,\n        textAlign: 'center',\n        objectFit: 'cover',\n        height: {\n          lg: 270,\n          sm: 220,\n          xs: 170,\n        },\n      }}\n      onLoad={handleImageLoad}\n    />\n  );\n}\n\nfunction ThumbnailDetails({ title, date }) {\n  return (\n    <CardContent>\n      <CardHeader\n        disableTypography\n        title={(\n          <Typography\n            noWrap\n            sx={{\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              width: { xs: 'calc(75%)', sm: 'calc(100%)' },\n              fontWeight: 600,\n            }}\n          >\n            {title}\n          </Typography>\n        )}\n        subheader={<Typography sx={{ color: 'muted.main' }}>{date}</Typography>}\n        sx={{\n          padding: 0,\n          color: 'faded.black',\n        }}\n      />\n    </CardContent>\n  );\n}\n\nexport default function MemoryThumbnail({\n  title,\n  date,\n  thumbnailImage,\n  thumbnailImageSrcSet,\n  handleClick,\n  handleImageLoad,\n}) {\n  return (\n    <MemoryThumbnailCard handleClick={handleClick}>\n      <ThumbnailImage\n        imageSrc={thumbnailImage}\n        imageSrcSet={thumbnailImageSrcSet}\n        title={title}\n        handleImageLoad={handleImageLoad}\n      />\n      <ThumbnailDetails title={title} date={date} />\n    </MemoryThumbnailCard>\n  );\n}\n\nThumbnailDetails.defaultProps = {\n  title: 'Memory Thumbnail Image',\n  date: 'Memory Date',\n};\n\nThumbnailDetails.propTypes = {\n  title: PropTypes.string,\n  date: PropTypes.string,\n};\n\nThumbnailImage.defaultProps = {\n  title: 'Memory Thumbnail Image',\n  imageSrc: '',\n  imageSrcSet: '',\n  handleImageLoad: () => {},\n};\n\nThumbnailImage.propTypes = {\n  title: PropTypes.string,\n  imageSrc: PropTypes.string,\n  imageSrcSet: PropTypes.string,\n  handleImageLoad: PropTypes.func,\n};\n\nMemoryThumbnail.defaultProps = {\n  thumbnailImageSrcSet: '',\n  handleImageLoad: () => {},\n};\n\nMemoryThumbnail.propTypes = {\n  title: PropTypes.oneOfType([PropTypes.element, PropTypes.string]).isRequired,\n  date: PropTypes.oneOfType([PropTypes.element, PropTypes.string]).isRequired,\n  thumbnailImage: PropTypes.string.isRequired,\n  handleClick: PropTypes.func.isRequired,\n  thumbnailImageSrcSet: PropTypes.string,\n  handleImageLoad: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport { alpha } from '@mui/material/styles';\n\nexport default function RemovePhotoIcon({ size, handleClick }) {\n  return (\n    <IconButton\n      size={size}\n      sx={{\n        color: 'black',\n        bgcolor: alpha('#fff', 0.4),\n        position: 'absolute',\n        top: 10,\n        right: 12,\n      }}\n      onClick={handleClick}\n    >\n      <CloseIcon size={size} />\n    </IconButton>\n  );\n}\n\nRemovePhotoIcon.defaultProps = {\n  size: 'small',\n};\n\nRemovePhotoIcon.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  size: PropTypes.string,\n};\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport Avatar from '@mui/material/Avatar';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport Divider from '@mui/material/Divider';\nimport IconButton from '@mui/material/IconButton';\nimport Tooltip from '@mui/material/Tooltip';\nimport Logout from '@mui/icons-material/Logout';\nimport Typography from '@mui/material/Typography';\nimport ListItemText from '@mui/material/ListItemText';\nimport Link from '@mui/material/Link';\nimport commonUtils from '../utils';\n\nfunction ProfileAvatar({ name, picture, email }) {\n  const initials = Array.from(email)[0].toUpperCase();\n  return (\n    <Avatar alt={name} src={picture} sx={{ referrerPolicy: 'no-referrer' }}>{initials}</Avatar>\n  );\n}\n\nfunction ProfileIcon({\n  name, email, open, handleClick, avatar,\n}) {\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        alignItems: 'center',\n        textAlign: 'center',\n        marginRight: '10px',\n      }}\n    >\n      <Tooltip\n        title={(\n          <>\n            <Typography>{name}</Typography>\n            <Typography>{email}</Typography>\n          </>\n        )}\n      >\n        <IconButton\n          onClick={handleClick}\n          size=\"small\"\n          sx={{ ml: 2 }}\n          aria-controls={open ? 'account-menu' : undefined}\n          aria-haspopup=\"true\"\n          aria-expanded={open ? 'true' : undefined}\n        >\n          {avatar}\n        </IconButton>\n      </Tooltip>\n    </Box>\n  );\n}\n\nfunction ProfileMenu({\n  name, open, handleClose, anchorEl, avatar, email,\n}) {\n  const profileIdentifier = name || email;\n  const authURL = process.env.REACT_APP_AUTH_URL;\n  return (\n    <Menu\n      anchorEl={anchorEl}\n      id=\"account-menu\"\n      open={open}\n      onClose={handleClose}\n      onClick={handleClose}\n      PaperProps={{\n        elevation: 0,\n        sx: {\n          filter: 'drop-shadow(0px 2px 8px rgba(0,0,0,0.32))',\n          mt: 1.5,\n          '& .MuiAvatar-root': {\n            width: 32,\n            height: 32,\n            ml: -0.5,\n            mr: 1,\n          },\n          '&:before': {\n            content: '\"\"',\n            display: 'block',\n            position: 'absolute',\n            top: 0,\n            right: 14,\n            width: 10,\n            height: 10,\n            bgcolor: 'background.paper',\n            transform: 'translateY(-50%) rotate(45deg)',\n            zIndex: 0,\n          },\n        },\n      }}\n      transformOrigin={{ horizontal: 'right', vertical: 'top' }}\n      anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}\n    >\n      <MenuItem>\n        {avatar}\n        <ListItemText>{profileIdentifier}</ListItemText>\n      </MenuItem>\n      <Divider />\n      <Link\n        href={`https://${authURL}/oauth2/logout`}\n        underline=\"none\"\n        sx={{ alignItems: 'center', display: 'flex' }}\n      >\n        <MenuItem>\n          <ListItemIcon>\n            <Logout fontSize=\"small\" />\n          </ListItemIcon>\n          <Typography sx={{ color: 'muted.main' }}>Logout</Typography>\n        </MenuItem>\n      </Link>\n    </Menu>\n  );\n}\n\nexport default function Profile() {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const userInfo = commonUtils.getUserInfo();\n  const handleClose = () => setAnchorEl(null);\n  const handleClick = (event) => setAnchorEl(event.currentTarget);\n  const userAvatar = (\n    <ProfileAvatar name={userInfo.name} picture={userInfo.picture} email={userInfo.email} />\n  );\n\n  return (\n    <>\n      <ProfileIcon\n        avatar={userAvatar}\n        open={open}\n        email={userInfo.email}\n        handleClick={handleClick}\n        name={userInfo.name}\n      />\n      <ProfileMenu\n        anchorEl={anchorEl}\n        avatar={userAvatar}\n        handleClose={handleClose}\n        name={userInfo.name}\n        email={userInfo.email}\n        open={open}\n      />\n    </>\n  );\n}\n\nProfileIcon.propTypes = {\n  name: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  handleClick: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  avatar: PropTypes.node.isRequired,\n};\n\nProfileMenu.propTypes = {\n  name: PropTypes.string.isRequired,\n  anchorEl: PropTypes.node.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  avatar: PropTypes.node.isRequired,\n  email: PropTypes.string.isRequired,\n};\n\nProfileAvatar.propTypes = {\n  name: PropTypes.string.isRequired,\n  picture: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Grid from '@mui/material/Grid';\nimport Authenticate from '../../hocs/require-authentication';\nimport { TopBarLink } from './utils';\nimport About from '../about';\nimport Contact from '../contact';\nimport Profile from '../profile';\n\nexport function AboutLink({ wdth, cb }) {\n  return (\n    <TopBarLink text=\"About\" wdth={wdth} cb={cb}>\n      <About />\n    </TopBarLink>\n  );\n}\n\nexport function ContactUsLink({ wdth }) {\n  return (\n    <TopBarLink text=\"Contact Us\" wdth={wdth}>\n      <Contact />\n    </TopBarLink>\n  );\n}\n\nexport function MiscLinks() {\n  const ProfileButton = Authenticate(Profile);\n  return (\n    <Grid item sx={{ paddingTop: '0.3rem' }}>\n      <ProfileButton />\n    </Grid>\n  );\n}\n\nContactUsLink.propTypes = {\n  wdth: PropTypes.string.isRequired,\n};\n\nAboutLink.defaultProps = {\n  cb: () => {},\n};\n\nAboutLink.propTypes = {\n  wdth: PropTypes.string.isRequired,\n  cb: PropTypes.func,\n};\n","import * as React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Box from '@mui/material/Box';\nimport Menu from '@mui/material/Menu';\nimport IconButton from '@mui/material/IconButton';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\n\nimport { TopBarDialog } from './utils';\nimport About from '../about';\nimport Contact from '../contact';\n\nexport default function BurgerMenu() {\n  const navigate = useNavigate();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const [aboutOpen, setAboutOpen] = React.useState(false);\n  const [contactOpen, setContactOpen] = React.useState(false);\n\n  const handleAboutOpen = () => setAboutOpen(true);\n  const handleAboutClose = () => setAboutOpen(false);\n\n  const handleContactOpen = () => setContactOpen(true);\n  const handleContactClose = () => setContactOpen(false);\n\n  const handleClick = (event) => setAnchorEl(event.currentTarget);\n  const handleClose = () => setAnchorEl(null);\n\n  return (\n    <>\n      <Box sx={{ display: 'flex', alignItems: 'center', textAlign: 'center' }}>\n        <IconButton\n          onClick={handleClick}\n          size=\"small\"\n          sx={{ ml: 2 }}\n          aria-controls={open ? 'burger-menu' : undefined}\n          aria-haspopup=\"true\"\n          aria-expanded={open ? 'true' : undefined}\n        >\n          <MenuIcon sx={{ width: 45, height: 45, color: 'button.main' }} />\n        </IconButton>\n      </Box>\n      <Menu\n        anchorEl={anchorEl}\n        id=\"burger-menu\"\n        open={open}\n        onClose={handleClose}\n        onClick={handleClose}\n        PaperProps={{\n          backgroundColor: 'form.input',\n          elevation: 0,\n          sx: {\n            filter: 'drop-shadow(0px 2px 8px rgba(0,0,0,0.32))',\n            mt: 1.5,\n            '& .MuiAvatar-root': {\n              width: 32,\n              height: 32,\n              ml: -0.5,\n              mr: 1,\n            },\n            '&:before': {\n              content: '\"\"',\n              display: 'block',\n              position: 'absolute',\n              top: 0,\n              right: 14,\n              width: 10,\n              height: 10,\n              bgcolor: 'background.paper',\n              transform: 'translateY(-50%) rotate(45deg)',\n              zIndex: 0,\n            },\n          },\n        }}\n        transformOrigin={{ horizontal: 'right', vertical: 'top' }}\n        anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}\n      >\n        <MenuItem onClick={() => navigate('/memories')}>My Memories</MenuItem>\n        <MenuItem onClick={handleAboutOpen}>About</MenuItem>\n        <MenuItem onClick={handleContactOpen}>Contact Us</MenuItem>\n      </Menu>\n      <TopBarDialog\n        text=\"About\"\n        wdth=\"lg\"\n        open={aboutOpen}\n        onClose={handleAboutClose}\n        onClick={handleAboutClose}\n      >\n        <About />\n      </TopBarDialog>\n      <TopBarDialog\n        text=\"Contact\"\n        wdth=\"sm\"\n        open={contactOpen}\n        onClose={handleContactClose}\n        onClick={handleContactClose}\n      >\n        <Contact />\n      </TopBarDialog>\n    </>\n  );\n}\n","import useMediaQuery from '@mui/material/useMediaQuery';\nimport { Link } from 'react-router-dom';\nimport Button from '@mui/material/Button';\n//  import Grid from '@mui/material/Grid';\nimport { Branding } from '../brand';\n//  import { TopBarGridContainer, TopBarButton } from './utils';\nimport { TopBarGridContainer } from './utils';\nimport { MiscLinks } from './misclinks';\nimport BurgerMenu from './BurgerMenu';\n\nfunction BrandLink() {\n  const belowsm = useMediaQuery((theme) => theme.breakpoints.down('sm'));\n  const branding = belowsm ? <Branding width=\"55px\" height=\"55px\" fontSize=\"1.55rem\" /> : <Branding />;\n  return (\n    <Link style={{ textDecoration: 'none' }} to=\"/memories\">\n      <Button>\n        {branding}\n      </Button>\n    </Link>\n  );\n}\n\n//  function MyMemoriesButton() {\n//  return (\n//  <Grid\n//  item\n//  sx={{\n//  paddingTop: '0.55rem',\n//  position: 'fixed',\n//  left: '50vw',\n//  transform: 'translate(-50%)',\n//  }}\n//  >\n//  <Link style={{ textDecoration: 'none' }} to=\"/memories\">\n//  <TopBarButton text=\"My Memories\" borderColor=\"secondary.main\" onClick={() => {}} />\n//  </Link>\n//  </Grid>\n//  );\n//  }\n\nexport default function TopBar() {\n  const belowmd = useMediaQuery((theme) => theme.breakpoints.down('md'));\n  const belowsm = useMediaQuery((theme) => theme.breakpoints.down('sm'));\n\n  if (belowsm) {\n    return (\n      <TopBarGridContainer>\n        <BrandLink />\n      </TopBarGridContainer>\n    );\n  }\n\n  if (belowmd) {\n    return (\n      <TopBarGridContainer>\n        <BurgerMenu />\n        <BrandLink />\n        <MiscLinks />\n      </TopBarGridContainer>\n    );\n  }\n\n  return (\n    <TopBarGridContainer>\n      <BrandLink />\n      {/* <MyMemoriesButton /> */}\n      <MiscLinks />\n    </TopBarGridContainer>\n  );\n}\n","import PropTypes from 'prop-types';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport Grid from '@mui/material/Grid';\n\nimport { SocialLinks, HeartLink, ReactLink } from './social';\nimport { MutedText } from './common';\n\nfunction MadeWith() {\n  return (\n    <Grid item>\n      <MutedText>Made with</MutedText>\n      <HeartLink color=\"social.heart\" />\n      <MutedText>&</MutedText>\n      <ReactLink color=\"social.react\" />\n    </Grid>\n  );\n}\n\nfunction Copyright() {\n  return (\n    <Grid item>\n      <MutedText>\n         myMemoryStore\n        {new Date().getFullYear()}\n      </MutedText>\n    </Grid>\n  );\n}\n\nfunction FooterGridContainer({ justify, children }) {\n  return (\n    <Grid\n      container\n      alignItems=\"center\"\n      justifyContent={justify}\n      sx={{\n        borderTop: 4,\n        borderColor: 'secondary.main',\n        bgcolor: 'primary.main',\n        bottom: 0,\n        overflow: 'hidden',\n        flexShrink: 0,\n        padding: 1,\n      }}\n    >\n      {children}\n    </Grid>\n  );\n}\n\nexport default function Footer() {\n  const hidden = useMediaQuery((theme) => theme.breakpoints.down('md'));\n  return hidden\n    ? (\n      <FooterGridContainer justify=\"center\">\n        <Copyright />\n        <SocialLinks />\n      </FooterGridContainer>\n    )\n    : (\n      <FooterGridContainer justify=\"space-between\">\n        <Copyright />\n        <MadeWith />\n        <SocialLinks />\n      </FooterGridContainer>\n    );\n}\n\nFooterGridContainer.propTypes = {\n  justify: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport Box from '@mui/material/Box';\nimport Stack from '@mui/material/Stack';\nimport IconButton from '@mui/material/IconButton';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport HomeIcon from '@mui/icons-material/Home';\n\nimport TopBar from '../components/topbar';\nimport Footer from '../components/footer';\nimport BurgerMenu from '../components/topbar/BurgerMenu';\nimport { MiscLinks } from '../components/topbar/misclinks';\n\nfunction DefaultBackground({ children }) {\n  return (\n    <Box\n      sx={{\n        backgroundColor: 'basepage.background',\n        overflow: 'auto',\n        flex: 1,\n        width: 1,\n      }}\n    >\n      {children}\n    </Box>\n  );\n}\n\nfunction HomeButton() {\n  return (\n    <Link style={{ textDecoration: 'none' }} to=\"/memories\">\n      <IconButton sx={{ paddingTop: '0.3rem' }}>\n        <HomeIcon fontSize=\"medium\" sx={{ width: 45, height: 45, color: 'button.main' }} />\n      </IconButton>\n    </Link>\n  );\n}\n\nfunction ProfileBar() {\n  return (\n    <Stack\n      direction=\"row\"\n      justifyContent=\"space-between\"\n      alignItems=\"center\"\n      sx={{\n        borderTop: 4,\n        borderColor: 'secondary.main',\n        backgroundColor: 'primary.main',\n      }}\n    >\n      <BurgerMenu />\n      <HomeButton />\n      <MiscLinks />\n    </Stack>\n  );\n}\n\nexport default function BasePage({ children }) {\n  const belowsm = useMediaQuery((theme) => theme.breakpoints.down('sm'));\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        flexWrap: 'no-wrap',\n        height: '100vh',\n        width: '100vw',\n      }}\n    >\n      <TopBar />\n      <DefaultBackground>{children}</DefaultBackground>\n      {belowsm ? <ProfileBar /> : null}\n      <Footer />\n    </Box>\n  );\n}\n\nDefaultBackground.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nBasePage.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import Box from '@mui/material/Box';\nimport IconButton from '@mui/material/IconButton';\nimport EditIcon from '@mui/icons-material/Edit';\n\nexport default function UpdateMemoryIcon() {\n  return (\n    <Box sx={{ alignItems: 'center' }} onClick={() => {}}>\n      <IconButton\n        aria-label=\"update\"\n        sx={{\n          bgcolor: 'form.input',\n        }}\n        onClick={() => {}}\n      >\n        <EditIcon />\n      </IconButton>\n      Edit\n    </Box>\n  );\n}\n","import Box from '@mui/material/Box';\nimport IconButton from '@mui/material/IconButton';\nimport DeleteIcon from '@mui/icons-material/Delete';\n\nexport default function DeleteMemoryIcon() {\n  return (\n    <Box sx={{ alignItems: 'center' }}>\n      <IconButton\n        aria-label=\"delete\"\n        sx={{\n          bgcolor: 'form.input',\n        }}\n      >\n        <DeleteIcon />\n      </IconButton>\n      Delete\n    </Box>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Dialog from '@mui/material/Dialog';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport DialogTitle from '@mui/material/DialogTitle';\n\nexport default function Confirm({\n  confirm, handleCallback, handleCloseCallback, title, message,\n}) {\n  const [open, setOpen] = useState(confirm);\n  useEffect(() => setOpen(confirm), [confirm]);\n\n  const handleClose = () => {\n    setOpen(false);\n    handleCloseCallback();\n  };\n\n  const handleSubmit = () => {\n    handleClose();\n    handleCallback();\n  };\n\n  return (\n    <Dialog open={open} sx={{ backgroundColor: 'faded.black' }}>\n      <DialogTitle>{title}</DialogTitle>\n      <Box sx={{ p: 2 }}>\n        <Typography sx={{ pb: 2 }}>{message}</Typography>\n        <Stack spacing={2} direction=\"row\">\n          <Button variant=\"contained\" onClick={handleClose}>Cancel</Button>\n          <Button variant=\"outlined\" onClick={handleSubmit}>OK</Button>\n        </Stack>\n      </Box>\n    </Dialog>\n  );\n}\n\nConfirm.propTypes = {\n  confirm: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  handleCallback: PropTypes.func.isRequired,\n  handleCloseCallback: PropTypes.func.isRequired,\n};\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport Confirm from '../../components/confirmation';\n\nexport default function MemoryActions({\n  deleteItem, updateItem, snackBar, confirmMessage, handleDeleteObject, handleEditClick,\n}) {\n  const [confirm, setConfirm] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => setAnchorEl(event.currentTarget);\n  const handleClose = () => setAnchorEl(null);\n\n  const handleDeleteClick = () => {\n    setConfirm(true);\n    handleClose();\n  };\n\n  const handleEdit = () => {\n    handleEditClick();\n    handleClose();\n  };\n\n  return (\n    <div>\n      <MoreVertIcon onClick={handleClick} />\n      <Menu\n        id=\"basic-menu\"\n        anchorEl={anchorEl}\n        open={open}\n        onClose={handleClose}\n        MenuListProps={{\n          'aria-labelledby': 'basic-button',\n        }}\n        sx={{ borderRadius: '10px' }}\n      >\n        <MenuItem onClick={handleEdit}>{updateItem}</MenuItem>\n        <MenuItem onClick={handleDeleteClick}>{deleteItem}</MenuItem>\n      </Menu>\n      <Confirm\n        title=\"Delete Memory\"\n        confirm={confirm}\n        handleCallback={handleDeleteObject}\n        handleCloseCallback={() => setConfirm(false)}\n        message={confirmMessage}\n      />\n      {snackBar}\n    </div>\n  );\n}\n\nMemoryActions.propTypes = {\n  deleteItem: PropTypes.node.isRequired,\n  updateItem: PropTypes.node.isRequired,\n  confirmMessage: PropTypes.string.isRequired,\n  snackBar: PropTypes.node.isRequired,\n  handleDeleteObject: PropTypes.func.isRequired,\n  handleEditClick: PropTypes.func.isRequired,\n};\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Navigate } from 'react-router-dom';\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport Box from '@mui/material/Box';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport Divider from '@mui/material/Divider';\nimport { useTheme } from '@mui/material/styles';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport UpdateMemoryIcon from './UpdateMemoryIcon';\nimport DeleteMemoryIcon from './DeleteMemoryIcon';\nimport SimpleSnackbar from '../../components/simple_snackbar';\nimport MemoryActions from './MemoryActions';\nimport api from '../Api';\n\nasync function deleteMemory(bucket, authURL, memoryID, memoryDeleteCallback) {\n  try {\n    const deleteResults = await api.deleteMemory(bucket, authURL, memoryID);\n    memoryDeleteCallback(deleteResults);\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n  }\n}\n\nexport default function MemoryContentStructure({\n  header, subheader, photoLayout, storyLayout, bucket, memoryID, authURL, handleEditClick, preview,\n}) {\n  const [snack, setSnack] = useState(null);\n  const [snackMessage, setSnackMessage] = useState(null);\n  const [snackError, setSnackError] = useState(null);\n  let className;\n  const theme = useTheme();\n  const lgdown = useMediaQuery(theme.breakpoints.down('lg'));\n  if (lgdown) className = '';\n  else className = 'vertical-scroll';\n\n  const handleSnackMessage = (msg, error) => {\n    setSnackMessage(msg);\n    setSnackError(error);\n  };\n\n  const memoryDeleteCallback = (open) => {\n    if (open.status === 'ok') {\n      handleSnackMessage('Memory deleted successfully', false);\n    } else {\n      handleSnackMessage('Error while deleting memory', true);\n    }\n    setSnack(true);\n  };\n\n  const handleSnackBarClose = () => {\n    setSnack(false);\n    setSnackMessage(null);\n    setSnackError(null);\n  };\n\n  const snackBar = (\n    <SimpleSnackbar\n      snackBarOpen={snack}\n      message={snackMessage}\n      onClose={handleSnackBarClose}\n      error={snackError}\n    />\n  );\n\n  const actions = !preview ? (\n    <MemoryActions\n      confirmMessage=\"Do you want to delete this memory?\"\n      snackBar={snackBar}\n      handleDeleteObject={() => {\n        deleteMemory(bucket, authURL, memoryID, memoryDeleteCallback);\n      }}\n      deleteItem={<DeleteMemoryIcon />}\n      updateItem={<UpdateMemoryIcon />}\n      handleEditClick={handleEditClick}\n    />\n  ) : <MoreVertIcon />;\n\n  return (snack === false) ? (\n    <Navigate to=\"/memories\" replace />\n  ) : (\n    <Card\n      sx={{\n        boxShadow: 0,\n        bgcolor: 'button.main',\n        p: 1,\n      }}\n    >\n      <CardHeader\n        title={header}\n        subheader={subheader}\n        action={actions}\n      />\n      <Divider />\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'flex-start',\n          flexDirection: {\n            lg: 'row',\n            xs: 'column',\n          },\n          height: {\n            lg: '72vh',\n          },\n          my: 1,\n        }}\n      >\n        <Box\n          sx={{\n            width: {\n              lg: '70%',\n              xs: '100%',\n            },\n            overflowY: 'scroll',\n            borderRadius: 5,\n          }}\n          className={className}\n        >\n          {photoLayout}\n        </Box>\n        <Box\n          sx={{\n            width: { lg: '30%', sx: '100%' },\n            overflowY: 'scroll',\n            mt: {\n              lg: 0,\n              xs: 2,\n            },\n            p: {\n              lg: 1,\n            },\n            px: 1,\n          }}\n          className={className}\n        >\n          {storyLayout}\n        </Box>\n      </Box>\n    </Card>\n  );\n}\n\nMemoryContentStructure.propTypes = {\n  header: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n  subheader: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n  photoLayout: PropTypes.element.isRequired,\n  storyLayout: PropTypes.element.isRequired,\n  memoryID: PropTypes.string.isRequired,\n  bucket: PropTypes.string.isRequired,\n  authURL: PropTypes.string.isRequired,\n  handleEditClick: PropTypes.func.isRequired,\n  preview: PropTypes.bool.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport SwipeableViews from 'react-swipeable-views';\nimport Box from '@mui/material/Box';\nimport { autoPlay, virtualize, bindKeyboard } from 'react-swipeable-views-utils';\n\nconst EnhancedSwipeableViews = bindKeyboard(autoPlay(virtualize(SwipeableViews)));\n\nfunction mod(count, total) {\n  const modulus = count % total;\n  if (modulus < 0) {\n    return modulus + total;\n  }\n  return modulus;\n}\n\nexport default function MemoryImageSlide({\n  ind, images, handleNext, handleStepChange,\n}) {\n  const [activeStep, setActiveStep] = useState(ind);\n  const [loadedImages, setLoadedImages] = useState(0);\n  const [display, setDisplay] = useState(null);\n\n  useEffect(() => {\n    setActiveStep(ind);\n  }, [ind]);\n\n  useEffect(() => {\n    if (loadedImages < images.length) {\n      setDisplay('none');\n    } else {\n      setDisplay('flex');\n    }\n  }, [loadedImages]);\n\n  const handleImageLoad = () => setLoadedImages((prevLoaded) => prevLoaded + 1);\n\n  const slideRenderer = (props) => {\n    /* eslint-disable  react/prop-types */\n    const { index, key } = props;\n    const virtNum = mod(index, images.length);\n    const srcSetList = images[virtNum].images ? (\n      images[virtNum].images.map(({ src, width }) => `${src} ${width}w`)\n    ) : [];\n    const srcSet = srcSetList.join(',');\n    const style = {\n      display: 'block',\n      boxSizing: 'content-box',\n      cursor: 'pointer',\n      objectFit: 'contain',\n      height: '100vh',\n    };\n\n    return (\n      <Box\n        component=\"img\"\n        onLoad={handleImageLoad}\n        sx={{\n          display: { display },\n          justifyContents: 'center',\n          width: '100%',\n          bgcolor: '#1c1c1c',\n        }}\n        src={images[virtNum].src}\n        srcSet={srcSet}\n        style={style}\n        alt={images[virtNum].src}\n        key={key}\n      />\n    );\n  };\n\n  return (\n    <EnhancedSwipeableViews\n      index={activeStep}\n      onChangeIndex={handleStepChange}\n      enableMouseEvents\n      animateTransitions\n      interval={10000}\n      onClick={handleNext}\n      style={{ backgroundColor: 'muted.main' }}\n      slideRenderer={slideRenderer}\n    />\n  );\n}\n\nMemoryImageSlide.defaultProps = {\n  ind: 0,\n};\n\nMemoryImageSlide.propTypes = {\n  ind: PropTypes.number,\n  handleNext: PropTypes.func.isRequired,\n  handleStepChange: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(PropTypes.shape({\n    src: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  })).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Dialog from '@mui/material/Dialog';\nimport CardHeader from '@mui/material/CardHeader';\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@mui/icons-material/KeyboardArrowRight';\nimport IconButton from '@mui/material/IconButton';\n\nimport MemoryImageSlide from './MemoryImageSlide';\nimport RemovePhotoIcon from './RemovePhotoIcon';\n\nfunction NextPic({ handleClick }) {\n  return (\n    <IconButton\n      edge=\"start\"\n      color=\"primary\"\n      aria-label=\"close\"\n      onClick={handleClick}\n      sx={{\n        position: 'absolute', top: '50%', right: 0, transform: 'translate(0%, -50%)',\n      }}\n    >\n      <KeyboardArrowRight sx={{ color: 'button.main', fontSize: '4.5rem' }} />\n    </IconButton>\n  );\n}\n\nfunction PreviousPic({ handleClick }) {\n  return (\n    <IconButton\n      edge=\"start\"\n      color=\"primary\"\n      aria-label=\"close\"\n      onClick={handleClick}\n      sx={{\n        position: 'absolute', top: '50%', left: 0, transform: 'translate(0%, -50%)',\n      }}\n    >\n      <KeyboardArrowLeft sx={{ color: 'button.main', fontSize: '4.5rem' }} />\n    </IconButton>\n  );\n}\n\nexport default function MemoryCarousel({\n  open, title, date, images, index, handleNext, handleBack, handleClose, handleChange,\n}) {\n  return (\n    <Dialog\n      open={open}\n      fullScreen\n    >\n      <MemoryImageSlide\n        images={images}\n        ind={index}\n        handleNext={handleNext}\n        handleStepChange={handleChange}\n      />\n      <CardHeader\n        title={title}\n        subheader={date}\n        sx={{\n          position: 'absolute',\n          top: 10,\n          left: 10,\n          bgcolor: 'button.main',\n          borderRadius: 3,\n          padding: 1,\n        }}\n      />\n      <PreviousPic handleClick={handleBack} />\n      <NextPic handleClick={handleNext} />\n      <RemovePhotoIcon size=\"large\" handleClick={handleClose} />\n    </Dialog>\n  );\n}\n\nNextPic.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n};\n\nPreviousPic.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n};\n\nMemoryCarousel.defaultProps = {\n  index: 0,\n};\n\nMemoryCarousel.propTypes = {\n  open: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  date: PropTypes.string.isRequired,\n  index: PropTypes.number,\n  handleNext: PropTypes.func.isRequired,\n  handleBack: PropTypes.func.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  handleChange: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(PropTypes.shape({\n    src: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  })).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Stack from '@mui/material/Stack';\nimport Typography from '@mui/material/Typography';\nimport TextField from '@mui/material/TextField';\nimport DoneTwoToneIcon from '@mui/icons-material/DoneTwoTone';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport EditIcon from '@mui/icons-material/Edit';\nimport useTitle from '../../hooks/title';\n\nexport default function MemoryTitle({ editable, text, handleTitleUpdate }) {\n  const [title, setTitle, handleTitleChange] = useTitle(text);\n  const [edit, setEdit] = useState(editable);\n  const [startEdit, setStartEdit] = useState(false);\n\n  useEffect(() => {\n    setEdit(editable);\n    setTitle(text);\n    setStartEdit(false);\n  }, [editable]);\n\n  if (!edit && !startEdit) {\n    return <Typography variant=\"h6\">{title}</Typography>;\n  }\n\n  if (edit && !startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'center' }} spacing={2}>\n        <Typography variant=\"h6\">{title}</Typography>\n        <EditIcon fontSize=\"medium\" onClick={() => setStartEdit(true)} />\n      </Stack>\n    );\n  }\n\n  if (edit && startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'flex-end', justifyContent: 'flex-start' }} spacing={2}>\n        <TextField\n          id=\"standard-basic\"\n          size=\"small\"\n          label=\"Title\"\n          onChange={handleTitleChange}\n          variant=\"standard\"\n          defaultValue={title}\n          sx={{ maxWidth: '200px' }}\n        />\n        <DoneTwoToneIcon\n          fontSize=\"medium\"\n          onClick={() => {\n            handleTitleUpdate(title);\n            setStartEdit(false);\n          }}\n        />\n        <ClearIcon fontSize=\"medium\" onClick={() => { setTitle(text); setStartEdit(false); }} />\n      </Stack>\n    );\n  }\n}\n\nMemoryTitle.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  text: PropTypes.string.isRequired,\n  handleTitleUpdate: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Stack from '@mui/material/Stack';\nimport Typography from '@mui/material/Typography';\nimport TextField from '@mui/material/TextField';\nimport DoneTwoToneIcon from '@mui/icons-material/DoneTwoTone';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport EditIcon from '@mui/icons-material/Edit';\nimport DatePicker from '@mui/lab/DesktopDatePicker';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\n\nimport useDate from '../../hooks/date';\n\nexport default function MemoryDate({ editable, prevDate, handleDateUpdate }) {\n  const [edit, setEdit] = useState(editable);\n  const [startEdit, setStartEdit] = useState(false);\n  const [date, setDate, handleDateChange] = useDate(prevDate);\n\n  useEffect(() => {\n    setEdit(editable);\n    setDate(prevDate);\n    setStartEdit(false);\n  }, [editable, prevDate]);\n\n  if (!edit && !startEdit) {\n    return <Typography>{date}</Typography>;\n  }\n\n  if (edit && !startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'center' }} spacing={2}>\n        <Typography>{date}</Typography>\n        <EditIcon fontSize=\"medium\" onClick={() => setStartEdit(true)} />\n      </Stack>\n    );\n  }\n\n  if (edit && startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'flex-end', justifyContent: 'flex-start', mt: 3 }} spacing={2}>\n        <LocalizationProvider dateAdapter={AdapterDateFns}>\n          <DatePicker\n            label=\"Memory Date\"\n            value={date}\n            onChange={handleDateChange}\n            placeholder=\"dd/MM/yyyy\"\n            inputFormat=\"dd/MM/yyyy\"\n            maxDate={new Date()}\n            renderInput={(props) => (\n              <TextField\n                readOnly\n                required\n          // eslint-disable-next-line react/jsx-props-no-spreading\n                {...props}\n              />\n            )}\n          />\n        </LocalizationProvider>\n        <DoneTwoToneIcon\n          fontSize=\"medium\"\n          onClick={() => {\n            handleDateUpdate(date);\n            setStartEdit(false);\n          }}\n        />\n        <ClearIcon fontSize=\"medium\" onClick={() => { setDate(prevDate); setStartEdit(false); }} />\n      </Stack>\n    );\n  }\n}\n\nMemoryDate.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  prevDate: PropTypes.string.isRequired,\n  handleDateUpdate: PropTypes.func.isRequired,\n};\n","import { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Stack from '@mui/material/Stack';\nimport DoneTwoToneIcon from '@mui/icons-material/DoneTwoTone';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport EditIcon from '@mui/icons-material/Edit';\nimport Divider from '@mui/material/Divider';\nimport Typography from '@mui/material/Typography';\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\nimport Box from '@mui/material/Box';\nimport useStory from '../../hooks/story';\nimport './memory.css';\n\nexport default function MemoryStory({ editable, prevStory, handleStoryUpdate }) {\n  const [edit, setEdit] = useState(editable);\n  const [startEdit, setStartEdit] = useState(false);\n  const [story, setStory, handleStoryChange] = useStory(prevStory);\n  const storyRef = useRef();\n\n  useEffect(() => {\n    setEdit(editable);\n    setStory(prevStory);\n    setStartEdit(false);\n  }, [editable, prevStory]);\n\n  if (!edit && !startEdit) {\n    return (\n      <Typography style={{ whiteSpace: 'pre-wrap' }}>{story}</Typography>\n    );\n  }\n\n  if (edit && !startEdit) {\n    return (\n      <Stack direction=\"column\" spacing={2}>\n        <Stack direction=\"row\" spacing={2} justifyContent=\"flex-end\">\n          <Typography sx={{ color: 'muted.main' }}>Edit Story</Typography>\n          <EditIcon\n            fontSize=\"medium\"\n            onClick={() => {\n              setStartEdit(true);\n            }}\n          />\n        </Stack>\n        <Divider sx={{ width: 1 }} />\n        <Typography style={{ whiteSpace: 'pre-wrap' }}>{story}</Typography>\n      </Stack>\n    );\n  }\n\n  if (edit && startEdit) {\n    return (\n      <Stack direction=\"column\" spacing={2}>\n        <Stack direction=\"row\" spacing={2} justifyContent=\"flex-end\">\n          <Typography sx={{ color: 'muted.main' }}>Editing Story</Typography>\n          <DoneTwoToneIcon\n            fontSize=\"medium\"\n            onClick={() => {\n              handleStoryUpdate(story);\n              setStartEdit(false);\n            }}\n          />\n          <ClearIcon\n            fontSize=\"medium\"\n            onClick={() => {\n              setStory(prevStory);\n              setStartEdit(false);\n            }}\n          />\n        </Stack>\n        <Divider sx={{ width: 1 }} />\n        <Box\n          sx={{\n            p: 2,\n            m: 1,\n            my: 2,\n            border: 1,\n            borderColor: 'primary.main',\n            bgcolor: 'input.background',\n            minHeight: '70vh',\n            borderRadius: 5,\n            width: '90%',\n          }}\n          onClick={() => storyRef.current.focus()}\n        >\n          <TextareaAutosize\n            autoFocus\n            aria-label=\"minimum height\"\n            placeholder=\"Tell your story...\"\n            value={story}\n            onChange={handleStoryChange}\n            style={{\n              width: '100%',\n              minHeight: '184px',\n              maxHeight: '70vh',\n              boxSizing: 'border-box',\n              paddingTop: '5px',\n              border: 0,\n              overflow: 'auto',\n              outline: 'none',\n              resize: 'vertical',\n              borderRadius: 5,\n              '&:focus': {\n                border: 0,\n              },\n            }}\n            ref={storyRef}\n          />\n\n        </Box>\n      </Stack>\n    );\n  }\n}\n\nMemoryStory.propTypes = {\n  prevStory: PropTypes.string.isRequired,\n  editable: PropTypes.bool.isRequired,\n  handleStoryUpdate: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport PhotoAlbum from 'react-photo-album';\nimport Radio from '@mui/material/Radio';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport IconButton from '@mui/material/IconButton';\nimport AddPhotoIcon from '@mui/icons-material/AddPhotoAlternate';\nimport Button from '@mui/material/Button';\nimport CloseIcon from '@mui/icons-material/Close';\nimport Typography from '@mui/material/Typography';\nimport Stack from '@mui/material/Stack';\nimport { alpha } from '@mui/material/styles';\n\nfunction OptionsButton({\n  children, onClick, name, updateOp,\n}) {\n  return (\n    <Button\n      id={name}\n      variant=\"contained\"\n      component=\"label\"\n      onClick={onClick}\n      sx={{\n        color: (updateOp === name) ? 'button.main' : 'muted.main',\n        borderRadius: 5,\n        backgroundColor: (updateOp === name) ? 'primary.main' : 'button.main',\n        padding: '6px 8px',\n        '&:hover': {\n          color: (updateOp === name) ? 'button.main' : 'muted.main',\n          backgroundColor: (updateOp === name) ? 'primary.main' : 'button.main',\n        },\n      }}\n    >\n      {children}\n    </Button>\n  );\n}\n\nfunction AddPhotos({ handleChange, onClick, updateOp }) {\n  return (\n    <OptionsButton onClick={onClick} name=\"add\" updateOp={updateOp}>\n      <input type=\"file\" hidden multiple accept=\"image/*\" onChange={handleChange} />\n      <AddPhotoIcon sx={{ fontSize: '1.5rem' }} />\n      Add\n    </OptionsButton>\n  );\n}\n\nfunction MemoryPhotoAlbum({ images, handlePhotoClick, renderPhoto }) {\n  const [arrangement, setArrangement] = useState(null);\n  useEffect(() => {\n    let twidth = 0;\n    let theight = 0;\n    images.forEach(({ height, width }) => {\n      if (height > width) theight += 1;\n      else twidth += 1;\n    });\n    if (twidth > theight) setArrangement('rows');\n    else setArrangement('columns');\n  }, [images]);\n\n  return renderPhoto ? (\n    <PhotoAlbum\n      layout={arrangement}\n      photos={images}\n      onClick={handlePhotoClick}\n      spacing={2}\n      renderPhoto={renderPhoto}\n    />\n  ) : (\n    <PhotoAlbum\n      layout={arrangement}\n      photos={images}\n      onClick={handlePhotoClick}\n      spacing={2}\n    />\n  );\n}\n\nexport default function MemoryImages({\n  editable, images, handlePhotoClick, handleThumbnailUpdate, deleteImage, addImage,\n}) {\n  const [edit, setEdit] = useState(editable);\n  const [updateOp, setUpdateOp] = useState(null);\n  const [thumbnail, setThumbnail] = useState(null);\n\n  const handleOpUpdate = (op) => {\n    if (updateOp === op) {\n      setUpdateOp(null);\n    } else {\n      setUpdateOp(op);\n    }\n  };\n\n  useEffect(() => {\n    setEdit(editable);\n    setUpdateOp(null);\n  }, [editable]);\n\n  const handleThumbnailChange = (name) => {\n    setThumbnail(name);\n    const thumbnailImage = images.find((image) => image.alt === name);\n    handleThumbnailUpdate(thumbnailImage);\n  };\n\n  const handleImageDelete = (name) => {\n    const deleted = images.find((image) => image.alt === name);\n    deleteImage(deleted);\n  };\n\n  const renderPhotosWithDeleteIcon = ({\n    layout,\n    imageProps: { alt, style, ...restImageProps },\n  }) => (\n    <Button component=\"div\">\n      <img\n        alt={alt}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n        style={{ ...style, width: layout.width, padding: 0 }}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n        {...restImageProps}\n      />\n      <IconButton\n        size=\"medium\"\n        sx={{\n          color: 'black',\n          bgcolor: alpha('#fff', 0.4),\n          position: 'absolute',\n          top: 10,\n          right: 12,\n        }}\n        onClick={() => handleImageDelete(alt)}\n      >\n        <CloseIcon size=\"medium\" />\n      </IconButton>\n    </Button>\n  );\n\n  const renderPhotosWithRadioButton = ({\n    layout,\n    imageProps: { alt, style, ...restImageProps },\n  }) => (\n    <Button component=\"div\">\n      <img\n        alt={alt}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n        style={{ ...style, width: layout.width, padding: 0 }}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n        {...restImageProps}\n      />\n      <FormControlLabel\n        control={<Radio />}\n        label=\"\"\n        checked={alt === thumbnail}\n        onChange={() => handleThumbnailChange(alt)}\n        sx={{\n          pr: 1,\n          position: 'absolute',\n          bgcolor: alpha('#fff', 0.6),\n          color: 'black',\n          borderRadius: '0px 5px 5px 0px',\n          borderColor: 'secondary.main',\n          borderLeft: 0,\n          bottom: 20,\n          left: 15,\n        }}\n      />\n    </Button>\n  );\n\n  const OptionsRow = (\n    <Stack direction=\"row\" spacing={2}>\n      <AddPhotos handleChange={addImage} onClick={() => handleOpUpdate('add')} updateOp={updateOp} />\n      <OptionsButton onClick={() => handleOpUpdate('delete')} name=\"delete\" updateOp={updateOp}>\n        <DeleteIcon sx={{ fontSize: '1.5rem' }} />\n        Delete\n      </OptionsButton>\n      <OptionsButton onClick={() => handleOpUpdate('thumbnail')} name=\"thumbnail\" updateOp={updateOp}>Set Thumbnail</OptionsButton>\n    </Stack>\n  );\n\n  const updatePanel = (\n    <Stack direction=\"row\">\n      <Typography variant=\"h6\" color=\"muted.main\">\n        Images:\n        {images.length}\n      </Typography>\n    </Stack>\n  );\n\n  if (!edit) {\n    return (\n      <MemoryPhotoAlbum images={images} handlePhotoClick={handlePhotoClick} />\n    );\n  }\n\n  if (edit && updateOp === 'delete') {\n    return (\n      <Stack direction=\"column\" spacing={2} sx={{ p: 2 }}>\n        {updatePanel}\n        {OptionsRow}\n        <MemoryPhotoAlbum\n          images={images}\n          handlePhotoClick={handlePhotoClick}\n          renderPhoto={renderPhotosWithDeleteIcon}\n        />\n      </Stack>\n    );\n  }\n\n  if (edit && updateOp === 'thumbnail') {\n    return (\n      <Stack direction=\"column\" spacing={2} sx={{ p: 2 }}>\n        {updatePanel}\n        {OptionsRow}\n        <MemoryPhotoAlbum\n          images={images}\n          handlePhotoClick={handlePhotoClick}\n          renderPhoto={renderPhotosWithRadioButton}\n        />\n      </Stack>\n    );\n  }\n\n  if (edit && updateOp === 'add') {\n    return (\n      <Stack direction=\"column\" spacing={2} sx={{ p: 2 }}>\n        {updatePanel}\n        {OptionsRow}\n        <MemoryPhotoAlbum\n          images={images}\n          handlePhotoClick={handlePhotoClick}\n        />\n      </Stack>\n    );\n  }\n\n  if (edit && !updateOp) {\n    return (\n      <Stack direction=\"column\" spacing={2} sx={{ p: 2 }}>\n        {updatePanel}\n        {OptionsRow}\n        <MemoryPhotoAlbum images={images} handlePhotoClick={handlePhotoClick} />\n      </Stack>\n    );\n  }\n}\n\nMemoryImages.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      src: PropTypes.string,\n      width: PropTypes.number,\n      height: PropTypes.number,\n    }),\n  ).isRequired,\n  handlePhotoClick: PropTypes.func.isRequired,\n  handleThumbnailUpdate: PropTypes.func.isRequired,\n  deleteImage: PropTypes.func.isRequired,\n  addImage: PropTypes.func.isRequired,\n};\n\nMemoryPhotoAlbum.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      src: PropTypes.string,\n      width: PropTypes.number,\n      height: PropTypes.number,\n    }),\n  ).isRequired,\n  handlePhotoClick: PropTypes.func.isRequired,\n  renderPhoto: PropTypes.func,\n};\n\nMemoryPhotoAlbum.defaultProps = {\n  renderPhoto: null,\n};\n\nAddPhotos.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n  updateOp: PropTypes.string.isRequired,\n};\n\nOptionsButton.defaultProps = {\n  onClick: () => {},\n};\n\nOptionsButton.propTypes = {\n  children: PropTypes.node.isRequired,\n  onClick: PropTypes.func,\n  name: PropTypes.string.isRequired,\n  updateOp: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\n//  import PhotoAlbum from 'react-photo-album';\nimport { useState, useEffect } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport Button from '@mui/material/Button';\nimport Link from '@mui/material/Link';\nimport DoneIcon from '@mui/icons-material/Done';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport Typography from '@mui/material/Typography';\nimport Stack from '@mui/material/Stack';\nimport Dialog from '@mui/material/Dialog';\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport CardContent from '@mui/material/CardContent';\nimport Divider from '@mui/material/Divider';\nimport Box from '@mui/material/Box';\nimport MemoryCarousel from './MemoryCarousel';\nimport MemoryContentStructure from './MemoryContentStructure';\nimport MemoryTitle from './MemoryTitle';\nimport MemoryDate from './MemoryDate';\nimport MemoryStory from './MemoryStory';\nimport MemoryImages from './MemoryImages';\nimport api from '../Api';\nimport SimpleSnackbar from '../../components/simple_snackbar';\nimport './memory.css';\n\nfunction BackButton({ preview }) {\n  if (preview === false) {\n    return (\n      <Stack\n        direction=\"row\"\n        justifyContent=\"flex-start\"\n        sx={{ backgroundColor: 'button.main', paddingX: 2, paddingY: 1 }}\n      >\n        <Link href=\"/\" underline=\"none\">\n          <Button\n            variant=\"contained\"\n            component=\"label\"\n            sx={{\n              color: 'primary.main',\n              backgroundColor: 'button.main',\n              padding: '6px 8px',\n              boxShadow: 0,\n              '&:hover': {\n                backgroundColor: 'button.main',\n              },\n            }}\n          >\n            <ArrowBackIcon size=\"medium\" sx={{ paddingRight: 1 }} />\n            <Typography variant=\"body1\" color=\"muted.main\">Memories</Typography>\n          </Button>\n        </Link>\n      </Stack>\n    );\n  }\n  return null;\n}\n\nexport default function MemoryContent({\n  memTitle,\n  memDate,\n  memStory,\n  memImages,\n  bucket,\n  memoryID,\n  authURL,\n  preview,\n}) {\n  const [open, setOpen] = useState(false);\n  const [edit, setEdit] = useState(false);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [title, setTitle] = useState(memTitle);\n  const [date, setDate] = useState(memDate);\n  const [story, setStory] = useState(memStory);\n  const [images, setImages] = useState(memImages);\n  const [snack, setSnack] = useState(null);\n  const [snackMessage, setSnackMessage] = useState(null);\n\n  const [newImages, setNewImages] = useState([]);\n  const [newImagesCount, setNewImagesCount] = useState(null);\n  const [errorUploadImages, setErrorUploadImages] = useState([]);\n  const [addImageOpen, setAddImageOpen] = useState(false);\n  const [uploadImageProgress, setUploadImageProgress] = useState(null);\n  const [uploadImageStatus, setUploadImageStatus] = useState(null);\n  const [snackError, setSnackError] = useState(null);\n  const [httpError, setHTTPError] = useState(false);\n\n  const maxSteps = images.length;\n\n  useEffect(() => setTitle(memTitle), [memTitle]);\n  useEffect(() => setDate(memDate), [memDate]);\n  useEffect(() => setStory(memStory), [memStory]);\n  useEffect(() => setImages(memImages), [memImages]);\n\n  const handleSnackMessage = (msg, error) => {\n    setSnackMessage(msg);\n    setSnackError(error);\n  };\n\n  const handleHTTPError = (response, operation, callback) => {\n    if (response.status === 401) {\n      handleSnackMessage('You have been logged out. Please login to continue.', true);\n    } else if (response.status === 403) {\n      handleSnackMessage('You do not have permissions to do this operation.', true);\n    } else {\n      handleSnackMessage(`Unknown error occured while ${operation}`, true);\n    }\n    callback(response.status);\n  };\n\n  const handleSnackBarClose = () => {\n    setSnack(false);\n    setSnackMessage(null);\n    setSnackError(null);\n  };\n\n  const httpErrorCallback = (status) => {\n    setSnack(true);\n    setHTTPError(status);\n  };\n\n  const UpdateDetails = async (item, value) => {\n    try {\n      const resp = await api.updateMemoryDetails(\n        bucket,\n        authURL,\n        memoryID,\n        item,\n        value,\n      );\n      if (resp.ok) {\n        handleSnackMessage(`Memory ${item} updated successfully`, false);\n      } else {\n        handleHTTPError(resp, `updating ${item}`, httpErrorCallback);\n      }\n      setSnack(true);\n      return resp;\n    } catch (error) {\n      /* eslint-disable no-console */\n      console.log(error);\n      return false;\n    }\n  };\n\n  const UpdateThumbnail = async (image) => {\n    try {\n      const resp = await api.updateMemoryImage(\n        bucket,\n        authURL,\n        memoryID,\n        'thumbnail',\n        image,\n      );\n      if (resp.ok) {\n        handleSnackMessage('Memory thumbnail updated successfully', false);\n        setSnack(true);\n      } else {\n        handleHTTPError(resp, 'updating thumbnail', httpErrorCallback);\n      }\n      return resp;\n    } catch (error) {\n      /* eslint-disable no-console */\n      console.log(error);\n      return false;\n    }\n  };\n\n  const deleteImage = async (image) => {\n    try {\n      let resp;\n      if (images.length > 1) {\n        resp = await api.updateMemoryImage(\n          bucket,\n          authURL,\n          memoryID,\n          'delete',\n          image,\n        );\n        if (resp.ok) {\n          handleSnackMessage('Memory image deleted successfully', false);\n          setImages(images.filter((item) => item.title !== image.title));\n        } else {\n          handleHTTPError(resp, 'deleting image', httpErrorCallback);\n        }\n      } else {\n        handleSnackMessage('Atleast 1 image is needed for memory. Unable to delete', true);\n      }\n      setSnack(true);\n      return resp;\n    } catch (error) {\n      /* eslint-disable no-console */\n      console.log(error);\n      return false;\n    }\n  };\n\n  const addImage = async (details) => {\n    try {\n      const resp = await api.updateMemoryImage(\n        bucket,\n        authURL,\n        memoryID,\n        'add',\n        details,\n      );\n      return resp;\n    } catch (error) {\n      /* eslint-disable no-console */\n      console.log(error);\n      return false;\n    }\n  };\n\n  const handleNewImages = async () => {\n    /* eslint-disable  no-await-in-loop, no-restricted-syntax */\n    for (const [index, img] of newImages.entries()) {\n      const [det, file, src] = img;\n      const putURL = await addImage(det).then((response) => {\n        if (response.ok) {\n          return response.text();\n        }\n        handleHTTPError(response, 'adding image', httpErrorCallback);\n        return '';\n      });\n      const photo = {\n        key: `memories/${memoryID}/images/${det.name}`,\n        src,\n        alt: det.name,\n        title: det.name,\n        width: det.width,\n        height: det.height,\n        images: [],\n      };\n      const uploadResp = await fetch(putURL, { body: file, method: 'PUT' });\n      if (uploadResp.ok) {\n        setUploadImageProgress(`Images uploaded: ${index + 1} / ${newImagesCount} `);\n        setImages((pics) => pics.concat([photo]));\n      } else {\n        setUploadImageStatus('Error while uploading memory image');\n        setErrorUploadImages((errImgs) => errImgs.concat([det.name]));\n        handleHTTPError(uploadResp, 'deleting image', httpErrorCallback);\n      }\n    }\n  };\n\n  useEffect(async () => {\n    if (newImages.length > 0) {\n      setAddImageOpen(true);\n      setUploadImageProgress('Preparing images for upload....');\n    }\n    if (newImages.length === newImagesCount) {\n      await handleNewImages();\n      if (errorUploadImages.length > 0) {\n        setUploadImageStatus(`Error while uploading ${errorUploadImages.length} images`);\n      } else {\n        setUploadImageStatus(`${newImages.length} image(s) uploaded successfully`);\n      }\n      setErrorUploadImages([]);\n      setNewImagesCount(null);\n      setNewImages([]);\n      setTimeout(() => {\n        setAddImageOpen(false);\n        setUploadImageStatus(null);\n        setUploadImageProgress(null);\n      }, 3000);\n    }\n  }, [newImages]);\n\n  const handleImageAdd = async (event) => {\n    if (event.target.files) {\n      const files = Array.from(event.target.files);\n      setNewImagesCount(files.length);\n      if (images.length + files.length <= 15) {\n        files.forEach((file) => {\n          const image = new Image();\n          image.onload = async (e) => {\n            const height = e.target.naturalHeight;\n            const width = e.target.naturalWidth;\n            const size = file.size / (1024 * 1024);\n            const { name } = file;\n            const resImages = [500, 1000, 1500].map((resHeight) => ({\n              height: resHeight, width: Math.ceil((resHeight * width) / height),\n            }));\n            const creationDate = Date.now();\n            const newName = `${creationDate}-${name}`;\n            const imageDetails = [{\n              name: newName, size, height, width, images: resImages,\n            }, file, e.target.src];\n            setNewImages((pics) => pics.concat([imageDetails]));\n          };\n          image.src = URL.createObjectURL(file);\n        });\n        files.map((file) => URL.revokeObjectURL(file)); // avoid memory leak\n      } else {\n        handleSnackMessage(`Unable to add ${files.length} images. Maximum images allowed per memory is 15`, true);\n        setSnack(true);\n      }\n    }\n  };\n\n  const updateTitle = (value) => {\n    const resp = UpdateDetails('title', value);\n    if (resp) {\n      setTitle(value);\n    }\n  };\n\n  const updateDate = (value) => {\n    const resp = UpdateDetails('date', value);\n    if (resp) {\n      setDate(value);\n    }\n  };\n\n  const updateStory = (value) => {\n    const resp = UpdateDetails('story', value);\n    if (resp) {\n      setStory(value);\n    }\n  };\n\n  const handleClose = () => setOpen(false);\n\n  const handleActiveIndexChange = (step) => setActiveIndex(step);\n\n  const handleBack = () => {\n    setActiveIndex(\n      (prevActiveStep) => (prevActiveStep - 1 + maxSteps) % maxSteps,\n    );\n  };\n\n  const handleNext = () => {\n    setActiveIndex((prevActiveStep) => (prevActiveStep + 1) % maxSteps);\n  };\n\n  const handlePhotoClick = (photo, event, index) => {\n    setOpen(true);\n    setActiveIndex(index);\n  };\n\n  const handleEditClick = () => setEdit(true);\n\n  const memoryTitle = (\n    <MemoryTitle\n      editable={edit}\n      text={title}\n      handleTitleUpdate={updateTitle}\n    />\n  );\n\n  const memoryDate = (\n    <MemoryDate editable={edit} prevDate={date} handleDateUpdate={updateDate} />\n  );\n\n  const storyLayout = (\n    <MemoryStory\n      editable={edit}\n      prevStory={story}\n      handleStoryUpdate={updateStory}\n    />\n  );\n\n  const photoLayout = (\n    <MemoryImages\n      editable={edit}\n      images={images}\n      handlePhotoClick={handlePhotoClick}\n      handleThumbnailUpdate={UpdateThumbnail}\n      deleteImage={deleteImage}\n      addImage={handleImageAdd}\n    />\n  );\n\n  const updateDone = (\n    <Button\n      variant=\"contained\"\n      component=\"label\"\n      onClick={() => setEdit(false)}\n      sx={{\n        color: 'primary.main',\n        borderRadius: 5,\n        backgroundColor: 'button.main',\n        padding: '6px 8px',\n      }}\n    >\n      <DoneIcon size=\"medium\" sx={{ paddingRight: 1 }} />\n      <Typography variant=\"body1\" color=\"muted.main\">Edit</Typography>\n    </Button>\n  );\n\n  if (httpError === 401 && snack === false) {\n    return <Navigate to=\"/login\" />;\n  }\n\n  return (\n    <>\n      {edit ? (\n        <Stack\n          direction=\"row\"\n          justifyContent=\"flex-start\"\n          sx={{ backgroundColor: 'button.main', paddingX: 2, paddingY: 1 }}\n        >\n          {updateDone}\n        </Stack>\n      ) : <BackButton preview={preview} /> }\n      <Box\n        component=\"div\"\n        sx={{\n          backgroundColor: 'button.main',\n          margin: edit ? '5px' : 0,\n        }}\n      >\n        <MemoryContentStructure\n          header={memoryTitle}\n          subheader={memoryDate}\n          photoLayout={photoLayout}\n          storyLayout={storyLayout}\n          memoryID={memoryID}\n          bucket={bucket}\n          authURL={authURL}\n          handleEditClick={handleEditClick}\n          preview={preview}\n        />\n      </Box>\n      <MemoryCarousel\n        open={open}\n        title={title}\n        date={date}\n        images={images}\n        index={activeIndex}\n        handleNext={handleNext}\n        handleBack={handleBack}\n        handleClose={handleClose}\n        handleChange={handleActiveIndexChange}\n      />\n      <SimpleSnackbar\n        snackBarOpen={snack}\n        message={snackMessage}\n        onClose={handleSnackBarClose}\n        error={snackError}\n      />\n      <Dialog\n        open={addImageOpen}\n        fullWidth\n        sx={{\n          p: 1,\n        }}\n      >\n        <Card sx={{ maxWidth: 1, p: 1 }}>\n          <CardHeader title=\"Adding Images\" sx={{ textAlign: 'center' }} />\n          <Divider />\n          <CardContent>\n            <Typography variant=\"h6\" sx={{ color: 'muted.main' }}>{uploadImageProgress}</Typography>\n            <Stack justifyContent=\"center\" sx={{ py: 2 }}>\n              <Typography variant=\"h5\">{uploadImageStatus}</Typography>\n            </Stack>\n          </CardContent>\n        </Card>\n      </Dialog>\n\n    </>\n  );\n}\n\nMemoryContent.defaultProps = {\n  memTitle: 'Memory Title',\n  memDate: 'Memory Date',\n  memStory: 'Memory Text',\n};\n\nMemoryContent.propTypes = {\n  memTitle: PropTypes.string,\n  memDate: PropTypes.string,\n  memStory: PropTypes.string,\n  memoryID: PropTypes.string.isRequired,\n  bucket: PropTypes.string.isRequired,\n  authURL: PropTypes.string.isRequired,\n  memImages: PropTypes.arrayOf(\n    PropTypes.shape({\n      src: PropTypes.string,\n      width: PropTypes.number,\n      height: PropTypes.number,\n    }),\n  ).isRequired,\n  preview: PropTypes.bool.isRequired,\n};\n\nBackButton.propTypes = {\n  preview: PropTypes.bool.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport Divider from '@mui/material/Divider';\nimport ToggleButton from '@mui/material/ToggleButton';\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\nimport Typography from '@mui/material/Typography';\n\nexport default function ToggleViewMode({ mode, handleModeChange, modes }) {\n  return (\n    <Divider>\n      <Box sx={{ display: 'flex', justifyContent: 'center', p: 2 }}>\n        <ToggleButtonGroup\n          exclusive\n          value={mode}\n          aria-label=\"view-change\"\n          color=\"primary\"\n          sx={{ bgcolor: 'button.main' }}\n\n        >\n          {modes.map((modeName) => (\n            <ToggleButton\n              key={modeName}\n              value={modeName}\n              onClick={() => handleModeChange(`${modeName}`)}\n              sx={{ border: 2, borderColor: 'primary.main' }}\n            >\n              <Typography variant=\"h6\">{modeName}</Typography>\n            </ToggleButton>\n          ))}\n        </ToggleButtonGroup>\n      </Box>\n    </Divider>\n  );\n}\n\nToggleViewMode.propTypes = {\n  mode: PropTypes.string.isRequired,\n  handleModeChange: PropTypes.func.isRequired,\n  modes: PropTypes.PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Stepper from '@mui/material/Stepper';\nimport Step from '@mui/material/Step';\nimport StepLabel from '@mui/material/StepLabel';\n\nexport default function FormStepper({ titles, activeStep, handleClick }) {\n  return (\n    <Stepper\n      activeStep={activeStep}\n      alternativeLabel\n      sx={{ py: 4 }}\n    >\n      {titles.map((label, index) => (\n        <Step key={label} onClick={handleClick(index)}>\n          <StepLabel>{label}</StepLabel>\n        </Step>\n      ))}\n    </Stepper>\n  );\n}\n\nFormStepper.propTypes = {\n  titles: PropTypes.arrayOf(PropTypes.string).isRequired,\n  activeStep: PropTypes.number.isRequired,\n  handleClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport CardHeader from '@mui/material/CardHeader';\n\nexport default function PreviewCardHeader({ title }) {\n  return (\n    <CardHeader\n      title={title}\n      sx={{\n        border: 0,\n        borderColor: 'primary.main',\n        textAlign: 'center',\n        width: 1,\n        mb: 1,\n        bgcolor: 'button.main',\n        p: 0,\n        py: 2,\n        borderRadius: 2,\n      }}\n    />\n  );\n}\n\nPreviewCardHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Button from '@mui/material/Button';\n\nexport default function NavigationButton({ label, handleClick, disabled }) {\n  return (\n    <Button\n      onClick={handleClick}\n      disabled={disabled}\n      sx={{\n        m: 2,\n        border: 2,\n        borderColor: disabled ? 'muted.main' : 'ternary.main',\n        borderRadius: 5,\n        bgcolor: 'input.background',\n      }}\n    >\n      {label}\n    </Button>\n  );\n}\n\nNavigationButton.defaultProps = {\n  disabled: false,\n};\n\nNavigationButton.propTypes = {\n  label: PropTypes.string.isRequired,\n  handleClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport NavigationButton from './NavigationButton';\n\nexport default function FormStepperNavigation({\n  handleNext, handlePrevious, isLast, isFirst,\n}) {\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'row',\n        pt: 2,\n        width: 1,\n        justifyContent: 'space-evenly',\n      }}\n    >\n      { isFirst ? (\n        <NavigationButton disabled handleClick={() => {}} label=\"Back\" />\n      ) : (\n        <NavigationButton handleClick={handlePrevious} label=\"Back\" />\n      )}\n      { isLast ? (\n        <NavigationButton handleClick={handleNext} label=\"Create Memory\" />\n      ) : (\n        <NavigationButton handleClick={handleNext} label=\"Next\" />\n      )}\n    </Box>\n  );\n}\n\nFormStepperNavigation.propTypes = {\n  handleNext: PropTypes.func.isRequired,\n  handlePrevious: PropTypes.func.isRequired,\n  isLast: PropTypes.bool.isRequired,\n  isFirst: PropTypes.bool.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\n\nexport default function BoxForm({ children }) {\n  return (\n    <Box\n      component=\"form\"\n      sx={{\n        '& .MuiTextField-root': {\n          m: 1, maxWidth: '90%', width: '45ch',\n        },\n        '& .MuiOutlinedInput-root': {\n          backgroundColor: 'form.input',\n          borderRadius: 5,\n        },\n        flexDirection: 'column',\n        display: 'flex',\n        alignItems: 'center',\n        width: 'auto',\n        pt: 2,\n      }}\n      autoComplete=\"true\"\n    >\n      {children}\n    </Box>\n  );\n}\n\nBoxForm.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport TextField from '@mui/material/TextField';\nimport DatePicker from '@mui/lab/DesktopDatePicker';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\n\nimport * as yup from 'yup';\n\nimport FormStepperNavigation from './FormStepperNavigation';\nimport BoxForm from './BoxForm';\n\nexport default function TitleDateForm({\n  title,\n  date,\n  handleTitleChange,\n  handleDateChange,\n  handleNext,\n  handlePrevious,\n  isLast,\n  isFirst,\n  activeStep,\n}) {\n  const [titleError, setTitleError] = useState('');\n  const [dateError, setDateError] = useState('');\n\n  const [titleTouched, setTitleTouched] = useState(false);\n  const [dateTouched, setDateTouched] = useState(false);\n\n  const titleSchema = yup.object({\n    title: yup.string().required('Memory Title is required').max(40, 'Maximum length of memory title is 40'),\n  }).required();\n\n  const dateSchema = yup.object({\n    date: yup.date('Enter date by clicking calendar icon on the right end of date picker')\n      .required('Memory Date is required').nullable(),\n  }).required();\n  const isFieldValid = async (key, value, setFieldError, schema) => {\n    let hasError = false;\n    const testField = await schema\n      .validate({ [key]: value }, { abortEarly: false })\n      .catch((error) => error);\n    setFieldError('');\n    if (testField.inner) {\n      testField.inner.forEach((error) => setFieldError(error.message));\n      hasError = true;\n    }\n    return !hasError;\n  };\n\n  const isValid = async () => {\n    const titleValid = await isFieldValid('title', title, setTitleError, titleSchema);\n    const dateValid = await isFieldValid('date', date, setDateError, dateSchema);\n    return titleValid && dateValid;\n  };\n\n  useEffect(() => {\n    if (titleTouched) {\n      isFieldValid('title', title, setTitleError, titleSchema);\n    }\n    if (dateTouched) {\n      isFieldValid('date', date, setDateError, dateSchema);\n    }\n  }, [title, date]);\n\n  const submitForm = async (handleCallback) => {\n    const valid = await isValid();\n    if (valid) {\n      handleCallback();\n    }\n  };\n\n  const onTitleChange = (event) => {\n    setTitleTouched(true);\n    handleTitleChange(event);\n  };\n\n  const onDateChange = (event) => {\n    setDateTouched(true);\n    handleDateChange(event);\n  };\n\n  return (\n    <BoxForm>\n      <TextField\n        required\n        onChange={onTitleChange}\n        id=\"outlined-required\"\n        label=\"Memory Name\"\n        defaultValue={title}\n        helperText={titleError || \"E.g. Gogol's 2nd Birthday\"}\n        error={!!titleError}\n      />\n      <LocalizationProvider dateAdapter={AdapterDateFns}>\n        <DatePicker\n          label=\"Memory Date\"\n          value={date}\n          onChange={onDateChange}\n          placeholder=\"dd/MM/yyyy\"\n          inputFormat=\"dd/MM/yyyy\"\n          maxDate={new Date()}\n          renderInput={(props) => (\n            <TextField\n              readOnly\n              required\n          // eslint-disable-next-line react/jsx-props-no-spreading\n              {...props}\n              error={!!dateError}\n              helperText={dateError || ''}\n            />\n          )}\n        />\n      </LocalizationProvider>\n      <FormStepperNavigation\n        activeStep={activeStep}\n        handleNext={() => submitForm(handleNext)}\n        handlePrevious={handlePrevious}\n        isLast={isLast}\n        isFirst={isFirst}\n      />\n    </BoxForm>\n  );\n}\n\nTitleDateForm.defaultProps = {\n  date: '',\n};\n\nTitleDateForm.propTypes = {\n  activeStep: PropTypes.number.isRequired,\n  date: PropTypes.string,\n  isLast: PropTypes.bool.isRequired,\n  isFirst: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n\n  handleDateChange: PropTypes.func.isRequired,\n  handleNext: PropTypes.func.isRequired,\n  handlePrevious: PropTypes.func.isRequired,\n  handleTitleChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport AddAPhotoIcon from '@mui/icons-material/AddAPhoto';\n\nexport default function ImageSelector({ handleChange }) {\n  return (\n    <Box sx={{ display: 'flex', justifyContent: 'center', pb: 1 }}>\n      <Button\n        variant=\"contained\"\n        component=\"label\"\n        color=\"button\"\n        sx={{\n          borderRadius: 5, border: 2, borderColor: 'primary.main', backgroundColor: 'input.background',\n        }}\n      >\n        <input type=\"file\" hidden multiple accept=\"image/*\" onChange={handleChange} />\n        <Typography variant=\"h6\">Add Pictures</Typography>\n        <AddAPhotoIcon sx={{ fontSize: '2.5rem' }} />\n      </Button>\n    </Box>\n  );\n}\n\nImageSelector.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Radio from '@mui/material/Radio';\nimport { alpha } from '@mui/material/styles';\n\nexport default function ThumbnailChooser({ index, thumbnail, handleThumbnailChange }) {\n  return (\n    <FormControlLabel\n      control={<Radio />}\n      label=\"Thumbnail\"\n      checked={thumbnail === index}\n      onChange={() => handleThumbnailChange(index)}\n      sx={{\n        pr: 1,\n        position: 'absolute',\n        bgcolor: alpha('#fff', 0.6),\n        color: 'black',\n        borderRadius: '0px 5px 5px 0px',\n        borderColor: 'secondary.main',\n        borderLeft: 0,\n        bottom: 20,\n        left: 15,\n      }}\n    />\n  );\n}\n\nThumbnailChooser.propTypes = {\n  index: PropTypes.number.isRequired,\n  thumbnail: PropTypes.number.isRequired,\n  handleThumbnailChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\n\nexport default function SelectedImage({\n  photo, index, setDimensions, thumbnail, resizeHeights,\n}) {\n  const handleImageOnload = (event, heights) => {\n    const originalWidth = event.target.naturalWidth;\n    const originalHeight = event.target.naturalHeight;\n    const images = heights.map((height) => ({\n      height, width: Math.ceil((height * originalWidth) / originalHeight),\n    }));\n    setDimensions(index, images);\n  };\n\n  return (\n    <Box\n      component=\"img\"\n      onLoad={(event) => handleImageOnload(event, resizeHeights)}\n      sx={{\n        border: (thumbnail === index) ? 4 : 0,\n        borderColor: 'primary.main',\n        borderRadius: (thumbnail === index) ? 5 : 0,\n        mb: 1,\n        '&:hover': {\n          border: 5,\n          borderColor: 'secondary.main',\n        },\n      }}\n      src={photo}\n      alt={photo.name}\n      height=\"140px\"\n      width=\"140px\"\n      fit=\"crop\"\n      auto=\"format\"\n      loading=\"lazy\"\n    />\n  );\n}\n\nSelectedImage.propTypes = {\n  photo: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  setDimensions: PropTypes.func.isRequired,\n  thumbnail: PropTypes.number.isRequired,\n  resizeHeights: PropTypes.arrayOf(PropTypes.number).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Divider from '@mui/material/Divider';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\n\nimport RemovePhotoIcon from './RemovePhotoIcon';\nimport ThumbnailChooser from './ThumbnailChooser';\nimport SelectedImage from './SelectedImage';\n\nexport default function ImagePreviewer({\n  imageDetails,\n  handleRemoveImage,\n  thumbnail,\n  handleThumbnailChange,\n  setDimensions,\n  resizeHeights,\n}) {\n  return imageDetails.length\n    ? (\n      <>\n        <Divider />\n        <Typography sx={{ p: 2 }} variant=\"h6\" align=\"center\">\n          Selected Images\n        </Typography>\n        <Grid\n          container\n          alignItems=\"center\"\n          justifyContent=\"space-around\"\n          sx={{ p: 1 }}\n        >\n          {imageDetails.map((photo, index) => (\n            <Button key={photo.url} component=\"div\">\n              <SelectedImage\n                photo={photo.url}\n                index={index}\n                setDimensions={setDimensions}\n                thumbnail={thumbnail}\n                resizeHeights={resizeHeights}\n              />\n              <RemovePhotoIcon handleClick={() => handleRemoveImage(index)} />\n              <ThumbnailChooser\n                index={index}\n                thumbnail={thumbnail}\n                handleThumbnailChange={handleThumbnailChange}\n              />\n            </Button>\n          ))}\n        </Grid>\n      </>\n    )\n    : null;\n}\n\nImagePreviewer.propTypes = {\n  imageDetails: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string,\n    url: PropTypes.string,\n    size: PropTypes.number,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  })).isRequired,\n  handleRemoveImage: PropTypes.func.isRequired,\n  thumbnail: PropTypes.number.isRequired,\n  handleThumbnailChange: PropTypes.func.isRequired,\n  setDimensions: PropTypes.func.isRequired,\n  resizeHeights: PropTypes.arrayOf(PropTypes.number).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Typography from '@mui/material/Typography';\n\nexport default function ErrorText({ text }) {\n  return (\n    <Typography sx={{ color: 'error.main' }}>\n      { text }\n    </Typography>\n  );\n}\n\nErrorText.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\nimport Stack from '@mui/material/Stack';\nimport Dialog from '@mui/material/Dialog';\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport CardContent from '@mui/material/CardContent';\nimport Divider from '@mui/material/Divider';\n\nimport ImageSelector from './ImageSelector';\nimport ImagePreviewer from './ImagePreviewer';\nimport FormStepperNavigation from './FormStepperNavigation';\nimport BoxForm from './BoxForm';\nimport ErrorText from './ErrorText';\n\nexport default function ImageForm({\n  imageDetails,\n  thumbnail,\n  handleSelectedImageChange,\n  handleThumbnailChange,\n  removeSelectedImage,\n  handleNext,\n  handlePrevious,\n  isLast,\n  isFirst,\n  setDimensions,\n  resizeHeights,\n}) {\n  const maxAllowedImages = 15;\n  const minAllowedImages = 1;\n  const [imageError, setImageError] = useState('');\n  const [touched, setTouched] = useState(false);\n  const [totalImages, setTotalImages] = useState(0);\n  const [open, setOpen] = useState(false);\n\n  function isValid() {\n    let valid = true;\n    setImageError('');\n    if (imageDetails.length < minAllowedImages) {\n      setImageError('Need atleast one image to create a memory');\n      valid = false;\n    }\n\n    if (imageDetails.length > maxAllowedImages) {\n      setImageError(`Maximum Allowed Images per Memory: ${maxAllowedImages}`);\n      valid = false;\n    }\n\n    return valid;\n  }\n\n  useEffect(() => {\n    if (touched) isValid();\n  }, [imageDetails, touched]);\n\n  useEffect(() => {\n    if (totalImages < imageDetails.length) {\n      setTotalImages(imageDetails.length);\n    }\n    if (totalImages > imageDetails.length) {\n      setOpen(true);\n    }\n    if (totalImages === imageDetails.length) {\n      setOpen(false);\n    }\n  }, [imageDetails, totalImages]);\n\n  const handleSubmit = (handleCallback) => {\n    if (isValid()) {\n      handleCallback();\n    }\n  };\n\n  const handleImageChange = (event) => {\n    setTouched(true);\n    if (event.target.files) {\n      setTotalImages(event.target.files.length + imageDetails.length);\n    }\n    handleSelectedImageChange(event, isValid);\n  };\n\n  const handleImageDelete = (index) => {\n    setTotalImages((prevCount) => prevCount - 1);\n    removeSelectedImage(index);\n  };\n\n  return (\n    <BoxForm>\n      <Grid item>\n        <ImageSelector\n          handleChange={handleImageChange}\n        />\n      </Grid>\n      <Grid item container direction=\"column\" alignItems=\"center\">\n        <Typography>\n          Total Images Selected:\n          {imageDetails.length}\n          /\n          {maxAllowedImages}\n        </Typography>\n        <ErrorText text={imageError} />\n      </Grid>\n      <FormStepperNavigation\n        handleNext={() => handleSubmit(handleNext)}\n        handlePrevious={handlePrevious}\n        isLast={isLast}\n        isFirst={isFirst}\n      />\n      <Grid item>\n        <ImagePreviewer\n          imageDetails={imageDetails}\n          handleRemoveImage={handleImageDelete}\n          thumbnail={thumbnail}\n          handleThumbnailChange={handleThumbnailChange}\n          setDimensions={setDimensions}\n          resizeHeights={resizeHeights}\n        />\n      </Grid>\n      <Dialog\n        open={open}\n        fullWidth\n        sx={{\n          p: 1,\n        }}\n      >\n        <Card sx={{ maxWidth: 1, p: 1 }}>\n          <CardHeader title=\"Adding Images\" sx={{ textAlign: 'center' }} />\n          <Divider />\n          <CardContent>\n            <Typography variant=\"h6\" sx={{ color: 'muted.main' }}>\n              Total Images Selected:\n              {imageDetails.length}\n              /\n              {maxAllowedImages}\n            </Typography>\n            <Stack justifyContent=\"center\" sx={{ py: 2 }}>\n              <Typography variant=\"h5\" color=\"error\">{imageError}</Typography>\n            </Stack>\n          </CardContent>\n        </Card>\n      </Dialog>\n    </BoxForm>\n  );\n}\n\nImageForm.propTypes = {\n  imageDetails: PropTypes.arrayOf(PropTypes.shape({\n    url: PropTypes.string,\n    name: PropTypes.string,\n    size: PropTypes.number,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  })).isRequired,\n  handleSelectedImageChange: PropTypes.func.isRequired,\n  removeSelectedImage: PropTypes.func.isRequired,\n  thumbnail: PropTypes.number.isRequired,\n  handleThumbnailChange: PropTypes.func.isRequired,\n  handleNext: PropTypes.func.isRequired,\n  handlePrevious: PropTypes.func.isRequired,\n  isLast: PropTypes.bool.isRequired,\n  isFirst: PropTypes.bool.isRequired,\n  setDimensions: PropTypes.func.isRequired,\n  resizeHeights: PropTypes.arrayOf(PropTypes.number).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\nimport { useRef, useEffect } from 'react';\n\nexport default function StoryEditor({\n  storyError, story, handleStoryChange,\n}) {\n  const storyRef = useRef();\n\n  useEffect(() => {\n    storyRef.current.focus();\n  }, []);\n\n  return (\n    <Box\n      sx={{\n        p: 2,\n        m: 1,\n        my: 2,\n        border: 1,\n        borderColor: storyError ? 'error.main' : 'primary.main',\n        bgcolor: 'input.background',\n        minHeight: '200px',\n        borderRadius: 5,\n      }}\n      onClick={() => storyRef.current.focus()}\n    >\n      <TextareaAutosize\n        autoFocus\n        aria-label=\"minimum height\"\n        placeholder=\"Tell your story...\"\n        value={story}\n        onChange={handleStoryChange}\n        style={{\n          width: '100%',\n          minHeight: '184px',\n          maxHeight: '70vh',\n          boxSizing: 'border-box',\n          paddingTop: '5px',\n          border: 0,\n          overflow: 'auto',\n          outline: 'none',\n          resize: 'vertical',\n          borderRadius: 5,\n          '&:focus': {\n            border: 0,\n          },\n        }}\n        ref={storyRef}\n      />\n    </Box>\n  );\n}\n\nStoryEditor.propTypes = {\n  storyError: PropTypes.string.isRequired,\n  //  editorState: PropTypes.instanceOf(EditorState).isRequired,\n  story: PropTypes.string.isRequired,\n  handleStoryChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport 'draft-js/dist/Draft.css';\nimport { useState } from 'react';\nimport Box from '@mui/material/Box';\n\nimport FormStepperNavigation from './FormStepperNavigation';\nimport ErrorText from './ErrorText';\nimport StoryEditor from './StoryEditor';\n\nexport default function StoryForm({\n  story,\n  handleStoryChange,\n  handleNext,\n  handlePrevious,\n  isLast,\n  isFirst,\n  progressDialog,\n}) {\n  const maxStoryLength = 100000;\n  const [storyError, setStoryError] = useState('');\n\n  const submitForm = (handleCallback) => {\n    //  const memoryText = editorState.getCurrentContent().getPlainText();\n    const memoryText = story;\n    if (memoryText.length <= maxStoryLength) {\n      setStoryError('');\n      handleCallback();\n    } else {\n      setStoryError(`Maximum story length is: ${maxStoryLength}`);\n    }\n  };\n\n  return (\n    <>\n      <StoryEditor\n        storyError={storyError}\n        story={story}\n        handleStoryChange={handleStoryChange}\n      />\n      <Box sx={{ p: 1, m: 1 }}>\n        <ErrorText text={storyError} />\n      </Box>\n      <FormStepperNavigation\n        handleNext={() => submitForm(handleNext)}\n        handlePrevious={handlePrevious}\n        isLast={isLast}\n        isFirst={isFirst}\n      />\n      {progressDialog}\n    </>\n  );\n}\n\nStoryForm.propTypes = {\n  story: PropTypes.string.isRequired,\n  handleStoryChange: PropTypes.func.isRequired,\n  handleNext: PropTypes.func.isRequired,\n  handlePrevious: PropTypes.func.isRequired,\n  isLast: PropTypes.bool.isRequired,\n  isFirst: PropTypes.bool.isRequired,\n  progressDialog: PropTypes.node.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Dialog from '@mui/material/Dialog';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport CardContent from '@mui/material/CardContent';\nimport Divider from '@mui/material/Divider';\nimport LinearProgress from '@mui/material/LinearProgress';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport CheckCircleOutlineIcon from '@mui/icons-material/CheckCircleOutline';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\n\nfunction LinearProgressWithLabel({ value }) {\n  return (\n    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n      <Box sx={{ width: '100%', mr: 1 }}>\n        <LinearProgress variant=\"determinate\" value={value} />\n      </Box>\n      <Box sx={{ minWidth: 35 }}>\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          {`${Math.round(\n            value,\n          )}%`}\n        </Typography>\n      </Box>\n    </Box>\n  );\n}\n\nfunction MessageProgress({ message, done }) {\n  let showStatus;\n  if (done === 'failed') {\n    showStatus = <Typography color=\"error.main\">Failed</Typography>;\n  } else if (done === true) {\n    showStatus = <Typography color=\"success.main\">Done</Typography>;\n  } else {\n    showStatus = <CircularProgress size={30} />;\n  }\n  //  showStatus = done ? (\n  //  <Typography color=\"success.main\">Done</Typography>\n  //  ) : (\n  //  <CircularProgress size={30} />\n  //  );\n\n  return (\n    <Box sx={{ display: 'flex', alignItems: 'space-between' }}>\n      <Box sx={{ width: '100%', mr: 1 }}>\n        <Typography>{message}</Typography>\n      </Box>\n      <Box sx={{ minWidth: 35 }}>\n        {showStatus}\n      </Box>\n    </Box>\n\n  );\n}\n\nfunction MemoryCreationStatus({ progress, counter }) {\n  if (progress === 100) {\n    return (\n      <>\n        <Box sx={{\n          display: 'flex', justifyContent: 'center', alignItems: 'center', m: 2,\n        }}\n        >\n          <CheckCircleOutlineIcon color=\"success\" fontSize=\"large\" sx={{ mr: 2 }} />\n          <Typography variant=\"h5\" color=\"primary.main\">Memory Created Successfully</Typography>\n        </Box>\n\n        <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n          <Box>\n            <Typography>Navigating to memories page in </Typography>\n          </Box>\n          <Box sx={{ mx: 1 }}>\n            <Typography variant=\"h6\" color=\"success.main\">\n              {counter}\n            </Typography>\n          </Box>\n          <Box>\n            <Typography>seconds</Typography>\n          </Box>\n        </Box>\n      </>\n    );\n  }\n  if (progress === -1) {\n    return (\n      <>\n        <Box sx={{\n          display: 'flex', justifyContent: 'center', alignItems: 'center', m: 2,\n        }}\n        >\n          <ErrorOutlineIcon color=\"error\" fontSize=\"large\" sx={{ mr: 2 }} />\n          <Typography variant=\"h5\" color=\"primary.main\">Memory Creation Failed</Typography>\n        </Box>\n\n        <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n          <Box>\n            <Typography>Navigating to memories page in </Typography>\n          </Box>\n          <Box sx={{ mx: 1 }}>\n            <Typography variant=\"h6\" color=\"success.main\">\n              {counter}\n            </Typography>\n          </Box>\n          <Box>\n            <Typography>seconds</Typography>\n          </Box>\n        </Box>\n      </>\n    );\n  }\n  return null;\n}\n\nexport default function CreateMemoryProgress({\n  open, progress, messages,\n}) {\n  const [counter, setCounter] = useState(0);\n  useEffect(() => {\n    let timerId;\n    if (counter > 0) {\n      timerId = setTimeout(() => setCounter(counter - 1), 1000);\n    }\n    return () => clearTimeout(timerId);\n  }, [counter]);\n\n  useEffect(() => {\n    if (progress === 100 || progress === -1) setCounter(3);\n  }, [progress]);\n\n  return (\n    <Dialog\n      open={open}\n      fullWidth\n      sx={{\n        p: 1,\n      }}\n\n    >\n      <Card sx={{ maxWidth: 1, p: 1 }}>\n        <CardHeader title=\"Creating Memory\" sx={{ textAlign: 'center' }} />\n        <Divider />\n        <CardContent>\n          <LinearProgressWithLabel value={progress > 0 ? progress : 0} />\n          {messages.map((mesg) => (\n            <MessageProgress key={mesg.message} message={mesg.message} done={mesg.done} />\n          ))}\n          <MemoryCreationStatus progress={progress} counter={counter} />\n        </CardContent>\n      </Card>\n    </Dialog>\n\n  );\n}\n\nMemoryCreationStatus.propTypes = {\n  progress: PropTypes.number.isRequired,\n  counter: PropTypes.number.isRequired,\n};\n\nLinearProgressWithLabel.propTypes = {\n  value: PropTypes.number.isRequired,\n};\n\nMessageProgress.propTypes = {\n  message: PropTypes.string.isRequired,\n  done: PropTypes.bool.isRequired,\n};\n\nCreateMemoryProgress.defaultProps = {\n  messages: [],\n};\n\nCreateMemoryProgress.propTypes = {\n  open: PropTypes.bool.isRequired,\n  progress: PropTypes.number.isRequired,\n  messages: PropTypes.arrayOf(PropTypes.exact(\n    {\n      message: PropTypes.string,\n      done: PropTypes.bool,\n    },\n  )),\n};\n","import api from '../Api';\n\nfunction UploadImages(\n  bucket,\n  authURL,\n  memoryKey,\n  title,\n  imageDetails,\n  imageFiles,\n  incrementImageCount,\n) {\n  const paramList = imageDetails.map((detail, index) => {\n    const imgFile = imageFiles[index];\n    return {\n      Key: ['memories', memoryKey, 'images', detail.name].join('/'),\n      Body: imgFile,\n      ContentType: imgFile.type,\n    };\n  });\n  const uploadPromises = api.uploadMultipleImages(bucket, authURL, paramList, incrementImageCount);\n  return Promise.allSettled(uploadPromises);\n}\n\nasync function ValidateDetails(bucket, authURL, memoryDetails) {\n  const detailsJSON = JSON.stringify(memoryDetails);\n  const validateResp = await api.validateDetails(bucket, authURL, detailsJSON);\n  if (validateResp.status === 'error') {\n    return false;\n  }\n  return validateResp.Valid === true;\n}\n\nasync function UploadDetails(bucket, authURL, memoryDetails) {\n  const detailsJSON = JSON.stringify(memoryDetails);\n  const memoryDetailsKey = ['memories', memoryDetails.key, 'details.json'].join('/');\n  const uploadResp = await api.upload(bucket, authURL, memoryDetailsKey, detailsJSON);\n  return (uploadResp && uploadResp.ok === true);\n}\n\nconst InitializeMemory = async (\n  bucket,\n  authURL,\n  memoryDetails,\n  handleProgress,\n  updateMessageStatus,\n  addMessage,\n) => {\n  handleProgress(0);\n  addMessage('Initializing memory', false);\n  const valid = await ValidateDetails(bucket, authURL, memoryDetails);\n  let initRes;\n  if (valid === true) {\n    initRes = await UploadDetails(bucket, authURL, memoryDetails);\n    updateMessageStatus('Initializing Memory', initRes);\n    handleProgress(10);\n  } else {\n    updateMessageStatus('Initializing Memory', 'failed');\n  }\n  return valid;\n};\n\nconst HandleImages = async (\n  bucket,\n  authURL,\n  memoryKey,\n  title,\n  imageDetails,\n  imageFiles,\n  incrementImageCount,\n  handleProgress,\n) => {\n  const imagesResults = await UploadImages(\n    bucket,\n    authURL,\n    memoryKey,\n    title,\n    imageDetails,\n    imageFiles,\n    incrementImageCount,\n  );\n  for (let i = 0; i < imagesResults.length; i += 1) {\n    if ((imagesResults[i].status === 'rejected') || (imagesResults[i].value.ok !== true)) {\n      return false;\n    }\n  }\n  handleProgress(95);\n  return true;\n};\n\nconst CreateMemory = async (\n  bucket,\n  authURL,\n  memoryDetails,\n  handleProgress,\n  updateMessageStatus,\n  addMessage,\n  imageFiles,\n  incrementImageCount,\n) => {\n  // Validate details and upload if valid\n  const initMemResults = await InitializeMemory(\n    bucket,\n    authURL,\n    memoryDetails,\n    handleProgress,\n    updateMessageStatus,\n    addMessage,\n  );\n\n  let imagesResults;\n  if (initMemResults === true) {\n    // Upload original images\n    imagesResults = await HandleImages(\n      bucket,\n      authURL,\n      memoryDetails.key,\n      memoryDetails.title,\n      memoryDetails.imageDetails,\n      imageFiles,\n      incrementImageCount,\n      handleProgress,\n    );\n\n    if (imagesResults === true) {\n      const finalizeResults = await api.finalizeMemory(bucket, authURL, memoryDetails.key);\n      if (parseInt(finalizeResults.MemoryID, 10) !== memoryDetails.key) {\n        return false;\n      }\n      return true;\n    }\n    updateMessageStatus('Uploading Original Images', 'failed');\n  }\n\n  return false;\n};\n\nexport default { CreateMemory };\n","import { useState, useEffect } from 'react';\n\n//  import { convertToRaw, EditorState } from 'draft-js';\nimport { useNavigate } from 'react-router-dom';\nimport useTitle from '../../hooks/title';\nimport useDate from '../../hooks/date';\nimport useSelectedImages from '../../hooks/selectedImages';\nimport useStory from '../../hooks/story';\nimport useStep from '../../hooks/formStep';\nimport useProgressMessage from '../../hooks/progressMessage';\n\nimport CreateMemoryForm from './CreateMemoryForm';\nimport PreviewMemory from './PreviewMemory';\nimport TitleDateForm from './TitleDateForm';\nimport ImageForm from './ImageForm';\nimport StoryForm from './StoryForm';\nimport CreateMemoryProgress from './CreateMemoryProgress';\nimport MemoryUtils from './MemoryUtils';\n//  import api from '../Api';\n\nfunction getTotalSize(images) {\n  return images.reduce((partialSum, image) => partialSum + image.size, 0);\n}\n\nexport default function ModeContent({ mode, bucket, authURL }) {\n  const navigate = useNavigate();\n  const resizeHeights = [500, 1000, 1500];\n  const stepTitles = [\n    'Enter memory title and date',\n    'Upload Pictures',\n    'Write story',\n  ];\n  const [activeStep, handleNext, handlePrevious, isLast, isFirst] = useStep(stepTitles.length);\n  const [title,, handleTitleChange] = useTitle('');\n  const [date,, handleDateChange] = useDate('');\n  const [\n    imageDetails,\n    thumbnail,\n    handleSelectedImageChange,\n    removeSelectedImage,\n    handleThumbnailChange,\n    setDimensions,\n  ] = useSelectedImages();\n\n  //  const [editorState,, handleEditorStateChange] = useStory(EditorState.createEmpty());\n  const [story,, handleStoryChange] = useStory('');\n  const [open, setOpen] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [messages, addMessage, updateMessageStatus] = useProgressMessage();\n  const [uploadCount, setUploadCount] = useState(0);\n\n  const handleProgress = (progressPercentage) => setProgress(progressPercentage);\n  const incrementImageCount = () => setUploadCount((cnt) => cnt + 1);\n  const imageFiles = imageDetails.map((detail) => detail.imageFile);\n\n  useEffect(() => {\n    const message = `Uploading Original Images (${uploadCount}/${imageDetails.length})`;\n    if (uploadCount >= 0 && progress >= 10) {\n      if (uploadCount === 0) addMessage(message, false);\n      else updateMessageStatus(message, false);\n\n      if (imageDetails.length === uploadCount) updateMessageStatus(message, true);\n    }\n  }, [uploadCount, progress]);\n\n  const TitleDate = (\n    <TitleDateForm\n      activeStep={activeStep}\n      handleNext={handleNext}\n      handlePrevious={handlePrevious}\n      isLast={isLast}\n      isFirst={isFirst}\n      title={title}\n      date={date}\n      handleTitleChange={handleTitleChange}\n      handleDateChange={handleDateChange}\n    />\n  );\n\n  const SelectImages = (\n    <ImageForm\n      imageDetails={imageDetails}\n      handleSelectedImageChange={handleSelectedImageChange}\n      removeSelectedImage={removeSelectedImage}\n      thumbnail={thumbnail}\n      handleThumbnailChange={handleThumbnailChange}\n      handleNext={handleNext}\n      handlePrevious={handlePrevious}\n      isLast={isLast}\n      isFirst={isFirst}\n      setDimensions={setDimensions}\n      resizeHeights={resizeHeights}\n    />\n  );\n\n  const handleSubmit = async () => {\n    // so that the newest memory has the smallest key and so  comes first in s3 listObjects\n    // When this fails wont be there to take blame. Should be dead by then. :-)\n    const memoryKey = new Date(2100, 1, 1).getTime() - Date.now();\n    const memoryDetails = {\n      key: memoryKey,\n      title,\n      date,\n      lastModified: new Date(),\n      imageDetails,\n      //  contentState: convertToRaw(editorState.getCurrentContent()),\n      story,\n      thumbnail: imageDetails[thumbnail],\n      totalSize: getTotalSize(imageDetails),\n    };\n    setOpen(true);\n\n    const created = await MemoryUtils.CreateMemory(\n      bucket,\n      authURL,\n      memoryDetails,\n      handleProgress,\n      updateMessageStatus,\n      addMessage,\n      imageFiles,\n      incrementImageCount,\n    );\n\n    if (created === true) {\n      handleProgress(100);\n    } else {\n      handleProgress(-1);\n    }\n    setTimeout(() => navigate('/memories'), 3000);\n  };\n\n  const ProgressDialog = (\n    <CreateMemoryProgress open={open} progress={progress} messages={messages} />\n  );\n\n  const WriteStory = (\n    <StoryForm\n      story={story}\n      handleStoryChange={handleStoryChange}\n      handleNext={handleSubmit}\n      handlePrevious={handlePrevious}\n      isLast={isLast}\n      isFirst={isFirst}\n      progressDialog={ProgressDialog}\n    />\n  );\n\n  const stepForms = [TitleDate, SelectImages, WriteStory];\n\n  let content;\n\n  const CreateModeContent = CreateMemoryForm(\n    stepTitles.length,\n    stepTitles,\n    stepForms,\n    handleSubmit,\n    activeStep,\n    isLast,\n    handleNext,\n    handlePrevious,\n  );\n  const PreviewModeContent = PreviewMemory(title, date, imageDetails, thumbnail, story);\n  if (mode === 'Create') {\n    content = CreateModeContent;\n  }\n\n  if (mode === 'Preview') {\n    content = PreviewModeContent;\n  }\n\n  return content;\n}\n","import { useState } from 'react';\n\nexport default function useStep(stepCount) {\n  const [activeStep, setActiveStep] = useState(0);\n\n  const handleNext = () => {\n    setActiveStep((activeStep + 1) % stepCount);\n  };\n\n  const handlePrevious = () => {\n    setActiveStep((activeStep - 1 + stepCount) % stepCount);\n  };\n\n  const isLast = activeStep === stepCount - 1;\n  const isFirst = activeStep === 0;\n\n  return [activeStep, handleNext, handlePrevious, isLast, isFirst];\n}\n","import { useState } from 'react';\n\nexport default function useSelectedImages() {\n  const [imageDetails, setImageDetails] = useState([]);\n  const [imageFiles, setImageFiles] = useState([]);\n  const [thumbnail, setThumbnail] = useState(0);\n\n  const handleThumbnailChange = (index) => {\n    setThumbnail(index);\n  };\n\n  const handleSelectedImageChange = (event) => {\n    if (event.target.files) {\n      const files = Array.from(event.target.files);\n      files.forEach((file) => {\n        const image = new Image();\n        image.onload = (e) => {\n          const date = Date.now();\n          const newName = `${date}-${file.name}`;\n          setImageDetails((arr) => arr.concat([\n            {\n              name: newName,\n              size: file.size / (1024 * 1024),\n              url: e.target.src,\n              height: e.target.naturalHeight,\n              width: e.target.naturalWidth,\n              imageFile: file,\n            },\n          ]));\n        };\n        image.src = URL.createObjectURL(file);\n      });\n      setImageFiles((arr) => arr.concat(files));\n      files.map((file) => URL.revokeObjectURL(file)); // avoid memory leak\n    }\n  };\n\n  const removeSelectedImage = (index) => {\n    setImageDetails([\n      ...imageDetails.slice(0, index),\n      ...imageDetails.slice(index + 1),\n    ]);\n\n    setImageFiles([\n      ...imageFiles.slice(0, index),\n      ...imageFiles.slice(index + 1),\n    ]);\n\n    if (index < thumbnail) {\n      handleThumbnailChange(thumbnail - 1);\n    } else if (index === thumbnail) {\n      handleThumbnailChange(0);\n    }\n  };\n\n  const setDimensions = (index, images) => {\n    setImageDetails([\n      ...imageDetails.slice(0, index),\n      {\n        ...imageDetails[index],\n        images,\n      },\n      ...imageDetails.slice(index + 1),\n    ]);\n  };\n\n  return [\n    imageDetails,\n    thumbnail,\n    handleSelectedImageChange,\n    removeSelectedImage,\n    handleThumbnailChange,\n    setDimensions,\n  ];\n}\n","import { useState } from 'react';\n\nexport default function useProgressMessage() {\n  const [messages, setMessages] = useState([]);\n\n  const addMessage = (message, done) => {\n    const newMessage = [{ message, done }];\n    setMessages((arr) => arr.concat(newMessage));\n  };\n\n  const updateMessageStatus = (message, done) => {\n    const newMessage = [{ message, done }];\n    setMessages((arr) => arr.slice(0, -1).concat(newMessage));\n  };\n\n  return [messages, addMessage, updateMessageStatus];\n}\n","import Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport Divider from '@mui/material/Divider';\nimport FormStepper from './FormStepper';\n\nexport default function CreateMemoryForm(\n  stepCount,\n  stepTitles,\n  stepForms,\n  handleSubmit,\n  activeStep,\n) {\n  return (\n    <Grid container justifyContent=\"center\">\n      <Grid\n        item\n        lg={6}\n        xs={12}\n        sx={{\n          boxShadow: 10,\n          borderRadius: 5,\n          bgcolor: 'button.main',\n          mb: 2,\n        }}\n      >\n        <Box>\n          <FormStepper\n            titles={stepTitles}\n            activeStep={activeStep}\n            handleClick={() => {}}\n          />\n          <Divider />\n          {stepForms[activeStep]}\n        </Box>\n      </Grid>\n    </Grid>\n  );\n}\n","import Grid from '@mui/material/Grid';\n\nimport MemoryThumbnail from '../MemoryThumbnail';\nimport MemoryContent from './MemoryContent';\nimport PreviewCardHeader from './PreviewCardHeader';\n\nexport default function PreviewMemory(\n  title,\n  date,\n  imageDetails,\n  thumbnail,\n  story,\n) {\n  return (\n    <Grid container justifyContent=\"space-evenly\" sx={{ p: 0 }}>\n      <Grid\n        item\n        xs={6}\n        sm={4}\n        md={4}\n        lg={3}\n        xl={2}\n        sx={{ px: 1, mb: 1 }}\n      >\n        <PreviewCardHeader title=\"Thumbnail Preview\" />\n        <MemoryThumbnail\n          title={title}\n          date={date || ''}\n          thumbnailImage={(imageDetails.length) > 0 ? imageDetails[thumbnail].url : ''}\n          handleClick={() => {}}\n        />\n      </Grid>\n\n      <Grid\n        item\n        xs={12}\n        lg={9}\n        xl={10}\n      >\n        <PreviewCardHeader title=\"Memory Preview\" />\n        <MemoryContent\n          memTitle={title}\n          memDate={date}\n          memStory={story}\n          memImages={imageDetails.map((image) => ({\n            src: image.url,\n            width: image.width,\n            height: image.height,\n          }))}\n          imageNames={imageDetails.map((image) => image.name)}\n          preview\n        />\n      </Grid>\n    </Grid>\n  );\n}\n","import { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport BasePage from '../base_page';\nimport ToggleViewMode from './ToggleViewMode';\nimport ModeContent from './ModeContent';\n\nexport default function CreateMemory({ bucket, authURL }) {\n  const modes = ['Create', 'Preview'];\n  const [mode, setMode] = useState(modes[0]);\n  const ref = useRef(null);\n\n  return (\n    <BasePage>\n      <ToggleViewMode mode={mode} handleModeChange={setMode} modes={modes} />\n      <ModeContent mode={mode} formRef={ref} bucket={bucket} authURL={authURL} />\n    </BasePage>\n  );\n}\n\nCreateMemory.propTypes = {\n  bucket: PropTypes.string.isRequired,\n  authURL: PropTypes.string.isRequired,\n};\n"],"sourceRoot":""}