"use strict";(self.webpackChunkprelaunch=self.webpackChunkprelaunch||[]).push([[870],{94606:function(t,e,n){var r=n(74165),a=n(15861),c=n(17381);function u(){return(u=(0,a.Z)((0,r.Z)().mark((function t(e,n){var a,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={body:n,method:"PUT"},t.next=4,fetch(e,a).then((function(t){return t}));case 4:return c=t.sent,t.abrupt("return",c);case 8:return t.prev=8,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}e.Z={newCollage:function(t,e){try{var n={collage_id:t};return c.Z.post("authbridge-stage.mymemorystore.in","/api/collage/new",n,JSON.stringify(e))}catch(r){return console.log(r),r}},upload:function(t,e){return u.apply(this,arguments)},listCollages:function(t){try{var e={next_token:t};return c.Z.get("authbridge-stage.mymemorystore.in","/api/collage/list",e)}catch(n){return console.log(n),n}},getThumbnail:function(t){try{var e={collage_id:t};return c.Z.get("authbridge-stage.mymemorystore.in","/api/collage/thumbnail",e)}catch(n){return console.log(n),n}}}},17381:function(t,e,n){var r=n(74165),a=n(15861),c=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){var a,c,u,o,s=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>2&&void 0!==s[2]?s[2]:{},c="https://".concat(e).concat(n),u={method:"GET",credentials:"include",headers:new Headers({"content-type":"application/json"})},c+="?".concat(new URLSearchParams(a).toString()),t.next=6,fetch(c,u);case 6:if((o=t.sent).ok){t.next=13;break}if(401!==o.status){t.next=11;break}return document.cookie="userInfo=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",t.abrupt("return",{status:"unauthenticated"});case 11:if(403!==o.status){t.next=13;break}return t.abrupt("return",{status:"forbidden"});case 13:return t.abrupt("return",o.json());case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),u=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n,a,c){var u,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u="https://".concat(e).concat(n),u+="?".concat(new URLSearchParams(a).toString()),o={method:"POST",credentials:"include",headers:new Headers({"content-type":"application/json"}),body:c},t.abrupt("return",fetch(u,o).then((function(t){return t.ok?t.json():{status:"error"}})));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}();e.Z={get:c,post:u}},36870:function(t,e,n){n.r(e),n.d(e,{default:function(){return i}});var r=n(74165),a=n(15861),c=n(29439),u=n(72791),o=n(94606),s=n(80184);function i(){var t=(0,u.useState)(""),e=(0,c.Z)(t,2),n=e[0],i=e[1],l=(0,u.useState)([]),p=(0,c.Z)(l,2),f=p[0],h=p[1];return(0,u.useEffect)((0,a.Z)((0,r.Z)().mark((function t(){var e,a,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.listCollages(n);case 2:return e=t.sent,a=e.collage_ids.map((function(t){return o.Z.getThumbnail(t)})),i(e.next_token),t.next=7,Promise.allSettled(a);case 7:c=t.sent,h(c),console.log(e,f);case 10:case"end":return t.stop()}}),t)}))),[]),(0,s.jsx)("div",{children:"List Collages"})}}}]);
//# sourceMappingURL=870.0d74cb5a.chunk.js.map