"use strict";(self.webpackChunkprelaunch=self.webpackChunkprelaunch||[]).push([[627],{31652:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(79105);const n={get:async e=>(await a.Z.httpClient("/api/address/get",{id:e},{method:"GET"})).json,delete:async e=>a.Z.httpClient("/api/address/delete",{id:e},{method:"DELETE"}),list:async()=>(await a.Z.httpClient("/api/address/list",{},{method:"GET"})).json,update:async(e,t,s)=>await a.Z.httpClient("/api/address/update",{id:e},{method:"PUT",body:JSON.stringify({id:e,previousData:t,data:s})}),create:async e=>await a.Z.httpClient("/api/address/create",{},{method:"POST",body:JSON.stringify(e)}),setDefault:async e=>(await a.Z.httpClient("/api/address/setDefault",{id:e},{method:"PUT"})).json,getDefault:async()=>(await a.Z.httpClient("/api/address/getDefault",{},{method:"GET"})).json}},20431:(e,t,s)=>{s.d(t,{Z:()=>l});var a=s(32195),n=s(16783),r=s(75627),i=s(46417);function o(e){let{name:t,label:s,helpText:a,readOnly:o,control:l,rules:d}=e;return(0,i.jsx)(r.Qr,{name:t,control:l,rules:d,render:e=>{let{field:{onChange:t,value:r},fieldState:{error:l}}=e;return(0,i.jsx)(n.Z,{fullWidth:!0,variant:"standard",required:"required"in d,id:"outlined-required",label:s,error:!!l,helperText:l?l.message:a,sx:{my:1,minWidth:"75px"},onChange:t,value:r,InputProps:{readOnly:o,shrink:!0},InputLabelProps:{shrink:r},disabled:o})}})}function l(e){let{control:t}=e;return(0,i.jsxs)(a.Z,{direction:"column",sx:{width:"100%",px:1},children:[(0,i.jsx)(o,{name:"name",control:t,label:"Receiver's Name",helpText:"e.g. Nabarun Chatterjee",rules:{required:{value:!0,message:"name is required"},maxLength:{value:50,message:"maximum length for name is 50"}}}),(0,i.jsx)(o,{name:"content",control:t,label:"House no, Street, Locality, etc",helpText:"e.g. 123, A.B. Avenue, Serampore",rules:{required:{value:!0,message:"content is required"},maxLength:{value:300,message:"maximum length for content is 300"}}}),(0,i.jsx)(o,{name:"landmark",control:t,label:"Landmark",helpText:"e.g. Behind Ganesh Temple",rules:{maxLength:{value:300,message:"maximum length for landmark is 300"}}}),(0,i.jsxs)(a.Z,{direction:"row",justifyContent:"space-between",spacing:1,sx:{my:1},children:[(0,i.jsx)(o,{name:"city",control:t,label:"City",helpText:"e.g. Kolkata",rules:{required:{value:!0,message:"city is required"},maxLength:{value:25,message:"maximum length for city is 25"}}}),(0,i.jsx)(o,{name:"state",control:t,label:"State",helpText:"e.g. Karnataka",rules:{required:{value:!0,message:"state is required"},maxLength:{value:25,message:"maximum length for state is 25"}}}),(0,i.jsx)(o,{name:"district",control:t,label:"District",rules:{required:{value:!0,message:"district is required"},maxLength:{value:25,message:"maximum length for district is 25"}}})]}),(0,i.jsxs)(a.Z,{direction:"row",justifyContent:"space-between",spacing:1,sx:{my:1},children:[(0,i.jsx)(o,{name:"pincode",control:t,label:"Pincode",rules:{required:{value:!0,message:"pincode is required"},maxLength:{value:6,message:"maximum length for pincode is 6"}}}),(0,i.jsx)(o,{name:"country",control:t,readOnly:!0,label:"Country"}),(0,i.jsx)(o,{name:"mobile_number",control:t,label:"Mobile Number",rules:{required:{value:!0,message:"mobile number is required"},maxLength:{value:10,message:"maximum length for mobile number is 10"}}})]})]})}o.defaultProps={helpText:"",readOnly:!1,rules:{}}},28616:(e,t,s)=>{s.d(t,{Kn:()=>o,_N:()=>r,dy:()=>n,p6:()=>i,y3:()=>l});var a=s(31652);async function n(e,t){try{const s=await a.Z.list();console.log("resp add",s),e(s.addresses),s.addresses.forEach((e=>{a.Z.get(e.id).then((e=>t(e)))}))}catch(s){console.log(s)}}async function r(e,t){try{t(e,!0,!0);const s=await a.Z.delete(e);console.log("remove address",s),200===s.status?t(e,!1,!0):t(e,!1,!1)}catch(s){console.log(s)}}const i=async(e,t)=>{try{t(!0,!0);const s=await a.Z.create(e);console.log("resp create",s),200===s.status?t(!1,!0):t(!1,!1)}catch(s){console.log(s)}};async function o(e,t){try{console.log("Getting address",e);const s=await a.Z.get(e);return t(s),s}catch(s){return console.log(s),s}}async function l(e,t,s,n){try{console.log("Getting address",e);200===(await a.Z.update(e,t,s)).status?n(!1,!0):n(!1,!1)}catch(r){console.log(r)}}},99478:(e,t,s)=>{s.d(t,{Z:()=>d});var a=s(73428),n=s(93405),r=s(19536),i=s(54641),o=s(56104),l=s(46417);function d(e){let{action:t,component:s,headerAction:d,content:c,componentActions:u}=e;return(0,l.jsxs)(a.Z,{elevation:1,sx:{borderRadius:0,width:{sm:"100%",md:"max-content"},minWidth:"500px",maxWidth:"1150px",bgcolor:"white",display:"flex",alignItems:"start",flexDirection:"column",justifyContent:"start"},children:[(0,l.jsx)(i.Z,{title:t,subheader:s,action:d,titleTypographyProps:{color:"primary.main"},subheaderTypographyProps:{fontWeight:"bold"},sx:{width:"100%","& .MuiCardHeader-action":{alignSelf:"center"}}}),(0,l.jsx)(r.Z,{sx:{borderBottomWidth:3,mb:2},flexItem:!0}),(0,l.jsx)(n.Z,{sx:{width:"100%",p:0},children:c}),(0,l.jsx)(r.Z,{sx:{borderBottomWidth:2,mb:2},flexItem:!0}),(0,l.jsx)(o.Z,{sx:{p:1,pb:2,width:"100%"},children:u})]})}d.defaultProps={headerAction:""}},47344:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(47313);function n(){const[e,t]=(0,a.useState)({open:!1,message:"",messageType:"info"});return[e,(e,s)=>t({open:!0,message:e,messageType:s})]}},51059:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(58467),n=s(31095),r=s(20431),i=s(64198),o=s(99478),l=s(28616),d=s(47344),c=s(75627),u=s(30033),m=s(46417);function h(){let e;const t=(0,a.s0)(),s=(0,a.UO)(),h=(0,a.TH)(),{addressID:g}=s,[p,x]=(0,d.Z)(),{control:y,reset:f,handleSubmit:b,getValues:j,formState:{isDirty:Z,isSubmitting:v}}=(0,c.cI)({defaultValues:async()=>{if(h.state&&"address"in h.state)e=h.state.address;else{const t=await(0,l.Kn)(g,(()=>{}));e=t}return e}}),w=(e,s)=>{e?x("Updating Address","info"):(s?x("Address Updated!","success"):x("Address Creation Failed!","error"),setTimeout((()=>x("Navigating to Your Addresses","info")),2e3),setTimeout((()=>t(u.j.ADDRESS_LIST_URL)),4e3))};return console.log("Address",Z,j()),(0,m.jsx)(i.Z,{notify:p,routeNameMap:u.$,children:(0,m.jsx)(o.Z,{action:"Edit",component:"Address",content:(0,m.jsx)(r.Z,{control:y}),componentActions:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(n.Z,{variant:"outlined",onClick:()=>f(e),disabled:!Z||v||p.open,children:"Reset"}),(0,m.jsx)(n.Z,{variant:"contained",disabled:!Z||v||p.open,onClick:b((t=>(0,l.y3)(g,e,t,w))),children:v?"Updating ...":"Update"})]})})})}}}]);