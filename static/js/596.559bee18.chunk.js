"use strict";(self.webpackChunkprelaunch=self.webpackChunkprelaunch||[]).push([[596],{99596:function(t,e,n){n.r(e),n.d(e,{default:function(){return m}});var r=n(29439),a=n(74165),u=n(1413),c=n(45987),i=n(15861),s=n(58467),l=n(95739),o=n(25173),p=n(46417),f=["src","file"];function h(t){return g.apply(this,arguments)}function g(){return(g=(0,i.Z)((0,a.Z)().mark((function t(e){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.next=3,Promise.allSettled(Object.entries(e).map((function(t){var e=(0,r.Z)(t,2),a=e[0],u=e[1];return fetch(u).then((function(t){return t.blob()})).then((function(t){n[a]=t}))})));case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(t,e,n,r){return d.apply(this,arguments)}function d(){return(d=(0,i.Z)((0,a.Z)().mark((function t(e,n,r,u){var c,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(n);case 2:return c=t.sent,u(),t.next=6,Promise.allSettled(e.map((function(t){return new Promise((function(e){var n=t.naturalWidth,a=t.naturalHeight,u=t.title,i=t.aspectRatio,s=t.type,l=t.targetAspectRatio,o=c[u],p=new Image;p.onload=function(t){var c=t.target.src,p={title:u,src:c,naturalHeight:a,naturalWidth:n,aspectRatio:i,targetAspectRatio:l,type:s,file:o};r(),e(p)},p.src=URL.createObjectURL(o)}))})));case 6:return i=t.sent,t.abrupt("return",i.map((function(t){return t.value})));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(){var t=(0,s.UO)().collageID,e=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n,r){var i,s,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Z.getCollage(t);case 2:return i=e.sent,e.next=5,Z(i.details.images,i.urls,r,(function(){n(i.details.images.length)}));case 5:return s=e.sent,o=s.map((function(t){t.src,t.file;return(0,c.Z)(t,f)})),e.abrupt("return",{details:(0,u.Z)((0,u.Z)({},i.details),{},{images:o}),images:s});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,p.jsx)(o.Z,{getCollage:e,clearCollage:function(){return l.Z.deleteCollage(t)},saveType:"existing"})}}}]);