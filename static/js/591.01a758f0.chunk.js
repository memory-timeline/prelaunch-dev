"use strict";(self.webpackChunkprelaunch=self.webpackChunkprelaunch||[]).push([[591],{72429:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(47131),o=n(11198),i=n(46417);function r(e){let{handleClose:t}=e;return(0,i.jsx)(a.Z,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,i.jsx)(o.Z,{})})}},58587:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(47313);function o(){const[e,t]=(0,a.useState)([0,0]);return(0,a.useLayoutEffect)((()=>{function e(){t([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),e}},56647:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Et});var a=n(47313),o=n(9019),i=n(73428),r=n(44183),s=n(16957),l=n(54641),c=n(94469),d=n(33604),h=n(96467);const g=n.p+"static/media/February.3e139cde496c24d811f8.jpeg",m=n.p+"static/media/March.4d253c6abff9c67c87bc.jpeg",u=n.p+"static/media/April.453b743d7bc16b3b1886.jpeg",p=n.p+"static/media/May.87697cadfa4c64d69285.jpeg",x=(0,a.createContext)({});var f=n(58587);var b=n(1413);const w=n.p+"static/media/January.f631bfe587ab40ca785b.jpeg",y=n.p+"static/media/June.3082b41ae5798335b32a.jpeg",C=n.p+"static/media/July.e436e047a1a9dbb89599.jpeg",v=n.p+"static/media/August.fcf8c1e87674967c75f6.jpeg",j=n.p+"static/media/September.5167afdb1086b7660649.jpeg",Z=n.p+"static/media/October.fce013a8cad5d39991f3.jpeg",D=n.p+"static/media/November.fb218e2f2804d4eec8f6.jpeg",I=n.p+"static/media/December.a5f762212b6c69a22b70.jpeg";var S=n(58018),W=n(71829),F=n(47597);const H=603.74,k={monthList:["January","February","March","April","May","June","July","August","September","October","November","December"],months:{January:{days:31,firstDay:4},February:{days:28,firstDay:0},March:{days:31,firstDay:0},April:{days:30,firstDay:3},May:{days:31,firstDay:5},June:{days:30,firstDay:1},July:{days:31,firstDay:3},August:{days:31,firstDay:6},September:{days:30,firstDay:2},October:{days:31,firstDay:4},November:{days:30,firstDay:0},December:{days:31,firstDay:2}},year:2026,padding:50,lineWidth:.5,cutLength:40,cutColor:"black",monthCanvas:{Browser:{width:427,height:427/.707},A3:{width:3508,height:4961,minWidth:842,minHeight:1191,printWidth:11.7,printHeight:16.5,rows:1,columns:1,sheets:12},A5:{width:1754,height:2480,minWidth:420,minHeight:595,printWidth:6,printHeight:8.47,rows:2,columns:2,sheets:3},A6:{minWidth:298,minHeight:421,printWidth:4.13,printHeight:5.85,width:1240,height:1754,rows:4,columns:2,sheets:2,rotateRequired:!0},A7:{minWidth:210,minHeight:298,printWidth:2.91,printHeight:4.13,width:878,height:1240,rows:4,columns:4,sheets:1}},printCanvas:{width:3508,height:4961},pdfOptions:{orientation:"p",unit:"in",format:[12.5,18.5]},maxCanvasWidth:2e3,monthItemWidth:427,monthItemHeight:H,social:{Facebook:{path:"M 20 10 c 0 -5.52 -4.48 -10 -10 -10 S 0 4.48 0 10 c 0 4.84 3.44 8.87 8 9.8 V 13 H 6 v -3 h 2 V 7.5 C 8 5.57 9.57 4 11.5 4 H 14 v 3 h -2 c -0.55 0 -1 0.45 -1 1 v 2 h 3 v 3 h -3 v 6.95 c 5.05 -0.5 9 -4.76 9 -9.95 z",Icon:S.Z,color:"#4267B2",text:"colorfulpossibilities"},Instagram:{path:"M 5.8 0 h 8.4 C 17.4 0 20 2.6 20 5.8 v 8.4 a 5.8 5.8 0 0 1 -5.8 5.8 H 5.8 C 2.6 20 0 17.4 0 14.2 V 5.8 A 5.8 5.8 0 0 1 5.8 0 m -0.2 2 A 3.6 3.6 0 0 0 2 5.6 v 8.8 C 2 16.39 3.61 18 5.6 18 h 8.8 a 3.6 3.6 0 0 0 3.6 -3.6 V 5.6 C 18 3.61 16.39 2 14.4 2 H 5.6 m 9.65 1.5 a 1.25 1.25 0 0 1 1.25 1.25 A 1.25 1.25 0 0 1 15.25 6 A 1.25 1.25 0 0 1 14 4.75 a 1.25 1.25 0 0 1 1.25 -1.25 M 10 5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 a 5 5 0 0 1 5 -5 m 0 2 a 3 3 0 0 0 -3 3 a 3 3 0 0 0 3 3 a 3 3 0 0 0 3 -3 a 3 3 0 0 0 -3 -3 z",Icon:W.Z,color:"#E1306C",text:"colorfulpossibilities"},Whatsapp:{path:"M 14.75 11.96 c 0.25 0.13 0.41 0.2 0.46 0.3 c 0.06 0.11 0.04 0.61 -0.21 1.18 c -0.2 0.56 -1.24 1.1 -1.7 1.12 c -0.46 0.02 -0.47 0.36 -2.96 -0.73 c -2.49 -1.09 -3.99 -3.75 -4.11 -3.92 c -0.12 -0.17 -0.96 -1.38 -0.92 -2.61 c 0.05 -1.22 0.69 -1.8 0.95 -2.04 c 0.24 -0.26 0.51 -0.29 0.68 -0.26 h 0.47 c 0.15 0 0.36 -0.06 0.55 0.45 l 0.69 1.87 c 0.06 0.13 0.1 0.28 0.01 0.44 l -0.27 0.41 l -0.39 0.42 c -0.12 0.12 -0.26 0.25 -0.12 0.5 c 0.12 0.26 0.62 1.09 1.32 1.78 c 0.91 0.88 1.71 1.17 1.95 1.3 c 0.24 0.14 0.39 0.12 0.54 -0.04 l 0.81 -0.94 c 0.19 -0.25 0.35 -0.19 0.58 -0.11 l 1.67 0.88 M 10 0 a 10 10 0 0 1 10 10 a 10 10 0 0 1 -10 10 c -1.97 0 -3.8 -0.57 -5.35 -1.55 L 0 20 l 1.55 -4.65 A 9.969 9.969 0 0 1 0 10 A 10 10 0 0 1 10 0 m 0 2 a 8 8 0 0 0 -8 8 c 0 1.72 0.54 3.31 1.46 4.61 L 2.5 17.5 l 2.89 -0.96 A 7.95 7.95 0 0 0 10 18 a 8 8 0 0 0 8 -8 a 8 8 0 0 0 -8 -8 z",Icon:F.Z,color:"#128C7E",text:"7975218926"}},themes:{contextual:{monthWidth:427,monthHeight:H,imageWidthFrac:1,imageHeightFrac:.6,dateWidthFrac:1,dateHeightFrac:.4,paddingFrac:.0375,brandingHeightFrac:.0375,brandingWidthFrac:1,brandingBorderRadiusFrac:.0075,brandingPaddingYFrac:.00375,brandingMarginTFrac:.00375,brandingBorderRadius:.0075,backgroundColor:"rgba(255, 255, 255, 0.8)",months:{January:{image:w},February:{image:g},March:{image:m},April:{image:u},May:{image:p},June:{image:y},July:{image:C},August:{image:v},September:{image:j},October:{image:Z},November:{image:D},December:{image:I}},brand:[{text:"Colorful Possibilities",fontFamily:"KaushanScript",fontSize:"0.4rem",color:"brown"},{text:" by MemoryTimeline",fontFamily:"sans-serif",fontSize:"0.4rem",color:"brown"}],social:[{text:"colorfulpossibilities",fontFamily:"sans-serif",fontSize:"0.4rem",color:"#4267B2"},{text:"colorfulpossibilities",fontFamily:"sans-serif",fontSize:"0.4rem",color:"#E1306C"},{text:"7975218926",fontFamily:"sans-serif",fontSize:"0.4rem",color:"#E1306C"}]}},icons:{cake:{color:"#FF5B61",path:"M 9 6 c 1.11 0 2 -0.9 2 -2 c 0 -0.38 -0.1 -0.73 -0.29 -1.03 L 9 0 l -1.71 2.97 c -0.19 0.3 -0.29 0.65 -0.29 1.03 c 0 1.1 0.9 2 2 2 m 4.6 9.99 l -1.07 -1.07 l -1.08 1.07 c -1.3 1.3 -3.58 1.31 -4.89 0 l -1.07 -1.07 l -1.09 1.07 C 3.75 16.64 2.88 17 1.96 17 c -0.73 0 -1.4 -0.23 -1.96 -0.61 V 21 c 0 0.55 0.45 1 1 1 h 16 c 0.55 0 1 -0.45 1 -1 v -4.61 c -0.56 0.38 -1.23 0.61 -1.96 0.61 c -0.92 0 -1.79 -0.36 -2.44 -1.01 M 15 9 h -5 V 7 h -2 v 2 H 3 c -1.66 0 -3 1.34 -3 3 v 1.54 c 0 1.08 0.88 1.96 1.96 1.96 c 0.52 0 1.02 -0.2 1.38 -0.57 l 2.14 -2.13 l 2.13 2.13 c 0.74 0.74 2.03 0.74 2.77 0 l 2.14 -2.13 l 2.13 2.13 c 0.37 0.37 0.86 0.57 1.38 0.57 c 1.08 0 1.96 -0.88 1.96 -1.96 V 12 C 18 10.34 16.66 9 15 9"},favorite:{color:"red",path:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"},home:{color:"#5F9EA0",path:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},travel:{color:"blue",path:"M2.5 19h19v2h-19v-2zm19.57-9.36c-.21-.8-1.04-1.28-1.84-1.06L14.92 10l-6.9-6.43-1.93.51 4.14 7.17-4.97 1.33-1.97-1.54-1.45.39 2.59 4.49s7.12-1.9 16.57-4.43c.81-.23 1.28-1.05 1.07-1.85z"}},textSettings:{brand:{text:"Colorful Possibilities",color:"brown"},company:{text:" by MemoryTimeline",color:"black"}}},M={aspectRatio:.707,potrait:{defaultMonthWidth:427,imageHeightFraction:.6,dateHeightFraction:.4,brandingHeightFraction:.075,bindingHeightFraction:.05,dateBoxHeightFraction:.95},landscape:{defaultMonthWidth:603.96,imageWidthFraction:.5,dateWidthFraction:.5,brandingHeightFraction:.1,bindingHeightFraction:.070722,yearBoxHeightFraction:.15,dateBoxHeightFraction:.7},smallScreenWidthFraction:.95,backgroundColor:"rgba(255,255,255,0.8)",branding:{brandText:"Colorful Possibilities",companyText:"by MemoryTimeline"},social:{Facebook:{path:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z",Icon:S.Z,color:"#4267B2",text:"colorfulpossibilities"},Instagram:{path:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z",Icon:W.Z,color:"#E1306C",text:"colorfulpossibilities"},Whatsapp:{path:"M16.75 13.96c.25.13.41.2.46.3.06.11.04.61-.21 1.18-.2.56-1.24 1.1-1.7 1.12-.46.02-.47.36-2.96-.73-2.49-1.09-3.99-3.75-4.11-3.92-.12-.17-.96-1.38-.92-2.61.05-1.22.69-1.8.95-2.04.24-.26.51-.29.68-.26h.47c.15 0 .36-.06.55.45l.69 1.87c.06.13.1.28.01.44l-.27.41-.39.42c-.12.12-.26.25-.12.5.12.26.62 1.09 1.32 1.78.91.88 1.71 1.17 1.95 1.3.24.14.39.12.54-.04l.81-.94c.19-.25.35-.19.58-.11l1.67.88M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10c-1.97 0-3.8-.57-5.35-1.55L2 22l1.55-4.65A9.969 9.969 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 1.72.54 3.31 1.46 4.61L4.5 19.5l2.89-.96A7.95 7.95 0 0 0 12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8z",Icon:F.Z,color:"#128C7E",text:"7975218926"}},months:{January:{image:w},February:{image:g},March:{image:m},April:{image:u},May:{image:p},June:{image:y},July:{image:C},August:{image:v},September:{image:j},October:{image:Z},November:{image:D},December:{image:I}}};var A=n(46417);function B(e){let{handleChange:t,handleEditChange:n,MonthComp:a,DateComp:o,ImageComp:i}=e;return k.monthList.map((e=>(0,A.jsx)(a,{month:e,year:k.year,handleChange:t,handleImageEdit:t=>{var a;if(!t.current)return;const{width:o,height:i,x:r,y:s}=null===(a=t.current)||void 0===a?void 0:a.getCroppingRect();n({cropWidth:o,cropHeight:i,x:r,y:s},e)},ImageComp:i,DateComp:o},e)))}function T(e){let{handleImageChange:t,handleEditChange:n,MonthComp:a,DateComp:i,ImageComp:r}=e;return(0,A.jsx)(o.ZP,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",sx:{backgroundColor:"black",mt:0},rowSpacing:2,children:(0,A.jsx)(B,{handleChange:t,handleEditChange:n,spacing:2,MonthComp:a,ImageComp:r,DateComp:i})})}const R=(0,a.memo)(T);const E={generateCalendar:function(e,t){const n=[];let a=new Array(t).fill(0),o=1;for(;o<=e;)a.push(o),o+=1,7===a.length&&(n.push(a),a=[]);if(a.length>0){for(;a.length<7;)a.push(0);n.push(a)}return n},renderImage:function(e,t){const{width:n,height:a}=e.canvas,o=new Image;o.onload=()=>{const i=n/a,r=t.width/t.height;let s,l,c,d;r>i?(s=a*r,l=a,c=-(s-n)/2,d=0):(s=n,l=n/r,c=0,d=-(l-a)/2),e.drawImage(o,c,d,s,l)},o.src=t.src},resizeImageSlowly:function(e,t,n,a,o){console.log("image resize start",e.src,new Date);const i=document.createElement("canvas");i.width=t,i.height=n;const r=i.getContext("2d"),s=t/n;let l,c,[d,h]=[t,n];r.webkitImageSmoothingEnabled=!1,r.mozImageSmoothingEnabled=!1,r.imageSmoothingEnabled=!1;const g=Math.floor(Math.log2(t/a));if(0===g)r.drawImage(e,0,0,d,h,0,0,a,o);else{for(let t=0;t<g;t+=1)l=d/2,c=l/s,0===t?r.drawImage(e,0,0,d,h,0,0,l,c):r.drawImage(i,0,0,d,h,0,0,l,c),d=l,h=c;r.drawImage(i,0,0,d,h,0,0,a,o)}const m=document.createElement("canvas");return m.width=a,m.height=o,m.getContext("2d").drawImage(i,0,0,a,o,0,0,a,o),console.log("image resize end",e.src,new Date),m},imagePosition:function(e,t,n,a){const o=n/a;let i,r,s,l;return o>e/t?(i=t*o,r=t,s=(i-e)/2,l=0):(i=e,r=e/o,s=0,l=(r-t)/2),[parseFloat(i.toFixed(5)),parseFloat(r.toFixed(5)),s,l]},getCanvasDimensions:(e,t,n,a)=>{let o,i;if(n.width<e||n.height<t){const a=e/t;n.width/n.height>a?(o=n.height,i=o*(e/t)):(i=n.width,o=i/(e/t))}else o=t,i=e;const r=i>a?a:i,s=r*o/i;return console.log("in get canvas dimensions",e,t,parseFloat(r.toFixed(5)),parseFloat(s.toFixed(5))),[parseFloat(r.toFixed(5)),parseFloat(s.toFixed(5))]},getImageDets:function(e,t,n,a){const{lastModified:o,size:i,name:r,type:s}=e;return{height:n,lastModified:o,rawFile:e,size:i,src:a.src,title:r,type:s,width:t}}},Y=E;function X(e,t,n){const a=e.getContext("2d");return a.canvas.width=t,a.canvas.height=n,a.webkitImageSmoothingEnabled=!1,a.mozImageSmoothingEnabled=!1,a.imageSmoothingEnabled=!1,a.clearRect(0,0,t,n),a}function z(e,t,n,a,o,i,r){if(console.log("render image",t),"elem"in t){const{width:s,height:l,elem:c}=t,[d,h,g,m]=Y.imagePosition(n,a,s,l),u=Y.resizeImageSlowly(c,s,l,d,h);e.drawImage(u,"x"in t?t.x*d:g,"y"in t?t.y*h:m,n,a,o,i,n,a),r()}else!function(e,t,n,a,o,i,r){console.log("image timer render start",t.src,new Date);const s=new Image;s.onerror=()=>{console.log("Error while loading image",t)},s.onload=()=>{console.log("image timer load",t.src,new Date);const{naturalWidth:l,naturalHeight:c}=s,[d,h,g,m]=Y.imagePosition(n,a,l,c),u=Y.resizeImageSlowly(s,l,c,d,h);e.drawImage(u,"x"in t?t.x*d:g,"y"in t?t.y*h:m,n,a,o,i,n,a),r(),console.log("image timer finished",t.src,new Date)},s.src=t.src}(e,t,n,a,o,i,r)}const L=(e,t,n,a,o,i)=>{e.fillStyle=n,e.save(),e.translate(o,i),e.scale(t,t),e.fill(new Path2D(a)),e.restore()};function O(e,t,n,a,o,i){let r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"start",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";e.save(),e.font=n,e.fillStyle=a,e.textAlign=r,""!==s&&(e.textBaseline=s),console.log("in render text",t,o,e.textAlign,n,o,i,r,s),e.fillText(t,o,i);const l=e.measureText(t);return e.restore(),l}const P=(e,t,n,a,o,i,r,s)=>{const{color:l,path:c,text:d}=n;L(e,t,l,c,o,i),O(e," ".concat(d),a,l,r,s)};function J(e,t,n,a,o,i,r){e.beginPath(),e.roundRect(t,n,a,o,[i]),e.fillStyle=r,e.fill()}function N(e,t,n,a,o,i,r,s){e.save(),e.textAlign="center",e.textBaseline="bottom";const{cake:l,favorite:c,home:d,travel:h}=k.icons;"Birthday"===r?L(e,t,l.color,l.path,n,a):"Home"===r?L(e,t,d.color,d.path,n,a):"Travel"===r?L(e,t,h.color,h.path,n,a):"Anniversary"===r?L(e,t,c.color,c.path,n,a):"Other"===r&&(e.fillStyle="brown",e.fillText(0===s?" ":s,o,i)),e.restore()}const U={initialize:X,renderImage:z,socialBrand:P,drawLine:function(e,t,n,a,o,i,r){e.save(),e.beginPath(),e.moveTo(t,n),e.lineTo(a,o),e.strokeStyle=i,e.lineWidth=r,e.stroke(),e.restore()},drawIcon:L,renderDateBoxArea:function(e,t,n,a){const{width:o,height:i,startX:r,startY:s}=t;console.log("in render date box area",t,n),z(e,n,o,i,r,s,a)},renderSpecialDates:N,renderDates:function(e,t,n,a){e.save(),e.textAlign="center",e.textBaseline="alphabetic";const{letterHeight:o,letterWidth:i,startX:r,startY:s,scale:l,width:c,height:d,font:h}=t;e.font=h;const g=(c-7*i)/6,m=(d-n.length*o)/n.length;n.forEach(((t,n)=>{t.forEach(((t,c)=>{const d=r+g*c+i*c+i/2,h=s+n*m+n*o;t in a?N(e,l,d-i/2,h-i,d,h,a[t],t):0===c||6===c?(e.fillStyle="red",e.fillText(0===t?" ":t,d,h)):(e.fillStyle="black",e.fillText(0===t?" ":t,d,h))}))})),e.restore()},renderWeekRow:function(e,t){e.save(),e.textAlign="center",e.font=t.font;const n=(t.width-7*t.letterWidth)/6;t.letters.forEach(((a,o)=>{e.fillStyle=0===o||6===o?"red":"black",e.fillText(a,t.startX+n*o+t.letterWidth*o+t.letterWidth/2,t.startY)})),e.restore()},renderText:O,renderRoundedRect:J,renderBranding:function(e,t){const{Facebook:n,Instagram:a,Whatsapp:o}=k.social,{scale:i,bfr:r,bstx:s,bsty:l,iconWidth:c}=t;J(e,t.bsx,t.bsy,t.bw,t.bh,t.br,t.bc),e.textAlign="start",e.textBaseline="middle";const{brand:d,company:h}=k.textSettings,g=O(e,d.text,t.bf,d.color,s,l),m=O(e,h.text,t.bfr,h.color,s+g.width,l),u=g.width+m.width;e.font=r;const p=e.measureText(n.text),x=e.measureText(o.text),f=u+2*p.width+x.width,b=(t.bw-t.bstx-f)/3,w=s+u+b,y=w-c,C=l-c/2,v=b+p.width;P(e,i,n,r,y,C,w,l),P(e,i,a,r,y+v,C,w+v,l),P(e,i,o,r,y+2*v,C,w+2*v,l)},generateDates:function(e,t,n,a,o,i,r,s,l,c,d,h,g){const[m,u]="width"in i?Y.getCanvasDimensions(r,s,{width:i.width,height:i.height},l):[r,s],p=X(e,m,u),x=h(m,u),f=Y.generateCalendar(a,o),b=()=>g(p,x,t,n,d,f,c),{width:w,height:y,startX:C,startY:v}=x.dateBoxArea;return"width"in i?z(p,i,w,y,C,v,b):b(),e},generateImage:(e,t,n,a,o,i)=>{const[r,s]=Y.getCanvasDimensions(n,a,t,o),l=X(e,r,s);return t&&z(l,t,r,s,0,0,i),e}};const V=(e,t)=>{console.log("in get config",e,t);const n=427,a=n/.707,o=16*e/n,i=16*e/n,r=t;return{dateBoxArea:{width:e,height:t,startX:0,startY:0,endX:e,endY:t,bgcolor:"white"},dateBox:{width:e-2*o,height:.95*r-2*o,startX:o,startY:0+o,endX:e-o,endY:.95*t-o,radius:10*e/n,color:"rgba(255,255,255,0.8)"},branding:{bsx:o,bsy:.95*t-o+1.3*t*8/a,bw:e-2*o,bh:.075*t,br:5*e/n,bf:"bold ".concat(.5*i,"px KaushanScript"),bfr:"bold ".concat(.4*i,"px sans-serif"),bc:"rgba(255,255,255,1)",bstx:2*o,bsty:.95*t-o+1.3*t*8/a+.075*t/2,scale:16*e*.4/8540,iconWidth:16*e*.4/n},year:{startX:e-2*o,startY:0+2*o+1*i,color:"green",font:"bold ".concat(1*i,"px sans-serif")},month:{startX:2*o,startY:0+2*o+1*i,color:"green",font:"bold ".concat(1*i,"px sans-serif")},divider:{startX:2*o,startY:0+2*o+1.5*i*1,endX:e-2*o,endY:0+2*o+1.5*i*1,color:"rgba(0, 0, 0, 0.12)",lineWidth:2},weekRow:{letters:["S","M","T","W","T","F","S"],letterWidth:16*e/n,startX:2*o,startY:0+2*o+1.5*i*1.9+2,endX:e-2*o,width:e-4*o,font:"bold ".concat(i,"px sans-serif")},dates:{letters:["S","M","T","W","T","F","S"],letterWidth:16*e*.8/n,letterHeight:.8*i*1.5,startX:2*o,startY:0+2*o+1.5*i*2.8,endX:e-2*o,width:e-4*o,height:.95*r-4*o-1.5*i*1.9,font:"bold ".concat(.8*i,"px sans-serif"),scale:16*e*.8/8540,iconWidth:16*e*.8/n}}},K=function(e,t,n,a,o,i,r){const{dateBox:s,month:l,divider:c}=t;U.renderRoundedRect(e,s.startX,s.startY,s.width,s.height,s.radius,s.color),function(e,t,n){e.save(),e.textAlign="right",e.font=t.font,e.fillStyle=t.color,e.fillText(n,t.startX,t.startY),e.restore()}(e,t.year,n),U.renderText(e,a.toUpperCase(),l.font,l.color,l.startX,l.startY),U.drawLine(e,c.startX,c.startY,c.endX,c.endY,c.color,c.lineWidth),U.renderWeekRow(e,t.weekRow);const d=a in o?o[a]:{};U.renderDates(e,t.dates,i,d,a),U.renderBranding(e,t.branding),r()};const q=(e,t)=>{const{yearBoxHeightFraction:n,dateBoxHeightFraction:a}=M.landscape;console.log("in get config",e,t);const o=301.98,i=8*e/o,r=10*e/o,s=16*e/o,l=t,c="rgba(255,255,255,0.8)",d={width:e,height:t,startX:0,startY:0,endX:e,endY:t,bgcolor:"white"},h={width:e-4*i,height:(d.height-4*i)*n,startX:2*i,startY:d.startY+2*i,radius:r,color:c,marginBottom:8*e/o},g={startX:h.startX+2*i,startY:h.startY+2*i+2*s*1.5/2,color:"green",font:"bold ".concat(2*s,"px sans-serif"),width:h.width-4*i},m={width:e-4*i,height:(d.height-4*i)*a,startX:2*i,startY:d.startY+2*i+h.height+h.marginBottom,radius:r,color:c},u={letters:["S","M","T","W","T","F","S"],letterWidth:20*e*.9/o,startX:4*i,startY:m.startY+2*i+.9*s,endX:e-4*i,width:e-8*i,font:"bold ".concat(.9*s,"px sans-serif")},p={letters:["S","M","T","W","T","F","S"],letterWidth:16*e*.8/o,letterHeight:.8*s*1.5,startX:4*i,startY:u.startY+.9*s*.5+.8*s,endX:e-4*i,width:e-8*i,height:m.height-(u.startY-m.startY),font:"bold ".concat(.8*s,"px sans-serif"),scale:16*e*.8/6039.6,iconWidth:16*e*.8/o};return{dateBoxArea:d,yearBox:h,dateBox:m,branding:{startX:2*i,startY:0+4*i+.85*(l-4*i),width:e-4*i,height:.1*(t-4*i),radius:5*e/o,bf:"bold ".concat(.6*s,"px KaushanScript"),bfmr:"bold ".concat(.5*s,"px sans-serif"),bfr:"bold ".concat(.4*s,"px sans-serif"),color:"rgba(255,255,255,1)",bstx:4*i,bsty:0+4*i+.85*(l-4*i)+.1*(t-4*i)/2,bssy:0+4*i+.85*(l-4*i)+i,scale:6.4*e/6039.6,iconWidth:6.4*e/o,linecolor:"rgba(0, 0, 0, 0.12)",bley:0+4*i+.85*(l-4*i)+.1*(t-4*i)-i,lineWidth:2*t/(603.96/.707),contentWidth:e-8*i,contentHeight:.1*(t-4*i)-2*i},year:g,weekRow:u,dates:p}},G=function(e,t,n,a,o,i,r){const{yearBox:s,dateBox:l}=t;U.renderRoundedRect(e,s.startX,s.startY,s.width,s.height,s.radius,s.color),U.renderRoundedRect(e,l.startX,l.startY,l.width,l.height,l.radius,l.color),function(e,t,n,a){console.log("in render year"),e.font=t.font,e.fillStyle=t.color;const o=e.measureText(a),i=e.measureText(n),r=t.width-(o.width+i.width);e.fillText(a,t.startX,t.startY),e.fillText(n,t.startX+o.width+r,t.startY)}(e,t.year,n,a),U.renderWeekRow(e,t.weekRow);const c=a in o?o[a]:{};U.renderDates(e,t.dates,i,c,a),((e,t)=>{e.textAlign="start",((e,t)=>{e.beginPath(),e.roundRect(t.startX,t.startY,t.width,t.height,[t.radius]),e.fillStyle=t.color,e.fill()})(e,t);const n="Colorful Possibilities";e.textBaseline="middle",e.fillStyle="brown",e.font=t.bf;const a=e.measureText(n);e.fillText(n,t.bstx,t.bsty),e.fillStyle="black",e.font=t.bfmr;const o=" by MemoryTimeline",i=e.measureText(o);e.fillText(o,t.bstx+a.width,t.bsty);const{Facebook:r,Instagram:s,Whatsapp:l}=M.social;e.font=t.bfr;const c=e.measureText(r.text),d=(t.contentWidth-(a.width+i.width+t.lineWidth+t.iconWidth+c.width))/2,h=(t.contentHeight-3*t.iconWidth)/2;console.log("branding gap",d,h,t);const{bssy:g,bley:m,linecolor:u,lineWidth:p,scale:x,bfr:f}=t,b=t.bstx+a.width+i.width+d;U.drawLine(e,b,g,b,m,u,p);const w=b+p+d;e.textBaseline="ideographic",U.socialBrand(e,x,r,f,w,g,w+t.iconWidth,g+t.iconWidth),U.socialBrand(e,x,s,f,w,t.bssy+t.iconWidth+h,w+t.iconWidth,t.bssy+2*t.iconWidth+h),e.textBaseline="alphabetic",U.socialBrand(e,x,l,f,w,t.bssy+2*t.iconWidth+2*h,w+t.iconWidth,t.bssy+3*t.iconWidth+2*h)})(e,t.branding),r()},Q=(e,t,n,a,o,i,r,s,l,c,d,h)=>{console.log("draw pdf page",l,c,d,h,s,n,a,o,i,r);const g=n.findIndex((e=>e[0]===t)),m=s.findIndex((e=>e[0]===t)),u=n[g][1],p=s[m][1],x=u.toDataURL("image/jpeg",1),f=p.toDataURL("image/png",1);e.addImage(x,i,r,a,o,"","FAST"),e.addImage(f,d,h,l,c,"","FAST")},$={generateImage:(e,t,n,a,o,i,r)=>{const{width:s,height:l}=k.monthCanvas[o],{maxCanvasWidth:c}=k;if(console.log("I am in contextual generate",t,c),"potrait"===n){const{imageHeightFraction:n,bindingHeightFraction:o}=r.potrait;console.log("I am in contextual generate potrait",t,c,n),U.generateImage(e,t,s,"none"===a?l*n:l*(n-o),c,i)}if("landscape"===n){const{imageWidthFraction:n,bindingHeightFraction:o}=r.landscape;U.generateImage(e,t,l*n,"none"===a?s:s*(1-o),c,i)}},generateDates:(e,t,n,a,o,i,r,s,l)=>{console.log("default generate date",i);const{year:c}=k,{width:d,height:h,maxCanvasWidth:g}=k.monthCanvas[i],{days:m,firstDay:u}=k.months[t];if("potrait"===a){const{dateHeightFraction:a}=l.potrait;U.generateDates(e,c,t,m,u,n||{},d,h*a,g,r,s,V,K)}if("landscape"===a){const{dateWidthFraction:a,bindingHeightFraction:i}=l.landscape;U.generateDates(e,c,t,m,u,n||{},h*a,"none"===o?d:d*(1-i),g,r,s,q,G)}},drawSheet:(e,t,n,a,o,i,r,s)=>{const{printWidth:l,printHeight:c}=k.monthCanvas[o];if("potrait"===r){const{imageHeightFraction:o,bindingHeightFraction:r,dateHeightFraction:d}=s.potrait;Q(e,t,n,l,"none"===i?c*o:c*(o-r),0,"none"===i?0:c*r,a,l,c*d,0,c*(1-d))}if("landscape"===r){const{imageWidthFraction:o,bindingHeightFraction:r,dateWidthFraction:d}=s.landscape;Q(e,t,n,c*o,"none"===i?l:l*(1-r),0,"none"===i?0:l*r,a,c*d,"none"===i?l:l*(1-r),c*o,"none"===i?0:l*r)}}},_={config:M,generateImage:$.generateImage,generateDates:$.generateDates,drawSheet:$.drawSheet,totalImageRenderCount:24,Year:R},ee={config:(0,b.Z)((0,b.Z)({},M),{},{potrait:(0,b.Z)((0,b.Z)({},M.potrait),{},{imageHeightFraction:1}),months:{}}),generateImage:$.generateImage,generateDates:$.generateDates,drawSheet:$.drawSheet,totalImageRenderCount:24,Year:R},te=(0,b.Z)((0,b.Z)({},M),{},{potrait:(0,b.Z)((0,b.Z)({},M.potrait),{},{imageHeightFraction:.5,dateHeightFraction:.5}),months:{"\u09ac\u09c8\u09b6\u09be\u0996":{fullMoon:28,newMoon:13,days:31,firstDay:2,english:{months:[["April",2025],["May",2025]],dates:{April:{start:15,end:30},May:{start:1,end:15}}},bengaliSpecialDates:{10:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],24:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],1:["\u09a8\u09ac\u09ac\u09b0\u09cd\u09b7"],28:["\u09ac\u09c1\u09a6\u09cd\u09a7","\u09aa\u09c2\u09b0\u09cd\u09a3\u09bf\u09ae\u09be"],25:["\u09b0\u09ac\u09c0\u09a8\u09cd\u09a6\u09cd\u09b0","\u099c\u09df\u09a8\u09cd\u09a4\u09c0"],16:["\u0985\u0995\u09cd\u09b7\u09df","\u09a4\u09c3\u09a4\u09c0\u09df\u09be"],17:["\u09ae\u09c7 \u09a6\u09bf\u09ac\u09b8"]}},"\u099c\u09cd\u09af\u09c8\u09b7\u09cd\u09a0":{newMoon:12,fullMoon:27,days:31,firstDay:5,english:{months:[["May",2025],["June",2025]],dates:{May:{start:16,end:31},June:{start:1,end:15}}},bengaliSpecialDates:{11:["\u09a8\u099c\u09b0\u09c1\u09b2","\u099c\u09df\u09a8\u09cd\u09a4\u09c0"],17:["\u099c\u09be\u09ae\u09be\u0987","\u09b7\u09b7\u09cd\u09a0\u09c0"],23:["\u09ac\u0995\u09b0\u09bf \u0988\u09a6"],8:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],22:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"]}},"\u0986\u09b7\u09be\u09a2\u09bc":{newMoon:10,fullMoon:25,days:32,firstDay:1,english:{months:[["June",2025],["July",2025]],dates:{June:{start:16,end:30},July:{start:1,end:17}}},bengaliSpecialDates:{6:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],12:["\u09b0\u09a5 \u09af\u09be\u09a4\u09cd\u09b0\u09be"],21:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"]}},"\u09b6\u09cd\u09b0\u09be\u09ac\u09a3":{fullMoon:23,newMoon:7,days:31,firstDay:5,english:{months:[["July",2025],["August",2025]],dates:{July:{start:18,end:31},August:{start:1,end:17}}},bengaliSpecialDates:{4:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],19:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],23:["\u09b0\u09be\u0996\u09bf","\u09ac\u09a8\u09cd\u09a7\u09a8"],27:["\u09a8\u09be\u0997","\u09aa\u099e\u09cd\u099a\u09ae\u09c0"],29:["\u09b8\u09cd\u09ac\u09be\u09a7\u09c0\u09a8\u09a4\u09be","\u09a6\u09bf\u09ac\u09b8"],30:["\u099c\u09a8\u09cd\u09ae\u09be\u09b7\u09cd\u099f\u09ae\u09c0"]}},"\u09ad\u09be\u09a6\u09cd\u09b0":{fullMoon:21,newMoon:6,days:31,firstDay:1,english:{months:[["August",2025],["September",2025]],dates:{August:{start:18,end:31},September:{start:1,end:17}}},bengaliSpecialDates:{19:["\u09b6\u09bf\u0995\u09cd\u09b7\u0995","\u09a6\u09bf\u09ac\u09b8"],31:["\u09ac\u09bf\u09b6\u09cd\u09ac\u0995\u09b0\u09cd\u09ae\u09be","\u09aa\u09c1\u099c\u09cb"],2:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],17:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"]}},"\u0986\u09b6\u09cd\u09ac\u09bf\u09a8":{fullMoon:20,newMoon:4,days:31,firstDay:4,english:{months:[["September",2025],["October",2025]],dates:{September:{start:18,end:30},October:{start:1,end:18}}},bengaliSpecialDates:{4:["\u09ae\u09b9\u09be\u09b2\u09df\u09be"],10:["\u09aa\u099e\u09cd\u099a\u09ae\u09c0"],11:["\u09b7\u09b7\u09cd\u09a0\u09c0"],12:["\u09b8\u09aa\u09cd\u09a4\u09ae\u09c0"],13:["\u0985\u09b7\u09cd\u099f\u09ae\u09c0"],14:["\u09a8\u09ac\u09ae\u09c0"],15:["\u09a6\u09b6\u09ae\u09c0"],19:["\u09b2\u0995\u09cd\u09b7\u09cd\u09ae\u09c0","\u09aa\u09c1\u099c\u09cb"],31:["\u09a7\u09a8\u09cd\u09a4\u09c7\u09b0\u09be\u09b8"],16:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],30:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"]}},"\u0995\u09be\u09b0\u09cd\u09a4\u09bf\u0995":{fullMoon:18,newMoon:3,bengaliSpecialDates:{2:["\u0995\u09be\u09b2\u09c0 \u09aa\u09c1\u099c\u09cb"],3:["\u09a6\u09c0\u09aa\u09be\u09ac\u09b2\u09c0"],4:["\u09ad\u09be\u0987\u09ab\u09cb\u0981\u099f\u09be"],5:["\u09ad\u09be\u0987\u09ab\u09cb\u0981\u099f\u09be"],9:["\u099b\u099f \u09aa\u09c1\u099c\u09cb"],18:["\u0997\u09c1\u09b0\u09c1  \u09a8\u09be\u09a8\u0995","\u099c\u09df\u09a8\u09cd\u09a4\u09c0"],14:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],28:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"]},days:30,firstDay:0,english:{months:[["October",2025],["November",2025]],dates:{October:{start:19,end:31},November:{start:1,end:17}}}},"\u0985\u0997\u09cd\u09b0\u09b9\u09be\u09af\u09bc\u09a3":{fullMoon:17,newMoon:3,bengaliSpecialDates:{14:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],28:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"]},days:29,firstDay:2,english:{months:[["November",2025],["December",2025]],dates:{November:{start:18,end:30},December:{start:1,end:16}}}},"\u09aa\u09cc\u09b7":{fullMoon:18,newMoon:3,bengaliSpecialDates:{9:["\u09ac\u09dc\u09a6\u09bf\u09a8"],14:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],16:["\u09a8\u09bf\u0989 \u0987\u09df\u09be\u09b0"],27:["\u09b8\u09cd\u09ac\u09be\u09ae\u09c0 \u09ac\u09bf\u09ac\u09c7\u0995\u09be\u09a8\u09a8\u09cd\u09a6","\u099c\u09a8\u09cd\u09ae\u09a6\u09bf\u09a8"],29:["\u09ae\u0995\u09b0","\u09b8\u0982\u0995\u09cd\u09b0\u09be\u09a8\u09cd\u09a4\u09bf"]},days:29,firstDay:3,english:{months:[["December",2025],["January",2026]],dates:{December:{start:17,end:31},January:{start:1,end:14}}}},"\u09ae\u09be\u0998":{fullMoon:18,newMoon:4,bengaliSpecialDates:{9:["\u09b8\u09b0\u09b8\u09cd\u09ac\u09a4\u09c0","\u09aa\u09c1\u099c\u09cb"],12:["\u09aa\u09cd\u09b0\u099c\u09be\u09a4\u09a8\u09cd\u09a4\u09cd\u09b0","\u09a6\u09bf\u09ac\u09b8"],30:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],15:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"]},days:30,firstDay:4,english:{months:[["January",2026],["February",2026]],dates:{January:{start:15,end:31},February:{start:1,end:13}}}},"\u09ab\u09be\u09b2\u09cd\u0997\u09c1\u09a8":{fullMoon:18,newMoon:4,bengaliSpecialDates:{30:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],2:["\u09b6\u09bf\u09ac\u09b0\u09be\u09a4\u09cd\u09b0\u09bf",""],14:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],18:["\u09a6\u09cb\u09b2\u09af\u09be\u09a4\u09cd\u09b0\u09be"]},days:30,firstDay:6,english:{months:[["February",2026],["March",2026]],dates:{February:{start:14,end:28},March:{start:1,end:15}}}},"\u099a\u09c8\u09a4\u09cd\u09b0":{fullMoon:18,newMoon:4,bengaliSpecialDates:{11:["\u09b0\u09be\u09ae \u09a8\u09ac\u09ae\u09c0"],12:["\u09b0\u09be\u09ae \u09a8\u09ac\u09ae\u09c0"],14:["\u098f\u0995\u09be\u09a6\u09b6\u09c0"],29:["\u09a8\u09c0\u09b2 \u09aa\u09c1\u099c\u09cb","\u098f\u0995\u09be\u09a6\u09b6\u09c0"]},days:30,firstDay:1,english:{months:[["March",2026],["April",2026]],dates:{March:{start:16,end:31},April:{start:1,end:14}}}}},monthList:["\u09ac\u09c8\u09b6\u09be\u0996","\u099c\u09cd\u09af\u09c8\u09b7\u09cd\u09a0","\u0986\u09b7\u09be\u09a2\u09bc","\u09b6\u09cd\u09b0\u09be\u09ac\u09a3","\u09ad\u09be\u09a6\u09cd\u09b0","\u0986\u09b6\u09cd\u09ac\u09bf\u09a8","\u0995\u09be\u09b0\u09cd\u09a4\u09bf\u0995","\u0985\u0997\u09cd\u09b0\u09b9\u09be\u09af\u09bc\u09a3","\u09aa\u09cc\u09b7","\u09ae\u09be\u0998","\u09ab\u09be\u09b2\u09cd\u0997\u09c1\u09a8","\u099a\u09c8\u09a4\u09cd\u09b0"]});const ne={0:"\u09e6",1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef"};const ae={generateEnglishDates:function(e,t){const n=te.months[e].english.dates,a=te.months[e].english.months;let[o]=a[0];const i=[];let r=0;return t.forEach((e=>{const t=[];e.forEach((e=>{if(0===e)t.push(e);else{const e=n[o].start+r;e>n[o].end?(r=0,[o]=a[1],t.push([o,n[o].start+r])):t.push([o,e]),r+=1}})),i.push(t)})),i},getMonthSpecialDates:function(e,t){const n=te.months[e].english.months,a={};return n.forEach((n=>{let[o]=n;if(o in t&&Object.keys(t[o]).length>0){console.log("get month special dates",e,t,o,o in t);const n=te.months[e].english.dates[o];Object.entries(t[o]).forEach((e=>{let[t,i]=e;t>=n.start&&t<=n.end&&(o in a||(a[o]={}),a[o][t]=i)}))}})),a},getEnglishMonthsHeader:function(e){const[t,n]=e,[a,o]=t,[i,r]=n,s=a.slice(0,3),l=i.slice(0,3);return o===r?"".concat(s," - ").concat(l," ").concat(o):"".concat(s," ").concat(o," - ").concat(l," ").concat(r)},getBengali:function(e){const t=e.toString().split("").map(Number).map((e=>ne[e]));return"".concat(...t)}},oe=(e,t)=>{const n=427;console.log("in get bengali config",e,t,.25*e/n);const a=16*e/n,o=16*e/n,i=V(e,t);return(0,b.Z)((0,b.Z)({},i),{},{dateBox:{width:e,height:t,startX:0,startY:0,endX:e,radius:0,endY:t,color:"rgba(204,119,34,0.1)"},year:(0,b.Z)((0,b.Z)({},i.year),{},{startX:e-a,startY:0+a/2+1*o,color:"gray"}),month:(0,b.Z)((0,b.Z)({},i.month),{},{startX:a,startY:0+a/2+1*o,color:"green",font:"".concat(1.2*o,"px NotoBengali")}),divider:(0,b.Z)((0,b.Z)({},i.divider),{},{startX:a,startY:a/2+1.5*o*1,endX:e-a,endY:a+1.5*o*1}),weekRow:{letters:["\u09b0","\u09b8\u09cb","\u09ae","\u09ac\u09c1","\u09ac\u09c3","\u09b6\u09c1","\u09b6"],letterWidth:16*e/n,startX:a,startY:a/2+1.5*o*1.7,endX:e-a,width:e-2*a,font:"".concat(o,"px NotoBengali")},dates:(0,b.Z)((0,b.Z)({},i.dates),{},{startX:a,startY:a/2+1.5*o*1.9,endX:e-a,width:e-2*a,height:.95*t-1.5*a-1.5*o*1.9,color:"rgba(0, 0, 0, 0.12)",lineWidth:2,font:"".concat(1*o,"px NotoBengali"),efont:"".concat(.8*o,"px sans-serif"),sfont:"".concat(.6*o,"px NotoBengali"),scale:i.dates.scale/1.5,radius:5*e/n}),grid:{lineWidth:.25*e/n}})};function ie(e,t,n,a,o,i){e.save(),e.beginPath(),e.arc(t,n,a,0,2*Math.PI),e.fillStyle=o,e.fill(),e.lineWidth=1,e.strokeStyle=i,e.stroke(),e.restore()}function re(e,t,n,a,o,i,r,s){e.save(),e.textBaseline="bottom";const{radius:l,startX:c,startY:d}=t;n.forEach(((n,h)=>{const g=d+h*i;n.forEach(((n,d)=>{const m=0===n?" ":ae.getBengali(n),u=0===n?" ":r[h][d][1],p=r[h][d][0],x=c+o*d;!function(e,t,n,a,o,i,r,s){const l=i+13*a/16,c=r+o/4,{fullMoon:d,newMoon:h}=te.months[n];d===t&&ie(e,l,c,s,"white","gray"),h===t&&ie(e,l,c,s,"black","gray")}(e,n,s,o,i,x,g,l),function(e,t,n,a,o,i,r,s,l){const{scale:c,letterWidth:d,efont:h}=t,g=l+r,m=s+13*i/16;if(n in o&&a in o[n]){const t=o[n][a];if("Other"===t)U.renderText(e,a,h,"brown",m,g,"center");else{const n=m-i/16,o=g-d;U.renderSpecialDates(e,c,n,o,m,g,t,a)}}else U.renderText(e,a,h,"gray",m,g,"center")}(e,t,p,u,a,o,i,x,g),function(e,t,n,a,o,i,r,s){const{font:l}=t,c=r+o/4,d=s+i/2,h=0===a||6===a?"red":"green";U.renderText(e,n,l,h,c,d,"center")}(e,t,m,d,o,i,x,g),function(e,t,n,a,o,i,r,s){const{sfont:l}=t,c=s+i/2,d=r+o/2,h="bengaliSpecialDates"in te.months[a]?te.months[a].bengaliSpecialDates:{};if(n in h)if(1===h[n].length)U.renderText(e,h[n],l,"#0047AB",d,c,"center","top");else{const t=r+o/16,a=s+i;U.renderText(e,h[n][0],l,"#0047AB",t,c,"start","top"),U.renderText(e,h[n][1],l,"#0047AB",t,a,"start","bottom")}}(e,t,n,s,o,i,x,g)}))})),e.restore()}function se(e,t,n,a,o,i,r){const{dateBox:s,month:l,divider:c,year:d}=t,h=te.months[a].english.months,g=ae.generateEnglishDates(a,i);U.renderRoundedRect(e,s.startX,s.startY,s.width,s.height,s.radius,s.color);const{font:m,color:u,startX:p,startY:x}=d,f=ae.getEnglishMonthsHeader(h);U.renderText(e,f,m,u,p,x,"right");const b="".concat(a.toUpperCase(),"  ").concat(ae.getBengali(n)),{font:w,color:y,startX:C,startY:v}=l;U.renderText(e,b,w,y,C,v);const{startX:j,endX:Z}=c,D=(Z-j)/7,I=t.dates.height/i.length,S=ae.getMonthSpecialDates(a,o);!function(e,t,n,a,o){const{startX:i,startY:r}=t.divider,{startX:s,startY:l,width:c,height:d}=t.dates;U.drawLine(e,i,r,i+7*n,r,"black",t.grid.lineWidth);for(let h=0;h<=7;h+=1){const a=i+n*h,o=r+d+(l-r);U.drawLine(e,a,r,a,o,"black",t.grid.lineWidth)}for(let h=0;h<=o;h+=1){const n=l+a*h,o=s+c;U.drawLine(e,s,n,o,n,"black",t.grid.lineWidth)}}(e,t,D,I,i.length),function(e,t,n){e.save(),e.textAlign="center",e.font=t.font,t.letters.forEach(((a,o)=>{e.fillStyle=0===o||6===o?"red":"black",e.fillText(a,t.startX+n*(o+1)-n/2,t.startY)})),e.restore()}(e,t.weekRow,D),re(e,t.dates,i,S,D,I,g,a),U.renderBranding(e,t.branding),r()}const le={generateDates:(e,t,n,a,o,i,r,s,l)=>{console.log("bengali generate date",i);const{width:c,height:d,maxCanvasWidth:h}=k.monthCanvas[i],{days:g,firstDay:m}=l.months[t];if("potrait"===a){const{dateHeightFraction:a}=l.potrait;U.generateDates(e,1432,t,g,m,n||{},c,d*a,h,r,s,oe,se)}if("landscape"===a){const{dateWidthFraction:a,bindingHeightFraction:i}=l.landscape;U.generateDates(e,1432,t,g,m,n||{},d*a,"none"===o?c:c*(1-i),h,r,s,q,G)}}};var ce=n(41806);function de(e){let{month:t}=e;const n=(0,a.useRef)(null),{config:o,dimensions:i,backImages:r,specialDates:s}=(0,a.useContext)(x),{dateHeightFraction:l}=o.potrait,{height:c,width:d}=i,h=c*l,g=c*(1-l);return console.log("bengali date box",r,s),(0,a.useEffect)((()=>{null!=n.current&&le.generateDates(n.current,t,r[t]||{},"potrait","none","Browser",(()=>{}),s||{},o)}),[n,r,s]),(0,A.jsx)(ce.Z,{width:d,height:h,sx:{mt:0,mb:0,boxSizing:"border-box",position:"absolute",top:g,zIndex:120},children:(0,A.jsx)("canvas",{style:{zIndex:120},ref:n})})}function he(e){let{handleChange:t,handleEditChange:n,MonthComp:a,DateComp:o,ImageComp:i}=e;return te.monthList.map((e=>(0,A.jsx)(a,{month:e,year:1432,handleChange:t,handleImageEdit:t=>{var a;if(!t.current)return;const{width:o,height:i,x:r,y:s}=null===(a=t.current)||void 0===a?void 0:a.getCroppingRect();n({cropWidth:o,cropHeight:i,x:r,y:s},e)},ImageComp:i,DateComp:o},e)))}function ge(e){let{handleImageChange:t,handleEditChange:n,MonthComp:a,ImageComp:i}=e;return(0,A.jsx)(o.ZP,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",sx:{backgroundColor:"black",mt:0},rowSpacing:2,children:(0,A.jsx)(he,{handleChange:t,handleEditChange:n,spacing:2,MonthComp:a,ImageComp:i,DateComp:de})})}const me={config:te,generateImage:$.generateImage,generateDates:le.generateDates,drawSheet:$.drawSheet,totalImageRenderCount:24,Year:(0,a.memo)(ge)},ue=(0,b.Z)((0,b.Z)({},M),{},{potrait:(0,b.Z)((0,b.Z)({},M.potrait),{},{imageHeightFraction:1}),months:{}}),pe=(e,t)=>{console.log("in get config",e,t);const n=427,a=n/.707,o=16*e/n,i=16*e/n;return{dateBoxArea:{width:e,height:t,startX:0,startY:0,endX:e,endY:t,bgcolor:"white"},branding:{bsx:o,bsy:.95*t-o+1.3*t*8/a,bw:e-2*o,bh:.075*t,br:5*e/n,bf:"bold ".concat(.5*i,"px KaushanScript"),bfr:"bold ".concat(.4*i,"px sans-serif"),bc:"rgba(255,255,255,1)",bstx:2*o,bsty:.95*t-o+1.3*t*8/a+.075*t/2,scale:16*e*.4/8540,iconWidth:16*e*.4/n},month:{startX:e-o,startY:t-3*o,color:"#0047AB",font:"bold ".concat(1.2*i,"px sans-serif")}}};function xe(e,t,n,a,o,i,r){console.log("default generate date",n,o,i);const{month:s}=t;U.renderRoundedRect(e,s.startX-75,s.startY-25,150,40,5,"rgba(255,255,255,0.6)"),U.renderText(e,a.toUpperCase(),s.font,s.color,s.startX,s.startY,"right"),U.renderBranding(e,t.branding),r()}const fe={config:ue,generateImage:$.generateImage,generateDates:(e,t,n,a,o,i,r,s,l)=>{console.log("default generate date",i,o);const{year:c}=k,{width:d,height:h,maxCanvasWidth:g}=k.monthCanvas[i],{days:m,firstDay:u}=k.months[t];if("potrait"===a){const{dateHeightFraction:a}=l.potrait;U.generateDates(e,c,t,m,u,n||{},d,h*a,g,r,s,pe,xe)}},drawSheet:$.drawSheet,totalImageRenderCount:24,Year:R},be={default:_,fullimage:ee,bengali:me,custom:fe};var we=n(35508);function ye(){const[e,t]=(0,a.useState)([]),n=(0,a.useCallback)(((e,n)=>t((t=>(0,b.Z)((0,b.Z)({},t),{},{[n]:e})))),[]),o=(0,a.useCallback)(((n,a)=>{const o=e[a];t((e=>(0,b.Z)((0,b.Z)({},e),{},{[a]:(0,b.Z)((0,b.Z)({},o),n)})))}));return[e,n,o,()=>{console.log("in empty images"),t({})}]}function Ce(){const[e,t]=(0,a.useState)([]);return[e,(e,n)=>t((t=>0===t.length?[[e,n]]:[...t,[e,n]])),()=>t([])]}var ve=n(45987),je=n(49142);function Ze(){const[e,t]=(0,a.useState)({January:{},February:{},March:{},April:{},May:{},June:{},July:{},August:{},September:{},October:{},November:{},December:{}});return[e,(n,a,o)=>{t((t=>{const i=(0,b.Z)((0,b.Z)({},t[n]),{},{[a]:o});return console.log("in add date",(0,b.Z)((0,b.Z)({},e),{},{[n]:i})),(0,b.Z)((0,b.Z)({},e),{},{[n]:i})}))},(n,a)=>{const o=e[n],{[a]:i}=o,r=(0,ve.Z)(o,[a].map(je.Z));console.log("in remove date",n,a,(0,b.Z)((0,b.Z)({},e),{},{[n]:r})),t((0,b.Z)((0,b.Z)({},e),{},{[n]:r}))}]}var De=n(19536),Ie=n(93405),Se=n(32195),We=n(31095),Fe=n(72429),He=n(23306),ke=n(51405),Me=n(1550),Ae=n(24256),Be=n(83213),Te=n(74748);function Re(e){let{label:t,value:n,options:a,handleChange:o,disabled:i}=e;return(0,A.jsxs)(Me.Z,{variant:"standard",sx:{minWidth:{xs:68,sm:50,md:100},mr:1},size:"small",children:[(0,A.jsx)(He.Z,{id:"demo-simple-select-label",children:t}),(0,A.jsx)(Ae.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",autoWidth:!0,value:n,label:t,onChange:e=>o(e.target.value),sx:{fontSize:"0.9rem",maxHeight:"100px"},MenuProps:{sx:{maxHeight:"300px"}},disabled:i,children:a.map((e=>(0,A.jsx)(ke.Z,{value:e.value,children:(0,A.jsxs)(Se.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.icon?(0,A.jsx)(Te.Z,{children:e.icon}):null,(0,A.jsx)(Be.Z,{children:e.label})]})},e.value)))})]})}Re.defaultProps={disabled:!1};var Ee=n(49695),Ye=n(11069),Xe=n(15919),ze=n(75930),Le=n(98481);function Oe(e){let{handleOpen:t,addDate:n}=e;const{monthList:o,months:r}=k,[s,c]=(0,a.useState)(""),[d,h]=(0,a.useState)(""),[g,m]=(0,a.useState)(""),u=o.map((e=>({label:e,value:e}))),p=[{value:"Birthday",label:"Birthday",icon:(0,A.jsx)(Ee.Z,{sx:{color:"#FF5B61"}})},{value:"Anniversary",label:"Anniversary",icon:(0,A.jsx)(Ye.Z,{sx:{color:"red"}})},{value:"Home",label:"Home",icon:(0,A.jsx)(Xe.Z,{sx:{color:"#5F9EA0"}})},{value:"Travel",label:"Travel",icon:(0,A.jsx)(ze.Z,{sx:{color:"blue"}})},{value:"Other",label:"Other",icon:(0,A.jsx)(Le.Z,{sx:{color:"brown"}})}],x=[];if(""!==s){const e=r[s].days;for(let t=1;t<=e;t+=1)x.push({label:t,value:t})}return(0,A.jsxs)(i.Z,{sx:{mb:1},children:[(0,A.jsx)(l.Z,{title:"Add Special Dates",sx:{color:"gray"},action:(0,A.jsx)(Fe.Z,{handleClose:()=>t(!1)})}),(0,A.jsx)(De.Z,{}),(0,A.jsx)(Ie.Z,{children:(0,A.jsxs)(Se.Z,{direction:"row",sx:{p:2},justifyContent:"space-around",children:[(0,A.jsx)(Re,{label:"Month",value:s,options:u,handleChange:c}),(0,A.jsx)(Re,{label:"Date",value:d,options:x,handleChange:h,disabled:!s}),(0,A.jsx)(Re,{label:"Type",value:g,options:p,handleChange:m,disabled:!d}),(0,A.jsx)(We.Z,{disabled:!(s&&d&&g),variant:"outlined",onClick:()=>{n(s,d,g),c(""),h(""),m("")},children:"Add"})]})})]})}var Pe=n(24076),Je=n(67478),Ne=n(47131),Ue=n(23477),Ve=n(61113),Ke=n(66835),qe=n(57861),Ge=n(11198);const Qe={Birthday:(0,A.jsx)(Ee.Z,{sx:{color:"#FF5B61"}}),Anniversary:(0,A.jsx)(Ye.Z,{sx:{color:"red"}}),Home:(0,A.jsx)(Xe.Z,{sx:{color:"#5F9EA0"}}),Travel:(0,A.jsx)(ze.Z,{sx:{color:"blue"}}),Other:(0,A.jsx)(Le.Z,{sx:{color:"brown"}})};function $e(e){let{date:t,type:n,handleRemove:a}=e;return(0,A.jsxs)(Pe.Z,{children:[(0,A.jsx)(Je.Z,{align:"right",children:t},t),(0,A.jsxs)(Je.Z,{align:"right",children:[n," "]},n),(0,A.jsx)(Je.Z,{align:"right",children:Qe[n]},Qe[n]),(0,A.jsx)(Je.Z,{align:"right",children:(0,A.jsx)(Ne.Z,{onClick:a,children:(0,A.jsx)(Ge.Z,{})})},"remove-button")]},"".concat(t,"-").concat(n))}function _e(e){let{label:t}=e;return(0,A.jsx)(Je.Z,{align:"right",sx:{fontWeight:"bold",color:"gray"},children:t})}function et(){return(0,A.jsx)(Ue.Z,{children:(0,A.jsxs)(Pe.Z,{children:[(0,A.jsx)(_e,{label:"Date"},"Date"),(0,A.jsx)(_e,{label:"Type"},"Type"),(0,A.jsx)(_e,{label:"Icon"},"Icon"),(0,A.jsx)(_e,{label:"Remove"},"Remove")]})})}function tt(e){let{removeDate:t}=e;const{specialDates:n}=(0,a.useContext)(x),{monthList:o}=k,r=o.map((e=>Object.keys(n[e]).length>0?(0,A.jsxs)("div",{children:[(0,A.jsx)(Ve.Z,{variant:"h6",sx:{textAlign:"center",fontWeight:"bold",p:1},children:e},e),(0,A.jsxs)(Ke.Z,{size:"small",children:[(0,A.jsx)(et,{}),(0,A.jsx)(qe.Z,{children:Object.keys(n[e]).map((a=>(0,A.jsx)($e,{date:a,type:n[e][a],handleRemove:()=>t(e,a)},"".concat(e,"-").concat(a))))})]})]},e):null)).filter((e=>!!e));return r.length>0?(0,A.jsxs)(i.Z,{sx:{maxHeight:"500px",overflowY:"scroll",scrollbarWidth:"none"},children:[(0,A.jsx)(l.Z,{title:"Added Dates",sx:{fontColor:"gray"}}),(0,A.jsx)(De.Z,{}),(0,A.jsx)(Ie.Z,{children:r})]}):null}function nt(e){let{open:t,handleOpen:n,addDate:a,removeDate:o}=e;return(0,A.jsxs)(c.Z,{fullWidth:!0,open:t,PaperProps:{sx:{backgroundColor:"transparent"},elevation:0},children:[(0,A.jsx)(Oe,{handleOpen:n,addDate:a}),(0,A.jsx)(tt,{removeDate:o})]})}const at=[{label:"Default",value:"default"},{label:"Full Image",value:"fullimage"},{label:"Bengali",value:"bengali"},{label:"Custom",value:"custom"}];function ot(e){let{setOptions:t,handleDatesClick:n}=e;const[o,i]=(0,a.useState)("default");return(0,a.useEffect)((()=>t(o)),[o]),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Re,{label:"Theme",value:o,options:at,handleChange:e=>i(e)}),(0,A.jsx)(We.Z,{onClick:n,children:"Dates"})]})}var it=n(75908),rt=n(9289);function st(e){let{month:t}=e;const n=(0,a.useRef)(null),{config:o,dimensions:i,backImages:r,specialDates:s,generateDates:l}=(0,a.useContext)(x),{dateHeightFraction:c}=o.potrait,{height:d,width:h}=i,g=d*c,m=d*(1-c);return console.log("potrait date box",r),(0,a.useEffect)((()=>{null!=n.current&&l(n.current,t,r[t]||{},"potrait","none","Browser",(()=>{}),s||{},o)}),[n,r,s[t]]),(0,A.jsx)(ce.Z,{width:h,height:g,sx:{mt:0,mb:0,boxSizing:"border-box",position:"absolute",top:m,zIndex:120},children:(0,A.jsx)("canvas",{style:{zIndex:120},ref:n})})}function lt(e){let{month:t,children:n}=e;const{dimensions:i}=(0,a.useContext)(x);return(0,A.jsx)(o.ZP,{item:!0,children:(0,A.jsx)(ce.Z,{component:"div",sm:12,md:6,lg:4,sx:{width:i.width,height:i.height,color:"black",display:"flex",position:"relative",overflow:"hidden",backgroundColor:"white"},children:n})},t)}function ct(e){let{year:t,month:n,ImageComp:a,DateComp:o,handleChange:i,handleImageEdit:r,genDateFunc:s}=e;return console.log("potrait month",t,n),(0,A.jsxs)(lt,{month:n,children:[(0,A.jsx)(a,{month:n,handleChange:i,handleImageEdit:r}),(0,A.jsx)(o,{year:t,month:n,genDateFunc:s})]})}ct.defaultProps={genDateFunc:()=>{}};var dt=n(41070),ht=n.n(dt),gt=n(65954),mt=n(61689);function ut(e){let{image:t,width:n,height:o,border:i,color:r,scale:s,rotate:l,onImageChange:c,onImageReady:d,handleImageChange:h}=e;const g=(0,a.useRef)(),[m,u]=(0,a.useState)("");return(0,a.useEffect)((()=>{u(t.src)}),[t,n,o,s]),(0,A.jsxs)(ce.Z,{component:"div",sx:{width:n,height:o,zIndex:2,position:"absolute",top:0,left:0},children:[(0,A.jsx)(ht(),{ref:g,image:m,style:{width:n,height:o},width:n,height:o,border:i,color:r,scale:s,rotate:l,onImageChange:()=>c(g),onImageReady:()=>d(g)}),(0,A.jsx)(mt.Z,{title:"Edit",children:(0,A.jsx)(Ne.Z,{onClick:h,sx:{position:"absolute",top:"90%",right:"10px",backgroundColor:"rgba(255,255,255, 0.5)","&:hover":{backgroundColor:"rgba(255,255,255, 0.7)",p:1.2},transform:"translate(0, -50%)"},children:(0,A.jsx)(gt.Z,{})})})]})}ut.defaultProps={scale:1,rotate:0,border:0,onImageReady:()=>{},onImageChange:()=>{},color:[0,0,0,.6],handleImageChange:()=>{}};var pt=n(30627);function xt(e){let{height:t}=e;return(0,A.jsxs)(Se.Z,{direction:"row",justifyContent:"space-around",alignItems:"center",sx:{width:"100%",height:t,backgroundSize:"cover"},children:[(0,A.jsx)(pt.Z,{fontSize:"5px",sx:{color:"rgba(0,0,0,0.12)"}}),(0,A.jsx)(pt.Z,{fontSize:"5px",sx:{color:"rgba(0,0,0,0.12)"}}),(0,A.jsx)(pt.Z,{fontSize:"5px",sx:{color:"rgba(0,0,0,0.12)"}}),(0,A.jsx)(pt.Z,{fontSize:"5px",sx:{color:"rgba(0,0,0,0.12)"}}),(0,A.jsx)(pt.Z,{fontSize:"5px",sx:{color:"rgba(0,0,0,0.12)"}}),(0,A.jsx)(pt.Z,{fontSize:"5px",sx:{color:"rgba(0,0,0,0.12)"}}),(0,A.jsx)(pt.Z,{fontSize:"5px",sx:{color:"rgba(0,0,0,0.12)"}})]})}var ft=n(75192),bt=n.n(ft),wt=n(59344);const yt=(0,a.forwardRef)(((e,t)=>{let{month:n,handleChange:a}=e;return(0,A.jsxs)(ce.Z,{sx:{backgroundColor:"white",position:"relative",width:"100%",height:"100%"},children:[(0,A.jsx)("input",{ref:t,type:"file",accept:"image/*",style:{opacity:"0.0",position:"absolute",width:"100%",height:"100%",zIndex:1,border:"2px dashed gray"},onChange:e=>a(e.target.files[0],n)}),(0,A.jsxs)(Ne.Z,{size:"large",color:"primary",sx:{top:"50%",left:"50%",position:"absolute",transform:"translate(-50%, -50%)"},children:[(0,A.jsx)(wt.Z,{}),(0,A.jsx)(Ve.Z,{children:"Add Image"})]})]})}));yt.propTypes={month:bt().string.isRequired,handleChange:bt().func.isRequired};const Ct=yt;function vt(e){let{month:t,handleChange:n,handleImageEdit:o}=e;const[i,r]=(0,a.useState)({}),s=(0,a.useRef)(null),{config:l,dimensions:c,binding:d}=(0,a.useContext)(x),{imageHeightFraction:h,bindingHeightFraction:g}=l.potrait,{height:m,width:u}=c,p=m*h,f=m*g,w="none"===d?p:p-f,y="none"===d?0:f;return console.log("potrait image box",l),(0,A.jsxs)(ce.Z,{sx:{height:p,width:"inherit",position:"relative"},children:["none"===d?null:(0,A.jsx)(xt,{height:f}),(0,A.jsxs)(ce.Z,{width:u,height:w,sx:{position:"absolute",top:y},children:[(0,A.jsx)(Ct,{month:t,handleChange:(e,t)=>{const a=new Image;a.onload=o=>{const{naturalWidth:i,naturalHeight:s}=o.target,l=(0,b.Z)((0,b.Z)({},Y.getImageDets(e,i,s,a)),{},{elem:a});r(l),n(l,t)},a.src=e instanceof File?URL.createObjectURL(e):e},ref:s}),"src"in i?(0,A.jsx)(ut,{scale:1,image:i,width:u,height:w,onImageChange:o,onImageReady:o,handleImageChange:()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.click()}}):null]})]})}function jt(e){let{year:t,month:n,ImageComp:a,DateComp:o,handleChange:i,handleImageEdit:r}=e;return console.log("landscape month",t,n),(0,A.jsx)(lt,{month:n,children:(0,A.jsxs)(Se.Z,{direction:"row",sx:{width:"inherit"},justifyContent:"space-between",children:[(0,A.jsx)(a,{month:n,handleChange:i,handleImageEdit:r}),(0,A.jsx)(o,{year:t,month:n})]})})}function Zt(e){let{month:t,handleChange:n,handleImageEdit:o}=e;const[i,r]=(0,a.useState)({}),s=(0,a.useRef)(null),{config:l,dimensions:c,binding:d}=(0,a.useContext)(x),{imageWidthFraction:h,bindingHeightFraction:g}=l.landscape,{height:m,width:u}=c,p=u*h,f=m*g,w="none"===d?m:m-f,y="none"===d?0:f;return(0,A.jsxs)(ce.Z,{sx:{height:m,width:p},children:["none"===d?null:(0,A.jsx)(xt,{height:f}),(0,A.jsxs)(ce.Z,{width:p,height:w,sx:{position:"absolute",top:y},children:[(0,A.jsx)(Ct,{month:t,handleChange:(e,t)=>{const a=new Image;a.onload=o=>{const{naturalWidth:i,naturalHeight:s}=o.target,l=(0,b.Z)((0,b.Z)({},Y.getImageDets(e,i,s,a)),{},{elem:a});r(l),n(l,t)},a.src=e instanceof File?URL.createObjectURL(e):e},ref:s}),"src"in i?(0,A.jsx)(ut,{scale:1,image:i,width:p,height:w,onImageChange:o,onImageReady:o,handleImageChange:()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.click()}}):null]})]})}function Dt(e){let{month:t}=e;const n=(0,a.useRef)(null),{config:o,dimensions:i,backImages:r,specialDates:s,binding:l}=(0,a.useContext)(x),{dateWidthFraction:c,imageWidthFraction:d,bindingHeightFraction:h}=o.landscape,{height:g,width:m}=i,u=g*h,p=m*c,f="none"===l?0:u,b=m*d,w="none"===l?g:g-u;return(0,a.useEffect)((()=>{null!=n.current&&t in r&&$.generateDates(n.current,t,r[t],"landscape",l,"Browser",(()=>{}),s||{})}),[n,r,s[t]]),(0,A.jsxs)(ce.Z,{width:p,height:g,children:["none"===l?null:(0,A.jsx)(xt,{height:u}),(0,A.jsx)(ce.Z,{width:p,height:w,sx:{boxSizing:"border-box",position:"absolute",top:f,left:b},children:(0,A.jsx)("canvas",{style:{zIndex:120},ref:n})})]})}function It(e){let{orientation:t,binding:n,size:o}=e;const[i,r,s,l,c,d,h,g,m]=function(e,t,n,o){const[i,r]=(0,a.useState)(0),[s,l,c]=Ce(),[d,h,g]=Ce(),[m,u,p]=ye(),[x,f,,w]=ye(),[y,C]=(0,a.useState)(o),[v,j,Z]=Ze(),D=()=>r((e=>e+1)),{printWidth:I,printHeight:S}=k.monthCanvas[n],W=be[y].config.monthList||k.monthList;(0,a.useEffect)((()=>{console.log("use cal useeffect",y,be[y].config.months,0===Object.keys(be[y].config.months).length),w(),Object.entries(be[y].config.months).forEach((e=>{let[t,n]=e;console.log("use cal useeffect setting back images",y,be[y].config.months,0===Object.keys(be[y].config.months).length);const a=new Image;a.onload=e=>{const{naturalWidth:o,naturalHeight:i}=e.target,r=(0,b.Z)((0,b.Z)({},Y.getImageDets({src:n.image},o,i,a)),{},{elem:a});f(r,t)},a.src=n.image}))}),[y]);const F=be[y].config,H=()=>{const a="potrait"===e?{orientation:"p",unit:"in",format:[I,S],compress:!0}:{orientation:"l",unit:"in",format:[S,I],compress:!0},o=new we.kH(a);console.time("timer draw sheet loop");for(let i=0;i<W.length;i+=1)i>0&&o.addPage(a),be[y].drawSheet(o,W[i],s,d,n,t,e,F);console.timeEnd("timer draw sheet loop"),o.save("tc-".concat(e,"-").concat(n,"-").concat(t,".pdf")),g(),c()};return(0,a.useEffect)((()=>{i===be[y].totalImageRenderCount&&(console.timeEnd("timer generate"),r(0),console.time("timer download"),H(),console.timeEnd("timer download"))}),[i,H]),console.log("use cal",y,F,x,m),[y,C,v,j,Z,u,p,()=>{console.time("timer generate"),r(0),c(),g();const{generateImage:a,generateDates:o}=be[y];W.forEach((i=>{const r=document.createElement("canvas"),s=document.createElement("canvas");if(l(i,r),h(i,s),a(r,m[i],e,t,n,D,F),console.log("generate log1",i,new Date,y,o),"color"===y){const a=be[y].config.months[i].color;o(s,i,a,e,t,n,F)}else o(s,i,x[i],e,t,n,D,v,F)}))},x]}(t,n,o,"default"),[u,p]=(0,a.useState)(!1),w=function(e,t){const n=(0,f.Z)(),[o,i]=(0,a.useState)({}),{aspectRatio:r,smallScreenWidthFraction:s}=t,{defaultMonthWidth:l}=t[e];return(0,a.useEffect)((()=>{const[t]=n;i((()=>0===t?{}:t>l?"potrait"===e?{width:l,height:l/r}:{width:l,height:l*r}:"potrait"===e?{width:t*s,height:t*s/r}:{width:t*s,height:t*s*r}))}),[n,e]),o}(t,be[i].config),y=be[i].Year;return console.log("default calendar",i),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(it.Z,{position:"static",sx:{backgroundColor:"transparent",py:.5,borderTop:"1px solid gray"},children:(0,A.jsxs)(rt.Z,{variant:"dense",sx:{justifyContent:"center"},children:[(0,A.jsx)(ot,{setOptions:r,handleDatesClick:()=>p(!0)}),(0,A.jsx)(We.Z,{onClick:g,children:"View Cal"})]})}),(0,A.jsxs)(x.Provider,{value:{backImages:m,specialDates:s,orientation:t,binding:n,config:be[i].config,dimensions:w,generateDates:be[i].generateDates},children:[(0,A.jsx)(y,{MonthComp:"potrait"===t?ct:jt,DateComp:"potrait"===t?st:Dt,ImageComp:"potrait"===t?vt:Zt,handleEditChange:h,handleImageChange:d}),(0,A.jsx)(nt,{open:u,handleOpen:p,addDate:l,removeDate:c})]})]})}function St(e){let{image:t,width:n,height:o,handleChange:i,handleImageEdit:r}=e;const s=(0,a.useRef)(null);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Ve.Z,{sx:{position:"absolute",top:10,left:10,p:1,px:2,backgroundColor:"rgba(255,255,255, 0.8)",borderRadius:"10px",fontWeight:"bold",zIndex:3},children:"2025"}),(0,A.jsxs)(ce.Z,{width:"100%",height:o,sx:{position:"absolute",top:0},children:[(0,A.jsx)(Ct,{month:"",handleChange:i,ref:s}),"src"in t?(0,A.jsx)(ut,{scale:1,image:t,width:n,height:o,onImageChange:r,onImageReady:r,handleImageChange:()=>{s.current&&s.current.click()}}):null]})]})}const Wt={0:"\u09e6",1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef"};function Ft(e,t,n,a){e.save(),e.textAlign="center",e.textBaseline="alphabetic";const{letterHeight:o,letterWidth:i,startX:r,startY:s,scale:l,width:c,height:d,font:h}=t;e.font=h;const g=(c-7*i)/6,m=(d-n.length*o)/n.length;n.forEach(((t,n)=>{t.forEach(((t,c)=>{const d=0===t?" ":function(e){const t=e.toString().split("").map(Number).map((e=>Wt[e]));return"".concat(...t)}(t),h=r+g*c+i*c+i/2,u=s+n*m+n*o,p=h-i/2,x=u-i;t in a?U.renderSpecialDates(e,l,p,x,h,u,a[t],t):0===c||6===c?(e.fillStyle="red",e.fillText(d,h,u)):(e.fillStyle="black",e.fillText(d,h,u))}))})),e.restore()}const Ht=(e,t,n,a)=>{const{width:o,height:i}=k.monthCanvas[n],{maxCanvasWidth:r}=k,[s,l]=Y.getCanvasDimensions(o,.5*i,t,r),c=U.initialize(e,s,l);return t&&U.renderImage(c,t,s,l,0,0,a),e},kt=(e,t,n,a,o)=>{console.log("generate dates",e,t,n,a,o);const{width:i,height:r}=k.monthCanvas[n],{maxCanvasWidth:s}=k,l=new Image;return l.onload=t=>{const{naturalWidth:n,naturalHeight:c}=t.target,[d,h]=Y.getCanvasDimensions(i,.5*r,{width:n,height:c},s),g=U.initialize(e,d,h),m=((e,t)=>{const n=427,a=8*e/n,o=16*e/n,i={width:e,height:t,startX:0,startY:0},r={bsx:a,bsy:t-a-.055*t,bw:e-2*a,bh:.055*t,br:5*e/n,bf:"bold ".concat(.45*o,"px KaushanScript"),bfr:"bold ".concat(.45*o,"px sans-serif"),bc:"rgba(255,255,255,1)",bstx:2*a,bsty:t-a-.055*t/2,scale:16*e*.45/8540,iconWidth:16*e*.45/n},s={letters:["\u09b0","\u09b8\u09cb","\u09ae","\u09ac\u09c1","\u09ac\u09c3","\u09b6\u09c1","\u09b6"],letterWidth:8*e/n,font:"".concat(.5*o,"px NotoBengali"),width:(e-3*a)/4-2*a,letterHeight:.75*o},l={letterWidth:6.4*e/n,letterHeight:1.5*.4*o,font:"".concat(.4*o,"px NotoBengali"),scale:6.4*e/8540,iconWidth:6.4*e/n};return{dateBoxArea:i,branding:r,dateBox:{width:(e-3*a)/4,height:(t-3*a-.055*t)/3,startX:a,startY:a,radius:5,endX:e,endY:t,bgcolor:"rgba(255,255,255, 0.7)",color:"rgba(255,255,255, 0.85)",gapX:a/3,gapY:a/3,monthFont:"".concat(.65*o,"px NotoBengali"),monthTopGap:4*e/n,letterHeight:.65*o,dividerColor:"rgba(0,0,0,0.12)",lineWidth:2*e/n,weekRow:s,dates:l}}})(d,h);U.renderDateBoxArea(g,m.dateBoxArea,l,(()=>{!function(e,t,n){console.log("render bengali dates",n,te),e.save();const{startX:a,startY:o,width:i,height:r,color:s,radius:l,gapX:c,gapY:d,monthTopGap:h}=t,{monthList:g,months:m}=te;for(let u=0;u<3;u+=1)for(let p=0;p<4;p+=1){const x=g[4*u+p],f=a+p*i+p*c,w=o+u*r+u*d;U.renderRoundedRect(e,f,w,i,r,l,s),e.save(),e.fillStyle="green",e.textAlign="center",e.font=t.monthFont,e.textBaseline="hanging",e.fillText(x,f+i/2,w+h),e.restore(),U.drawLine(e,f+a,w+h+t.letterHeight,f+i-a,w+h+t.letterHeight,t.dividerColor,2),e.textBaseline="middle",U.renderWeekRow(e,(0,b.Z)((0,b.Z)({},t.weekRow),{},{startX:f+a,startY:w+h+t.letterHeight+t.weekRow.letterHeight/2,endX:f+i-t.startX,endY:w+h+t.letterHeight+t.weekRow.letterHeight/2}));const y=Y.generateCalendar(m[x].days,m[x].firstDay);console.log("render bengali datesGrid",y),Ft(e,(0,b.Z)((0,b.Z)({},t.dates),{},{startX:f+t.startX,startY:w+h+t.letterHeight+t.weekRow.letterHeight+t.dates.letterHeight/2,width:t.weekRow.width,height:t.height-(h+t.letterHeight+t.weekRow.letterHeight/2)-h}),y,x in n?n[x]:{})}e.restore()}(g,m.dateBox,o),U.renderBranding(g,m.branding),a()}))},l.src=t,e};function Mt(e){let{image:t,handleChange:n,handleImageEdit:o,bgImage:i,width:r,height:s,specialDates:l}=e;const c=(0,a.useRef)(null);return(0,a.useEffect)((()=>{null!=c.current&&kt(c.current,i,"Browser",(()=>{}),l||{})}),[c,l]),(0,A.jsxs)(ce.Z,{id:"test",component:"div",width:r,height:s,sx:{position:"relative",zIndex:"auto",outline:"1px solid black"},children:[(0,A.jsx)(St,{image:t,width:r,height:.5*s,handleChange:n,handleImageEdit:e=>{var t;if(!e.current)return;const{width:n,height:a,x:i,y:r}=null===(t=e.current)||void 0===t?void 0:t.getCroppingRect();o({cropWidth:n,cropHeight:a,x:i,y:r})}}),(0,A.jsx)(ce.Z,{width:r,height:.5*s,sx:{boxSizing:"border-box",position:"absolute",top:.5*s},children:(0,A.jsx)("canvas",{style:{zIndex:120},ref:c})})]})}function At(){const[e,t]=(0,a.useState)(0),[n,o,i]=function(){const[e,t]=(0,a.useState)({});return[e,(0,a.useCallback)((e=>{if(e instanceof File){const n=new Image;n.onload=a=>{const{naturalWidth:o,naturalHeight:i}=a.target;t(Y.getImageDets(e,o,i,n))},n.src=URL.createObjectURL(e)}}),[]),e=>t((t=>(0,b.Z)((0,b.Z)({},t),e)))]}(),[r,s]=(0,a.useState)("contextual"),[l,c,d]=Ze(),[h,g]=(0,a.useState)(),[u,p]=(0,a.useState)(),x=()=>t((e=>e+1)),f=()=>{const{printWidth:e,printHeight:t}=k.monthCanvas.A3,n={orientation:"p",unit:"in",format:[e,t]},a=new we.kH(n),o=h.toDataURL("image/jpeg",1);a.addImage(o,0,0,e,.5*t);const i=u.toDataURL("image/jpeg",1);a.addImage(i,0,t/2,e,t/2),a.save("tc-A3-single.pdf")};(0,a.useEffect)((()=>{2===e&&(t(0),f())}),[e,f]);return console.log("use single calendar",r,n,l),[n,r,l,c,d,e=>s(e),o,i,()=>{const e=document.createElement("canvas"),t=document.createElement("canvas");g(e),p(t),Ht(e,n,"A3",x),kt(t,m,"A3",x,l)}]}const Bt=[{label:"Contextual",value:"contextual"},{label:"Contextual Landscape",value:"contextuallandscape"},{label:"Color",value:"color"}];function Tt(){const[e,t]=(0,a.useState)(!1),[n,o,i,r,s,l,c,d,h]=At(),g=(0,f.Z)(),[u,p]=(0,a.useState)({});(0,a.useEffect)((()=>{const[e]=g;p((()=>0===e?{}:e>427?{width:427,height:427/.707}:{width:.95*e,height:.95*e/.707}))}),[g]);const x=()=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Re,{label:"Theme",value:o,options:Bt,handleChange:l}),(0,A.jsx)(We.Z,{variant:"outlined",onClick:()=>t(!0),children:"+/- Dates"})]});return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(it.Z,{position:"static",sx:{backgroundColor:"transparent",py:.5,borderTop:"1px solid gray",mb:1},children:(0,A.jsxs)(rt.Z,{variant:"dense",sx:{justifyContent:"center"},children:[(0,A.jsx)(x,{}),(0,A.jsx)(We.Z,{onClick:h,children:"View Cal"})]})}),(0,A.jsx)(Mt,{year:2025,image:n,handleChange:c,handleImageEdit:d,width:u.width,height:u.height,bgImage:m,specialDates:i}),(0,A.jsx)(nt,{open:e,handleOpen:t,dates:i,addDate:r,removeDate:s})]})}function Rt(e){let{image:t,handleClick:n,text:a,subText:c="Wall * Binded * Potrait"}=e;return(0,A.jsx)(o.ZP,{item:!0,children:(0,A.jsx)(i.Z,{sx:{width:"250px"},onClick:n,children:(0,A.jsxs)(r.Z,{children:[(0,A.jsx)(s.Z,{component:"img",height:"200",image:t,alt:a}),(0,A.jsx)(l.Z,{title:a,subheader:c,subheaderTypographyProps:{sx:{textAlign:"center"}},titleTypographyProps:{sx:{textAlign:"center",fontWeight:"bold",color:"primary.main"},variant:"body"}})]})})})}function Et(){const[e,t]=(0,a.useState)({}),n=(e,n,a,o)=>t({binding:e,orientation:n,type:a,pages:o});return 0===Object.keys(e).length?(0,A.jsxs)(c.Z,{open:!0,maxWidth:"lg",fullWidth:!0,children:[(0,A.jsx)(d.Z,{sx:{textAlign:"center",color:"gray",fontSize:"1.5rem"},children:"Choose Type"}),(0,A.jsx)(h.Z,{children:(0,A.jsxs)(o.ZP,{container:!0,spacing:2,sx:{p:1,width:"100%"},justifyContent:"start",children:[(0,A.jsx)(Rt,{text:"Wall Calendar",subText:"Single Page",handleClick:()=>n("none","potrait","wall","single"),image:g}),(0,A.jsx)(Rt,{text:"Wall Calendar",subText:"Multiple Page",handleClick:()=>n("none","potrait","wall","multiple"),image:m}),(0,A.jsx)(Rt,{text:"Table Calendar",subText:"Potrait | Non-binded",handleClick:()=>n("none","potrait","table","multiple"),image:u}),(0,A.jsx)(Rt,{text:"Table Calendar",subText:"Potrait | Wire-O Binded",handleClick:()=>n("wireo","potrait","table","multiple"),image:p}),(0,A.jsx)(Rt,{text:"Table Calendar",subText:"Landscape | Non-binded",handleClick:()=>n("none","landscape","table","multiple"),image:u}),(0,A.jsx)(Rt,{text:"Table Calendar",subText:"Landscape | Wire-O Binded",handleClick:()=>n("wireo","landscape","table","multiple"),image:p})]})})]}):"wall"===e.type&&"single"===e.pages?(0,A.jsx)(Tt,{}):"wall"===e.type&&"multiple"===e.pages?(0,A.jsx)(It,{binding:"none",size:"A3",orientation:"potrait"}):"table"===e.type?(0,A.jsx)(It,{binding:e.binding,size:"A5",orientation:e.orientation}):void 0}}}]);