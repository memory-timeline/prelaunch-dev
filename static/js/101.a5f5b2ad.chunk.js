"use strict";(self.webpackChunkprelaunch=self.webpackChunkprelaunch||[]).push([[101],{72429:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(47131),r=n(11198),a=n(46417);function o(e){var t=e.handleClose;return(0,a.jsx)(i.Z,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,a.jsx)(r.Z,{})})}},58587:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(29439),r=n(47313);function a(){var e=(0,r.useState)([0,0]),t=(0,i.Z)(e,2),n=t[0],a=t[1];return(0,r.useLayoutEffect)((function(){function e(){a([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}},34137:function(e,t,n){n.r(t),n.d(t,{default:function(){return dn}});var i=n(29439),r=n(47313),a=n(73428),o=n(44183),l=n(54641),s=n(16957),c=n(94469),h=n(19536),d=n(93405),g=n(32195),f=n.p+"static/media/February.3e139cde496c24d811f8.jpeg",x=n.p+"static/media/March.4d253c6abff9c67c87bc.jpeg",u=n(75908),m=n(9289),b=n(31095),p=n(23306),v=n(51405),w=n(1550),y=n(24256),j=n(83213),Z=n(74748),S=n(46417);function C(e){var t=e.label,n=e.value,i=e.options,r=e.handleChange,a=e.disabled;return(0,S.jsxs)(w.Z,{variant:"standard",sx:{minWidth:{xs:68,sm:50,md:100},mr:1},size:"small",children:[(0,S.jsx)(p.Z,{id:"demo-simple-select-label",children:t}),(0,S.jsx)(y.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",autoWidth:!0,value:n,label:t,onChange:function(e){return r(e.target.value)},sx:{fontSize:"0.9rem",maxHeight:"100px"},MenuProps:{sx:{maxHeight:"300px"}},disabled:a,children:i.map((function(e){return(0,S.jsx)(v.Z,{value:e.value,children:(0,S.jsxs)(g.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.icon?(0,S.jsx)(Z.Z,{children:e.icon}):null,(0,S.jsx)(j.Z,{children:e.label})]})},e.value)}))})]})}C.defaultProps={disabled:!1};var I=n.p+"static/media/January.f631bfe587ab40ca785b.jpeg",W=n.p+"static/media/April.453b743d7bc16b3b1886.jpeg",k=n.p+"static/media/May.87697cadfa4c64d69285.jpeg",z=n.p+"static/media/June.3082b41ae5798335b32a.jpeg",F=n.p+"static/media/July.e436e047a1a9dbb89599.jpeg",T=n.p+"static/media/August.fcf8c1e87674967c75f6.jpeg",D=n.p+"static/media/September.5167afdb1086b7660649.jpeg",H=n.p+"static/media/October.fce013a8cad5d39991f3.jpeg",Y=n.p+"static/media/November.fb218e2f2804d4eec8f6.jpeg",X=n.p+"static/media/December.a5f762212b6c69a22b70.jpeg",A=n(58018),R=n(71829),E=n(47597),B={aspectRatio:.707,potrait:{defaultMonthWidth:427,imageHeightFraction:.6,dateHeightFraction:.4,brandingHeightFraction:.075,bindingHeightFraction:.05},landscape:{defaultMonthWidth:603.96,imageWidthFraction:.5,dateWidthFraction:.5,brandingHeightFraction:.1,bindingHeightFraction:.070722,yearBoxHeightFraction:.15,dateBoxHeightFraction:.7},smallScreenWidthFraction:.95,backgroundColor:"rgba(255,255,255,0.8)",branding:{brandText:"Colorful Possibilities",companyText:"by MemoryTimeline"},social:{Facebook:{path:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z",Icon:A.Z,color:"#4267B2",text:"colorfulpossibilities"},Instagram:{path:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z",Icon:R.Z,color:"#E1306C",text:"colorfulpossibilities"},Whatsapp:{path:"M16.75 13.96c.25.13.41.2.46.3.06.11.04.61-.21 1.18-.2.56-1.24 1.1-1.7 1.12-.46.02-.47.36-2.96-.73-2.49-1.09-3.99-3.75-4.11-3.92-.12-.17-.96-1.38-.92-2.61.05-1.22.69-1.8.95-2.04.24-.26.51-.29.68-.26h.47c.15 0 .36-.06.55.45l.69 1.87c.06.13.1.28.01.44l-.27.41-.39.42c-.12.12-.26.25-.12.5.12.26.62 1.09 1.32 1.78.91.88 1.71 1.17 1.95 1.3.24.14.39.12.54-.04l.81-.94c.19-.25.35-.19.58-.11l1.67.88M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10c-1.97 0-3.8-.57-5.35-1.55L2 22l1.55-4.65A9.969 9.969 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 1.72.54 3.31 1.46 4.61L4.5 19.5l2.89-.96A7.95 7.95 0 0 0 12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8z",Icon:E.Z,color:"#128C7E",text:"7975218926"}},months:{January:{image:I},February:{image:f},March:{image:x},April:{image:W},May:{image:k},June:{image:z},July:{image:F},August:{image:T},September:{image:D},October:{image:H},November:{image:Y},December:{image:X}}},M=n(9019),P=603.74,L={monthList:["January","February","March","April","May","June","July","August","September","October","November","December"],months:{January:{days:31,firstDay:3},February:{days:28,firstDay:6},March:{days:31,firstDay:6},April:{days:30,firstDay:2},May:{days:31,firstDay:4},June:{days:30,firstDay:0},July:{days:31,firstDay:2},August:{days:31,firstDay:5},September:{days:30,firstDay:1},October:{days:31,firstDay:3},November:{days:30,firstDay:6},December:{days:31,firstDay:1}},year:2025,padding:50,lineWidth:.5,cutLength:40,cutColor:"black",monthCanvas:{A3:{width:3508,height:4961,minWidth:842,minHeight:1191,printWidth:11.7,printHeight:16.5,rows:1,columns:1,sheets:12},A5:{width:1754,height:2480,minWidth:420,minHeight:595,printWidth:6,printHeight:8.47,rows:2,columns:2,sheets:3},A6:{minWidth:298,minHeight:421,printWidth:4.13,printHeight:5.85,width:1240,height:1754,rows:4,columns:2,sheets:2,rotateRequired:!0},A7:{minWidth:210,minHeight:298,printWidth:2.91,printHeight:4.13,width:878,height:1240,rows:4,columns:4,sheets:1}},printCanvas:{width:3508,height:4961},pdfOptions:{orientation:"p",unit:"in",format:[12.5,18.5]},maxCanvasWidth:2e3,monthItemWidth:427,monthItemHeight:P,social:{Facebook:{path:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z",Icon:A.Z,color:"#4267B2",text:"colorfulpossibilities"},Instagram:{path:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z",Icon:R.Z,color:"#E1306C",text:"colorfulpossibilities"},Whatsapp:{path:"M16.75 13.96c.25.13.41.2.46.3.06.11.04.61-.21 1.18-.2.56-1.24 1.1-1.7 1.12-.46.02-.47.36-2.96-.73-2.49-1.09-3.99-3.75-4.11-3.92-.12-.17-.96-1.38-.92-2.61.05-1.22.69-1.8.95-2.04.24-.26.51-.29.68-.26h.47c.15 0 .36-.06.55.45l.69 1.87c.06.13.1.28.01.44l-.27.41-.39.42c-.12.12-.26.25-.12.5.12.26.62 1.09 1.32 1.78.91.88 1.71 1.17 1.95 1.3.24.14.39.12.54-.04l.81-.94c.19-.25.35-.19.58-.11l1.67.88M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10c-1.97 0-3.8-.57-5.35-1.55L2 22l1.55-4.65A9.969 9.969 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 1.72.54 3.31 1.46 4.61L4.5 19.5l2.89-.96A7.95 7.95 0 0 0 12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8z",Icon:E.Z,color:"#128C7E",text:"7975218926"}},themes:{contextual:{monthWidth:427,monthHeight:P,imageWidthFrac:1,imageHeightFrac:.6,dateWidthFrac:1,dateHeightFrac:.4,paddingFrac:.0375,brandingHeightFrac:.0375,brandingWidthFrac:1,brandingBorderRadiusFrac:.0075,brandingPaddingYFrac:.00375,brandingMarginTFrac:.00375,brandingBorderRadius:.0075,backgroundColor:"rgba(255, 255, 255, 0.8)",months:{January:{image:I},February:{image:f},March:{image:x},April:{image:W},May:{image:k},June:{image:z},July:{image:F},August:{image:T},September:{image:D},October:{image:H},November:{image:Y},December:{image:X}},brand:[{text:"Colorful Possibilities",fontFamily:"KaushanScript",fontSize:"0.4rem",color:"brown"},{text:" by MemoryTimeline",fontFamily:"sans-serif",fontSize:"0.4rem",color:"brown"}],social:[{text:"colorfulpossibilities",fontFamily:"sans-serif",fontSize:"0.4rem",color:"#4267B2"},{text:"colorfulpossibilities",fontFamily:"sans-serif",fontSize:"0.4rem",color:"#E1306C"},{text:"7975218926",fontFamily:"sans-serif",fontSize:"0.4rem",color:"#E1306C"}]}},icons:{cake:{color:"#FF5B61",path:"M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2m4.6 9.99-1.07-1.07-1.08 1.07c-1.3 1.3-3.58 1.31-4.89 0l-1.07-1.07-1.09 1.07C6.75 16.64 5.88 17 4.96 17c-.73 0-1.4-.23-1.96-.61V21c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-4.61c-.56.38-1.23.61-1.96.61-.92 0-1.79-.36-2.44-1.01M18 9h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v1.54c0 1.08.88 1.96 1.96 1.96.52 0 1.02-.2 1.38-.57l2.14-2.13 2.13 2.13c.74.74 2.03.74 2.77 0l2.14-2.13 2.13 2.13c.37.37.86.57 1.38.57 1.08 0 1.96-.88 1.96-1.96V12C21 10.34 19.66 9 18 9"},favorite:{color:"red",path:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"},home:{color:"#5F9EA0",path:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},travel:{color:"blue",path:"M2.5 19h19v2h-19v-2zm19.57-9.36c-.21-.8-1.04-1.28-1.84-1.06L14.92 10l-6.9-6.43-1.93.51 4.14 7.17-4.97 1.33-1.97-1.54-1.45.39 2.59 4.49s7.12-1.9 16.57-4.43c.81-.23 1.28-1.05 1.07-1.85z"}}},O=(0,r.createContext)({}),J=n(41806),U=n(58587),V=n(41070),K=n.n(V),G=n(65954),N=n(61689),q=n(47131);var Q={resizeImageSlowly:function(e,t,n,i,r){console.log("image editor resize image slowly");var a=document.createElement("canvas");a.width=t,a.height=n;var o,l,s=a.getContext("2d"),c=t/n,h=t,d=n;s.webkitImageSmoothingEnabled=!1,s.mozImageSmoothingEnabled=!1,s.imageSmoothingEnabled=!1;var g=Math.floor(Math.log2(t/i));if(0===g)s.drawImage(e,0,0,h,d,0,0,i,r);else{for(var f=0;f<g;f+=1)l=(o=h/2)/c,0===f?s.drawImage(e,0,0,h,d,0,0,o,l):s.drawImage(a,0,0,h,d,0,0,o,l),h=o,d=l;s.drawImage(a,0,0,h,d,0,0,i,r)}var x=document.createElement("canvas");return x.width=i,x.height=r,x.getContext("2d").drawImage(a,0,0,i,r,0,0,i,r),x}};function $(e){var t=e.image,n=e.width,a=e.height,o=e.border,l=e.color,s=e.scale,c=e.rotate,h=e.onImageChange,d=e.onImageReady,g=e.handleImageChange,f=(0,r.useRef)(),x=(0,r.useState)(""),u=(0,i.Z)(x,2),m=u[0],b=u[1];return console.log("image editor",t,m),(0,r.useEffect)((function(){var e=function(e,t,n,i){var r,a;return i/n>t/e?a=e*((r=i)/t):r=t*((a=n)/e),{height:r,width:a}}(t.width,t.height,n,a);console.log("in image editor useeffect",t.width,t.height,n,a,e);var i=new Image;i.onload=function(){var n=Q.resizeImageSlowly(i,t.width,t.height,e.width,e.height),r=n.toDataURL();console.log("resized image dataurl",r,n,e),b(r)},i.src=t.src}),[t,n,a,s]),(0,S.jsxs)(J.Z,{component:"div",sx:{width:n,height:a,zIndex:2,position:"absolute"},children:[(0,S.jsx)(K(),{ref:f,image:m,style:{width:n,height:a},width:n,height:a,border:o,color:l,scale:s,rotate:c,onImageChange:function(){return h(f)},onImageReady:function(){return d(f)}}),(0,S.jsx)(N.Z,{title:"Edit",children:(0,S.jsx)(q.Z,{onClick:g,sx:{position:"absolute",top:"90%",right:"10px",backgroundColor:"rgba(255,255,255, 0.5)","&:hover":{backgroundColor:"rgba(255,255,255, 0.7)",p:1.2},transform:"translate(0, -50%)"},children:(0,S.jsx)(G.Z,{})})})]})}$.defaultProps={scale:1,rotate:0,border:0,onImageReady:function(){},onImageChange:function(){},color:[0,0,0,.6],handleImageChange:function(){}};var _=n(75192),ee=n.n(_),te=n(61113),ne=n(59344),ie=(0,r.forwardRef)((function(e,t){var n=e.month,i=e.handleChange;return(0,S.jsxs)(J.Z,{sx:{backgroundColor:"white"},children:[(0,S.jsx)("input",{ref:t,type:"file",accept:"image/*",style:{opacity:"0.0",position:"absolute",width:"100%",height:"100%",zIndex:1,border:"2px dashed gray"},onChange:function(e){return i(e.target.files[0],n)}}),(0,S.jsxs)(q.Z,{size:"large",color:"primary",sx:{top:"50%",left:"50%",position:"absolute",transform:"translate(-50%, -50%)"},children:[(0,S.jsx)(ne.Z,{}),(0,S.jsx)(te.Z,{children:"Add Image"})]})]})}));ie.propTypes={month:ee().string.isRequired,handleChange:ee().func.isRequired};var re=ie,ae=n(30627);function oe(e){var t=e.text,n=e.color;return(0,S.jsx)(te.Z,{sx:{fontSize:{xs:"0.75rem",sm:"0.9rem"},color:{color:n},fontWeight:"bold",minWidth:"20px",textAlign:"center"},children:t})}function le(){return(0,S.jsxs)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,S.jsx)(oe,{text:"S",color:"red"}),(0,S.jsx)(oe,{text:"M",color:"black"}),(0,S.jsx)(oe,{text:"T",color:"black"}),(0,S.jsx)(oe,{text:"W",color:"black"}),(0,S.jsx)(oe,{text:"T",color:"black"}),(0,S.jsx)(oe,{text:"F",color:"black"}),(0,S.jsx)(oe,{text:"S",color:"red"})]})}var se={generateCalendar:function(e,t){for(var n=[],i=new Array(t).fill(0),r=1;r<=e;)i.push(r),r+=1,7===i.length&&(n.push(i),i=[]);if(i.length>0){for(;i.length<7;)i.push(0);n.push(i)}return n},renderDateBox:function(e){var t=e.canvas,n=t.width,i=t.height;e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillStyle="#FFF",e.fillRect(0,.6*i,n,i),e.beginPath(),e.roundRect(16,.6*i+16,n-32,.4*i-32,[10]),e.fillStyle="rgba(0,0,0,0.05)",e.fill()},renderImage:function(e,t){var n=e.canvas,i=n.width,r=n.height,a=new Image;a.onload=function(){var n,o,l,s,c=i/r,h=t.width/t.height;h>c?(o=r,l=-((n=r*h)-i)/2,s=0):(n=i,l=0,s=-((o=i/h)-r)/2),e.drawImage(a,l,s,n,o)},a.src=t.src},resizeImageSlowly:function(e,t,n,i,r){var a=document.createElement("canvas");a.width=t,a.height=n;var o,l,s=a.getContext("2d"),c=t/n,h=t,d=n;s.webkitImageSmoothingEnabled=!1,s.mozImageSmoothingEnabled=!1,s.imageSmoothingEnabled=!1;var g=Math.floor(Math.log2(t/i));if(0===g)s.drawImage(e,0,0,h,d,0,0,i,r);else{for(var f=0;f<g;f+=1)l=(o=h/2)/c,0===f?s.drawImage(e,0,0,h,d,0,0,o,l):s.drawImage(a,0,0,h,d,0,0,o,l),h=o,d=l;s.drawImage(a,0,0,h,d,0,0,i,r)}var x=document.createElement("canvas");return x.width=i,x.height=r,x.getContext("2d").drawImage(a,0,0,i,r,0,0,i,r),x}},ce=n(49695),he=n(11069),de=n(15919),ge=n(79794);function fe(e){var t=e.days,n=e.firstDay,i=e.specialDates,r=L.icons,a=r.cake,o=r.favorite,l=r.home,s=r.travel,c=se.generateCalendar(t,n);return(0,S.jsx)(g.Z,{direction:"column",alignItems:"space-between",justifyContent:"space-between",sx:{height:"100%",boxSizing:"border-box"},children:c.map((function(e){return(0,S.jsx)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:e.map((function(e,t){if(e in i){if("Travel"===i[e])return(0,S.jsx)(g.Z,{direction:"row",justifyContent:"center",sx:{width:"20px"},children:(0,S.jsx)(ge.Z,{sx:{color:s.color,fontSize:"1rem"}})});if("Birthday"===i[e])return(0,S.jsx)(g.Z,{direction:"row",justifyContent:"center",sx:{width:"20px"},children:(0,S.jsx)(ce.Z,{sx:{color:a.color,fontSize:"1rem"}})});if("Anniversary"===i[e])return(0,S.jsx)(g.Z,{direction:"row",justifyContent:"center",sx:{width:"20px"},children:(0,S.jsx)(he.Z,{sx:{color:o.color,fontSize:"1rem"}})});if("Home"===i[e])return(0,S.jsx)(g.Z,{direction:"row",justifyContent:"center",sx:{width:"20px"},children:(0,S.jsx)(de.Z,{sx:{color:l.color,fontSize:"1rem"}})});if("Other"===i[e])return(0,S.jsx)(te.Z,{sx:{fontSize:"0.8rem",color:"brown",fontWeight:"bold",textAlign:"center",minWidth:"20px"},children:0===e?" ":e},"".concat(t+2).concat(e))}return(0,S.jsx)(te.Z,{sx:{fontSize:{xs:"0.65rem",sm:"0.8rem"},color:0===t||6===t?"red":"black",fontWeight:"bold",textAlign:"center",minWidth:"20px"},children:0===e?" ":e},"".concat(t).concat(e))}))},e)}))})}function xe(e){var t=e.year,n=e.month,i=e.days,a=e.firstDay,o=(0,r.useContext)(O);return(0,S.jsxs)(g.Z,{sx:{height:"95%",width:"100%",backgroundSize:"cover",borderRadius:"10px",backgroundColor:B.backgroundColor,p:2,boxSizing:"border-box"},children:[(0,S.jsxs)(g.Z,{direction:"row",alignItems:"flex-start",justifyContent:"space-between",children:[(0,S.jsx)(te.Z,{sx:{fontSize:{xs:"0.85rem",sm:"1rem"},fontWeight:"bold",color:"green"},children:n.toUpperCase()}),(0,S.jsx)(te.Z,{sx:{fontSize:{xs:"0.85rem",sm:"1rem"},fontWeight:"bold",color:"green"},children:t})]}),(0,S.jsx)(h.Z,{sx:{mb:1,borderWidth:1}}),(0,S.jsx)(le,{}),(0,S.jsx)(fe,{days:i,firstDay:a,specialDates:n in o.specialDates?o.specialDates[n]:{}})]})}var ue=(0,r.memo)(xe);function me(e){var t=e.Icon,n=e.text,i=e.color;return(0,S.jsxs)(te.Z,{sx:{display:"flex",alignItems:"center",fontSize:{xs:"0.35rem",sm:"0.4rem"},color:i,fontWeight:"bold"},children:[(0,S.jsx)(t,{sx:{fontSize:{xs:"0.4rem",sm:"0.5rem"},color:i}}),"\xa0",n]})}function be(){var e=B.social,t=e.Facebook,n=e.Instagram,i=e.Whatsapp;return console.log("potrait branding icons",t.Icon,n.Icon,i.Icon),(0,S.jsxs)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{height:"100%",width:"100%"},children:[(0,S.jsxs)(g.Z,{direction:"row",alignItems:"baseline",children:[(0,S.jsx)(te.Z,{sx:{display:"flex",alignItems:"flex-start",fontFamily:"KaushanScript",fontSize:{xs:"0.35rem",sm:"0.4rem"},color:"brown"},children:"Colorful Possibilities"}),(0,S.jsx)(te.Z,{sx:{display:"flex",alignItems:"center",fontSize:{xs:"0.35rem",sm:"0.4rem"},color:"black",fontWeight:"bold"},children:"\xa0\xa0by MemoryTimeline"})]}),(0,S.jsx)(me,{Icon:t.Icon,color:t.color,text:t.text}),(0,S.jsx)(me,{Icon:n.Icon,color:n.color,text:n.text}),(0,S.jsx)(me,{Icon:i.Icon,color:i.color,text:i.text})]})}function pe(e){var t=e.image,n=e.year,i=e.name,a=e.days,o=e.firstDay,l=e.handleChange,s=e.handleImageEdit,c=e.bgImage,h=e.width,d=e.height,f=(0,r.useRef)(null),x=(0,r.useContext)(O).binding;console.log("month contents",n,a,o,i);var u=B.potrait,m=u.imageHeightFraction,b=u.dateHeightFraction,p=u.bindingHeightFraction,v=u.brandingHeightFraction;return console.log("month contents input ref",f),(0,S.jsxs)(J.Z,{component:"div",width:"100%",height:"100%",sx:{position:"relative",zIndex:"auto"},children:["none"===x?null:(0,S.jsxs)(g.Z,{direction:"row",justifyContent:"space-around",alignItems:"center",sx:{width:"100%",height:d*p,position:"absolute",backgroundColor:"rgba(255, 255,255, 0.6)"},children:[(0,S.jsx)(ae.Z,{fontSize:"5px"}),(0,S.jsx)(ae.Z,{fontSize:"5px"}),(0,S.jsx)(ae.Z,{fontSize:"5px"}),(0,S.jsx)(ae.Z,{fontSize:"5px"}),(0,S.jsx)(ae.Z,{fontSize:"5px"}),(0,S.jsx)(ae.Z,{fontSize:"5px"}),(0,S.jsx)(ae.Z,{fontSize:"5px"})]}),(0,S.jsxs)(J.Z,{width:"100%",height:"none"===x?d*m:d*(m-p),sx:{position:"absolute",top:"none"===x?0:d*p},children:[(0,S.jsx)(re,{month:i,handleChange:l,ref:f}),"src"in t?(0,S.jsx)($,{scale:1,image:t,width:h,height:"none"===x?d*m:d*(m-p),onImageChange:s,onImageReady:s,handleImageChange:function(){f.current&&f.current.click()}}):null]}),(0,S.jsxs)(J.Z,{width:h,height:d*b,sx:{p:2,mt:0,mb:0,boxSizing:"border-box",position:"absolute",top:d*m,backgroundImage:"url(".concat(c,")"),backgroundSize:"cover",backgroundPositon:"center"},children:[(0,S.jsx)(ue,{year:n,month:i,days:a,firstDay:o,width:"100%",height:"100%"}),(0,S.jsx)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{height:d*b*v,width:"100%",backgroundSize:"cover",borderRadius:"5px",backgroundColor:"white",px:2,py:.15,mt:.3,boxSizing:"border-box"},children:(0,S.jsx)(be,{})})]})]})}me.defaultProps={text:"",Icon:""};var ve=(0,r.memo)(pe),we=n(3813);function ye(e){var t=e.year,n=e.month,i=e.days,a=e.firstDay,o=(0,r.useContext)(O);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(g.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{width:"100%",height:"15%",backgroundSize:"cover",borderRadius:"10px",backgroundColor:B.backgroundColor,p:2,mb:1,boxSizing:"border-box"},children:[(0,S.jsx)(te.Z,{sx:{fontSize:{xs:"0.85rem",sm:"2rem"},fontWeight:"bold",color:"#c53f6b"},children:n}),(0,S.jsx)(te.Z,{sx:{fontSize:{xs:"0.85rem",sm:"2rem"},fontWeight:"bold",color:"#c53f6b"},children:t})]}),(0,S.jsxs)(g.Z,{direction:"column",alignItems:"space-around",sx:{width:"100%",height:"70%",backgroundSize:"cover",borderRadius:"10px",backgroundColor:B.backgroundColor,p:2,boxSizing:"border-box"},children:[(0,S.jsx)(te.Z,{sx:{fontSize:{xs:"0.85rem",sm:"1.7rem"},fontWeight:"bold",color:"green",width:"100%",textAlign:"center"},children:n.toUpperCase()}),(0,S.jsx)(h.Z,{sx:{mb:1,borderWidth:1}}),(0,S.jsx)(le,{}),(0,S.jsx)(fe,{days:i,firstDay:a,specialDates:n in o.specialDates?o.specialDates[n]:{}})]})]})}var je=(0,r.memo)(ye);function Ze(){var e=B.social,t=e.Facebook,n=e.Instagram,i=e.Whatsapp;return(0,S.jsxs)(g.Z,{direction:"row",alignItems:"flex-start",justifyContent:"space-between",children:[(0,S.jsxs)(g.Z,{direction:"row",alignItems:"center",sx:{height:"100%"},children:[(0,S.jsx)(te.Z,{sx:{display:"flex",alignItems:"flex-start",fontFamily:"KaushanScript",fontSize:{xs:"0.35rem",sm:"0.6rem"},color:"brown"},children:"Colorful Possibilities"}),(0,S.jsx)(te.Z,{sx:{display:"flex",alignItems:"center",fontSize:{xs:"0.35rem",sm:"0.5rem"},color:"black",fontWeight:"bold"},children:"\xa0\xa0by MemoryTimeline"})]}),(0,S.jsx)(h.Z,{orientation:"vertical",flexItem:!0,sx:{borderWidth:1}}),(0,S.jsxs)(g.Z,{direction:"column",children:[(0,S.jsx)(me,{Icon:t.Icon,color:t.color,text:t.text}),(0,S.jsx)(me,{Icon:n.Icon,color:n.color,text:n.text}),(0,S.jsx)(me,{Icon:i.Icon,color:i.color,text:i.text})]})]})}var Se=function(e){var t=e.image,n=e.year,i=e.name,a=e.days,o=e.firstDay,l=e.handleChange,s=e.handleImageEdit,c=e.bgImage,h=e.width,d=e.height,f=(0,r.useRef)(null),x=(0,r.useContext)(O).binding;console.log("month contents",n,a,o);var u=B.landscape,m=u.imageWidthFraction,b=u.dateWidthFraction,p=u.brandingHeightFraction,v=u.bindingHeightFraction;return console.log("month contents input ref",f,x),(0,S.jsxs)(J.Z,{component:"div",width:"100%",height:"100%",sx:{position:"relative",zIndex:"auto"},children:["none"===x?null:(0,S.jsxs)(g.Z,{direction:"row",justifyContent:"space-around",alignItems:"center",sx:{width:"100%",height:d*v,position:"absolute",backgroundImage:"url(".concat(c,")"),backgroundSize:"cover"},children:[(0,S.jsx)(we.Z,{fontSize:"5px"}),(0,S.jsx)(we.Z,{fontSize:"5px"}),(0,S.jsx)(we.Z,{fontSize:"5px"}),(0,S.jsx)(we.Z,{fontSize:"5px"}),(0,S.jsx)(we.Z,{fontSize:"5px"}),(0,S.jsx)(we.Z,{fontSize:"5px"}),(0,S.jsx)(we.Z,{fontSize:"5px"})]}),(0,S.jsxs)(J.Z,{width:h*m,height:"none"===x?1*d:d*(1-v),sx:{position:"absolute",top:"none"===x?0:d*v},children:[(0,S.jsx)(re,{month:i,handleChange:l,ref:f}),"src"in t?(0,S.jsx)($,{image:t,width:h*m,height:"none"===x?d:d*(1-v),onImageChange:s,onImageReady:s,handleImageChange:function(){f.current&&f.current.click()}}):null]}),(0,S.jsxs)(J.Z,{width:h*b,height:"none"===x?1*d:d*(1-v),sx:{p:2,mt:0,mb:0,boxSizing:"border-box",position:"absolute",left:.5*h,top:"none"===x?0:d*v,backgroundImage:"url(".concat(c,")"),backgroundSize:"cover",backgroundPosition:"center"},children:[(0,S.jsx)(je,{year:n,month:i,days:a,firstDay:o,width:"100%",height:"100%"}),(0,S.jsx)(g.Z,{sx:{height:d*p,width:"100%",backgroundSize:"cover",borderRadius:"5px",backgroundColor:"white",px:2,py:1,mt:1,boxSizing:"border-box"},children:(0,S.jsx)(Ze,{})})]})]})};function Ce(e){var t=e.year,n=e.name,a=e.days,o=e.firstDay,l=e.image,s=e.handleChange,c=e.handleImageEdit,h=e.bgImage,d=(0,r.useRef)(null),g=(0,U.Z)(),f=(0,r.useState)({}),x=(0,i.Z)(f,2),u=x[0],m=x[1],b=(0,r.useContext)(O).orientation,p=B.aspectRatio,v=B.smallScreenWidthFraction,w=B[b].defaultMonthWidth;return(0,r.useEffect)((function(){var e=(0,i.Z)(g,1)[0];m((function(){return 0===e?{}:e>w?"potrait"===b?{width:w,height:w/p}:{width:w,height:w*p}:"potrait"===b?{width:e*v,height:e*v/p}:{width:e*v,height:e*v*p}}))}),[g,b]),"width"in u?(0,S.jsx)(M.ZP,{item:!0,children:(0,S.jsx)(J.Z,{component:"div",ref:d,sm:12,md:6,lg:4,sx:{width:u.width,height:u.height,color:"black",display:"flex",position:"relative",overflow:"hidden",backgroundColor:"white"},children:"potrait"===b?(0,S.jsx)(ve,{year:t,name:n,image:l,days:a,firstDay:o,handleChange:s,bgImage:h,handleImageEdit:c,width:u.width,height:u.height}):(0,S.jsx)(Se,{year:t,name:n,image:l,days:a,firstDay:o,handleChange:s,bgImage:h,handleImageEdit:c,width:u.width,height:u.height})})},n):null}var Ie=(0,r.memo)(Ce),We=(0,r.memo)((function(e){var t=e.handleChange,n=e.handleEditChange,i=(0,r.useContext)(O).images;return L.monthList.map((function(e){var r=L.months[e],a=r.days,o=r.firstDay,l=e in i?i[e]:{},s=B.months[e].image;return(0,S.jsx)(Ie,{name:e,days:a,firstDay:o,year:L.year,image:l,bgImage:s,handleChange:t,handleImageEdit:function(t){var i;if(t.current){var r=null===(i=t.current)||void 0===i?void 0:i.getCroppingRect(),a=r.width,o=r.height,l=r.x,s=r.y;n({cropWidth:a,cropHeight:o,x:l,y:s},e)}}},e)}))}));function ke(e){var t=e.handleImageChange,n=e.handleEditChange;return(0,S.jsx)(M.ZP,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",sx:{backgroundColor:"black",mt:0},rowSpacing:2,children:(0,S.jsx)(We,{handleChange:t,handleEditChange:n,spacing:2})})}var ze={initialize:function(e,t,n){var i=e.getContext("2d");return i.canvas.width=t,i.canvas.height=n,i.webkitImageSmoothingEnabled=!1,i.mozImageSmoothingEnabled=!1,i.imageSmoothingEnabled=!1,i.fillStyle="white",i.fillRect(0,0,e.width,e.height),i},renderImage:function(e,t,n,r,a,o,l){var s=new Image;s.onerror=function(){console.log("Error while loading image",t)},s.onload=function(){var c=s.naturalWidth,h=s.naturalHeight,d=function(e,t,n,i){var r,a,o,l,s=n/i;return s>e/t?(a=t,o=((r=t*s)-e)/2,l=0):(r=e,o=0,l=((a=e/s)-t)/2),[parseFloat(r.toFixed(5)),parseFloat(a.toFixed(5)),o,l]}(n,r,c,h),g=(0,i.Z)(d,4),f=g[0],x=g[1],u=g[2],m=g[3],b=se.resizeImageSlowly(s,c,h,f,x);e.drawImage(b,"x"in t?t.x*f:u,"y"in t?t.y*x:m,n,r,a,o,n,r),l()},s.src=t.src},drawLine:function(e,t,n,i,r,a,o){e.beginPath(),e.moveTo(t,n),e.lineTo(i,r),e.strokeStyle=a,e.lineWidth=o,e.stroke()},getCanvasDimensions:function(e,t,n,i){var r,a;if(n.width<e||n.height<t){var o=e/t;n.width/n.height>o?a=(r=n.height)*(e/t):r=(a=n.width)/(e/t)}else r=t,a=e;var l=a>i?i:a,s=l*r/a;return[parseFloat(l.toFixed(5)),parseFloat(s.toFixed(5))]},drawSheet:function(e,t,n,i,r,a,o,l,s,c){for(var h=e.internal.pageSize.getWidth(),d=(e.internal.pageSize.getHeight()-c*a)/2,g=(h-s*r)/2,f=0;f<r;f+=1)for(var x=function(){var h=r*a*t+f*a+u;if(h>L.monthList.length-1)return"break";var x=n.findIndex((function(e){return e[0]===L.monthList[h]})),m=i.findIndex((function(e){return e[0]===L.monthList[h]})),b=n[x][1],p=i[m][1],v=b.toDataURL("image/jpeg",1);e.addImage(v,g+s*u,d+c*f,o,l);var w=p.toDataURL("image/jpeg",1);e.addImage(w,g+s*u,d+c*f+l,o,.4*c)},u=0;u<a;u+=1){if("break"===x())break}}};var Fe=function(e,t,n,i,r,a){e.fillStyle=n,e.save(),e.translate(r,a),e.scale(t,t),e.fill(new Path2D(i)),e.restore()};var Te=function(e,t,n,i,r,a,o,l){var s=n.color,c=n.path,h=n.text;e.fillStyle=s,e.save(),e.translate(r,a),e.scale(t,t),e.fill(new Path2D(c)),e.restore(),e.fillStyle=s,e.font=i,e.fillText(h,o,l)},De=function(e,t){!function(e,t){console.log("branding rect",t),e.beginPath(),e.roundRect(t.bsx,t.bsy,t.bw,t.bh,[t.br,t.br,t.br,t.br]),e.fillStyle=t.bc,e.fill()}(e,t),e.fillStyle="brown",e.font=t.bf;var n="Colorful Possibilities",i=e.measureText(n);e.font=t.bfr;var r=" by MemoryTimeline",a=e.measureText(r),o=i.width+a.width,l=e.measureText("colorfulpossibilities"),s=e.measureText("7975218926"),c=o+2*l.width+s.width,h=(t.bw-t.bstx-c)/3;e.textBaseline="middle",e.font=t.bf,e.fillText(n,t.bstx,t.bsty),e.font=t.bfr,e.fillStyle="black",e.fillText(r,t.bstx+a.width,t.bsty);var d=B.social,g=d.Facebook,f=d.Instagram,x=d.Whatsapp;Te(e,t.scale,g,t.bfr,t.bstx+o+h-.5*t.bsx-.1*h,t.bsty-.3*t.bsx,t.bstx+o+h,t.bsty),Te(e,t.scale,f,t.bfr,t.bstx+o+l.width+2*h-.5*t.bsx-.1*h,t.bsty-.3*t.bsx,t.bstx+o+l.width+2*h,t.bsty),Te(e,t.scale,x,t.bfr,t.bstx+o+2*l.width+3*h-.5*t.bsx-.1*h,t.bsty-.3*t.bsx,t.bstx+o+2*l.width+3*h,t.bsty)};var He={generateImage:function(e,t,n,r,a,o){var l=ze.getCanvasDimensions(n,r,t,a),s=(0,i.Z)(l,2),c=s[0],h=s[1],d=ze.initialize(e,c,h);return console.log("canvas dimensions",c,h,t.width,t.height),t&&ze.renderImage(d,t,c,h,0,0,o),e},generateDates:function(e,t,n,r,a,o,l,s,c,h,d){var g=new Image;return g.onload=function(g){var f=g.target,x=f.naturalWidth,u=f.naturalHeight,m=ze.getCanvasDimensions(l,s,{width:x,height:u},c),b=(0,i.Z)(m,2),p=b[0],v=b[1];console.log("Inside generate dates",o,l,s,p,v,d);var w=ze.initialize(e,p,v),y=function(e,t){console.log("in get config",e,t);var n=427,i=427/.707,r=16*e/n,a=16*e/n,o=t;return{dateBoxArea:{width:e,height:t,startX:0,startY:0,endX:e,endY:t,bgcolor:"white"},dateBox:{width:e-2*r,height:.95*o-2*r,startX:r,startY:0+r,endX:e-r,endY:.95*t-r,radius:10*e/n,color:"rgba(255,255,255,0.8)"},branding:{bsx:r,bsy:.95*t-r+1.3*t*8/i,bw:e-2*r,bh:.075*t,br:5*e/n,bf:"bold ".concat(.4*a,"px KaushanScript"),bfr:"bold ".concat(.4*a,"px sans-serif"),bc:"rgba(255,255,255,1)",bstx:2*r,bsty:.95*t-r+1.3*t*8/i+.075*t/2,scale:e/1067.5},year:{startX:e-2*r,startY:0+2*r+1*a,color:"green",font:"bold ".concat(1*a,"px sans-serif")},month:{startX:2*r,startY:0+2*r+1*a,color:"green",font:"bold ".concat(1*a,"px sans-serif")},divider:{startX:2*r,startY:0+2*r+1.5*a*1,endX:e-2*r,endY:0+2*r+1.5*a*1,color:"rgba(0, 0, 0, 0.12)",lineWidth:2},weekRow:{letters:["S","M","T","W","T","F","S"],letterWidth:20*e/427,startX:2*r,startY:0+2*r+1.5*a*1.9+2,endX:e-2*r,width:e-4*r,font:"bold ".concat(a,"px sans-serif")},dates:{letters:["S","M","T","W","T","F","S"],letterWidth:16*e/427,letterHeight:e*a*1.5/427,startX:2*r,startY:0+2*r+1.5*a*2.8,endX:e-2*r,width:e-4*r,height:.95*o-4*r-1.5*a*1.9,font:"bold ".concat(.9*a,"px sans-serif"),scale:16*e/8540,iconWidth:20*e/427}}}(p,v),j=function(e,t){for(var n=[],i=new Array(t).fill(0),r=1;r<=e;)i.push(r),r+=1,7===i.length&&(n.push(i),i=[]);if(i.length>0){for(;i.length<7;)i.push(0);n.push(i)}return n}(r,a);console.log("render date area",j,w,y),function(e,t,n,i){var r=t.width,a=t.height,o=t.startX,l=t.startY;console.log("in render date box area",t,n),ze.renderImage(e,{src:n},r,a,o,l,i)}(w,y.dateBoxArea,o,(function(){console.log("render date box area callback"),function(e,t){console.log("in render date box"),e.beginPath(),e.roundRect(t.startX,t.startY,t.width,t.height,[t.radius]),e.fillStyle=t.color,e.fill()}(w,y.dateBox),function(e,t,n){console.log("in render year"),e.font=t.font,e.fillStyle=t.color;var i=e.measureText(n);e.fillText(n,t.startX-i.width,t.startY)}(w,y.year,t),function(e,t,n){e.font=t.font,e.fillStyle=t.color,e.fillText(n.toUpperCase(),t.startX,t.startY)}(w,y.month,n),function(e,t){ze.drawLine(e,t.startX,t.startY,t.endX,t.endY,t.color,t.lineWidth)}(w,y.divider),function(e,t){console.log("render week row potrait",e.textAlign),e.font=t.font;var n=(t.width-7*t.letterWidth)/6;t.letters.forEach((function(i,r){e.fillStyle=0===r||6===r?"red":"black";var a=e.measureText(i);e.fillText(i,t.startX+n*r+t.letterWidth*r+t.letterWidth-a.width,t.startY)}))}(w,y.weekRow),function(e,t,n,i,r){var a=t.letterHeight,o=t.letterWidth,l=t.startX,s=t.startY,c=t.scale,h=t.width,d=t.height,g=t.font,f=t.iconWidth,x=L.icons,u=x.cake,m=x.favorite,b=x.home,p=x.travel;e.font=g;var v=(h-7*o)/6,w=(d-n.length*a)/n.length;n.forEach((function(t,n){t.forEach((function(t,h){var d=e.measureText(0===t?" ":t),g=t<10?2*d.width:d.width,x=l+v*h+o*h+o-g,y=s+n*w+n*a-g,j=l+v*h+o*h+o-d.width/2,Z=s+n*w+n*a;console.log("render dates",x,y,j,Z,f,d.width,d),t in i?(e.fillStyle="blue","Birthday"===i[t]?(console.log("Special date ",r,t,x,y,j,Z),Fe(e,c,u.color,u.path,x,y)):"Home"===i[t]?Fe(e,c,b.color,b.path,x,y):"Travel"===i[t]?Fe(e,c,p.color,p.path,x,y):"Anniversary"===i[t]?Fe(e,c,m.color,m.path,x,y):"Other"===i[t]&&(e.fillStyle="brown",e.fillText(0===t?" ":t,j,Z))):0===h||6===h?(e.fillStyle="red",e.fillText(0===t?" ":t,j,Z)):(e.fillStyle="black",e.fillText(0===t?" ":t,j,Z))}))}))}(w,y.dates,j,n in d?d[n]:{},n),De(w,y.branding),h()}))},g.src=o,e}};var Ye=function(e,t,n,i,r,a){console.log("draw icon",t,r,a,i),e.fillStyle=n,e.save(),e.translate(r,a),e.scale(t,t),e.fill(new Path2D(i)),e.restore()};var Xe=function(e,t,n,i,r,a,o,l){var s=n.color,c=n.path,h=n.text;e.fillStyle=s,e.save(),e.translate(r,a),e.scale(t,t),e.fill(new Path2D(c)),e.restore(),e.fillStyle=s,e.font=i,console.log("text baseline social brand",h,e.textBaseline,r,a,o,l),e.fillText(h,o,l)};var Ae={generateImage:function(e,t,n,r,a,o){var l=ze.getCanvasDimensions(n,r,t,a),s=(0,i.Z)(l,2),c=s[0],h=s[1],d=ze.initialize(e,c,h);return t&&ze.renderImage(d,t,c,h,0,0,o),e},generateDates:function(e,t,n,r,a,o,l,s,c,h,d){var g=new Image;return g.onload=function(g){var f=g.target,x=f.naturalWidth,u=f.naturalHeight,m=ze.getCanvasDimensions(l,s,{width:x,height:u},c),b=(0,i.Z)(m,2),p=b[0],v=b[1];console.log("Inside generate dates",o,l,s,p,v);var w=ze.initialize(e,p,v),y=function(e,t){var n=B.landscape,i=n.yearBoxHeightFraction,r=n.dateBoxHeightFraction;console.log("in get config",e,t);var a=301.98,o=603.96/.707,l=8*e/a,s=10*e/a,c=16*e/a,h=t,d="rgba(255,255,255,0.8)",g={width:e,height:t,startX:0,startY:0,endX:e,endY:t,bgcolor:"white"},f={width:e-4*l,height:(g.height-4*l)*i,startX:2*l,startY:g.startY+2*l,radius:s,color:d,marginBottom:8*e/a},x={startX:f.startX+2*l,startY:f.startY+2*l+2*c*1.5/2,color:"#c53f6b",font:"bold ".concat(2*c,"px sans-serif"),width:f.width-4*l},u={width:e-4*l,height:(g.height-4*l)*r,startX:2*l,startY:g.startY+2*l+f.height+f.marginBottom,radius:s,color:d},m={startX:e/2,startY:u.startY+2*l+1.7*c,color:"green",font:"bold ".concat(1.7*c,"px sans-serif")},b={startX:4*l,startY:u.startY+2*l+1.7*c*1.5,endX:e-4*l,endY:u.startY+2*l+1.7*c*1.5,color:"rgba(0, 0, 0, 0.12)",lineWidth:2*t/o,marginBottom:8*e/a},p={letters:["S","M","T","W","T","F","S"],letterWidth:20*e/a,startX:4*l,startY:b.startY+b.marginBottom+.9*c,endX:e-4*l,width:e-8*l,font:"bold ".concat(.9*c,"px sans-serif")},v={letters:["S","M","T","W","T","F","S"],letterWidth:20*e/a,letterHeight:.8*c*1.5,startX:4*l,startY:b.startY+b.marginBottom+.9*c*1.5+.8*c,endX:e-4*l,width:e-8*l,height:u.height-(p.startY-u.startY),font:"bold ".concat(.8*c,"px sans-serif"),scale:16*e/6039.6,iconWidth:16*e/a};return{dateBoxArea:g,yearBox:f,dateBox:u,month:m,branding:{startX:2*l,startY:0+4*l+.85*(h-4*l),width:e-4*l,height:.1*(t-4*l),radius:5*e/a,bf:"bold ".concat(.6*c,"px KaushanScript"),bfmr:"bold ".concat(.5*c,"px sans-serif"),bfr:"bold ".concat(.4*c,"px sans-serif"),color:"rgba(255,255,255,1)",bstx:4*l,bsty:0+4*l+.85*(h-4*l)+.1*(t-4*l)/2,bssy:0+4*l+.85*(h-4*l)+l,scale:6.4*e/6039.6,iconWidth:6.4*e/a,linecolor:"rgba(0, 0, 0, 0.12)",bley:0+4*l+.85*(h-4*l)+.1*(t-4*l)-l,lineWidth:2*t/o,contentWidth:e-8*l,contentHeight:.1*(t-4*l)-2*l},year:x,divider:b,weekRow:p,dates:v}}(p,v),j=function(e,t){for(var n=[],i=new Array(t).fill(0),r=1;r<=e;)i.push(r),r+=1,7===i.length&&(n.push(i),i=[]);if(i.length>0){for(;i.length<7;)i.push(0);n.push(i)}return n}(r,a);console.log("render date area",j,w,y),function(e,t,n,i){var r=t.width,a=t.height,o=t.startX,l=t.startY;console.log("in render date box area",t,n),ze.renderImage(e,{src:n},r,a,o,l,i)}(w,y.dateBoxArea,o,(function(){console.log("render date box area callback"),function(e,t){e.beginPath(),e.roundRect(t.startX,t.startY,t.width,t.height,[t.radius]),e.fillStyle=t.color,e.fill()}(w,y.yearBox),function(e,t){console.log("in render date box"),e.beginPath(),e.roundRect(t.startX,t.startY,t.width,t.height,[t.radius]),e.fillStyle=t.color,e.fill()}(w,y.dateBox),function(e,t,n){console.log("in render year");var i=e.measureText("Calendar");e.font=t.font,e.fillStyle=t.color;var r=e.measureText(n),a=t.width-(i.width+r.width);e.fillText("Calendar",t.startX,t.startY),e.fillText(n,t.startX+i.width+a,t.startY)}(w,y.year,t),function(e,t,n){console.log("render month",n,e.textBaseline),e.font=t.font,e.fillStyle=t.color,e.textAlign="center",e.fillText(n.toUpperCase(),t.startX,t.startY)}(w,y.month,n),function(e,t){ze.drawLine(e,t.startX,t.startY,t.endX,t.endY,t.color,t.lineWidth)}(w,y.divider),function(e,t){e.textAlign="center",e.font=t.font;var n=(t.width-7*t.letterWidth)/6;t.letters.forEach((function(i,r){e.fillStyle=0===r||6===r?"red":"black";var a=e.measureText(i);console.log("render week row",r,i,a.width,e.textAlign,t.startX,t.letterWidth,t.startX+n*r+t.letterWidth*r),e.fillText(i,t.startX+n*r+t.letterWidth*r+t.letterWidth/2,t.startY)}))}(w,y.weekRow),function(e,t,n,i){var r=L.icons,a=r.cake,o=r.favorite,l=r.home,s=r.travel;e.textAlign="center",e.font=t.font;var c=(t.width-7*t.letterWidth)/6,h=(t.height-n.length*t.letterHeight)/n.length;n.forEach((function(n,r){n.forEach((function(n,d){var g=t.startX+c*d+t.letterWidth*d+t.letterWidth/2,f=t.startY+r*h+r*t.letterHeight,x=g-t.iconWidth/2,u=f-t.iconWidth;n in i?(e.fillStyle="blue","Birthday"===i[n]?Ye(e,t.scale,a.color,a.path,x,u):"Home"===i[n]?Ye(e,t.scale,l.color,l.path,x,u):"Travel"===i[n]?Ye(e,t.scale,s.color,s.path,x,u):"Anniversary"===i[n]?Ye(e,t.scale,o.color,o.path,x,u):"Other"===i[n]&&(e.fillStyle="brown",e.fillText(0===n?" ":n,g,f))):0===d||6===d?(e.fillStyle="red",e.fillText(0===n?" ":n,g,f)):(e.fillStyle="black",e.fillText(0===n?" ":n,g,f))}))}))}(w,y.dates,j,n in d?d[n]:{}),function(e,t){e.textAlign="start",function(e,t){e.beginPath(),e.roundRect(t.startX,t.startY,t.width,t.height,[t.radius]),e.fillStyle=t.color,e.fill()}(e,t);var n="Colorful Possibilities";e.textBaseline="middle",e.fillStyle="brown",e.font=t.bf;var i=e.measureText(n);e.fillText(n,t.bstx,t.bsty),e.fillStyle="black",e.font=t.bfmr;var r=" by MemoryTimeline",a=e.measureText(r);e.fillText(r,t.bstx+i.width,t.bsty);var o=B.social,l=o.Facebook,s=o.Instagram,c=o.Whatsapp;e.font=t.bfr;var h=e.measureText(l.text),d=(t.contentWidth-(i.width+a.width+t.lineWidth+t.iconWidth+h.width))/2,g=(t.contentHeight-3*t.iconWidth)/2;console.log("branding gap",d,g,t);var f=t.bssy,x=t.bley,u=t.linecolor,m=t.lineWidth,b=t.scale,p=t.bfr,v=t.bstx+i.width+a.width+d;ze.drawLine(e,v,f,v,x,u,m);var w=v+m+d;e.textBaseline="ideographic",Xe(e,b,l,p,w-.5*d,f,w+t.iconWidth,f+t.iconWidth),Xe(e,b,s,p,w-.5*d,t.bssy+t.iconWidth+g,w+t.iconWidth,t.bssy+2*t.iconWidth+g),e.textBaseline="alphabetic",Xe(e,b,c,p,w-.5*d,t.bssy+2*t.iconWidth+2*g,w+t.iconWidth,t.bssy+3*t.iconWidth+2*g)}(w,y.branding),h()}))},g.src=o,e}},Re=function(e,t,n,i,r,a,o,l,s,c,h,d){var g=n.findIndex((function(e){return e[0]===L.monthList[t]})),f=l.findIndex((function(e){return e[0]===L.monthList[t]})),x=n[g][1],u=l[f][1],m=x.toDataURL("image/jpeg",1);e.addImage(m,a,o,i,r);var b=u.toDataURL("image/jpeg",1);e.addImage(b,h,d,s,c)},Ee={generateImage:function(e,t,n,i,r,a){var o=L.monthCanvas[r],l=o.width,s=o.height,c=L.maxCanvasWidth;if(console.log("I am in contextual generate",t,c),"potrait"===n){var h=B.potrait,d=h.imageHeightFraction,g=h.bindingHeightFraction;He.generateImage(e,t,l,"none"===i?s*d:s*(d-g),c,a)}if("landscape"===n){var f=B.landscape,x=f.imageWidthFraction,u=f.bindingHeightFraction;Ae.generateImage(e,t,s*x,"none"===i?l:l*(1-u),c,a)}},generateDates:function(e,t,n,i,r,a,o,l){var s=L.year,c=L.monthCanvas[a],h=c.width,d=c.height,g=c.maxCanvasWidth,f=L.months[t],x=f.days,u=f.firstDay;if("potrait"===i){var m=B.potrait.dateHeightFraction;He.generateDates(e,s,t,x,u,n,h,d*m,g,o,l)}if("landscape"===i){var b=B.landscape,p=b.dateWidthFraction,v=b.bindingHeightFraction;Ae.generateDates(e,s,t,x,u,n,d*p,"none"===r?h:h*(1-v),g,o,l)}},drawSheet:function(e,t,n,i,r,a,o){var l=L.monthCanvas[r],s=l.printWidth,c=l.printHeight;if("potrait"===o){var h=B.potrait,d=h.imageHeightFraction,g=h.bindingHeightFraction,f=h.dateHeightFraction;Re(e,t,n,s,"none"===a?c*d:c*(d-g),0,"none"===a?0:c*g,i,s,c*f,0,c*d)}if("landscape"===o){var x=B.landscape,u=x.imageWidthFraction,m=x.bindingHeightFraction,b=x.dateWidthFraction;Re(e,t,n,c*u,"none"===a?s:s*(1-m),0,"none"===a?0:s*m,i,c*b,"none"===a?s:s*(1-m),c*u,"none"===a?0:s*m)}}},Be={config:B,generateImage:Ee.generateImage,generateDates:Ee.generateDates,drawSheet:Ee.drawSheet,totalImageRenderCount:24,Year:(0,r.memo)(ke)},Me={specialDates:{December:{9:"Birthday"}},icons:{cake:{color:"#FF5B61",path:"M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2m4.6 9.99-1.07-1.07-1.08 1.07c-1.3 1.3-3.58 1.31-4.89 0l-1.07-1.07-1.09 1.07C6.75 16.64 5.88 17 4.96 17c-.73 0-1.4-.23-1.96-.61V21c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-4.61c-.56.38-1.23.61-1.96.61-.92 0-1.79-.36-2.44-1.01M18 9h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v1.54c0 1.08.88 1.96 1.96 1.96.52 0 1.02-.2 1.38-.57l2.14-2.13 2.13 2.13c.74.74 2.03.74 2.77 0l2.14-2.13 2.13 2.13c.37.37.86.57 1.38.57 1.08 0 1.96-.88 1.96-1.96V12C21 10.34 19.66 9 18 9"},favorite:{color:"red",path:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"},home:{color:"#5F9EA0",path:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}},aspectRatio:.707,potrait:{defaultMonthWidth:427,imageHeightFraction:.6,dateHeightFraction:.4,brandingHeightFraction:.075,bindingHeightFraction:.05},landscape:{defaultMonthWidth:603.96,imageWidthFraction:.5,dateWidthFraction:.5,brandingHeightFraction:.1,bindingHeightFraction:.070722,yearBoxHeightFraction:.15,dateBoxHeightFraction:.7},smallScreenWidthFraction:.95,backgroundColor:"rgba(255,255,255,0.8)",branding:{brandText:"Colorful Possibilities",companyText:"by MemoryTimeline"},social:{Facebook:{path:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z",Icon:A.Z,color:"#4267B2",text:"colorfulpossibilities"},Instagram:{path:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z",Icon:R.Z,color:"#E1306C",text:"colorfulpossibilities"},Whatsapp:{path:"M16.75 13.96c.25.13.41.2.46.3.06.11.04.61-.21 1.18-.2.56-1.24 1.1-1.7 1.12-.46.02-.47.36-2.96-.73-2.49-1.09-3.99-3.75-4.11-3.92-.12-.17-.96-1.38-.92-2.61.05-1.22.69-1.8.95-2.04.24-.26.51-.29.68-.26h.47c.15 0 .36-.06.55.45l.69 1.87c.06.13.1.28.01.44l-.27.41-.39.42c-.12.12-.26.25-.12.5.12.26.62 1.09 1.32 1.78.91.88 1.71 1.17 1.95 1.3.24.14.39.12.54-.04l.81-.94c.19-.25.35-.19.58-.11l1.67.88M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10c-1.97 0-3.8-.57-5.35-1.55L2 22l1.55-4.65A9.969 9.969 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 1.72.54 3.31 1.46 4.61L4.5 19.5l2.89-.96A7.95 7.95 0 0 0 12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8z",Icon:E.Z,color:"#128C7E",text:"7975218926"}},months:{January:{color:"#afd3ee"},February:{color:"#febc9c"},March:{color:"#d1817b"},April:{color:"#7f836c"},May:{color:"#d59a54"},June:{color:"#9ed6fc"},July:{color:"#262c3c"},August:{color:"#dc3b6c"},September:{color:"#88896a"},October:{color:"#d9d5ca"},November:{color:"#909b5e"},December:{color:"#fd7925"}}};function Pe(e){var t=e.text,n=e.color;return(0,S.jsx)(te.Z,{sx:{fontSize:{xs:"0.75rem",sm:"0.9rem"},color:{color:n},minWidth:"20px",textAlign:"center",fontFamily:"Pacifico, serif"},children:t})}function Le(){return(0,S.jsxs)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,S.jsx)(Pe,{text:"S",color:"#FF5B61"}),(0,S.jsx)(Pe,{text:"M",color:"black"}),(0,S.jsx)(Pe,{text:"T",color:"black"}),(0,S.jsx)(Pe,{text:"W",color:"black"}),(0,S.jsx)(Pe,{text:"T",color:"black"}),(0,S.jsx)(Pe,{text:"F",color:"black"}),(0,S.jsx)(Pe,{text:"S",color:"black"})]})}function Oe(e){var t=e.days,n=e.firstDay,i=e.specialDates,r=Me.icons,a=r.cake,o=r.favorite,l=r.home,s=se.generateCalendar(t,n);return(0,S.jsx)(g.Z,{direction:"column",alignItems:"space-between",justifyContent:"space-between",sx:{height:"100%",boxSizing:"border-box"},children:s.map((function(e){return(0,S.jsx)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:e.map((function(e,t){if(e in i){if("Birthday"===i[e])return(0,S.jsx)(g.Z,{direction:"row",justifyContent:"center",sx:{width:"20px"},children:(0,S.jsx)(ce.Z,{sx:{color:a.color,fontSize:"1rem"}})});if("Anniversary"===i[e])return(0,S.jsx)(g.Z,{direction:"row",justifyContent:"center",sx:{width:"20px"},children:(0,S.jsx)(he.Z,{sx:{color:o.color,fontSize:"1rem"}})});if("Home"===i[e])return(0,S.jsx)(g.Z,{direction:"row",justifyContent:"center",sx:{width:"20px"},children:(0,S.jsx)(de.Z,{sx:{color:l.color,fontSize:"1rem"}})});if("Other"===i[e])return(0,S.jsx)(te.Z,{sx:{fontSize:"0.8rem",color:"brown",fontWeight:"bold",textAlign:"center",minWidth:"20px",fontFamily:"Pacifico, serif"},children:0===e?" ":e},"".concat(t+2).concat(e))}return(0,S.jsx)(te.Z,{sx:{fontSize:{xs:"0.65rem",sm:"0.8rem"},color:0===t?"#FF5B61":"black",textAlign:"center",minWidth:"20px",fontFamily:"Pacifico, serif"},children:0===e?" ":e},"".concat(t).concat(e))}))},e)}))})}function Je(e){var t=e.year,n=e.month,i=e.days,r=e.firstDay,a=e.color,o=Me.specialDates;return console.log("date box",o),(0,S.jsxs)(g.Z,{sx:{height:"95%",width:"100%",backgroundSize:"cover",borderRadius:"10px",backgroundColor:Me.backgroundColor,p:2,boxSizing:"border-box"},children:[(0,S.jsxs)(g.Z,{direction:"row",alignItems:"center",justifyContent:"center",spacing:2,children:[(0,S.jsx)(te.Z,{sx:{fontSize:{xs:"0.85rem",sm:"1rem"},fontFamily:"Pacifico, serif"},children:n}),(0,S.jsx)(te.Z,{sx:{fontSize:{xs:"0.85rem",sm:"1rem"},fontWeight:"bold",fontFamily:"Pacifico, serif"},children:t})]}),(0,S.jsx)(h.Z,{sx:{mb:1,borderWidth:1}}),(0,S.jsx)(Le,{}),(0,S.jsx)(Oe,{days:i,firstDay:r,specialDates:n in o?o[n]:{},color:a})]})}var Ue=(0,r.memo)(Je);function Ve(e){var t=e.Icon,n=e.text,i=e.color;return(0,S.jsxs)(te.Z,{sx:{display:"flex",alignItems:"center",fontSize:{xs:"0.35rem",sm:"0.4rem"},color:i,fontWeight:"bold"},children:[(0,S.jsx)(t,{sx:{fontSize:{xs:"0.4rem",sm:"0.5rem"},color:i}}),"\xa0",n]})}function Ke(){var e=Me.social,t=e.Facebook,n=e.Instagram,i=e.Whatsapp;return console.log("potrait branding icons",t.Icon,n.Icon,i.Icon),(0,S.jsxs)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{height:"100%",width:"100%"},children:[(0,S.jsxs)(g.Z,{direction:"row",alignItems:"baseline",children:[(0,S.jsx)(te.Z,{sx:{display:"flex",alignItems:"flex-start",fontFamily:"KaushanScript",fontSize:{xs:"0.35rem",sm:"0.4rem"},color:"brown"},children:"Colorful Possibilities"}),(0,S.jsx)(te.Z,{sx:{display:"flex",alignItems:"center",fontSize:{xs:"0.35rem",sm:"0.4rem"},color:"black",fontWeight:"bold"},children:"\xa0\xa0by MemoryTimeline"})]}),(0,S.jsx)(Ve,{Icon:t.Icon,color:t.color,text:t.text}),(0,S.jsx)(Ve,{Icon:n.Icon,color:n.color,text:n.text}),(0,S.jsx)(Ve,{Icon:i.Icon,color:i.color,text:i.text})]})}function Ge(e){var t=e.image,n=e.year,i=e.name,a=e.days,o=e.firstDay,l=e.handleChange,s=e.handleImageEdit,c=e.bgColor,h=e.width,d=e.height,f=e.binding,x=(0,r.useRef)(null);console.log("month contents",n,a,o,i);var u=Me.potrait,m=u.imageHeightFraction,b=u.dateHeightFraction,p=u.bindingHeightFraction,v=u.brandingHeightFraction;return console.log("month contents input ref",x,f),(0,S.jsxs)(J.Z,{component:"div",width:"100%",height:"100%",sx:{position:"relative",zIndex:"auto"},children:["none"===f?null:(0,S.jsxs)(g.Z,{direction:"row",justifyContent:"space-around",alignItems:"center",sx:{width:"100%",height:d*p,position:"absolute",backgroundColor:"rgba(255, 255,255, 0.6)"},children:[(0,S.jsx)(ae.Z,{fontSize:"5px"}),(0,S.jsx)(ae.Z,{fontSize:"5px"}),(0,S.jsx)(ae.Z,{fontSize:"5px"}),(0,S.jsx)(ae.Z,{fontSize:"5px"}),(0,S.jsx)(ae.Z,{fontSize:"5px"}),(0,S.jsx)(ae.Z,{fontSize:"5px"}),(0,S.jsx)(ae.Z,{fontSize:"5px"})]}),(0,S.jsxs)(J.Z,{width:"100%",height:"none"===f?d*m:d*(m-p),sx:{position:"absolute",top:"none"===f?0:d*p},children:[(0,S.jsx)(re,{month:i,handleChange:l,ref:x}),"src"in t?(0,S.jsx)($,{scale:1,image:t,width:h,height:"none"===f?d*m:d*(m-p),onImageChange:s,onImageReady:s,handleImageChange:function(){x.current&&x.current.click()}}):null]}),(0,S.jsxs)(J.Z,{width:h,height:d*b,sx:{p:2,mt:0,mb:0,boxSizing:"border-box",position:"absolute",top:d*m,backgroundColor:c,backgroundSize:"cover",backgroundPositon:"center"},children:[(0,S.jsx)(Ue,{year:n,month:i,days:a,firstDay:o,width:"100%",height:"100%",color:c}),(0,S.jsx)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{height:d*b*v,width:"100%",backgroundSize:"cover",borderRadius:"5px",backgroundColor:"white",px:2,py:.15,mt:.3,boxSizing:"border-box"},children:(0,S.jsx)(Ke,{})})]})]})}Ve.defaultProps={text:"",Icon:""};var Ne=(0,r.memo)(Ge);function qe(e){var t=e.year,n=e.month,i=e.days,r=e.firstDay,a=Me.specialDates;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(g.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{width:"100%",height:"15%",backgroundSize:"cover",borderRadius:"10px",backgroundColor:Me.backgroundColor,p:2,mb:1,boxSizing:"border-box"},children:[(0,S.jsx)(te.Z,{sx:{fontSize:{xs:"0.85rem",sm:"2rem"},fontWeight:"bold",color:"#c53f6b"},children:"Calendar"}),(0,S.jsx)(te.Z,{sx:{fontSize:{xs:"0.85rem",sm:"2rem"},fontWeight:"bold",color:"#c53f6b"},children:t})]}),(0,S.jsxs)(g.Z,{direction:"column",alignItems:"space-around",sx:{width:"100%",height:"70%",backgroundSize:"cover",borderRadius:"10px",backgroundColor:Me.backgroundColor,p:2,boxSizing:"border-box"},children:[(0,S.jsx)(te.Z,{sx:{fontSize:{xs:"0.85rem",sm:"1.7rem"},fontWeight:"bold",color:"green",width:"100%",textAlign:"center"},children:n.toUpperCase()}),(0,S.jsx)(h.Z,{sx:{mb:1,borderWidth:1}}),(0,S.jsx)(le,{}),(0,S.jsx)(Oe,{days:i,firstDay:r,specialDates:n in a?a[n]:{}})]})]})}var Qe=(0,r.memo)(qe);function $e(){var e=Me.social,t=e.Facebook,n=e.Instagram,i=e.Whatsapp;return(0,S.jsxs)(g.Z,{direction:"row",alignItems:"flex-start",justifyContent:"space-between",children:[(0,S.jsxs)(g.Z,{direction:"row",alignItems:"center",sx:{height:"100%"},children:[(0,S.jsx)(te.Z,{sx:{display:"flex",alignItems:"flex-start",fontFamily:"KaushanScript",fontSize:{xs:"0.35rem",sm:"0.6rem"},color:"brown"},children:"Colorful Possibilities"}),(0,S.jsx)(te.Z,{sx:{display:"flex",alignItems:"center",fontSize:{xs:"0.35rem",sm:"0.5rem"},color:"black",fontWeight:"bold"},children:"\xa0\xa0by MemoryTimeline"})]}),(0,S.jsx)(h.Z,{orientation:"vertical",flexItem:!0,sx:{borderWidth:1}}),(0,S.jsxs)(g.Z,{direction:"column",children:[(0,S.jsx)(Ve,{Icon:t.Icon,color:t.color,text:t.text}),(0,S.jsx)(Ve,{Icon:n.Icon,color:n.color,text:n.text}),(0,S.jsx)(Ve,{Icon:i.Icon,color:i.color,text:i.text})]})]})}var _e=function(e){var t=e.image,n=e.year,i=e.name,a=e.days,o=e.firstDay,l=e.handleChange,s=e.handleImageEdit,c=e.bgImage,h=e.width,d=e.height,f=e.binding,x=(0,r.useRef)(null);console.log("month contents",n,a,o);var u=Me.landscape,m=u.imageWidthFraction,b=u.dateWidthFraction,p=u.brandingHeightFraction,v=u.bindingHeightFraction;return console.log("month contents input ref",x,f),(0,S.jsxs)(J.Z,{component:"div",width:"100%",height:"100%",sx:{position:"relative",zIndex:"auto"},children:["none"===f?null:(0,S.jsxs)(g.Z,{direction:"row",justifyContent:"space-around",alignItems:"center",sx:{width:"100%",height:d*v,position:"absolute",backgroundImage:"url(".concat(c,")"),backgroundSize:"cover"},children:[(0,S.jsx)(we.Z,{fontSize:"5px"}),(0,S.jsx)(we.Z,{fontSize:"5px"}),(0,S.jsx)(we.Z,{fontSize:"5px"}),(0,S.jsx)(we.Z,{fontSize:"5px"}),(0,S.jsx)(we.Z,{fontSize:"5px"}),(0,S.jsx)(we.Z,{fontSize:"5px"}),(0,S.jsx)(we.Z,{fontSize:"5px"})]}),(0,S.jsxs)(J.Z,{width:h*m,height:"none"===f?1*d:d*(1-v),sx:{position:"absolute",top:"none"===f?0:d*v},children:[(0,S.jsx)(re,{month:i,handleChange:l,ref:x}),"src"in t?(0,S.jsx)($,{image:t,width:h*m,height:"none"===f?d:d*(1-v),onImageChange:s,onImageReady:s,handleImageChange:function(){x.current&&x.current.click()}}):null]}),(0,S.jsxs)(J.Z,{width:h*b,height:"none"===f?1*d:d*(1-v),sx:{p:2,mt:0,mb:0,boxSizing:"border-box",position:"absolute",left:.5*h,top:"none"===f?0:d*v,backgroundImage:"url(".concat(c,")"),backgroundSize:"cover",backgroundPosition:"center"},children:[(0,S.jsx)(Qe,{year:n,month:i,days:a,firstDay:o,width:"100%",height:"100%"}),(0,S.jsx)(g.Z,{sx:{height:d*p,width:"100%",backgroundSize:"cover",borderRadius:"5px",backgroundColor:"white",px:2,py:1,mt:1,boxSizing:"border-box"},children:(0,S.jsx)($e,{})})]})]})};function et(e){var t=e.year,n=e.name,a=e.days,o=e.firstDay,l=e.image,s=e.handleChange,c=e.handleImageEdit,h=e.bgColor,d=e.binding,g=e.orientation,f=(0,r.useRef)(null);console.log("month with memo",f,n);var x=Me.aspectRatio,u=Me.smallScreenWidthFraction,m=Me[g].defaultMonthWidth,b=(0,U.Z)(),p=(0,r.useState)({}),v=(0,i.Z)(p,2),w=v[0],y=v[1];return(0,r.useEffect)((function(){var e=(0,i.Z)(b,2),t=e[0],n=e[1];console.log(t,n,t>0&&t>m),y((function(){return 0===t?{}:t>m?"potrait"===g?{width:m,height:m/x}:{width:m,height:m*x}:"potrait"===g?{width:t*u,height:t*u/x}:{width:t*u,height:t*u*x}}))}),[b,g]),"width"in w?(0,S.jsx)(M.ZP,{item:!0,children:(0,S.jsx)(J.Z,{component:"div",ref:f,sm:12,md:6,lg:4,sx:{width:w.width,height:w.height,color:"black",display:"flex",position:"relative",overflow:"hidden",backgroundColor:"white"},children:"potrait"===g?(0,S.jsx)(Ne,{year:t,name:n,image:l,days:a,firstDay:o,handleChange:s,bgColor:h,handleImageEdit:c,width:w.width,height:w.height,binding:d}):(0,S.jsx)(_e,{year:t,name:n,image:l,days:a,firstDay:o,handleChange:s,bgColor:h,handleImageEdit:c,width:w.width,height:w.height,binding:d})})},n):null}var tt=(0,r.memo)(et),nt=(0,r.memo)((function(e){var t=e.images,n=e.handleChange,i=e.handleEditChange,r=e.binding,a=e.orientation;return L.monthList.map((function(e){var o=L.months[e],l=o.days,s=o.firstDay,c=e in t?t[e]:{},h=Me.months[e].color;return console.log("Rendering month",e),(0,S.jsx)(tt,{name:e,days:l,firstDay:s,year:L.year,image:c,bgColor:h,handleChange:n,handleImageEdit:function(t){var n;if(t.current){console.log("handle image edit",t.current,t.current.getXScale(),t.current.getYScale());var r=null===(n=t.current)||void 0===n?void 0:n.getCroppingRect();i({cropWidth:r.width,cropHeight:r.height,x:r.x,y:r.y},e)}},binding:r,orientation:a},e)}))}));function it(e){var t=e.orientation,n=e.binding,i=e.menu,r=e.size,a=e.images,o=e.handleImageChange,l=e.handleEditChange;return console.log("opts",t,n,r,i,a),(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(M.ZP,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",sx:{backgroundColor:"black",mt:0},rowSpacing:2,children:(0,S.jsx)(nt,{images:a,handleChange:o,handleEditChange:l,spacing:2,binding:n,orientation:t})})})}var rt=function(e,t,n,i,r,a){e.fillStyle=n,e.save(),e.translate(r,a),e.scale(t,t),e.fill(new Path2D(i)),e.restore()};var at=function(e,t,n,i,r,a,o,l){var s=n.color,c=n.path,h=n.text;e.fillStyle=s,e.save(),e.translate(r,a),e.scale(t,t),e.fill(new Path2D(c)),e.restore(),e.fillStyle=s,e.font=i,e.fillText(h,o,l)},ot=function(e,t){!function(e,t){console.log("branding rect",t),e.beginPath(),e.roundRect(t.bsx,t.bsy,t.bw,t.bh,[t.br,t.br,t.br,t.br]),e.fillStyle=t.bc,e.fill()}(e,t),e.fillStyle="brown",e.font=t.bf;var n="Colorful Possibilities",i=e.measureText(n);e.font=t.bfr;var r=" by MemoryTimeline",a=e.measureText(r),o=i.width+a.width,l=e.measureText("colorfulpossibilities"),s=e.measureText("7975218926"),c=o+2*l.width+s.width,h=(t.bw-t.bstx-c)/3;e.textBaseline="middle",e.font=t.bf,e.fillText(n,t.bstx,t.bsty),e.font=t.bfr,e.fillStyle="black",e.fillText(r,t.bstx+a.width,t.bsty);var d=Me.social,g=d.Facebook,f=d.Instagram,x=d.Whatsapp;at(e,t.scale,g,t.bfr,t.bstx+o+h-.5*t.bsx-.1*h,t.bsty-.3*t.bsx,t.bstx+o+h,t.bsty),at(e,t.scale,f,t.bfr,t.bstx+o+l.width+2*h-.5*t.bsx-.1*h,t.bsty-.3*t.bsx,t.bstx+o+l.width+2*h,t.bsty),at(e,t.scale,x,t.bfr,t.bstx+o+2*l.width+3*h-.5*t.bsx-.1*h,t.bsty-.3*t.bsx,t.bstx+o+2*l.width+3*h,t.bsty)};var lt={generateImage:function(e,t,n,r,a,o){var l=ze.getCanvasDimensions(n,r,t,a),s=(0,i.Z)(l,2),c=s[0],h=s[1],d=ze.initialize(e,c,h);return console.log("canvas dimensions",c,h,t.width,t.height),t&&ze.renderImage(d,t,c,h,0,0,o),e},generateDates:function(e,t,n,i,r,a,o,l){var s=Me.specialDates;console.log("Inside generate dates",a,o,l,o,l);var c=ze.initialize(e,o,l),h=function(e,t){console.log("in get config",e,t);var n=427,i=427/.707,r=16*e/n,a=16*e/n,o=t;return{dateBoxArea:{width:e,height:t,startX:0,startY:0,endX:e,endY:t,bgcolor:"white"},dateBox:{width:e-2*r,height:.95*o-2*r,startX:r,startY:0+r,endX:e-r,endY:.95*t-r,radius:10*e/n,color:"rgba(255,255,255,0.8)"},branding:{bsx:r,bsy:.95*t-r+1.3*t*8/i,bw:e-2*r,bh:.075*t,br:5*e/n,bf:"bold ".concat(.4*a,"px KaushanScript"),bfr:"bold ".concat(.4*a,"px sans-serif"),bc:"rgba(255,255,255,1)",bstx:2*r,bsty:.95*t-r+1.3*t*8/i+.075*t/2,scale:e/1067.5},year:{startX:e/2,startY:0+2*r+1*a,color:"black",font:"bold ".concat(1*a,"px Pacifico"),rem:a},month:{startX:e/2,startY:0+2*r+1*a,color:"black",font:"".concat(1*a,"px Pacifico")},divider:{startX:2*r,startY:0+2*r+1.5*a*1,endX:e-2*r,endY:0+2*r+1.5*a*1,color:"rgba(0, 0, 0, 0.12)",lineWidth:2},weekRow:{letters:["S","M","T","W","T","F","S"],letterWidth:20*e/427,startX:2*r,startY:0+2*r+1.5*a*1.9+2,endX:e-2*r,width:e-4*r,font:"".concat(a,"px Pacifico")},dates:{letters:["S","M","T","W","T","F","S"],letterWidth:16*e/427,letterHeight:e*a*1.5/427,startX:2*r,startY:0+2*r+1.5*a*2.8,endX:e-2*r,width:e-4*r,height:.95*o-4*r-1.5*a*1.9,font:"".concat(.9*a,"px Pacifico"),scale:16*e/8540,iconWidth:20*e/427}}}(o,l),d=function(e,t){for(var n=[],i=new Array(t).fill(0),r=1;r<=e;)i.push(r),r+=1,7===i.length&&(n.push(i),i=[]);if(i.length>0){for(;i.length<7;)i.push(0);n.push(i)}return n}(i,r);return console.log("render date area",d,c,h),function(e,t,n){var i=t.width,r=t.height,a=t.startX,o=t.startY;e.fillStyle=n,e.fillRect(a,o,i,r)}(c,h.dateBoxArea,a),console.log("render date box area callback"),function(e,t){console.log("in render date box"),e.beginPath(),e.roundRect(t.startX,t.startY,t.width,t.height,[t.radius]),e.fillStyle=t.color,e.fill()}(c,h.dateBox),function(e,t,n){console.log("in render year",t),e.font=t.font,e.fillStyle=t.color,e.fillStyle=t.color,e.textAlign="left";var i=e.measureText("a");e.fillText(n,t.startX+2*i.width,t.startY),e.textAlign="start"}(c,h.year,t),function(e,t,n){e.font=t.font,e.fillStyle=t.color,e.textAlign="right",e.fillText(n,t.startX,t.startY),e.textAlign="start"}(c,h.month,n),function(e,t){ze.drawLine(e,t.startX,t.startY,t.endX,t.endY,t.color,t.lineWidth)}(c,h.divider),function(e,t){e.font=t.font;var n=(t.width-7*t.letterWidth)/6;t.letters.forEach((function(i,r){e.fillStyle=0===r?"#FF5B61":"black";var a=e.measureText(i);e.fillText(i,t.startX+n*r+t.letterWidth*r+t.letterWidth-a.width,t.startY)}))}(c,h.weekRow),function(e,t,n,i,r){var a=t.letterHeight,o=t.letterWidth,l=t.startX,s=t.startY,c=t.scale,h=t.width,d=t.height,g=t.font,f=t.iconWidth,x=Me.icons,u=x.cake,m=x.favorite,b=x.home;e.font=g;var p=(h-7*o)/6,v=(d-n.length*a)/n.length;n.forEach((function(t,n){t.forEach((function(t,h){var d=e.measureText(0===t?" ":t),g=t<10?2*d.width:d.width,x=l+p*h+o*h+o-g,w=s+n*v+n*a-g,y=l+p*h+o*h+o-d.width,j=s+n*v+n*a;console.log("render dates",x,w,y,j,f,d.width,d),t in i?(e.fillStyle="blue","Birthday"===i[t]?(console.log("Special date ",r,t,x,w,y,j),rt(e,c,u.color,u.path,x,w)):"Home"===i[t]?rt(e,c,b.color,b.path,x,w):"Anniversary"===i[t]?rt(e,c,m.color,m.path,x,w):"Other"===i[t]&&(e.fillStyle="brown",e.fillText(0===t?" ":t,y,j))):0===h?(e.fillStyle="#FF5B61",e.fillText(0===t?" ":t,y,j)):(e.fillStyle="black",e.fillText(0===t?" ":t,y,j))}))}))}(c,h.dates,d,n in s?s[n]:{},n),ot(c,h.branding),e}};var st={generateImage:function(e,t,n,r,a,o){var l=ze.getCanvasDimensions(n,r,t,a),s=(0,i.Z)(l,2),c=s[0],h=s[1],d=ze.initialize(e,c,h);return t&&ze.renderImage(d,t,c,h,0,0,o),e},generateDates:function(e,t,n,r,a,o,l,s,c,h){var d=new Image;return d.onload=function(d){var g=d.target,f=g.naturalWidth,x=g.naturalHeight,u=ze.getCanvasDimensions(l,s,{width:f,height:x},c),m=(0,i.Z)(u,2),b=m[0],p=m[1];console.log("Inside generate dates",o,l,s,b,p);var v=ze.initialize(e,b,p),w=function(e,t){var n=Me.landscape,i=n.yearBoxHeightFraction,r=n.dateBoxHeightFraction;console.log("in get config",e,t);var a=301.98,o=603.96/.707,l=8*e/a,s=10*e/a,c=16*e/a,h=t,d="rgba(255,255,255,0.8)",g={width:e,height:t,startX:0,startY:0,endX:e,endY:t,bgcolor:"white"},f={width:e-4*l,height:(g.height-4*l)*i,startX:2*l,startY:g.startY+2*l,radius:s,color:d,marginBottom:8*e/a},x={startX:f.startX+2*l,startY:f.startY+2*l+2*c*1.5/2,color:"#c53f6b",font:"bold ".concat(2*c,"px sans-serif"),width:f.width-4*l},u={width:e-4*l,height:(g.height-4*l)*r,startX:2*l,startY:g.startY+2*l+f.height+f.marginBottom,radius:s,color:d},m={startX:e/2,startY:u.startY+2*l+1.7*c,color:"green",font:"bold ".concat(1.7*c,"px sans-serif")},b={startX:4*l,startY:u.startY+2*l+1.7*c*1.5,endX:e-4*l,endY:u.startY+2*l+1.7*c*1.5,color:"rgba(0, 0, 0, 0.12)",lineWidth:2*t/o,marginBottom:8*e/a},p={letters:["S","M","T","W","T","F","S"],letterWidth:20*e/a,startX:4*l,startY:b.startY+b.marginBottom+.9*c,endX:e-4*l,width:e-8*l,font:"bold ".concat(.9*c,"px sans-serif")},v={letters:["S","M","T","W","T","F","S"],letterWidth:20*e/427,letterHeight:.8*e*c*1.5/a,startX:4*l,startY:b.startY+b.marginBottom+.9*c*1.5,endX:e-4*l,width:e-8*l,height:.7*(h-4*l)-2*l-2*l+1.7*c*1.5+8*e/a+.9*c*1.5,font:"bold ".concat(.8*c,"px sans-serif")};return{dateBoxArea:g,yearBox:f,dateBox:u,month:m,branding:{startX:2*l,startY:0+4*l+.85*(h-4*l),width:e-4*l,height:.1*(t-4*l),radius:5*e/a,bf:"bold ".concat(.4*c,"px KaushanScript"),bfr:"bold ".concat(.4*c,"px sans-serif"),color:"rgba(255,255,255,1)",bstx:2*l,bsty:t-15*t/o,scale:e/754.95},year:x,divider:b,weekRow:p,dates:v}}(b,p),y=function(e,t){for(var n=[],i=new Array(t).fill(0),r=1;r<=e;)i.push(r),r+=1,7===i.length&&(n.push(i),i=[]);if(i.length>0){for(;i.length<7;)i.push(0);n.push(i)}return n}(r,a);console.log("render date area",y,v,w),function(e,t,n,i){var r=t.width,a=t.height,o=t.startX,l=t.startY;console.log("in render date box area",t,n),ze.renderImage(e,{src:n},r,a,o,l,i)}(v,w.dateBoxArea,o,(function(){console.log("render date box area callback"),function(e,t){e.beginPath(),e.roundRect(t.startX,t.startY,t.width,t.height,[t.radius]),e.fillStyle=t.color,e.fill()}(v,w.yearBox),function(e,t){console.log("in render date box"),e.beginPath(),e.roundRect(t.startX,t.startY,t.width,t.height,[t.radius]),e.fillStyle=t.color,e.fill()}(v,w.dateBox),function(e,t,n){console.log("in render year");var i=e.measureText("Calendar");e.font=t.font,e.fillStyle=t.color;var r=e.measureText(n),a=t.width-(i.width+r.width);e.fillText("Calendar",t.startX,t.startY),e.fillText(n,t.startX+i.width+a,t.startY)}(v,w.year,t),function(e,t,n){console.log("render month",n,e.textBaseline),e.font=t.font,e.fillStyle=t.color,e.textAlign="center",e.fillText(n.toUpperCase(),t.startX,t.startY)}(v,w.month,n),function(e,t){ze.drawLine(e,t.startX,t.startY,t.endX,t.endY,t.color,t.lineWidth)}(v,w.divider),function(e,t){e.font=t.font;var n=(t.width-7*t.letterWidth)/6;t.letters.forEach((function(i,r){e.fillStyle=0===r||6===r?"red":"black";var a=e.measureText(i);e.fillText(i,t.startX+n*r+t.letterWidth*r+t.letterWidth-a.width,t.startY)}))}(v,w.weekRow),function(e,t,n){e.font=t.font;var i=(t.width-7*t.letterWidth)/6,r=(t.height-n.length*t.letterHeight)/n.length;n.forEach((function(n,a){n.forEach((function(n,o){e.fillStyle=0===o||6===o?"red":"black";var l=e.measureText(0===n?" ":n);e.fillText(0===n?" ":n,t.startX+i*o+t.letterWidth*o+t.letterWidth-l.width,t.startY+a*r+a*t.letterHeight)}))}))}(v,w.dates,y),function(e,t){!function(e,t){e.beginPath(),e.roundRect(t.startX,t.startY,t.width,t.height,[t.radius]),e.fillStyle=t.color,e.fill()}(e,t)}(v,w.branding),h()}))},d.src=o,e}},ct=function(e,t,n,i,r,a,o,l,s,c,h,d){var g=n.findIndex((function(e){return e[0]===L.monthList[t]})),f=l.findIndex((function(e){return e[0]===L.monthList[t]})),x=n[g][1],u=l[f][1],m=x.toDataURL("image/jpeg",1);e.addImage(m,a,o,i,r);var b=u.toDataURL("image/jpeg",1);e.addImage(b,h,d,s,c)},ht={config:Me,generateImage:function(e,t,n,i,r,a){var o=L.monthCanvas[r],l=o.width,s=o.height,c=o.maxCanvasWidth;if("potrait"===n){var h=Me.potrait,d=h.imageHeightFraction,g=h.bindingHeightFraction;lt.generateImage(e,t,l,"none"===i?s*d:s*(d-g),c,a)}if("landscape"===n){var f=Me.landscape,x=f.imageWidthFraction,u=f.bindingHeightFraction;st.generateImage(e,t,s*x,"none"===i?l:l*(1-u),c,a)}},generateDates:function(e,t,n,i,r,a){var o=L.year,l=L.monthCanvas[a],s=l.width,c=l.height,h=L.months[t],d=h.days,g=h.firstDay;if("potrait"===i){var f=Me.potrait.dateHeightFraction;lt.generateDates(e,o,t,d,g,n,s,c*f)}if("landscape"===i){var x=Me.landscape,u=x.dateWidthFraction,m=x.bindingHeightFraction;st.generateDates(e,o,t,d,g,n,c*u,"none"===r?s:s*(1-m))}},drawSheet:function(e,t,n,i,r,a,o){var l=L.monthCanvas[r],s=l.printWidth,c=l.printHeight;if("potrait"===o){var h=Me.potrait,d=h.imageHeightFraction,g=h.bindingHeightFraction,f=h.dateHeightFraction;ct(e,t,n,s,"none"===a?c*d:c*(d-g),0,"none"===a?0:c*g,i,s,c*f,0,c*d)}if("landscape"===o){var x=Me.landscape,u=x.imageWidthFraction,m=x.bindingHeightFraction,b=x.dateWidthFraction;ct(e,t,n,c*u,"none"===a?s:s*(1-m),0,"none"===a?0:s*m,i,c*b,"none"===a?s:s*(1-m),c*u,"none"===a?0:s*m)}},totalImageRenderCount:12,Year:(0,r.memo)(it)},dt={contextual:Be,color:ht},gt=n(1413),ft=n(35508),xt=n(4942);var ut=n(93433);function mt(){var e=(0,r.useState)([]),t=(0,i.Z)(e,2),n=t[0],a=t[1];return[n,function(e,t){return a((function(n){return 0===n.length?[[e,t]]:[].concat((0,ut.Z)(n),[[e,t]])}))},function(){return a([])}]}var bt=n(45987),pt=n(49142);function vt(){var e=(0,r.useState)({January:{},February:{},March:{},April:{},May:{},June:{},July:{},August:{},September:{},October:{},November:{},December:{}}),t=(0,i.Z)(e,2),n=t[0],a=t[1];return[n,function(e,t,i){a((function(r){var a=(0,gt.Z)((0,gt.Z)({},r[e]),{},(0,xt.Z)({},t,i));return console.log("in add date",(0,gt.Z)((0,gt.Z)({},n),{},(0,xt.Z)({},e,a))),(0,gt.Z)((0,gt.Z)({},n),{},(0,xt.Z)({},e,a))}))},function(e,t){var i=n[e],r=(i[t],(0,bt.Z)(i,[t].map(pt.Z)));console.log("in remove date",e,t,(0,gt.Z)((0,gt.Z)({},n),{},(0,xt.Z)({},e,r))),a((0,gt.Z)((0,gt.Z)({},n),{},(0,xt.Z)({},e,r)))}]}function wt(){var e=(0,r.useState)(0),t=(0,i.Z)(e,2),n=t[0],a=t[1],o=mt(),l=(0,i.Z)(o,3),s=l[0],c=l[1],h=l[2],d=mt(),g=(0,i.Z)(d,3),f=g[0],x=g[1],u=g[2],m=function(){var e=(0,r.useState)([]),t=(0,i.Z)(e,2),n=t[0],a=t[1],o=(0,r.useCallback)((function(e,t){if(e instanceof File){var n=new Image;n.onload=function(i){var r=i.target,o=r.naturalWidth,l=r.naturalHeight;a((function(i){return(0,gt.Z)((0,gt.Z)({},i),{},(0,xt.Z)({},t,function(e,t,n,i){var r=e.lastModified,a=e.size,o=e.name,l=e.type;return{height:n,lastModified:r,rawFile:e,size:a,src:i.src,title:o,type:l,width:t}}(e,o,l,n)))}))},n.src=URL.createObjectURL(e)}}),[]);return[n,o,function(e,t){var i=n[t];a((function(n){return(0,gt.Z)((0,gt.Z)({},n),{},(0,xt.Z)({},t,(0,gt.Z)((0,gt.Z)({},i),e)))}))}]}(),b=(0,i.Z)(m,3),p=b[0],v=b[1],w=b[2],y=(0,r.useState)({theme:"contextual",orientation:"landscape",binding:"none",size:"A5"}),j=(0,i.Z)(y,2),Z=j[0],S=j[1],C=vt(),I=(0,i.Z)(C,3),W=I[0],k=I[1],z=I[2],F=Z.theme,T=Z.orientation,D=Z.binding,H=Z.size,Y=function(){return a((function(e){return e+1}))},X=L.monthCanvas[H],A=X.printWidth,R=X.printHeight,E=dt[F],B=E.generateImage,M=E.generateDates,P=E.drawSheet,O=E.totalImageRenderCount,J=function(){for(var e="potrait"===T?{orientation:"p",unit:"in",format:[A,R]}:{orientation:"l",unit:"in",format:[R,A]},t=new ft.kH(e),n=0;n<L.monthList.length;n+=1)n>0&&t.addPage(e),P(t,n,s,f,H,D,T);t.save("tc-".concat(Z.size,"-").concat(Z.binding,".pdf")),u(),h()};(0,r.useEffect)((function(){n===O&&(a(0),J())}),[n,J]);return console.log("usecal",F,T,D,H,p,W),[p,F,T,D,H,W,k,z,function(e){return S((function(t){return(0,gt.Z)((0,gt.Z)({},t),{},{theme:e})}))},function(e){return S((function(t){return(0,gt.Z)((0,gt.Z)({},t),{},{orientation:e})}))},function(e){return S((function(t){return(0,gt.Z)((0,gt.Z)({},t),{},{binding:e})}))},function(e){return S((function(t){return(0,gt.Z)((0,gt.Z)({},t),{},{size:e})}))},v,w,function(){a(0),h(),u(),L.monthList.forEach((function(e){var t=document.createElement("canvas"),n=document.createElement("canvas");if(c(e,t),x(e,n),B(t,p[e],T,D,H,Y),"color"===F){var i=dt[F].config.months[e].color;M(n,e,i,T,D,H)}else{var r=dt[F].config.months[e].image;console.log("usecal generate",F,T,D,W),M(n,e,r,T,D,H,Y,W)}}))}]}var yt=n(72429),jt=n(75930),Zt=n(98481);function St(e){var t=e.handleOpen,n=e.addDate,o=L.monthList,s=L.months,c=(0,r.useState)(""),f=(0,i.Z)(c,2),x=f[0],u=f[1],m=(0,r.useState)(""),p=(0,i.Z)(m,2),v=p[0],w=p[1],y=(0,r.useState)(""),j=(0,i.Z)(y,2),Z=j[0],I=j[1],W=o.map((function(e){return{label:e,value:e}})),k=[{value:"Birthday",label:"Birthday",icon:(0,S.jsx)(ce.Z,{sx:{color:"#FF5B61"}})},{value:"Anniversary",label:"Anniversary",icon:(0,S.jsx)(he.Z,{sx:{color:"red"}})},{value:"Home",label:"Home",icon:(0,S.jsx)(de.Z,{sx:{color:"#5F9EA0"}})},{value:"Travel",label:"Travel",icon:(0,S.jsx)(jt.Z,{sx:{color:"blue"}})},{value:"Other",label:"Other",icon:(0,S.jsx)(Zt.Z,{sx:{color:"brown"}})}],z=[];if(""!==x)for(var F=s[x].days,T=1;T<=F;T+=1)z.push({label:T,value:T});return(0,S.jsxs)(a.Z,{fullWidth:!0,sx:{mb:1},children:[(0,S.jsx)(l.Z,{title:"Add Special Dates",sx:{color:"gray"},action:(0,S.jsx)(yt.Z,{handleClose:function(){return t(!1)}})}),(0,S.jsx)(h.Z,{}),(0,S.jsx)(d.Z,{children:(0,S.jsxs)(g.Z,{direction:"row",sx:{p:2},justifyContent:"space-around",children:[(0,S.jsx)(C,{label:"Month",value:x,options:W,handleChange:u}),(0,S.jsx)(C,{label:"Date",value:v,options:z,handleChange:w,disabled:!x}),(0,S.jsx)(C,{label:"Type",value:Z,options:k,handleChange:I,disabled:!v}),(0,S.jsx)(b.Z,{disabled:!(x&&v&&Z),variant:"outlined",onClick:function(){n(x,v,Z),u(""),w(""),I("")},children:"Add"})]})})]})}var Ct=n(57861),It=n(67478),Wt=n(23477),kt=n(66835),zt=n(11198),Ft={Birthday:(0,S.jsx)(ce.Z,{sx:{color:"#FF5B61"}}),Anniversary:(0,S.jsx)(he.Z,{sx:{color:"red"}}),Home:(0,S.jsx)(de.Z,{sx:{color:"#5F9EA0"}}),Travel:(0,S.jsx)(jt.Z,{sx:{color:"blue"}}),Other:(0,S.jsx)(Zt.Z,{sx:{color:"brown"}})};function Tt(e){var t=e.date,n=e.type,i=e.handleRemove;return(0,S.jsxs)(Ct.Z,{children:[(0,S.jsx)(It.Z,{align:"right",children:t}),(0,S.jsxs)(It.Z,{align:"right",children:[n," "]}),(0,S.jsx)(It.Z,{align:"right",children:Ft[n]}),(0,S.jsx)(It.Z,{align:"right",children:(0,S.jsx)(q.Z,{onClick:i,children:(0,S.jsx)(zt.Z,{})})})]})}function Dt(e){var t=e.label;return(0,S.jsx)(It.Z,{align:"right",sx:{fontWeight:"bold",color:"gray"},children:t})}function Ht(){return(0,S.jsxs)(Wt.Z,{children:[(0,S.jsx)(Dt,{label:"Date"},"Date"),(0,S.jsx)(Dt,{label:"Type"},"Type"),(0,S.jsx)(Dt,{label:"Icon"},"Icon"),(0,S.jsx)(Dt,{label:"Remove"},"Remove")]})}function Yt(e){var t=e.dates,n=e.removeDate,i=L.monthList.map((function(e){return Object.keys(t[e]).length>0?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(te.Z,{variant:"h6",sx:{textAlign:"center",fontWeight:"bold",p:1},children:e},e),(0,S.jsxs)(kt.Z,{size:"small",children:[(0,S.jsx)(Ht,{}),Object.keys(t[e]).map((function(i){return(0,S.jsx)(Tt,{date:i,type:t[e][i],handleRemove:function(){return n(e,i)}})}))]})]}):null}));console.log("Dates dialog",i,i.length);var r=i.filter((function(e){return!!e}));return r.length>0?(0,S.jsxs)(a.Z,{fullWidth:!0,sx:{maxHeight:"500px",overflowY:"scroll",scrollbarWidth:"none"},children:[(0,S.jsx)(l.Z,{title:"Added Dates"}),(0,S.jsx)(h.Z,{}),(0,S.jsx)(d.Z,{children:r})]}):null}function Xt(e){var t=e.open,n=e.handleOpen,i=e.dates,r=e.addDate,a=e.removeDate;return console.log("Dates dialog",i,r,a),(0,S.jsxs)(c.Z,{fullWidth:!0,open:t,PaperProps:{sx:{backgroundColor:"transparent"},elevation:0},children:[(0,S.jsx)(St,{handleOpen:n,addDate:r}),(0,S.jsx)(Yt,{dates:i,removeDate:a})]})}var At=[{label:"Contextual",value:"contextual"},{label:"Contextual Landscape",value:"contextuallandscape"},{label:"Color",value:"color"}],Rt=[{label:"Potrait",value:"potrait"},{label:"Landscape",value:"landscape"}],Et=[{label:"Wire-o",value:"wireo"},{label:"None",value:"none"}],Bt=[{label:"Large",value:"A3"},{label:"Standard",value:"A5"},{label:"Small",value:"A7"}];function Mt(){var e=wt(),t=(0,i.Z)(e,15),n=t[0],a=t[1],o=t[2],l=t[3],s=t[4],c=t[5],h=t[6],d=t[7],g=t[8],f=t[9],x=t[10],p=t[11],v=t[12],w=t[13],y=t[14];console.log(n,c,v,w);var j=dt[a].Year,Z=(0,r.useState)(!1),I=(0,i.Z)(Z,2),W=I[0],k=I[1],z={images:n,theme:a,orientation:o,binding:l,size:s,specialDates:c,addSpecialDate:h,removeSpecialDate:d,handleThemeChange:g,handleOrientationChange:f,handleBindingChange:x,handleSizeChange:p,handleImageChange:v,handleEditChange:w,generate:y},F=function(){return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(C,{label:"Theme",value:a,options:At,handleChange:g}),(0,S.jsx)(C,{label:"Orientation",value:o,options:Rt,handleChange:f}),(0,S.jsx)(C,{label:"Binding",value:l,options:Et,handleChange:x}),(0,S.jsx)(C,{label:"Size",value:s,options:Bt,handleChange:p}),(0,S.jsx)(b.Z,{onClick:function(){return k(!0)},children:"Dates"})]})};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(u.Z,{position:"static",sx:{backgroundColor:"transparent",py:.5,borderTop:"1px solid gray"},children:(0,S.jsxs)(m.Z,{variant:"dense",sx:{justifyContent:"center"},children:[(0,S.jsx)(F,{}),(0,S.jsx)(b.Z,{onClick:y,children:"View Cal"})]})}),a?(0,S.jsx)(O.Provider,{value:z,children:(0,S.jsx)(j,{handleImageChange:v,handleEditChange:w})}):null,(0,S.jsx)(Xt,{open:W,handleOpen:k,dates:c,addDate:h,removeDate:d})]})}function Pt(e){var t=e.text,n=e.color;return(0,S.jsx)(te.Z,{sx:{fontSize:{sm:"0.5rem"},color:{color:n},fontWeight:"bold",minWidth:"10px",textAlign:"center"},children:t})}function Lt(){return(0,S.jsxs)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{pb:0},children:[(0,S.jsx)(Pt,{text:"S",color:"red"}),(0,S.jsx)(Pt,{text:"M",color:"black"}),(0,S.jsx)(Pt,{text:"T",color:"black"}),(0,S.jsx)(Pt,{text:"W",color:"black"}),(0,S.jsx)(Pt,{text:"T",color:"black"}),(0,S.jsx)(Pt,{text:"F",color:"black"}),(0,S.jsx)(Pt,{text:"S",color:"red"})]})}function Ot(e){var t=e.type,n=e.day;console.log("dates grid special date icon",t,n);var i=L.icons,r=i.cake,a=i.favorite,o=i.home,l=i.travel;return"Travel"===t?(0,S.jsx)(g.Z,{direction:"row",justifyContent:"center",sx:{width:"10px"},children:(0,S.jsx)(ge.Z,{sx:{color:l.color,fontSize:"0.4rem"}})}):"Birthday"===t?(0,S.jsx)(g.Z,{direction:"row",justifyContent:"center",sx:{width:"10px"},children:(0,S.jsx)(ce.Z,{sx:{color:r.color,fontSize:"0.4rem"}})}):"Anniversary"===t?(0,S.jsx)(g.Z,{direction:"row",justifyContent:"center",sx:{width:"10px"},children:(0,S.jsx)(he.Z,{sx:{color:a.color,fontSize:"0.4rem"}})}):"Home"===t?(0,S.jsx)(g.Z,{direction:"row",justifyContent:"center",sx:{width:"10px"},children:(0,S.jsx)(de.Z,{sx:{color:o.color,fontSize:"0.4rem"}})}):"Other"===t?(0,S.jsx)(te.Z,{sx:{fontSize:"0.4rem",color:"brown",fontWeight:"bold",textAlign:"center",minWidth:"10px"},children:0===n?" ":n},"".concat(n)):void 0}function Jt(e){var t=e.days,n=e.firstDay,i=e.specialDates,r=se.generateCalendar(t,n);return console.log("dates grid",r,i),(0,S.jsx)(g.Z,{direction:"column",alignItems:"space-between",justifyContent:"space-between",sx:{height:"100%",boxSizing:"border-box"},children:r.map((function(e){return(0,S.jsx)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:e.map((function(e,t){return e in i?(0,S.jsx)(Ot,{day:e,type:i[e]}):(0,S.jsx)(te.Z,{sx:{fontSize:{xs:"0.65rem",sm:"0.4rem"},color:0===t||6===t?"red":"black",fontWeight:"bold",textAlign:"center",minWidth:"10px"},children:0===e?" ":e},"".concat(t).concat(e))}))},e)}))})}function Ut(e){var t=e.width,n=e.height,i=e.month,r=e.days,a=e.firstDay,o=e.specialDates;return console.log("wall date box",r,a),(0,S.jsxs)(g.Z,{sx:{px:1,pb:.5,pt:.5,height:{height:n},width:{width:t},backgroundSize:"cover",backgroundColor:"white",boxSizing:"border-box",borderRadius:"5px"},children:[(0,S.jsx)(g.Z,{direction:"row",alignItems:"flex-start",justifyContent:"center",children:(0,S.jsx)(te.Z,{sx:{fontSize:{xs:"0.85rem",sm:"0.65rem"},fontWeight:"bold",color:"green",lineHeight:1},children:i.toUpperCase()})}),(0,S.jsx)(h.Z,{}),(0,S.jsx)(Lt,{}),(0,S.jsx)(Jt,{days:r,firstDay:a,specialDates:o})]})}function Vt(e){var t=e.image,n=e.width,i=e.height,a=e.handleChange,o=e.handleImageEdit,l=(0,r.useRef)(null);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(te.Z,{sx:{position:"absolute",top:10,left:10,p:1,px:2,backgroundColor:"rgba(255,255,255, 0.8)",borderRadius:"10px",fontWeight:"bold",zIndex:3},children:"2025"}),(0,S.jsxs)(J.Z,{width:"100%",height:i,sx:{position:"absolute",top:0},children:[(0,S.jsx)(re,{month:"",handleChange:a,ref:l}),"src"in t?(0,S.jsx)($,{scale:1,image:t,width:n,height:i,onImageChange:o,onImageReady:o,handleImageChange:function(){l.current&&l.current.click()}}):null]})]})}function Kt(e){var t=e.image,n=e.year,i=e.handleChange,a=e.handleImageEdit,o=e.bgImage,l=e.width,s=e.height,c=e.specialDates,h=(0,r.useRef)(null);console.log("month contents",n);return console.log("month contents input ref",h),(0,S.jsxs)(J.Z,{id:"test",component:"div",width:l,height:s,sx:{position:"relative",zIndex:"auto",outline:"1px solid black"},children:[(0,S.jsx)(Vt,{image:t,width:l,height:.5*s,handleChange:i,handleImageEdit:function(e){var t;if(e.current){var n=null===(t=e.current)||void 0===t?void 0:t.getCroppingRect(),i=n.width,r=n.height,o=n.x,l=n.y;a({cropWidth:i,cropHeight:r,x:o,y:l})}}}),(0,S.jsxs)(J.Z,{width:l,height:.5*s,sx:{p:1,mt:0,mb:0,boxSizing:"border-box",position:"absolute",top:.5*s,backgroundImage:"url(".concat(o,")"),backgroundSize:"cover",backgroundPosition:"center"},children:[(0,S.jsx)(M.ZP,{container:!0,sx:{width:"100%",height:s/2.2},justifyContent:"space-between",alignItems:"space-between",children:L.monthList.map((function(e){var t=L.months[e],n=t.days,i=t.firstDay;return(0,S.jsx)(M.ZP,{item:!0,children:(0,S.jsx)(Ut,{width:l/4.3,height:s/6.8,month:e,days:n,firstDay:i,specialDates:e in c?c[e]:{}})})}))}),(0,S.jsx)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{height:.5*s*.055,width:"100%",backgroundSize:"cover",borderRadius:"5px",backgroundColor:"white",px:1,boxSizing:"border-box"},children:(0,S.jsx)(be,{})})]})]})}function Gt(e,t){for(var n=[],i=new Array(t).fill(0),r=1;r<=e;)i.push(r),r+=1,7===i.length&&(n.push(i),i=[]);if(i.length>0){for(;i.length<7;)i.push(0);n.push(i)}return n}function Nt(e,t,n){var i=e.getContext("2d");return i.canvas.width=t,i.canvas.height=n,i.webkitImageSmoothingEnabled=!1,i.mozImageSmoothingEnabled=!1,i.imageSmoothingEnabled=!1,i.fillStyle="white",i.fillRect(0,0,e.width,e.height),i}function qt(e,t,n,r,a,o,l){var s=new Image;s.onerror=function(){console.log("Error while loading image",t)},s.onload=function(){var c=s.naturalWidth,h=s.naturalHeight,d=function(e,t,n,i){var r,a,o,l,s=n/i;return s>e/t?(a=t,o=((r=t*s)-e)/2,l=0):(r=e,o=0,l=((a=e/s)-t)/2),[parseFloat(r.toFixed(5)),parseFloat(a.toFixed(5)),o,l]}(n,r,c,h),g=(0,i.Z)(d,4),f=g[0],x=g[1],u=g[2],m=g[3],b=se.resizeImageSlowly(s,c,h,f,x);e.drawImage(b,"x"in t?t.x*f:u,"y"in t?t.y*x:m,n,r,a,o,n,r),l()},s.src=t.src}var Qt=function(e,t,n,i){var r,a;if(n.width<e||n.height<t){var o=e/t;n.width/n.height>o?a=(r=n.height)*(e/t):r=(a=n.width)/(e/t)}else r=t,a=e;var l=a>i?i:a,s=l*r/a;return[parseFloat(l.toFixed(5)),parseFloat(s.toFixed(5))]};var $t=function(e,t,n,i,r,a,o,l){var s=n.color,c=n.path,h=n.text;e.fillStyle=s,e.save(),e.translate(r,a),e.scale(t,t),e.fill(new Path2D(c)),e.restore(),e.fillStyle=s,e.font=i,e.fillText(h,o,l)};function _t(e,t,n,i,r,a,o){e.beginPath(),e.moveTo(t,n),e.lineTo(i,r),e.strokeStyle=a,e.lineWidth=o,e.stroke()}var en=function(e,t,n,i,r,a){e.fillStyle=n,e.save(),e.translate(r,a),e.scale(t,t),e.fill(new Path2D(i)),e.restore()};function tn(e,t,n,i,r){var a=t.letterHeight,o=t.letterWidth,l=t.startX,s=t.startY,c=t.scale,h=t.width,d=t.height,g=t.font,f=t.iconWidth,x=L.icons,u=x.cake,m=x.favorite,b=x.home,p=x.travel;e.font=g;var v=(h-7*o)/6,w=(d-n.length*a)/n.length;n.forEach((function(t,n){t.forEach((function(t,h){var d=l+v*h+o*h+o/2,g=s+n*w+n*a,x=d-f/2,y=g-a/2;t in i?(e.fillStyle="blue","Birthday"===i[t]?(console.log("Special date ",r,t,d,g),en(e,c,u.color,u.path,x,y)):"Home"===i[t]?en(e,c,b.color,b.path,x,y):"Travel"===i[t]?en(e,c,p.color,p.path,x,y):"Anniversary"===i[t]?en(e,c,m.color,m.path,x,y):"Other"===i[t]&&(e.fillStyle="brown",e.fillText(0===t?" ":t,d,g))):0===h||6===h?(e.fillStyle="red",e.fillText(0===t?" ":t,d,g)):(e.fillStyle="black",e.fillText(0===t?" ":t,d,g))}))}))}function nn(e,t){!function(e,t){console.log("branding rect",t),e.beginPath(),e.roundRect(t.bsx,t.bsy,t.bw,t.bh,[t.br,t.br,t.br,t.br]),e.fillStyle=t.bc,e.fill()}(e,t),e.textAlign="start",e.fillStyle="brown",e.font=t.bf;var n="Colorful Possibilities",i=e.measureText(n);e.font=t.bfr;var r=" by MemoryTimeline",a=e.measureText(r),o=i.width+a.width,l=e.measureText("colorfulpossibilities"),s=e.measureText("7975218926"),c=o+2*l.width+s.width,h=(t.bw-t.bstx-c)/3;e.textBaseline="middle",e.font=t.bf,e.fillText(n,t.bstx,t.bsty),e.font=t.bfr,e.fillStyle="black",e.fillText(r,t.bstx+a.width,t.bsty);var d=L.social,g=d.Facebook,f=d.Instagram,x=d.Whatsapp;$t(e,t.scale,g,t.bfr,t.bstx+o+h-t.iconWidth,t.bsty-t.iconWidth/2,t.bstx+o+h,t.bsty),$t(e,t.scale,f,t.bfr,t.bstx+o+2*h+l.width-t.iconWidth,t.bsty-t.iconWidth/2,t.bstx+o+l.width+2*h,t.bsty),$t(e,t.scale,x,t.bfr,t.bstx+o+3*h+2*l.width-t.iconWidth,t.bsty-t.iconWidth/2,t.bstx+o+3*h+2*l.width,t.bsty)}function rn(e,t){e.textAlign="center",e.font=t.font;var n=(t.width-7*t.letterWidth)/6;t.letters.forEach((function(i,r){e.fillStyle=0===r||6===r?"red":"black",e.fillText(i,t.startX+n*r+t.letterWidth*r+t.letterWidth/2,t.startY)}))}var an=function(e,t,n,r){var a=L.monthCanvas[n],o=a.width,l=a.height,s=L.maxCanvasWidth,c=Qt(o,.5*l,t,s),h=(0,i.Z)(c,2),d=h[0],g=h[1],f=Nt(e,d,g);return console.log("canvas dimensions",d,g,t.width,t.height,s,t),t&&qt(f,t,d,g,0,0,r),e},on=function(e,t,n,r,a){console.log("generate dates",e,t,n,r,a);var o=L.monthCanvas[n],l=o.width,s=o.height,c=L.maxCanvasWidth,h=new Image;return h.onload=function(n){var o=n.target,h=o.naturalWidth,d=o.naturalHeight,g=Qt(l,.5*s,{width:h,height:d},c),f=(0,i.Z)(g,2),x=f[0],u=f[1];console.log("Inside generate dates",t,l,s,x,u,a);var m=Nt(e,x,u),b=function(e,t){var n=427,i=8*e/n,r=16*e/n,a={width:e,height:t,startX:0,startY:0},o={bsx:i,bsy:t-i-.055*t,bw:e-2*i,bh:.055*t,br:5*e/n,bf:"bold ".concat(.45*r,"px KaushanScript"),bfr:"bold ".concat(.45*r,"px sans-serif"),bc:"rgba(255,255,255,1)",bstx:2*i,bsty:t-i-.055*t/2,scale:6.4*e/8540,iconWidth:8*e/n},l={letters:["S","M","T","W","T","F","S"],letterWidth:10*e/n,font:"bold ".concat(.5*r,"px sans-serif"),width:(e-3*i)/4-2*i,letterHeight:.75*r},s={letterWidth:10*e/n,letterHeight:1.5*.4*r,font:"bold ".concat(.4*r,"px sans-serif"),scale:6.4*e/8540,iconWidth:8*e/n};return{dateBoxArea:a,branding:o,dateBox:{width:(e-3*i)/4,height:(t-3*i-.055*t)/3,startX:i,startY:i,endX:e,endY:t,bgcolor:"white",gapX:i/3,gapY:i/3,monthFont:"bold ".concat(.65*r,"px sans-serif"),monthTopGap:4*e/n,letterHeight:.65*r,dividerColor:"rgba(0,0,0,0.12)",lineWidth:2*e/n,weekRow:l,dates:s}}}(x,u);console.log("render date area",m,b),function(e,t,n,i){var r=t.width,a=t.height,o=t.startX,l=t.startY;console.log("in render date box area",t,n),qt(e,{src:n},r,a,o,l,i)}(m,b.dateBoxArea,t,(function(){console.log("render date box area callback"),function(e,t,n){for(var i=0;i<3;i+=1)for(var r=0;r<4;r+=1)e.beginPath(),e.roundRect(t.startX+r*t.width+r*t.gapX,t.startY+i*t.height+i*t.gapY,t.width,t.height,[5]),e.fillStyle=t.color,e.fill();var a=L.monthList,o=L.months;e.fillStyle="green",e.textAlign="center",e.font=t.monthFont,e.textBaseline="hanging";for(var l=0;l<3;l+=1)for(var s=0;s<4;s+=1)e.fillText(a[4*l+s],t.startX+s*t.width+s*t.gapX+t.width/2,t.startY+l*t.height+l*t.gapY+t.monthTopGap);for(var c=0;c<3;c+=1)for(var h=0;h<4;h+=1)_t(e,t.startX+h*t.width+h*t.gapX+t.startX,t.startY+c*t.height+c*t.gapY+t.monthTopGap+t.letterHeight,t.startX+h*t.width+h*t.gapX+t.width-t.startX,t.startY+c*t.height+c*t.gapY+t.monthTopGap+t.letterHeight,t.dividerColor,2);e.textBaseline="middle";for(var d=0;d<3;d+=1)for(var g=0;g<4;g+=1)rn(e,(0,gt.Z)((0,gt.Z)({},t.weekRow),{},{startX:t.startX+g*t.width+g*t.gapX+t.startX,startY:t.startY+d*t.height+d*t.gapY+t.monthTopGap+t.letterHeight+t.weekRow.letterHeight/2,endX:t.startX+g*t.width+g*t.gapX+t.width-t.startX,endY:t.startY+d*t.height+d*t.gapY+t.monthTopGap+t.letterHeight+t.weekRow.letterHeight/2}));for(var f=0;f<3;f+=1)for(var x=0;x<4;x+=1){var u=a[4*f+x],m=Gt(o[u].days,o[u].firstDay);tn(e,(0,gt.Z)((0,gt.Z)({},t.dates),{},{startX:t.startX+x*t.width+x*t.gapX+t.startX,startY:t.startY+f*t.height+f*t.gapY+t.monthTopGap+t.letterHeight+t.weekRow.letterHeight+t.dates.letterHeight/2,width:t.weekRow.width,height:t.height-(t.monthTopGap+t.letterHeight+t.weekRow.letterHeight/2)-t.monthTopGap}),m,n[u],a[4*f+x])}}(m,b.dateBox,a),nn(m,b.branding),r()}))},h.src=t,e};function ln(){var e=(0,r.useState)(0),t=(0,i.Z)(e,2),n=t[0],a=t[1],o=function(){var e=(0,r.useState)({}),t=(0,i.Z)(e,2),n=t[0],a=t[1];return[n,(0,r.useCallback)((function(e){if(e instanceof File){var t=new Image;t.onload=function(n){var i=n.target,r=i.naturalWidth,o=i.naturalHeight;a(function(e,t,n,i){var r=e.lastModified,a=e.size,o=e.name,l=e.type;return{height:n,lastModified:r,rawFile:e,size:a,src:i.src,title:o,type:l,width:t}}(e,r,o,t))},t.src=URL.createObjectURL(e)}}),[]),function(e){return a((function(t){return(0,gt.Z)((0,gt.Z)({},t),e)}))}]}(),l=(0,i.Z)(o,3),s=l[0],c=l[1],h=l[2],d=(0,r.useState)("contextual"),g=(0,i.Z)(d,2),x=g[0],u=g[1],m=vt(),b=(0,i.Z)(m,3),p=b[0],v=b[1],w=b[2],y=(0,r.useState)(),j=(0,i.Z)(y,2),Z=j[0],S=j[1],C=(0,r.useState)(),I=(0,i.Z)(C,2),W=I[0],k=I[1],z=function(){return a((function(e){return e+1}))},F=function(){console.log("download single page");var e=L.monthCanvas.A3,t=e.printWidth,n=e.printHeight,i={orientation:"p",unit:"in",format:[t,n]},r=new ft.kH(i),a=Z.toDataURL("image/jpeg",1);r.addImage(a,0,0,t,.5*n);var o=W.toDataURL("image/jpeg",1);r.addImage(o,0,n/2,t,n/2),r.save("tc-A3-single.pdf")};(0,r.useEffect)((function(){2===n&&(a(0),F())}),[n,F]);return console.log("use single calendar",x,s,p),[s,x,p,v,w,function(e){return u(e)},c,h,function(){var e=document.createElement("canvas"),t=document.createElement("canvas");S(e),k(t),an(e,s,"A3",z),on(t,f,"A3",z,p)}]}var sn=[{label:"Contextual",value:"contextual"},{label:"Contextual Landscape",value:"contextuallandscape"},{label:"Color",value:"color"}];function cn(){var e=(0,r.useState)(!1),t=(0,i.Z)(e,2),n=t[0],a=t[1],o=ln(),l=(0,i.Z)(o,9),s=l[0],c=l[1],h=l[2],d=l[3],g=l[4],x=l[5],p=l[6],v=l[7],w=l[8],y=(0,U.Z)(),j=(0,r.useState)({}),Z=(0,i.Z)(j,2),I=Z[0],W=Z[1];(0,r.useEffect)((function(){var e=(0,i.Z)(y,1)[0];W((function(){return 0===e?{}:e>427?{width:427,height:427/.707}:{width:.95*e,height:.95*e/.707}}))}),[y]);var k=function(){return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(C,{label:"Theme",value:c,options:sn,handleChange:x}),(0,S.jsx)(b.Z,{variant:"outlined",onClick:function(){return a(!0)},children:"+/- Dates"})]})};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(u.Z,{position:"static",sx:{backgroundColor:"transparent",py:.5,borderTop:"1px solid gray",mb:1},children:(0,S.jsxs)(m.Z,{variant:"dense",sx:{justifyContent:"center"},children:[(0,S.jsx)(k,{}),(0,S.jsx)(b.Z,{onClick:w,children:"View Cal"})]})}),(0,S.jsx)(Kt,{year:2025,image:s,handleChange:p,handleImageEdit:v,width:I.width,height:I.height,bgImage:f,specialDates:h}),(0,S.jsx)(Xt,{open:n,handleOpen:a,dates:h,addDate:d,removeDate:g})]})}function hn(e){var t=e.image,n=e.handleClick,i=e.text;return(0,S.jsx)(a.Z,{sx:{width:"200px"},onClick:n,children:(0,S.jsxs)(o.Z,{children:[(0,S.jsx)(l.Z,{subheader:i,subheaderTypographyProps:{sx:{textAlign:"center"}}}),(0,S.jsx)(s.Z,{component:"img",height:"200",image:t,alt:i})]})})}function dn(){var e=(0,r.useState)(""),t=(0,i.Z)(e,2),n=t[0],o=t[1];return n?"multi"===n?(0,S.jsx)(Mt,{}):(0,S.jsx)(cn,{}):(0,S.jsx)(c.Z,{open:!0,children:(0,S.jsxs)(a.Z,{children:[(0,S.jsx)(l.Z,{title:"Choose Type",titleTypographyProps:{sx:{textAlign:"center",color:"gray"}}}),(0,S.jsx)(h.Z,{}),(0,S.jsx)(d.Z,{children:(0,S.jsxs)(g.Z,{direction:"row",spacing:2,sx:{p:1},children:[(0,S.jsx)(hn,{text:"Single Page Wall Calendar",handleClick:function(){return o("single")},image:f}),(0,S.jsx)(hn,{text:"Multi Page Calendar (Wall & Table)",handleClick:function(){return o("multi")},image:x})]})})]})})}}}]);