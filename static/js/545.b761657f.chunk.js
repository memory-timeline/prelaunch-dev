"use strict";(self.webpackChunkprelaunch=self.webpackChunkprelaunch||[]).push([[545],{52545:function(e,t,r){r.r(t),r.d(t,{default:function(){return L}});var n=r(74165),a=r(15861),o=r(29439),s=r(47313),c=r(58467),i=r(73428),u=r(54641),l=r(93405),d=r(8868),x=r(67098),p=r(89856),h=r(89237),f=r(15919),g=r(57983),Z=r(20647),b=r(70501),j=r(46417);function v(){var e=(0,s.useState)(-1),t=(0,o.Z)(e,2),r=t[0],n=t[1];return(0,j.jsx)(b.Z,{sx:{position:"fixed",bottom:0,left:0,right:0,m:1,borderRadius:"20px",bgcolor:"#0e0d12"},elevation:5,children:(0,j.jsxs)(p.Z,{value:r,onChange:function(e,t){return n(t)},sx:{borderRadius:"20px",bgcolor:"transparent",color:"gray","& .Mui-selected":{color:"white"}},children:[(0,j.jsx)(h.Z,{label:"Home",icon:(0,j.jsx)(f.Z,{}),sx:{color:"gray"}}),(0,j.jsx)(h.Z,{label:"Search",icon:(0,j.jsx)(g.Z,{}),sx:{color:"gray"}}),(0,j.jsx)(h.Z,{label:"Nearby",icon:(0,j.jsx)(Z.Z,{}),sx:{color:"gray"}})]})})}var m=r(75908),k=r(9289),C=r(61113);r(8689);function w(e){var t=e.name,r=e.selected,n=e.handleClick;return(0,j.jsx)(C.Z,{variant:"h6",component:"div",align:"center",onClick:n,sx:{flexGrow:1,p:"5px",bgcolor:r?"#454257":"transparent",marginRight:1,fontSize:"0.75rem",fontWeight:"bold",alignItems:"center",borderRadius:"10px",cursor:"pointer"},children:t})}function y(e){var t=e.categories,r=e.handleCategoryChange,n=(0,s.useState)(0),a=(0,o.Z)(n,2),c=a[0],i=a[1];return(0,s.useEffect)((function(){return r(c)}),[c]),(0,j.jsx)(m.Z,{position:"static",sx:{bgcolor:"transparent"},elevation:0,children:(0,j.jsx)(k.Z,{children:t.map((function(e,t){return(0,j.jsx)(w,{name:e.name,selected:c===t,handleClick:function(){return i(t)}},e.id)}))})})}y.defaultProps={categories:[]},w.defaultProps={selected:!1};var S=r(31798),R=r(73984),P=r(56854),z=r(57829),E=r(7003),F=r(37168);function G(e){var t=e.products,r=e.handleProductClick;return(0,j.jsx)(R.Z,{variant:"woven",cols:2,gap:8,sx:{pb:4},children:t.map((function(e){return(0,j.jsxs)(P.Z,{onClick:function(){return r(e.id)},children:[(0,j.jsx)(z.Z,{component:"img",srcSet:S.Z.getSrcSet(e.thumbnail),src:e.thumbnail.src,alt:e.title,loading:"lazy",sx:{borderRadius:"20px",width:250,height:250,objectFit:"cover"}}),(0,j.jsx)(E.Z,{position:"below",title:e.name,subtitle:(0,j.jsx)(F.Z,{price:e.price}),sx:{color:"white"}})]},e.thumbnail.title)}))})}var H=r(41953);function L(){d.Z.productResp,d.Z.categoryResp;var e=(0,s.useState)({data:[],total:0}),t=(0,o.Z)(e,2),r=t[0],p=t[1],h=(0,s.useState)({data:[],total:0}),f=(0,o.Z)(h,2),g=f[0],Z=f[1],b=(0,c.s0)(),m=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(g.data.length<=t)){e.next=2;break}return e.abrupt("return");case 2:return console.log("Category changed to ",g.data[t]),e.t0=p,e.next=6,x.Z.getProductList(g.data[t].id);case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b("/gift/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,s.useEffect)((0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.Z.getCategories();case 2:if(0!==(t=e.sent).data.length){e.next=5;break}return e.abrupt("return");case 5:return Z(t),e.t0=p,e.next=9,x.Z.getProductList(t.data[0].id);case 9:e.t1=e.sent,(0,e.t0)(e.t1);case 11:case"end":return e.stop()}}),e)}))),[]),console.log("categories",g,"products",r),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(i.Z,{sx:{bgcolor:"#1f1e2c",borderRadius:0,minHeight:"100vh"},children:[(0,j.jsx)(u.Z,{title:(0,j.jsx)(H.Z,{title:"Gifts"})}),(0,j.jsx)(y,{categories:g.data,handleCategoryChange:m}),(0,j.jsx)(l.Z,{children:(0,j.jsx)(G,{products:r.data,handleProductClick:k})})]}),(0,j.jsx)(v,{})]})}}}]);