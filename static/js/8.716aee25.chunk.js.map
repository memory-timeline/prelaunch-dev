{"version":3,"sources":["pages/Api.jsx","components/simple_snackbar.jsx","pages/MemoryThumbnailCard.jsx","static/images/icons/logo.svg","components/brand.jsx","hooks/title.jsx","hooks/date.jsx","hooks/story.jsx","pages/MemoryThumbnail.jsx","pages/memory/RemovePhotoIcon.jsx","components/topbar/utils.jsx","static/images/gogol.jpg","static/images/sagnika.jpg","components/about.jsx","static/images/blog_pic.jpg","components/social.jsx","components/contact.jsx","components/profile.jsx","components/topbar/misclinks.jsx","components/topbar/BurgerMenu.jsx","components/topbar/index.jsx","components/footer.jsx","pages/base_page.jsx","pages/memory/UpdateMemoryIcon.jsx","pages/memory/DeleteMemoryIcon.jsx","components/confirmation.jsx","pages/memory/MemoryActions.jsx","pages/memory/MemoryContentStructure.jsx","pages/memory/MemoryImageSlide.jsx","pages/memory/MemoryCarousel.jsx","pages/memory/MemoryTitle.jsx","pages/memory/MemoryDate.jsx","pages/memory/MemoryStory.jsx","pages/memory/MemoryImages.jsx","pages/memory/MemoryContent.jsx","pages/memory/ToggleViewMode.jsx","pages/memory/FormStepper.jsx","pages/memory/PreviewCardHeader.jsx","pages/memory/NavigationButton.jsx","pages/memory/FormStepperNavigation.jsx","pages/memory/BoxForm.jsx","pages/memory/TitleDateForm.jsx","pages/memory/ImageSelector.jsx","pages/memory/ThumbnailChooser.jsx","pages/memory/SelectedImage.jsx","pages/memory/ImagePreviewer.jsx","pages/memory/ErrorText.jsx","pages/memory/ImageForm.jsx","pages/memory/StoryEditor.jsx","pages/memory/StoryForm.jsx","pages/memory/CreateMemoryProgress.jsx","pages/memory/MemoryUtils.jsx","pages/memory/ModeContent.jsx","hooks/formStep.jsx","hooks/selectedImages.jsx","hooks/progressMessage.jsx","pages/memory/CreateMemoryForm.jsx","pages/memory/PreviewMemory.jsx","pages/memory/CreateMemory.jsx"],"names":["get","url","path","a","params","newUrl","options","method","credentials","headers","Headers","URLSearchParams","toString","fetch","resp","ok","status","document","cookie","json","getObjectUrl","bucket","authURL","key","then","response","Error","console","log","URL","error","details","urlParams","apiUrl","body","upload","putURL","memoryID","memory_id","item","value","JSON","stringify","action","image","validateDetails","uploadMultipleImages","paramList","incrementImageCount","map","Key","Body","getMemories","nextToken","next_token","viewMemory","memoryKey","getThumbnails","memories","finalizeMemory","deleteMemory","updateMemoryDetails","updateMemoryImage","SnackText","message","direction","spacing","justifyContents","alignItems","fontSize","color","SimpleSnackbar","snackBarOpen","onClose","useState","open","setOpen","snackMessage","setSnackMessage","useEffect","handleClose","size","onClick","autoHideDuration","anchorOrigin","vertical","horizontal","defaultProps","MemoryThumbnailCard","handleClick","children","elevation","sx","bgcolor","borderRadius","border","position","height","lg","sm","xs","borderColor","_excluded","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogo","_ref","svgRef","title","titleId","props","xmlns","xmlnsXlink","viewBox","fill","id","x","y","width","ref","style","d","ForwardRef","BrandLogo","BrandText","Typography","variant","paddingX","display","Branding","Grid","Box","justifyContent","useTitle","initialValue","setTitle","e","useDate","initialDate","date","setDate","newDate","Date","formattedDate","toLocaleDateString","day","month","year","useStory","initialState","story","setStory","event","ThumbnailImage","imageSrc","imageSrcSet","handleImageLoad","component","src","srcSet","alt","textAlign","objectFit","onLoad","ThumbnailDetails","disableTypography","noWrap","overflow","textOverflow","fontWeight","subheader","padding","MemoryThumbnail","thumbnailImage","thumbnailImageSrcSet","imgSrcSet","RemovePhotoIcon","alpha","top","right","TopBarGridContainer","container","p","pb","borderBottom","flexShrink","backgroundColor","TopBarButton","text","textVariant","useMediaQuery","theme","breakpoints","down","Button","CloseButton","IconButton","edge","TopBarDialog","wdth","Dialog","fullWidth","maxWidth","DialogTitle","DialogContent","dividers","aboutData","gogol","name","gogolPhoto","nabarun","sagnika","sagnikaPhoto","AboutCard","data","Card","minWidth","md","m","CardMedia","CardContent","py","part","About","align","YoutubeIcon","icon","faYoutube","FacebookIcon","faFacebook","TwitterIcon","faTwitter","InstagramIcon","faInstagramSquare","ReactIcon","faReact","HeartIcon","faHeart","HeartLink","SocialLink","to","ReactLink","YoutubeLink","FacebookLink","TwitterLink","InstagramLink","Link","underline","href","rel","px","SocialLinks","boxSx","Contact","className","faEnvelope","ProfileAvatar","picture","email","initials","Array","from","toUpperCase","Avatar","referrerPolicy","ProfileIcon","avatar","marginRight","Tooltip","ml","undefined","ProfileMenu","anchorEl","profileIdentifier","Menu","PaperProps","filter","mt","mr","content","transform","zIndex","transformOrigin","MenuItem","ListItemText","Divider","ListItemIcon","Profile","React","setAnchorEl","Boolean","userInfo","commonUtils","getUserInfo","userAvatar","currentTarget","MiscLinks","ProfileButton","Authenticate","paddingTop","BurgerMenu","navigate","useNavigate","aboutOpen","setAboutOpen","contactOpen","setContactOpen","handleAboutClose","handleContactClose","BrandLink","branding","textDecoration","TopBar","belowmd","MadeWith","Copyright","getFullYear","FooterGridContainer","justify","borderTop","bottom","Footer","DefaultBackground","flex","HomeButton","ProfileBar","Stack","BasePage","belowsm","flexDirection","flexWrap","UpdateMemoryIcon","DeleteMemoryIcon","Confirm","confirm","handleCallback","handleCloseCallback","MemoryActions","deleteItem","updateItem","snackBar","confirmMessage","handleDeleteObject","handleEditClick","setConfirm","MenuListProps","memoryDeleteCallback","api","deleteResults","MemoryContentStructure","header","photoLayout","storyLayout","preview","snack","setSnack","snackError","setSnackError","useTheme","handleSnackMessage","msg","actions","replace","boxShadow","CardHeader","my","overflowY","EnhancedSwipeableViews","bindKeyboard","autoPlay","virtualize","SwipeableViews","MemoryImageSlide","ind","images","handleNext","handleStepChange","activeStep","setActiveStep","loadedImages","setLoadedImages","setDisplay","prevLoaded","index","onChangeIndex","enableMouseEvents","animateTransitions","interval","slideRenderer","virtNum","count","total","modulus","mod","join","boxSizing","cursor","NextPic","PreviousPic","left","MemoryCarousel","handleBack","handleChange","fullScreen","MemoryTitle","editable","handleTitleUpdate","handleTitleChange","edit","setEdit","startEdit","setStartEdit","TextField","label","onChange","defaultValue","MemoryDate","prevDate","handleDateUpdate","handleDateChange","LocalizationProvider","dateAdapter","AdapterDateFns","placeholder","inputFormat","maxDate","renderInput","readOnly","required","MemoryStory","prevStory","handleStoryUpdate","handleStoryChange","storyRef","useRef","minHeight","current","focus","TextareaAutosize","autoFocus","OptionsButton","updateOp","AddPhotos","type","hidden","multiple","accept","MemoryPhotoAlbum","handlePhotoClick","renderPhoto","arrangement","setArrangement","twidth","theight","forEach","layout","photos","MemoryImages","handleThumbnailUpdate","deleteImage","addImage","setUpdateOp","thumbnail","setThumbnail","handleOpUpdate","op","OptionsRow","updatePanel","layoutOptions","imageProps","restImageProps","deleted","find","handleImageDelete","FormControlLabel","control","Radio","checked","handleThumbnailChange","pr","borderLeft","BackButton","paddingY","paddingRight","MemoryContent","memTitle","memDate","memStory","memImages","activeIndex","setActiveIndex","setImages","newImages","setNewImages","newImagesCount","setNewImagesCount","errorUploadImages","setErrorUploadImages","addImageOpen","setAddImageOpen","uploadImageProgress","setUploadImageProgress","uploadImageStatus","setUploadImageStatus","httpError","setHTTPError","maxSteps","handleHTTPError","operation","callback","httpErrorCallback","UpdateDetails","UpdateThumbnail","handleNewImages","entries","img","det","file","photo","uploadResp","pics","concat","errImgs","setTimeout","handleImageAdd","files","Image","onload","naturalHeight","naturalWidth","resImages","resHeight","Math","ceil","creationDate","now","newName","imageDetails","createObjectURL","revokeObjectURL","memoryTitle","memoryDate","updateDone","margin","prevActiveStep","step","ToggleViewMode","mode","handleModeChange","modes","ToggleButtonGroup","exclusive","modeName","ToggleButton","FormStepper","titles","Stepper","alternativeLabel","Step","StepLabel","PreviewCardHeader","mb","NavigationButton","disabled","FormStepperNavigation","handlePrevious","isLast","isFirst","pt","BoxForm","autoComplete","TitleDateForm","titleError","setTitleError","dateError","setDateError","titleTouched","setTitleTouched","dateTouched","setDateTouched","titleSchema","yup","max","dateSchema","nullable","isFieldValid","setFieldError","schema","hasError","validate","abortEarly","catch","testField","inner","isValid","titleValid","dateValid","submitForm","helperText","ImageSelector","ThumbnailChooser","SelectedImage","setDimensions","resizeHeights","heights","originalWidth","originalHeight","handleImageOnload","fit","auto","loading","ImagePreviewer","handleRemoveImage","ErrorText","ImageForm","handleSelectedImageChange","removeSelectedImage","imageError","setImageError","touched","setTouched","valid","StoryEditor","storyError","StoryForm","progressDialog","maxStoryLength","setStoryError","LinearProgressWithLabel","LinearProgress","round","MessageProgress","showStatus","done","CircularProgress","MemoryCreationStatus","progress","counter","mx","CreateMemoryProgress","messages","setCounter","timerId","clearTimeout","mesg","UploadImages","imageFiles","detail","imgFile","ContentType","uploadPromises","Promise","allSettled","ValidateDetails","memoryDetails","detailsJSON","validateResp","Valid","UploadDetails","memoryDetailsKey","InitializeMemory","handleProgress","updateMessageStatus","addMessage","initRes","HandleImages","imagesResults","CreateMemory","initMemResults","finalizeResults","parseInt","MemoryID","ModeContent","stepTitles","stepCount","useStep","setImageDetails","setImageFiles","arr","imageFile","slice","useSelectedImages","setProgress","setMessages","newMessage","useProgressMessage","uploadCount","setUploadCount","progressPercentage","cnt","TitleDate","SelectImages","handleSubmit","getTime","lastModified","totalSize","reduce","partialSum","MemoryUtils","created","ProgressDialog","CreateModeContent","stepForms","CreateMemoryForm","PreviewModeContent","xl","imageNames","PreviewMemory","setMode","formRef"],"mappings":"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","file":"static/js/8.716aee25.chunk.js","sourcesContent":["const get = async (url, path, params = {}) => {\n  let newUrl = `https://${url}${path}`;\n  const options = {\n    method: 'GET',\n    credentials: 'include',\n    headers: new Headers({ 'content-type': 'application/json' }),\n  };\n  newUrl += `?${new URLSearchParams(params).toString()}`;\n  const resp = await fetch(newUrl, options);\n  if (!resp.ok) {\n    if (resp.status === 401) {\n      document.cookie = 'userInfo=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';\n      return { status: 'unauthenticated' };\n    }\n    if (resp.status === 403) {\n      return { status: 'forbidden' };\n    }\n  }\n\n  return resp.json();\n};\n\nfunction getObjectUrl(bucket, authURL, key, method) {\n  try {\n    const path = '/api/presigned-url';\n    const params = { key, bucket, method };\n    return get(authURL, path, params).then((response) => {\n      if (response.Error) {\n        console.log(response.Error);\n        return '';\n      }\n      return response.URL;\n    });\n  } catch (error) {\n    return error;\n  }\n}\n\nasync function validateDetails(bucket, authURL, details) {\n  try {\n    const path = '/api/details/validate';\n    const urlParams = { bucket };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(urlParams).toString()}`;\n    const options = {\n      method: 'POST',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n      body: details,\n    };\n    return await fetch(apiUrl, options).then((response) => {\n      console.log(response);\n      if (!response.ok) {\n        return { status: 'error' };\n      }\n      return response.json();\n    });\n  } catch (error) {\n    console.log(error);\n    return error;\n  }\n}\n\nasync function upload(bucket, authURL, key, body) {\n  try {\n    const putURL = await getObjectUrl(bucket, authURL, key, 'PUT');\n    const params = { body, method: 'PUT' };\n    const resp = await fetch(putURL, params).then((response) => response);\n    return resp;\n  } catch (error) {\n    console.log(error);\n    return error;\n  }\n}\n\nasync function deleteMemory(bucket, authURL, memoryID) {\n  try {\n    const path = '/api/memory';\n    const params = { bucket, memory_id: memoryID };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(params).toString()}`;\n    const options = {\n      method: 'DELETE',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n    };\n    return await fetch(apiUrl, options).then((response) => {\n      console.log(response);\n      if (!response.ok) {\n        return { status: 'error' };\n      }\n      return { status: 'ok', body: response.json() };\n    });\n  } catch (error) {\n    return error;\n  }\n}\n\nfunction getThumbnails(bucket, authURL, memories) {\n  try {\n    const path = '/api/memory/thumbnail';\n    console.log('Memories = ', memories);\n    return memories.map(async (memoryID) => {\n      const params = { bucket, memory_id: memoryID };\n      return get(authURL, path, params);\n    });\n  } catch (error) {\n    console.log(error);\n    return error;\n  }\n}\n\nfunction uploadMultipleImages(bucket, authURL, paramList, incrementImageCount) {\n  try {\n    return paramList.map(async (params) => {\n      const resp = await upload(bucket, authURL, params.Key, params.Body);\n      incrementImageCount();\n      return resp;\n    });\n  } catch (error) {\n    console.log(error);\n    return error;\n  }\n}\n\nfunction getMemories(bucket, authURL, nextToken) {\n  try {\n    const path = '/api/memories';\n    const params = { bucket };\n\n    if (nextToken) {\n      params.next_token = nextToken;\n    }\n\n    return get(authURL, path, params);\n  } catch (error) {\n    return error;\n  }\n}\n\nfunction viewMemory(bucket, authURL, memoryKey) {\n  try {\n    const path = '/api/memory';\n    const params = { bucket, memory_id: memoryKey };\n\n    return get(authURL, path, params);\n  } catch (error) {\n    console.log('lord, I have erred', error);\n    return error;\n  }\n}\n\nfunction finalizeMemory(bucket, authURL, memoryKey) {\n  try {\n    const path = '/api/memory/finalize';\n    const params = { bucket, memory_id: memoryKey };\n    return get(authURL, path, params);\n  } catch (error) {\n    return error;\n  }\n}\n\nasync function updateMemoryDetails(bucket, authURL, memoryID, item, value) {\n  try {\n    const path = '/api/memory';\n    const urlParams = { bucket, memory_id: memoryID };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(urlParams).toString()}`;\n    const options = {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n      body: JSON.stringify({ item, value }),\n    };\n    return await fetch(apiUrl, options).then((response) => response);\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n}\n\nasync function updateMemoryImage(bucket, authURL, memoryID, action, image) {\n  try {\n    const path = '/api/memory';\n    const urlParams = { bucket, memory_id: memoryID };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(urlParams).toString()}`;\n    const options = {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n      body: JSON.stringify({ item: 'image', action, image }),\n    };\n    return await fetch(apiUrl, options).then((response) => response);\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n}\nexport default {\n  getObjectUrl,\n  validateDetails,\n  upload,\n  uploadMultipleImages,\n  getMemories,\n  viewMemory,\n  getThumbnails,\n  finalizeMemory,\n  deleteMemory,\n  updateMemoryDetails,\n  updateMemoryImage,\n};\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Snackbar from '@mui/material/Snackbar';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport Stack from '@mui/material/Stack';\nimport DoneIcon from '@mui/icons-material/Done';\nimport Typography from '@mui/material/Typography';\n\nfunction SnackText({ message, error }) {\n  if (error === true) {\n    return (\n      <Stack direction=\"row\" spacing={2} justifyContents=\"space-between\" alignItems=\"center\">\n        <CloseIcon fontSize=\"small\" color=\"error\" />\n        <Typography>{message}</Typography>\n      </Stack>\n    );\n  }\n  return (\n    <Stack direction=\"row\" spacing={2} justifyContents=\"space-between\" alignItems=\"center\">\n      <DoneIcon fontSize=\"small\" color=\"success\" />\n      <Typography>{message}</Typography>\n    </Stack>\n  );\n}\n\nexport default function SimpleSnackbar({\n  snackBarOpen, message, onClose, error,\n}) {\n  const [open, setOpen] = useState(snackBarOpen);\n  const [snackMessage, setSnackMessage] = useState(message);\n\n  useEffect(() => setOpen(snackBarOpen), [snackBarOpen]);\n  useEffect(() => setSnackMessage(message), [message]);\n\n  const handleClose = () => {\n    /*    if (reason === 'clickaway') { */\n    /* return; */\n    /* } */\n\n    setOpen(false);\n    setSnackMessage(null);\n    onClose();\n  };\n\n  const action = (\n    <IconButton\n      size=\"small\"\n      aria-label=\"close\"\n      color=\"inherit\"\n      onClick={handleClose}\n    >\n      <CloseIcon fontSize=\"small\" />\n    </IconButton>\n  );\n\n  console.log('in snackbar', open, message);\n\n  return (\n    <Snackbar\n      open={open}\n      autoHideDuration={3000}\n      onClose={handleClose}\n      message={<SnackText message={snackMessage} error={error} />}\n      action={action}\n      anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n    />\n  );\n}\n\nSimpleSnackbar.defaultProps = {\n  error: false,\n};\n\nSimpleSnackbar.propTypes = {\n  message: PropTypes.string.isRequired,\n  snackBarOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  error: PropTypes.bool,\n};\n\nSnackText.propTypes = {\n  message: PropTypes.string.isRequired,\n  error: PropTypes.bool.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Card from '@mui/material/Card';\nimport CardActionArea from '@mui/material/CardActionArea';\n//  import { useTheme, alpha } from '@mui/material/styles';\n\nexport default function MemoryThumbnailCard({ handleClick, children }) {\n  //  const theme = useTheme();\n\n  return (\n    <CardActionArea onClick={handleClick}>\n      <Card\n        elevation={0}\n        sx={{\n          bgcolor: '#fff',\n          borderRadius: 5,\n          border: '2px solid gray',\n          color: 'black',\n          position: 'relative',\n          height: {\n            lg: 350,\n            sm: 300,\n            xs: 250,\n          },\n          '&:hover': {\n            border: 3,\n            borderColor: 'secondary.main',\n            elevation: 0,\n          },\n        }}\n      >\n        {children}\n      </Card>\n    </CardActionArea>\n  );\n}\n\nMemoryThumbnailCard.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n};\n","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 80 80\",\n    fill: \"#ffc745\",\n    id: \"svg_icon.primary\",\n    x: 60,\n    y: 41,\n    width: 40,\n    height: 40,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"surface1\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    style: {},\n    d: \"M 12 11 C 11.640625 10.996094 11.304688 11.183594 11.121094 11.496094 C 10.941406 11.808594 10.941406 12.191406 11.121094 12.503906 C 11.304688 12.816406 11.640625 13.003906 12 13 L 12 15 L 10 15 C 7.25 15 5 17.25 5 20 L 5 62 C 5 64.75 7.25 67 10 67 L 70 67 C 72.75 67 75 64.75 75 62 L 75 20 C 75 17.25 72.75 15 70 15 L 35 15 L 35 13 C 35.359375 13.003906 35.695313 12.816406 35.878906 12.503906 C 36.058594 12.191406 36.058594 11.808594 35.878906 11.496094 C 35.695313 11.183594 35.359375 10.996094 35 11 L 24 11 C 23.640625 10.996094 23.304688 11.183594 23.121094 11.496094 C 22.941406 11.808594 22.941406 12.191406 23.121094 12.503906 C 23.304688 12.816406 23.640625 13.003906 24 13 L 24 15 L 19 15 L 19 13 C 19.359375 13.003906 19.695313 12.816406 19.878906 12.503906 C 20.058594 12.191406 20.058594 11.808594 19.878906 11.496094 C 19.695313 11.183594 19.359375 10.996094 19 11 Z M 14 13 L 17 13 L 17 15 L 14 15 Z M 26 13 L 33 13 L 33 15 L 26 15 Z M 10 17 L 70 17 C 71.667969 17 73 18.332031 73 20 L 73 62 C 73 63.667969 71.667969 65 70 65 L 10 65 C 8.332031 65 7 63.667969 7 62 L 7 20 C 7 18.332031 8.332031 17 10 17 Z M 61 21 L 61 24 L 70 24 L 70 21 Z M 46 23 C 36.621094 23 29 30.621094 29 40 C 29 49.378906 36.621094 57 46 57 C 55.378906 57 63 49.378906 63 40 C 63 30.621094 55.378906 23 46 23 Z M 46 25 C 54.296875 25 61 31.703125 61 40 C 61 48.296875 54.296875 55 46 55 C 37.703125 55 31 48.296875 31 40 C 31 31.703125 37.703125 25 46 25 Z M 10 28 C 9.449219 28 9 28.449219 9 29 C 9 29.550781 9.449219 30 10 30 C 10.550781 30 11 29.550781 11 29 C 11 28.449219 10.550781 28 10 28 Z M 14 28 C 13.449219 28 13 28.449219 13 29 C 13 29.550781 13.449219 30 14 30 C 14.550781 30 15 29.550781 15 29 C 15 28.449219 14.550781 28 14 28 Z M 18 28 C 17.449219 28 17 28.449219 17 29 C 17 29.550781 17.449219 30 18 30 C 18.550781 30 19 29.550781 19 29 C 19 28.449219 18.550781 28 18 28 Z M 22 28 C 21.449219 28 21 28.449219 21 29 C 21 29.550781 21.449219 30 22 30 C 22.550781 30 23 29.550781 23 29 C 23 28.449219 22.550781 28 22 28 Z M 26 28 C 25.449219 28 25 28.449219 25 29 C 25 29.550781 25.449219 30 26 30 C 26.550781 30 27 29.550781 27 29 C 27 28.449219 26.550781 28 26 28 Z M 30 28 C 29.449219 28 29 28.449219 29 29 C 29 29.550781 29.449219 30 30 30 C 30.550781 30 31 29.550781 31 29 C 31 28.449219 30.550781 28 30 28 Z M 46 28 C 39.382813 28 34 33.382813 34 40 C 34 46.617188 39.382813 52 46 52 C 52.617188 52 58 46.617188 58 40 C 58 33.382813 52.617188 28 46 28 Z M 62 28 C 61.449219 28 61 28.449219 61 29 C 61 29.550781 61.449219 30 62 30 C 62.550781 30 63 29.550781 63 29 C 63 28.449219 62.550781 28 62 28 Z M 66 28 C 65.449219 28 65 28.449219 65 29 C 65 29.550781 65.449219 30 66 30 C 66.550781 30 67 29.550781 67 29 C 67 28.449219 66.550781 28 66 28 Z M 70 28 C 69.449219 28 69 28.449219 69 29 C 69 29.550781 69.449219 30 70 30 C 70.550781 30 71 29.550781 71 29 C 71 28.449219 70.550781 28 70 28 Z M 46 30 C 51.535156 30 56 34.464844 56 40 C 56 45.535156 51.535156 50 46 50 C 40.464844 50 36 45.535156 36 40 C 36 34.464844 40.464844 30 46 30 Z M 25 38 C 23.894531 38 23 38.894531 23 40 C 23 41.105469 23.894531 42 25 42 C 26.105469 42 27 41.105469 27 40 C 27 38.894531 26.105469 38 25 38 Z M 10 60 C 9.449219 60 9 60.449219 9 61 C 9 61.550781 9.449219 62 10 62 C 10.550781 62 11 61.550781 11 61 C 11 60.449219 10.550781 60 10 60 Z M 14 60 C 13.449219 60 13 60.449219 13 61 C 13 61.550781 13.449219 62 14 62 C 14.550781 62 15 61.550781 15 61 C 15 60.449219 14.550781 60 14 60 Z M 18 60 C 17.449219 60 17 60.449219 17 61 C 17 61.550781 17.449219 62 18 62 C 18.550781 62 19 61.550781 19 61 C 19 60.449219 18.550781 60 18 60 Z M 22 60 C 21.449219 60 21 60.449219 21 61 C 21 61.550781 21.449219 62 22 62 C 22.550781 62 23 61.550781 23 61 C 23 60.449219 22.550781 60 22 60 Z M 26 60 C 25.449219 60 25 60.449219 25 61 C 25 61.550781 25.449219 62 26 62 C 26.550781 62 27 61.550781 27 61 C 27 60.449219 26.550781 60 26 60 Z M 30 60 C 29.449219 60 29 60.449219 29 61 C 29 61.550781 29.449219 62 30 62 C 30.550781 62 31 61.550781 31 61 C 31 60.449219 30.550781 60 30 60 Z M 34 60 C 33.449219 60 33 60.449219 33 61 C 33 61.550781 33.449219 62 34 62 C 34.550781 62 35 61.550781 35 61 C 35 60.449219 34.550781 60 34 60 Z M 38 60 C 37.449219 60 37 60.449219 37 61 C 37 61.550781 37.449219 62 38 62 C 38.550781 62 39 61.550781 39 61 C 39 60.449219 38.550781 60 38 60 Z M 42 60 C 41.449219 60 41 60.449219 41 61 C 41 61.550781 41.449219 62 42 62 C 42.550781 62 43 61.550781 43 61 C 43 60.449219 42.550781 60 42 60 Z M 46 60 C 45.449219 60 45 60.449219 45 61 C 45 61.550781 45.449219 62 46 62 C 46.550781 62 47 61.550781 47 61 C 47 60.449219 46.550781 60 46 60 Z M 50 60 C 49.449219 60 49 60.449219 49 61 C 49 61.550781 49.449219 62 50 62 C 50.550781 62 51 61.550781 51 61 C 51 60.449219 50.550781 60 50 60 Z M 54 60 C 53.449219 60 53 60.449219 53 61 C 53 61.550781 53.449219 62 54 62 C 54.550781 62 55 61.550781 55 61 C 55 60.449219 54.550781 60 54 60 Z M 58 60 C 57.449219 60 57 60.449219 57 61 C 57 61.550781 57.449219 62 58 62 C 58.550781 62 59 61.550781 59 61 C 59 60.449219 58.550781 60 58 60 Z M 62 60 C 61.449219 60 61 60.449219 61 61 C 61 61.550781 61.449219 62 62 62 C 62.550781 62 63 61.550781 63 61 C 63 60.449219 62.550781 60 62 60 Z M 66 60 C 65.449219 60 65 60.449219 65 61 C 65 61.550781 65.449219 62 66 62 C 66.550781 62 67 61.550781 67 61 C 67 60.449219 66.550781 60 66 60 Z M 70 60 C 69.449219 60 69 60.449219 69 61 C 69 61.550781 69.449219 62 70 62 C 70.550781 62 71 61.550781 71 61 C 71 60.449219 70.550781 60 70 60 Z \"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.d683ad42.svg\";\nexport { ForwardRef as ReactComponent };","import PropTypes from 'prop-types';\nimport Typography from '@mui/material/Typography';\nimport Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport { ReactComponent as Logo } from '../static/images/icons/logo.svg';\n\nexport function BrandLogo({ width, height }) {\n  return <Logo width={width} height={height} />;\n}\n\nexport function BrandText({ fontSize }) {\n  return (\n    <Typography\n      color=\"secondary\"\n      variant=\"badscript\"\n      sx={{ paddingX: 1, fontSize, display: 'inline' }}\n    >\n      myMemoryStore\n    </Typography>\n  );\n}\n\nexport function Branding({\n  fontSize, width, height,\n}) {\n  return (\n    <Grid item>\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n        }}\n      >\n        <BrandLogo width={width} height={height} />\n        <BrandText fontSize={fontSize} />\n      </Box>\n    </Grid>\n  );\n}\n\nBranding.defaultProps = {\n  width: '64px',\n  height: '64px',\n  fontSize: '2em',\n};\n\nBrandLogo.propTypes = {\n  width: PropTypes.string.isRequired,\n  height: PropTypes.string.isRequired,\n};\n\nBrandText.propTypes = {\n  fontSize: PropTypes.string.isRequired,\n};\n\nBranding.propTypes = {\n  width: PropTypes.string,\n  height: PropTypes.string,\n  fontSize: PropTypes.string,\n};\n","import { useState, useEffect } from 'react';\n\nexport default function useTitle(initialValue) {\n  const [title, setTitle] = useState(initialValue);\n  useEffect(() => setTitle(initialValue), [initialValue]);\n  const handleTitleChange = (e) => {\n    setTitle(e.target.value);\n  };\n  return [title, setTitle, handleTitleChange];\n}\n","import { useState } from 'react';\n\nexport default function useDate(initialDate) {\n  const [date, setDate] = useState(initialDate);\n  const handleDateChange = (e) => {\n    const newDate = new Date(e);\n    if (e) {\n      const formattedDate = newDate.toLocaleDateString('en-in', {\n        day: 'numeric',\n        month: 'long',\n        year: 'numeric',\n      });\n      setDate(formattedDate);\n    } else {\n      setDate(null);\n    }\n  };\n  return [date, setDate, handleDateChange];\n}\n","import { useState } from 'react';\n\nexport default function useStory(initialState) {\n  const [story, setStory] = useState(initialState);\n  const handleStoryChange = (event) => setStory(event.target.value);\n  return [story, setStory, handleStoryChange];\n}\n","import PropTypes from 'prop-types';\nimport CardMedia from '@mui/material/CardMedia';\nimport CardContent from '@mui/material/CardContent';\nimport CardHeader from '@mui/material/CardHeader';\nimport Typography from '@mui/material/Typography';\nimport MemoryThumbnailCard from './MemoryThumbnailCard';\n\nfunction ThumbnailImage({\n  imageSrc, imageSrcSet, title, handleImageLoad,\n}) {\n  return (\n    <CardMedia\n      component=\"img\"\n      src={imageSrc}\n      srcSet={imageSrcSet}\n      alt={title}\n      sx={{\n        borderColor: 'muted.main',\n        borderRadius: 4,\n        textAlign: 'center',\n        objectFit: 'cover',\n        height: {\n          lg: 270,\n          sm: 220,\n          xs: 170,\n        },\n      }}\n      onLoad={handleImageLoad}\n    />\n  );\n}\n\nfunction ThumbnailDetails({ title, date }) {\n  return (\n    <CardContent>\n      <CardHeader\n        disableTypography\n        title={(\n          <Typography\n            noWrap\n            sx={{\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              width: { xs: 'calc(75%)', sm: 'calc(100%)' },\n              fontWeight: 600,\n            }}\n          >\n            {title}\n          </Typography>\n        )}\n        subheader={<Typography sx={{ color: 'muted.main' }}>{date}</Typography>}\n        sx={{\n          padding: 0,\n          color: 'faded.black',\n        }}\n      />\n    </CardContent>\n  );\n}\n\nexport default function MemoryThumbnail({\n  title,\n  date,\n  thumbnailImage,\n  thumbnailImageSrcSet,\n  handleClick,\n  handleImageLoad,\n}) {\n  return (\n    <MemoryThumbnailCard handleClick={handleClick}>\n      <ThumbnailImage\n        imageSrc={thumbnailImage}\n        imgSrcSet={thumbnailImageSrcSet}\n        title={title}\n        handleImageLoad={handleImageLoad}\n      />\n      <ThumbnailDetails title={title} date={date} />\n    </MemoryThumbnailCard>\n  );\n}\n\nThumbnailDetails.defaultProps = {\n  title: 'Memory Thumbnail Image',\n  date: 'Memory Date',\n};\n\nThumbnailDetails.propTypes = {\n  title: PropTypes.string,\n  date: PropTypes.string,\n};\n\nThumbnailImage.defaultProps = {\n  title: 'Memory Thumbnail Image',\n  imageSrc: '',\n  imageSrcSet: '',\n  handleImageLoad: () => {},\n};\n\nThumbnailImage.propTypes = {\n  title: PropTypes.string,\n  imageSrc: PropTypes.string,\n  imageSrcSet: PropTypes.string,\n  handleImageLoad: PropTypes.func,\n};\n\nMemoryThumbnail.defaultProps = {\n  thumbnailImageSrcSet: '',\n  handleImageLoad: () => {},\n};\n\nMemoryThumbnail.propTypes = {\n  title: PropTypes.oneOfType([PropTypes.element, PropTypes.string]).isRequired,\n  date: PropTypes.oneOfType([PropTypes.element, PropTypes.string]).isRequired,\n  thumbnailImage: PropTypes.string.isRequired,\n  handleClick: PropTypes.func.isRequired,\n  thumbnailImageSrcSet: PropTypes.string,\n  handleImageLoad: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport { alpha } from '@mui/material/styles';\n\nexport default function RemovePhotoIcon({ size, handleClick }) {\n  return (\n    <IconButton\n      size={size}\n      sx={{\n        color: 'black',\n        bgcolor: alpha('#fff', 0.4),\n        position: 'absolute',\n        top: 10,\n        right: 12,\n      }}\n      onClick={handleClick}\n    >\n      <CloseIcon size={size} />\n    </IconButton>\n  );\n}\n\nRemovePhotoIcon.defaultProps = {\n  size: 'small',\n};\n\nRemovePhotoIcon.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  size: PropTypes.string,\n};\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\n\nexport function TopBarGridContainer({ children }) {\n  return (\n    <Grid\n      container\n      alignItems=\"center\"\n      sx={{\n        p: 0,\n        pb: 1,\n        borderBottom: 4,\n        borderColor: 'secondary.main',\n        flexShrink: 0,\n        backgroundColor: 'primary.main',\n        justifyContent: {\n          sm: 'space-between',\n          xs: 'space-between',\n        },\n      }}\n    >\n      {children}\n    </Grid>\n  );\n}\n\nexport function TopBarButton({ text, onClick, borderColor }) {\n  const belowmd = useMediaQuery((theme) => theme.breakpoints.down('md'));\n  const textVariant = belowmd ? 'body1' : 'h6';\n  return (\n    <Button\n      sx={{\n        color: 'button.main',\n        border: 2,\n        borderColor,\n        borderRadius: 5,\n      }}\n      variant=\"outlined\"\n      onClick={onClick}\n    >\n      <Typography variant={textVariant}>{text}</Typography>\n    </Button>\n  );\n}\n\nfunction CloseButton({ onClick }) {\n  return (\n    <IconButton\n      edge=\"start\"\n      onClick={onClick}\n      aria-label=\"close\"\n      sx={{\n        fontSize: '3.5rem',\n        position: 'absolute',\n        top: 0,\n        right: 0,\n      }}\n    >\n      <CloseIcon sx={{ fontSize: '3rem', fill: 'muted.main' }} />\n    </IconButton>\n  );\n}\n\nexport function TopBarDialog({\n  text, open, onClose, onClick, children, wdth,\n}) {\n  return (\n    <Dialog open={open} onClose={onClose} fullWidth maxWidth={wdth}>\n      <DialogTitle>\n        {text}\n        <CloseButton onClick={onClick} />\n      </DialogTitle>\n      <DialogContent dividers>{children}</DialogContent>\n    </Dialog>\n  );\n}\n\nexport function TopBarLink({ text, children, wdth }) {\n  const [open, setOpen] = React.useState(false);\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  return (\n    <span>\n      <TopBarButton text={text} onClick={handleClickOpen} />\n      <TopBarDialog\n        text={text}\n        open={open}\n        wdth={wdth}\n        onClose={handleClose}\n        onClick={handleClose}\n      >\n        {children}\n      </TopBarDialog>\n    </span>\n  );\n}\n\nTopBarLink.propTypes = {\n  text: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  wdth: PropTypes.string.isRequired,\n};\n\nTopBarDialog.propTypes = {\n  text: PropTypes.string.isRequired,\n  open: PropTypes.bool.isRequired,\n  children: PropTypes.node.isRequired,\n  wdth: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nTopBarButton.defaultProps = {\n  borderColor: 'transparent',\n};\n\nTopBarButton.propTypes = {\n  text: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  borderColor: PropTypes.string,\n};\n\nTopBarGridContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nCloseButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","export default __webpack_public_path__ + \"static/media/gogol.56b2d6a2.jpg\";","export default __webpack_public_path__ + \"static/media/sagnika.5dbc30e1.jpg\";","import PropTypes from 'prop-types';\nimport Typography from '@mui/material/Typography';\nimport Grid from '@mui/material/Grid';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport CardMedia from '@mui/material/CardMedia';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport gogolPhoto from '../static/images/gogol.jpg';\nimport sagnikaPhoto from '../static/images/sagnika.jpg';\nimport nabarunPhoto from '../static/images/blog_pic.jpg';\n\nconst aboutData = {\n  gogol: {\n    name: 'Shlok Chatterjee (Gogol)',\n    image: gogolPhoto,\n    text: ['CMO (Chief Motivation Officer)', 'CCC (Chief Chaos Creator)'],\n  },\n  nabarun: {\n    name: 'Nabarun Chatterjee',\n    image: nabarunPhoto,\n    text: [\n      'Full time father to my 1 year old son and husband to my loving wife . Site Reliability Engineer by profession. Memory making travel and finger licking food are what I live for.',\n    ],\n  },\n  sagnika: {\n    name: 'Sagnika Dasgupta',\n    image: sagnikaPhoto,\n    text: [\n      \"I don't remember my life from 1 year back. Now it is mostly Gogol and a little bit of food, travel, painting, writing and other things.\",\n    ],\n  },\n};\n\nfunction AboutCard({ data }) {\n  return (\n    <Card sx={{\n      minWidth: 250, maxWidth: 350, p: { md: 1, xs: 0 }, m: { md: 1, xs: 0 },\n    }}\n    >\n      <CardMedia\n        component=\"img\"\n        height=\"350\"\n        image={data.image}\n        alt={data.name}\n        sx={{\n          border: { md: 5, xs: 0 },\n          borderColor: 'primary.main',\n        }}\n      />\n      <CardContent>\n        <Typography variant=\"h6\" sx={{ py: 1 }}>\n          {data.name}\n        </Typography>\n        {data.text.map((part) => (\n          <Typography key={part} variant=\"body2\" color=\"text.secondary\">\n            {part}\n          </Typography>\n        ))}\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction About() {\n  const reorient = useMediaQuery((theme) => theme.breakpoints.down('lg'));\n  return reorient\n    ? (\n      <Grid container justifyContent=\"center\" alignItems=\"center\">\n        <Grid item align=\"center\">\n          <AboutCard key=\"gogol\" data={aboutData.gogol} />\n        </Grid>\n        <Grid item align=\"center\">\n          <AboutCard key=\"nabarun\" data={aboutData.nabarun} />\n        </Grid>\n        <Grid item align=\"center\">\n          <AboutCard key=\"sagnika\" data={aboutData.sagnika} />\n        </Grid>\n      </Grid>\n    )\n    : (\n      <Grid container justifyContent=\"space-between\">\n        <Grid item align=\"center\">\n          <AboutCard key=\"nabarun\" data={aboutData.nabarun} />\n        </Grid>\n        <Grid item align=\"center\">\n          <AboutCard key=\"gogol\" data={aboutData.gogol} />\n        </Grid>\n        <Grid item align=\"center\">\n          <AboutCard key=\"sagnika\" data={aboutData.sagnika} />\n        </Grid>\n      </Grid>\n    );\n}\n\nAboutCard.propTypes = {\n  data: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired,\n    text: PropTypes.arrayOf(PropTypes.string).isRequired,\n  }).isRequired,\n};\n\nexport default About;\n","export default __webpack_public_path__ + \"static/media/blog_pic.0071f886.jpg\";","import PropTypes from 'prop-types';\nimport Grid from '@mui/material/Grid';\nimport Link from '@mui/material/Link';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faYoutube,\n  faFacebook,\n  faTwitter,\n  faInstagramSquare,\n  faReact,\n} from '@fortawesome/free-brands-svg-icons';\n\nimport { faHeart } from '@fortawesome/free-solid-svg-icons';\n\nimport { MutedText } from './common';\n\nfunction YoutubeIcon({ size }) {\n  return <FontAwesomeIcon icon={faYoutube} size={size} />;\n}\n\nfunction FacebookIcon({ size }) {\n  return <FontAwesomeIcon icon={faFacebook} size={size} />;\n}\n\nfunction TwitterIcon({ size }) {\n  return <FontAwesomeIcon icon={faTwitter} size={size} />;\n}\n\nfunction InstagramIcon({ size }) {\n  return <FontAwesomeIcon icon={faInstagramSquare} size={size} />;\n}\n\nfunction ReactIcon() {\n  return <FontAwesomeIcon icon={faReact} />;\n}\nfunction HeartIcon() {\n  return <FontAwesomeIcon icon={faHeart} />;\n}\n\nexport function HeartLink({ size, color }) {\n  return (\n    <SocialLink to=\"https://en.wikipedia.org/wiki/Love\" color={color}>\n      <HeartIcon size={size} />\n    </SocialLink>\n  );\n}\n\nexport function ReactLink({ size, color }) {\n  return (\n    <SocialLink to=\"https://reactjs.org/\" color={color}>\n      <ReactIcon size={size} />\n    </SocialLink>\n  );\n}\n\nexport function YoutubeLink({ size, color }) {\n  return (\n    <SocialLink\n      to=\"https://www.youtube.com/channel/UCabGr_w5PLFIg1rcmKPbeVg\"\n      color={color}\n    >\n      <YoutubeIcon size={size} />\n    </SocialLink>\n  );\n}\n\nexport function FacebookLink({ size, color }) {\n  return (\n    <SocialLink to=\"https://www.facebook.com/mymemorystore.in\" color={color}>\n      <FacebookIcon size={size} />\n    </SocialLink>\n  );\n}\n\nexport function TwitterLink({ size, color }) {\n  return (\n    <SocialLink to=\"https://twitter.com/mymymemorystore/\" color={color}>\n      <TwitterIcon size={size} />\n    </SocialLink>\n  );\n}\n\nexport function InstagramLink({ size, color }) {\n  return (\n    <SocialLink to=\"https://www.instagram.com/mymemorystore.in/\" color={color}>\n      <InstagramIcon size={size} />\n    </SocialLink>\n  );\n}\n\nexport function SocialLink({ to, color, children }) {\n  return (\n    <Link\n      underline=\"none\"\n      href={to}\n      rel=\"noreferrer noopener\"\n      target=\"_blank\"\n      sx={{ px: 1, color: `${color}` }}\n    >\n      {children}\n    </Link>\n  );\n}\n\nexport function SocialLinks({ size }) {\n  return (\n    <Grid item>\n      <MutedText>Follow Us</MutedText>\n      <YoutubeLink color=\"social.youtube\" size={size} />\n      <FacebookLink color=\"social.facebook\" size={size} />\n      <TwitterLink color=\"social.twitter\" size={size} />\n      <InstagramLink color=\"social.instagram\" size={size} />\n    </Grid>\n  );\n}\n\nFacebookIcon.propTypes = {\n  size: PropTypes.string.isRequired,\n};\n\nInstagramIcon.propTypes = {\n  size: PropTypes.string.isRequired,\n};\n\nYoutubeIcon.propTypes = {\n  size: PropTypes.string.isRequired,\n};\n\nTwitterIcon.propTypes = {\n  size: PropTypes.string.isRequired,\n};\n\nHeartLink.propTypes = {\n  size: PropTypes.string,\n  color: PropTypes.string.isRequired,\n};\n\nReactLink.propTypes = {\n  size: PropTypes.string,\n  color: PropTypes.string.isRequired,\n};\n\nFacebookLink.propTypes = {\n  size: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n};\n\nYoutubeLink.propTypes = {\n  size: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n};\n\nTwitterLink.propTypes = {\n  size: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n};\n\nInstagramLink.propTypes = {\n  size: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n};\n\nSocialLink.propTypes = {\n  to: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nHeartLink.defaultProps = {\n  size: '1x',\n};\n\nReactLink.defaultProps = {\n  size: '1x',\n};\n\nSocialLinks.defaultProps = {\n  size: '1x',\n};\n\nSocialLinks.propTypes = {\n  size: PropTypes.string,\n};\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEnvelope } from '@fortawesome/free-solid-svg-icons';\nimport Typography from '@mui/material/Typography';\nimport Link from '@mui/material/Link';\nimport Box from '@mui/material/Box';\nimport {\n  FacebookLink, TwitterLink, YoutubeLink, InstagramLink,\n} from './social';\n\nconst boxSx = {\n  display: 'flex',\n  justifyContent: 'center',\n  m: 1,\n  borderRadius: 1,\n};\n\nfunction Contact() {\n  return (\n    <>\n      <Typography variant=\"h6\" align=\"center\" className=\"text-muted\">\n        To share your queries or feedback\n      </Typography>\n\n      <Link underline=\"none\" href=\"mailto:support@mymemorystore.in\">\n        <Box sx={{ ...boxSx }}>\n          <FontAwesomeIcon icon={faEnvelope} className=\"black-icon\" size=\"2x\" />\n          <Typography variant=\"h6\" className=\"px-1\" sx={{ fontSize: '1.5rem' }}>\n            Email Us\n          </Typography>\n        </Box>\n      </Link>\n\n      <hr />\n      <Box\n        sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}\n      >\n        <Typography variant=\"h6\" className=\"text-muted\" sx={{ p: 1 }}>\n          Follow Us\n        </Typography>\n      </Box>\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          m: 1,\n          borderRadius: 1,\n        }}\n      >\n        <YoutubeLink color=\"social.youtube\" size=\"2x\" />\n        <FacebookLink color=\"social.facebook\" size=\"2x\" />\n        <TwitterLink color=\"social.twitter\" size=\"2x\" />\n        <InstagramLink color=\"social.instagram\" size=\"2x\" />\n      </Box>\n      <hr />\n    </>\n  );\n}\n\nexport default Contact;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport Avatar from '@mui/material/Avatar';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport Divider from '@mui/material/Divider';\nimport IconButton from '@mui/material/IconButton';\nimport Tooltip from '@mui/material/Tooltip';\nimport Logout from '@mui/icons-material/Logout';\nimport Typography from '@mui/material/Typography';\nimport ListItemText from '@mui/material/ListItemText';\nimport Link from '@mui/material/Link';\nimport commonUtils from '../utils';\n\nfunction ProfileAvatar({ name, picture, email }) {\n  const initials = Array.from(email)[0].toUpperCase();\n  return (\n    <Avatar alt={name} src={picture} sx={{ referrerPolicy: 'no-referrer' }}>{initials}</Avatar>\n  );\n}\n\nfunction ProfileIcon({\n  name, email, open, handleClick, avatar,\n}) {\n  console.log(name, email, open, avatar);\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        alignItems: 'center',\n        textAlign: 'center',\n        marginRight: '10px',\n      }}\n    >\n      <Tooltip\n        title={(\n          <>\n            <Typography>{name}</Typography>\n            <Typography>{email}</Typography>\n          </>\n        )}\n      >\n        <IconButton\n          onClick={handleClick}\n          size=\"small\"\n          sx={{ ml: 2 }}\n          aria-controls={open ? 'account-menu' : undefined}\n          aria-haspopup=\"true\"\n          aria-expanded={open ? 'true' : undefined}\n        >\n          {avatar}\n        </IconButton>\n      </Tooltip>\n    </Box>\n  );\n}\n\nfunction ProfileMenu({\n  name, open, handleClose, anchorEl, avatar, email,\n}) {\n  const profileIdentifier = name || email;\n  console.log('profile identifier', profileIdentifier);\n  return (\n    <Menu\n      anchorEl={anchorEl}\n      id=\"account-menu\"\n      open={open}\n      onClose={handleClose}\n      onClick={handleClose}\n      PaperProps={{\n        elevation: 0,\n        sx: {\n          filter: 'drop-shadow(0px 2px 8px rgba(0,0,0,0.32))',\n          mt: 1.5,\n          '& .MuiAvatar-root': {\n            width: 32,\n            height: 32,\n            ml: -0.5,\n            mr: 1,\n          },\n          '&:before': {\n            content: '\"\"',\n            display: 'block',\n            position: 'absolute',\n            top: 0,\n            right: 14,\n            width: 10,\n            height: 10,\n            bgcolor: 'background.paper',\n            transform: 'translateY(-50%) rotate(45deg)',\n            zIndex: 0,\n          },\n        },\n      }}\n      transformOrigin={{ horizontal: 'right', vertical: 'top' }}\n      anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}\n    >\n      <MenuItem>\n        {avatar}\n        <ListItemText>{profileIdentifier}</ListItemText>\n      </MenuItem>\n      <Divider />\n      <Link\n        href=\"https://auth-stage.mymemorystore.in/oauth2/logout\"\n        underline=\"none\"\n        sx={{ alignItems: 'center', display: 'flex' }}\n      >\n        <MenuItem>\n          <ListItemIcon>\n            <Logout fontSize=\"small\" />\n          </ListItemIcon>\n          <Typography sx={{ color: 'muted.main' }}>Logout</Typography>\n        </MenuItem>\n      </Link>\n    </Menu>\n  );\n}\n\nexport default function Profile() {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const userInfo = commonUtils.getUserInfo();\n  const handleClose = () => setAnchorEl(null);\n  const handleClick = (event) => setAnchorEl(event.currentTarget);\n  const userAvatar = (\n    <ProfileAvatar name={userInfo.name} picture={userInfo.picture} email={userInfo.email} />\n  );\n\n  return (\n    <>\n      <ProfileIcon\n        avatar={userAvatar}\n        open={open}\n        email={userInfo.email}\n        handleClick={handleClick}\n        name={userInfo.name}\n      />\n      <ProfileMenu\n        anchorEl={anchorEl}\n        avatar={userAvatar}\n        handleClose={handleClose}\n        name={userInfo.name}\n        email={userInfo.email}\n        open={open}\n      />\n    </>\n  );\n}\n\nProfileIcon.propTypes = {\n  name: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  handleClick: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  avatar: PropTypes.node.isRequired,\n};\n\nProfileMenu.propTypes = {\n  name: PropTypes.string.isRequired,\n  anchorEl: PropTypes.node.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  avatar: PropTypes.node.isRequired,\n  email: PropTypes.string.isRequired,\n};\n\nProfileAvatar.propTypes = {\n  name: PropTypes.string.isRequired,\n  picture: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Grid from '@mui/material/Grid';\nimport Authenticate from '../../hocs/require-authentication';\nimport { TopBarLink } from './utils';\nimport About from '../about';\nimport Contact from '../contact';\nimport Profile from '../profile';\n\nexport function AboutLink({ wdth, cb }) {\n  return (\n    <TopBarLink text=\"About\" wdth={wdth} cb={cb}>\n      <About />\n    </TopBarLink>\n  );\n}\n\nexport function ContactUsLink({ wdth }) {\n  return (\n    <TopBarLink text=\"Contact Us\" wdth={wdth}>\n      <Contact />\n    </TopBarLink>\n  );\n}\n\nexport function MiscLinks() {\n  const ProfileButton = Authenticate(Profile);\n  return (\n    <Grid item sx={{ paddingTop: '0.3rem' }}>\n      <ProfileButton />\n    </Grid>\n  );\n}\n\nContactUsLink.propTypes = {\n  wdth: PropTypes.string.isRequired,\n};\n\nAboutLink.defaultProps = {\n  cb: () => {},\n};\n\nAboutLink.propTypes = {\n  wdth: PropTypes.string.isRequired,\n  cb: PropTypes.func,\n};\n","import * as React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Box from '@mui/material/Box';\nimport Menu from '@mui/material/Menu';\nimport IconButton from '@mui/material/IconButton';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\n\nimport { TopBarDialog } from './utils';\nimport About from '../about';\nimport Contact from '../contact';\n\nexport default function BurgerMenu() {\n  const navigate = useNavigate();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const [aboutOpen, setAboutOpen] = React.useState(false);\n  const [contactOpen, setContactOpen] = React.useState(false);\n\n  const handleAboutOpen = () => setAboutOpen(true);\n  const handleAboutClose = () => setAboutOpen(false);\n\n  const handleContactOpen = () => setContactOpen(true);\n  const handleContactClose = () => setContactOpen(false);\n\n  const handleClick = (event) => setAnchorEl(event.currentTarget);\n  const handleClose = () => setAnchorEl(null);\n\n  return (\n    <>\n      <Box sx={{ display: 'flex', alignItems: 'center', textAlign: 'center' }}>\n        <IconButton\n          onClick={handleClick}\n          size=\"small\"\n          sx={{ ml: 2 }}\n          aria-controls={open ? 'burger-menu' : undefined}\n          aria-haspopup=\"true\"\n          aria-expanded={open ? 'true' : undefined}\n        >\n          <MenuIcon sx={{ width: 45, height: 45, color: 'button.main' }} />\n        </IconButton>\n      </Box>\n      <Menu\n        anchorEl={anchorEl}\n        id=\"burger-menu\"\n        open={open}\n        onClose={handleClose}\n        onClick={handleClose}\n        PaperProps={{\n          backgroundColor: 'form.input',\n          elevation: 0,\n          sx: {\n            filter: 'drop-shadow(0px 2px 8px rgba(0,0,0,0.32))',\n            mt: 1.5,\n            '& .MuiAvatar-root': {\n              width: 32,\n              height: 32,\n              ml: -0.5,\n              mr: 1,\n            },\n            '&:before': {\n              content: '\"\"',\n              display: 'block',\n              position: 'absolute',\n              top: 0,\n              right: 14,\n              width: 10,\n              height: 10,\n              bgcolor: 'background.paper',\n              transform: 'translateY(-50%) rotate(45deg)',\n              zIndex: 0,\n            },\n          },\n        }}\n        transformOrigin={{ horizontal: 'right', vertical: 'top' }}\n        anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}\n      >\n        <MenuItem onClick={() => navigate('/memories')}>My Memories</MenuItem>\n        <MenuItem onClick={handleAboutOpen}>About</MenuItem>\n        <MenuItem onClick={handleContactOpen}>Contact Us</MenuItem>\n      </Menu>\n      <TopBarDialog\n        text=\"About\"\n        wdth=\"lg\"\n        open={aboutOpen}\n        onClose={handleAboutClose}\n        onClick={handleAboutClose}\n      >\n        <About />\n      </TopBarDialog>\n      <TopBarDialog\n        text=\"Contact\"\n        wdth=\"sm\"\n        open={contactOpen}\n        onClose={handleContactClose}\n        onClick={handleContactClose}\n      >\n        <Contact />\n      </TopBarDialog>\n    </>\n  );\n}\n","import useMediaQuery from '@mui/material/useMediaQuery';\nimport { Link } from 'react-router-dom';\nimport Button from '@mui/material/Button';\n//  import Grid from '@mui/material/Grid';\nimport { Branding } from '../brand';\n//  import { TopBarGridContainer, TopBarButton } from './utils';\nimport { TopBarGridContainer } from './utils';\nimport { MiscLinks } from './misclinks';\nimport BurgerMenu from './BurgerMenu';\n\nfunction BrandLink() {\n  const belowsm = useMediaQuery((theme) => theme.breakpoints.down('sm'));\n  const branding = belowsm ? <Branding width=\"55px\" height=\"55px\" fontSize=\"1.55rem\" /> : <Branding />;\n  return (\n    <Link style={{ textDecoration: 'none' }} to=\"/memories\">\n      <Button>\n        {branding}\n      </Button>\n    </Link>\n  );\n}\n\n//  function MyMemoriesButton() {\n//  return (\n//  <Grid\n//  item\n//  sx={{\n//  paddingTop: '0.55rem',\n//  position: 'fixed',\n//  left: '50vw',\n//  transform: 'translate(-50%)',\n//  }}\n//  >\n//  <Link style={{ textDecoration: 'none' }} to=\"/memories\">\n//  <TopBarButton text=\"My Memories\" borderColor=\"secondary.main\" onClick={() => {}} />\n//  </Link>\n//  </Grid>\n//  );\n//  }\n\nexport default function TopBar() {\n  const belowmd = useMediaQuery((theme) => theme.breakpoints.down('md'));\n  const belowsm = useMediaQuery((theme) => theme.breakpoints.down('sm'));\n\n  if (belowsm) {\n    return (\n      <TopBarGridContainer>\n        <BrandLink />\n      </TopBarGridContainer>\n    );\n  }\n\n  if (belowmd) {\n    return (\n      <TopBarGridContainer>\n        <BurgerMenu />\n        <BrandLink />\n        <MiscLinks />\n      </TopBarGridContainer>\n    );\n  }\n\n  return (\n    <TopBarGridContainer>\n      <BrandLink />\n      {/* <MyMemoriesButton /> */}\n      <MiscLinks />\n    </TopBarGridContainer>\n  );\n}\n","import PropTypes from 'prop-types';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport Grid from '@mui/material/Grid';\n\nimport { SocialLinks, HeartLink, ReactLink } from './social';\nimport { MutedText } from './common';\n\nfunction MadeWith() {\n  return (\n    <Grid item>\n      <MutedText>Made with</MutedText>\n      <HeartLink color=\"social.heart\" />\n      <MutedText>&</MutedText>\n      <ReactLink color=\"social.react\" />\n    </Grid>\n  );\n}\n\nfunction Copyright() {\n  return (\n    <Grid item>\n      <MutedText>\n         myMemoryStore\n        {new Date().getFullYear()}\n      </MutedText>\n    </Grid>\n  );\n}\n\nfunction FooterGridContainer({ justify, children }) {\n  return (\n    <Grid\n      container\n      alignItems=\"center\"\n      justifyContent={justify}\n      sx={{\n        borderTop: 4,\n        borderColor: 'secondary.main',\n        bgcolor: 'primary.main',\n        bottom: 0,\n        overflow: 'hidden',\n        flexShrink: 0,\n        padding: 1,\n      }}\n    >\n      {children}\n    </Grid>\n  );\n}\n\nexport default function Footer() {\n  const hidden = useMediaQuery((theme) => theme.breakpoints.down('md'));\n  return hidden\n    ? (\n      <FooterGridContainer justify=\"center\">\n        <Copyright />\n        <SocialLinks />\n      </FooterGridContainer>\n    )\n    : (\n      <FooterGridContainer justify=\"space-between\">\n        <Copyright />\n        <MadeWith />\n        <SocialLinks />\n      </FooterGridContainer>\n    );\n}\n\nFooterGridContainer.propTypes = {\n  justify: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport Box from '@mui/material/Box';\nimport Stack from '@mui/material/Stack';\nimport IconButton from '@mui/material/IconButton';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport HomeIcon from '@mui/icons-material/Home';\n\nimport TopBar from '../components/topbar';\nimport Footer from '../components/footer';\nimport BurgerMenu from '../components/topbar/BurgerMenu';\nimport { MiscLinks } from '../components/topbar/misclinks';\n\nfunction DefaultBackground({ children }) {\n  return (\n    <Box\n      sx={{\n        backgroundColor: 'basepage.background',\n        overflow: 'auto',\n        flex: 1,\n        width: 1,\n      }}\n    >\n      {children}\n    </Box>\n  );\n}\n\nfunction HomeButton() {\n  return (\n    <Link style={{ textDecoration: 'none' }} to=\"/memories\">\n      <IconButton sx={{ paddingTop: '0.3rem' }}>\n        <HomeIcon fontSize=\"medium\" sx={{ width: 45, height: 45, color: 'button.main' }} />\n      </IconButton>\n    </Link>\n  );\n}\n\nfunction ProfileBar() {\n  return (\n    <Stack\n      direction=\"row\"\n      justifyContent=\"space-between\"\n      alignItems=\"center\"\n      sx={{\n        borderTop: 4,\n        borderColor: 'secondary.main',\n        backgroundColor: 'primary.main',\n      }}\n    >\n      <BurgerMenu />\n      <HomeButton />\n      <MiscLinks />\n    </Stack>\n  );\n}\n\nexport default function BasePage({ children }) {\n  const belowsm = useMediaQuery((theme) => theme.breakpoints.down('sm'));\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        flexWrap: 'no-wrap',\n        height: '100vh',\n        width: '100vw',\n      }}\n    >\n      <TopBar />\n      <DefaultBackground>{children}</DefaultBackground>\n      {belowsm ? <ProfileBar /> : null}\n      <Footer />\n    </Box>\n  );\n}\n\nDefaultBackground.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nBasePage.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import Box from '@mui/material/Box';\nimport IconButton from '@mui/material/IconButton';\nimport EditIcon from '@mui/icons-material/Edit';\n\nexport default function UpdateMemoryIcon() {\n  return (\n    <Box sx={{ alignItems: 'center' }} onClick={() => {}}>\n      <IconButton\n        aria-label=\"update\"\n        sx={{\n          bgcolor: 'form.input',\n        }}\n        onClick={() => {}}\n      >\n        <EditIcon />\n      </IconButton>\n      Edit\n    </Box>\n  );\n}\n","import Box from '@mui/material/Box';\nimport IconButton from '@mui/material/IconButton';\nimport DeleteIcon from '@mui/icons-material/Delete';\n\nexport default function DeleteMemoryIcon() {\n  return (\n    <Box sx={{ alignItems: 'center' }}>\n      <IconButton\n        aria-label=\"delete\"\n        sx={{\n          bgcolor: 'form.input',\n        }}\n      >\n        <DeleteIcon />\n      </IconButton>\n      Delete\n    </Box>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Dialog from '@mui/material/Dialog';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport DialogTitle from '@mui/material/DialogTitle';\n\nexport default function Confirm({\n  confirm, handleCallback, handleCloseCallback, title, message,\n}) {\n  const [open, setOpen] = useState(confirm);\n  useEffect(() => setOpen(confirm), [confirm]);\n\n  const handleClose = () => {\n    setOpen(false);\n    handleCloseCallback();\n  };\n\n  const handleSubmit = () => {\n    handleClose();\n    handleCallback();\n  };\n\n  console.log('in confirm', open);\n\n  return (\n    <Dialog open={open} sx={{ backgroundColor: 'faded.black' }}>\n      <DialogTitle>{title}</DialogTitle>\n      <Box sx={{ p: 2 }}>\n        <Typography sx={{ pb: 2 }}>{message}</Typography>\n        <Stack spacing={2} direction=\"row\">\n          <Button variant=\"contained\" onClick={handleClose}>Cancel</Button>\n          <Button variant=\"outlined\" onClick={handleSubmit}>OK</Button>\n        </Stack>\n      </Box>\n    </Dialog>\n  );\n}\n\nConfirm.propTypes = {\n  confirm: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  handleCallback: PropTypes.func.isRequired,\n  handleCloseCallback: PropTypes.func.isRequired,\n};\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport Confirm from '../../components/confirmation';\n\nexport default function MemoryActions({\n  deleteItem, updateItem, snackBar, confirmMessage, handleDeleteObject, handleEditClick,\n}) {\n  const [confirm, setConfirm] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => setAnchorEl(event.currentTarget);\n  const handleClose = () => setAnchorEl(null);\n\n  const handleDeleteClick = () => {\n    setConfirm(true);\n    handleClose();\n  };\n\n  const handleEdit = () => {\n    handleEditClick();\n    handleClose();\n  };\n\n  return (\n    <div>\n      <MoreVertIcon onClick={handleClick} />\n      <Menu\n        id=\"basic-menu\"\n        anchorEl={anchorEl}\n        open={open}\n        onClose={handleClose}\n        MenuListProps={{\n          'aria-labelledby': 'basic-button',\n        }}\n        sx={{ borderRadius: '10px' }}\n      >\n        <MenuItem onClick={handleEdit}>{updateItem}</MenuItem>\n        <MenuItem onClick={handleDeleteClick}>{deleteItem}</MenuItem>\n      </Menu>\n      <Confirm\n        title=\"Delete Memory\"\n        confirm={confirm}\n        handleCallback={handleDeleteObject}\n        handleCloseCallback={() => setConfirm(false)}\n        message={confirmMessage}\n      />\n      {snackBar}\n    </div>\n  );\n}\n\nMemoryActions.propTypes = {\n  deleteItem: PropTypes.node.isRequired,\n  updateItem: PropTypes.node.isRequired,\n  confirmMessage: PropTypes.string.isRequired,\n  snackBar: PropTypes.node.isRequired,\n  handleDeleteObject: PropTypes.func.isRequired,\n  handleEditClick: PropTypes.func.isRequired,\n};\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Navigate } from 'react-router-dom';\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport Box from '@mui/material/Box';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport Divider from '@mui/material/Divider';\nimport { useTheme } from '@mui/material/styles';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport UpdateMemoryIcon from './UpdateMemoryIcon';\nimport DeleteMemoryIcon from './DeleteMemoryIcon';\nimport SimpleSnackbar from '../../components/simple_snackbar';\nimport MemoryActions from './MemoryActions';\nimport api from '../Api';\n\nasync function deleteMemory(bucket, authURL, memoryID, memoryDeleteCallback) {\n  try {\n    const deleteResults = await api.deleteMemory(bucket, authURL, memoryID);\n    memoryDeleteCallback(deleteResults);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport default function MemoryContentStructure({\n  header, subheader, photoLayout, storyLayout, bucket, memoryID, authURL, handleEditClick, preview,\n}) {\n  const [snack, setSnack] = useState(null);\n  const [snackMessage, setSnackMessage] = useState(null);\n  const [snackError, setSnackError] = useState(null);\n  let className;\n  const theme = useTheme();\n  const lgdown = useMediaQuery(theme.breakpoints.down('lg'));\n  if (lgdown) className = '';\n  else className = 'vertical-scroll';\n\n  const handleSnackMessage = (msg, error) => {\n    setSnackMessage(msg);\n    setSnackError(error);\n  };\n\n  const memoryDeleteCallback = (open) => {\n    if (open.status === 'ok') {\n      handleSnackMessage('Memory deleted successfully', false);\n    } else {\n      handleSnackMessage('Error while deleting memory', true);\n    }\n    setSnack(true);\n  };\n\n  const handleSnackBarClose = () => {\n    setSnack(false);\n    setSnackMessage(null);\n    setSnackError(null);\n  };\n\n  const snackBar = (\n    <SimpleSnackbar\n      snackBarOpen={snack}\n      message={snackMessage}\n      onClose={handleSnackBarClose}\n      error={snackError}\n    />\n  );\n\n  const actions = !preview ? (\n    <MemoryActions\n      confirmMessage=\"Do you want to delete this memory?\"\n      snackBar={snackBar}\n      handleDeleteObject={() => {\n        deleteMemory(bucket, authURL, memoryID, memoryDeleteCallback);\n      }}\n      deleteItem={<DeleteMemoryIcon />}\n      updateItem={<UpdateMemoryIcon />}\n      handleEditClick={handleEditClick}\n    />\n  ) : <MoreVertIcon />;\n\n  console.log('Rendering', snack, snackMessage);\n\n  return (snack === false) ? (\n    <Navigate to=\"/memories\" replace />\n  ) : (\n    <Card\n      sx={{\n        boxShadow: 0,\n        bgcolor: 'button.main',\n        p: 1,\n      }}\n    >\n      <CardHeader\n        title={header}\n        subheader={subheader}\n        action={actions}\n      />\n      <Divider />\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'flex-start',\n          flexDirection: {\n            lg: 'row',\n            xs: 'column',\n          },\n          height: {\n            lg: '72vh',\n          },\n          my: 1,\n        }}\n      >\n        <Box\n          sx={{\n            width: {\n              lg: '70%',\n              xs: '100%',\n            },\n            overflowY: 'scroll',\n            borderRadius: 5,\n          }}\n          className={className}\n        >\n          {photoLayout}\n        </Box>\n        <Box\n          sx={{\n            width: { lg: '30%', sx: '100%' },\n            overflowY: 'scroll',\n            mt: {\n              lg: 0,\n              xs: 2,\n            },\n            p: {\n              lg: 1,\n            },\n            px: 1,\n          }}\n          className={className}\n        >\n          {storyLayout}\n        </Box>\n      </Box>\n    </Card>\n  );\n}\n\nMemoryContentStructure.propTypes = {\n  header: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n  subheader: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n  photoLayout: PropTypes.element.isRequired,\n  storyLayout: PropTypes.element.isRequired,\n  memoryID: PropTypes.string.isRequired,\n  bucket: PropTypes.string.isRequired,\n  authURL: PropTypes.string.isRequired,\n  handleEditClick: PropTypes.func.isRequired,\n  preview: PropTypes.bool.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n// creates a function that invokes the given functions from right to left.\n//  import flowRight from 'lodash/flowRight';\n\nimport SwipeableViews from 'react-swipeable-views';\nimport Box from '@mui/material/Box';\nimport { autoPlay, virtualize, bindKeyboard } from 'react-swipeable-views-utils';\n\nconst EnhancedSwipeableViews = bindKeyboard(autoPlay(virtualize(SwipeableViews)));\n\nfunction mod(count, total) {\n  const modulus = count % total;\n  if (modulus < 0) {\n    return modulus + total;\n  }\n  return modulus;\n}\n\nexport default function MemoryImageSlide({\n  ind, images, handleNext, handleStepChange,\n}) {\n  const [activeStep, setActiveStep] = useState(ind);\n  const [loadedImages, setLoadedImages] = useState(0);\n  const [display, setDisplay] = useState(null);\n\n  useEffect(() => {\n    setActiveStep(ind);\n  }, [ind]);\n\n  useEffect(() => {\n    if (loadedImages < images.length) {\n      setDisplay('none');\n    } else {\n      setDisplay('flex');\n    }\n  }, [loadedImages]);\n\n  //  const handleStepChange = (step) => {\n  //  setActiveStep(step);\n  //  };\n\n  const handleImageLoad = () => setLoadedImages((prevLoaded) => prevLoaded + 1);\n\n  //  const imgElements = images.map((image) => {\n  //  const srcSetList = image.images ?\n  //  image.images.map(({ src, width }) => `${src} ${width}w`) : [];\n  //  const srcSet = srcSetList.join(',');\n  //  const style = {\n  //  display: 'block',\n  //  boxSizing: 'content-box',\n  //  cursor: 'pointer',\n  //  objectFit: 'contain',\n  //  height: '100vh',\n  //  };\n\n  //  return (\n  //  <Box\n  //  component=\"img\"\n  //  onLoad={handleImageLoad}\n  //  sx={{\n  //  display: { display },\n  //  justifyContents: 'center',\n  //  width: '100%',\n  //  bgcolor: '#1c1c1c',\n  //  }}\n  //  src={image.src}\n  //  srcSet={srcSet}\n  //  style={style}\n  //  alt={image.src}\n  //  key={image.src}\n  //  />\n  //  );\n  //  });\n\n  const slideRenderer = (props) => {\n    /* eslint-disable  react/prop-types */\n    const { index, key } = props;\n    const virtNum = mod(index, images.length);\n    console.log(index, key, images.length, virtNum);\n    const srcSetList = images[virtNum].images ? (\n      images[virtNum].images.map(({ src, width }) => `${src} ${width}w`)\n    ) : [];\n    const srcSet = srcSetList.join(',');\n    const style = {\n      display: 'block',\n      boxSizing: 'content-box',\n      cursor: 'pointer',\n      objectFit: 'contain',\n      height: '100vh',\n    };\n\n    return (\n      <Box\n        component=\"img\"\n        onLoad={handleImageLoad}\n        sx={{\n          display: { display },\n          justifyContents: 'center',\n          width: '100%',\n          bgcolor: '#1c1c1c',\n        }}\n        src={images[virtNum].src}\n        srcSet={srcSet}\n        style={style}\n        alt={images[virtNum].src}\n        key={key}\n      />\n    );\n  };\n\n  console.log(images, activeStep, ind);\n  return (\n    <EnhancedSwipeableViews\n      index={activeStep}\n      onChangeIndex={handleStepChange}\n      enableMouseEvents\n      animateTransitions\n      interval={10000}\n      onClick={handleNext}\n      style={{ backgroundColor: 'muted.main' }}\n      slideRenderer={slideRenderer}\n    />\n  );\n}\n\nMemoryImageSlide.defaultProps = {\n  ind: 0,\n};\n\nMemoryImageSlide.propTypes = {\n  ind: PropTypes.number,\n  handleNext: PropTypes.func.isRequired,\n  handleStepChange: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(PropTypes.shape({\n    src: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  })).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Dialog from '@mui/material/Dialog';\nimport CardHeader from '@mui/material/CardHeader';\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@mui/icons-material/KeyboardArrowRight';\nimport IconButton from '@mui/material/IconButton';\n\nimport MemoryImageSlide from './MemoryImageSlide';\nimport RemovePhotoIcon from './RemovePhotoIcon';\n\nfunction NextPic({ handleClick }) {\n  return (\n    <IconButton\n      edge=\"start\"\n      color=\"primary\"\n      aria-label=\"close\"\n      onClick={handleClick}\n      sx={{\n        position: 'absolute', top: '50%', right: 0, transform: 'translate(0%, -50%)',\n      }}\n    >\n      <KeyboardArrowRight sx={{ color: 'button.main', fontSize: '4.5rem' }} />\n    </IconButton>\n  );\n}\n\nfunction PreviousPic({ handleClick }) {\n  return (\n    <IconButton\n      edge=\"start\"\n      color=\"primary\"\n      aria-label=\"close\"\n      onClick={handleClick}\n      sx={{\n        position: 'absolute', top: '50%', left: 0, transform: 'translate(0%, -50%)',\n      }}\n    >\n      <KeyboardArrowLeft sx={{ color: 'button.main', fontSize: '4.5rem' }} />\n    </IconButton>\n  );\n}\n\nexport default function MemoryCarousel({\n  open, title, date, images, index, handleNext, handleBack, handleClose, handleChange,\n}) {\n  return (\n    <Dialog\n      open={open}\n      fullScreen\n    >\n      <MemoryImageSlide\n        images={images}\n        ind={index}\n        handleNext={handleNext}\n        handleStepChange={handleChange}\n      />\n      <CardHeader\n        title={title}\n        subheader={date}\n        sx={{\n          position: 'absolute',\n          top: 10,\n          left: 10,\n          bgcolor: 'button.main',\n          borderRadius: 3,\n          padding: 1,\n        }}\n      />\n      <PreviousPic handleClick={handleBack} />\n      <NextPic handleClick={handleNext} />\n      <RemovePhotoIcon size=\"large\" handleClick={handleClose} />\n    </Dialog>\n  );\n}\n\nNextPic.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n};\n\nPreviousPic.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n};\n\nMemoryCarousel.defaultProps = {\n  index: 0,\n};\n\nMemoryCarousel.propTypes = {\n  open: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  date: PropTypes.string.isRequired,\n  index: PropTypes.number,\n  handleNext: PropTypes.func.isRequired,\n  handleBack: PropTypes.func.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  handleChange: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(PropTypes.shape({\n    src: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  })).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Stack from '@mui/material/Stack';\nimport Typography from '@mui/material/Typography';\nimport TextField from '@mui/material/TextField';\nimport DoneTwoToneIcon from '@mui/icons-material/DoneTwoTone';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport EditIcon from '@mui/icons-material/Edit';\nimport useTitle from '../../hooks/title';\n\nexport default function MemoryTitle({ editable, text, handleTitleUpdate }) {\n  const [title, setTitle, handleTitleChange] = useTitle(text);\n  const [edit, setEdit] = useState(editable);\n  const [startEdit, setStartEdit] = useState(false);\n\n  useEffect(() => {\n    setEdit(editable);\n    setTitle(text);\n    setStartEdit(false);\n  }, [editable]);\n\n  console.log('Memory Title ', edit, startEdit, title);\n\n  if (!edit && !startEdit) {\n    return <Typography variant=\"h6\">{title}</Typography>;\n  }\n\n  if (edit && !startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'center' }} spacing={2}>\n        <Typography variant=\"h6\">{title}</Typography>\n        <EditIcon fontSize=\"medium\" onClick={() => setStartEdit(true)} />\n      </Stack>\n    );\n  }\n\n  if (edit && startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'flex-end', justifyContent: 'flex-start' }} spacing={2}>\n        <TextField\n          id=\"standard-basic\"\n          size=\"small\"\n          label=\"Title\"\n          onChange={handleTitleChange}\n          variant=\"standard\"\n          defaultValue={title}\n          sx={{ maxWidth: '200px' }}\n        />\n        <DoneTwoToneIcon\n          fontSize=\"medium\"\n          onClick={() => {\n            console.log(title);\n            handleTitleUpdate(title);\n            setStartEdit(false);\n          }}\n        />\n        <ClearIcon fontSize=\"medium\" onClick={() => { setTitle(text); setStartEdit(false); }} />\n      </Stack>\n    );\n  }\n}\n\nMemoryTitle.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  text: PropTypes.string.isRequired,\n  handleTitleUpdate: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Stack from '@mui/material/Stack';\nimport Typography from '@mui/material/Typography';\nimport TextField from '@mui/material/TextField';\nimport DoneTwoToneIcon from '@mui/icons-material/DoneTwoTone';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport EditIcon from '@mui/icons-material/Edit';\nimport DatePicker from '@mui/lab/DesktopDatePicker';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\n\nimport useDate from '../../hooks/date';\n\nexport default function MemoryDate({ editable, prevDate, handleDateUpdate }) {\n  const [edit, setEdit] = useState(editable);\n  const [startEdit, setStartEdit] = useState(false);\n  const [date, setDate, handleDateChange] = useDate(prevDate);\n\n  useEffect(() => {\n    setEdit(editable);\n    setDate(prevDate);\n    setStartEdit(false);\n  }, [editable, prevDate]);\n  console.log('Memory Date ', edit, startEdit, date);\n\n  if (!edit && !startEdit) {\n    return <Typography>{date}</Typography>;\n  }\n\n  if (edit && !startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'center' }} spacing={2}>\n        <Typography>{date}</Typography>\n        <EditIcon fontSize=\"medium\" onClick={() => setStartEdit(true)} />\n      </Stack>\n    );\n  }\n\n  if (edit && startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'flex-end', justifyContent: 'flex-start', mt: 3 }} spacing={2}>\n        <LocalizationProvider dateAdapter={AdapterDateFns}>\n          <DatePicker\n            label=\"Memory Date\"\n            value={date}\n            onChange={handleDateChange}\n            placeholder=\"dd/MM/yyyy\"\n            inputFormat=\"dd/MM/yyyy\"\n            maxDate={new Date()}\n            renderInput={(props) => (\n              <TextField\n                readOnly\n                required\n          // eslint-disable-next-line react/jsx-props-no-spreading\n                {...props}\n              />\n            )}\n          />\n        </LocalizationProvider>\n        <DoneTwoToneIcon\n          fontSize=\"medium\"\n          onClick={() => {\n            handleDateUpdate(date);\n            setStartEdit(false);\n          }}\n        />\n        <ClearIcon fontSize=\"medium\" onClick={() => { setDate(prevDate); setStartEdit(false); }} />\n      </Stack>\n    );\n  }\n}\n\nMemoryDate.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  prevDate: PropTypes.string.isRequired,\n  handleDateUpdate: PropTypes.func.isRequired,\n};\n","import { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Stack from '@mui/material/Stack';\nimport DoneTwoToneIcon from '@mui/icons-material/DoneTwoTone';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport EditIcon from '@mui/icons-material/Edit';\nimport Divider from '@mui/material/Divider';\nimport Typography from '@mui/material/Typography';\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\nimport Box from '@mui/material/Box';\nimport useStory from '../../hooks/story';\nimport './memory.css';\n\nexport default function MemoryStory({ editable, prevStory, handleStoryUpdate }) {\n  const [edit, setEdit] = useState(editable);\n  const [startEdit, setStartEdit] = useState(false);\n  const [story, setStory, handleStoryChange] = useStory(prevStory);\n  const storyRef = useRef();\n\n  useEffect(() => {\n    setEdit(editable);\n    setStory(prevStory);\n    setStartEdit(false);\n  }, [editable, prevStory]);\n  console.log('Memory Title ', edit, startEdit);\n\n  if (!edit && !startEdit) {\n    return (\n      <Typography>{story}</Typography>\n    );\n  }\n\n  if (edit && !startEdit) {\n    return (\n      <Stack direction=\"column\" spacing={2}>\n        <Stack direction=\"row\" spacing={2} justifyContent=\"flex-end\">\n          <Typography sx={{ color: 'muted.main' }}>Edit Story</Typography>\n          <EditIcon\n            fontSize=\"medium\"\n            onClick={() => {\n              setStartEdit(true);\n            }}\n          />\n        </Stack>\n        <Divider sx={{ width: 1 }} />\n        <Typography>{story}</Typography>\n      </Stack>\n    );\n  }\n\n  if (edit && startEdit) {\n    return (\n      <Stack direction=\"column\" spacing={2}>\n        <Stack direction=\"row\" spacing={2} justifyContent=\"flex-end\">\n          <Typography sx={{ color: 'muted.main' }}>Editing Story</Typography>\n          <DoneTwoToneIcon\n            fontSize=\"medium\"\n            onClick={() => {\n              handleStoryUpdate(story);\n              setStartEdit(false);\n            }}\n          />\n          <ClearIcon\n            fontSize=\"medium\"\n            onClick={() => {\n              setStory(prevStory);\n              setStartEdit(false);\n            }}\n          />\n        </Stack>\n        <Divider sx={{ width: 1 }} />\n        <Box\n          sx={{\n            p: 2,\n            m: 1,\n            my: 2,\n            border: 1,\n            borderColor: 'primary.main',\n            bgcolor: 'input.background',\n            minHeight: '70vh',\n            borderRadius: 5,\n            width: '90%',\n          }}\n          onClick={() => storyRef.current.focus()}\n        >\n          <TextareaAutosize\n            autoFocus\n            aria-label=\"minimum height\"\n            placeholder=\"Tell your story...\"\n            value={story}\n            onChange={handleStoryChange}\n            style={{\n              width: '100%',\n              height: '100%',\n              boxSizing: 'border-box',\n              padding: 2,\n              border: 0,\n              '&:focus': {\n                border: 0,\n              },\n            }}\n            ref={storyRef}\n          />\n        </Box>\n      </Stack>\n    );\n  }\n}\n\nMemoryStory.propTypes = {\n  prevStory: PropTypes.string.isRequired,\n  editable: PropTypes.bool.isRequired,\n  handleStoryUpdate: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport PhotoAlbum from 'react-photo-album';\nimport Radio from '@mui/material/Radio';\nimport FormControlLabel from '@mui/material/FormControlLabel';\n//  import EditIcon from '@mui/icons-material/Edit';\n//  import FormControl from '@mui/material/FormControl';\n//  import MenuItem from '@mui/material/MenuItem';\n//  import Select from '@mui/material/Select';\n//  import InputLabel from '@mui/material/InputLabel';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport IconButton from '@mui/material/IconButton';\nimport AddPhotoIcon from '@mui/icons-material/AddPhotoAlternate';\n//  import ImageSelector from './ImageSelector';\nimport Button from '@mui/material/Button';\nimport CloseIcon from '@mui/icons-material/Close';\nimport Typography from '@mui/material/Typography';\nimport Stack from '@mui/material/Stack';\nimport { alpha } from '@mui/material/styles';\n//  import Box from '@mui/material/Box';\n//  import rp from './RenderPhotos';\n\nfunction OptionsButton({\n  children, onClick, name, updateOp,\n}) {\n  //  console.log('options button', name, updateOp, (updateOp === name));\n  return (\n    <Button\n      id={name}\n      variant=\"contained\"\n      component=\"label\"\n      onClick={onClick}\n      sx={{\n        color: (updateOp === name) ? 'button.main' : 'muted.main',\n        borderRadius: 5,\n        backgroundColor: (updateOp === name) ? 'primary.main' : 'button.main',\n        padding: '6px 8px',\n        '&:hover': {\n          color: (updateOp === name) ? 'button.main' : 'muted.main',\n          backgroundColor: (updateOp === name) ? 'primary.main' : 'button.main',\n        },\n      }}\n    >\n      {children}\n    </Button>\n  );\n}\n\nfunction AddPhotos({ handleChange, onClick, updateOp }) {\n  return (\n    <OptionsButton onClick={onClick} name=\"add\" updateOp={updateOp}>\n      <input type=\"file\" hidden multiple accept=\"image/*\" onChange={handleChange} />\n      <AddPhotoIcon sx={{ fontSize: '1.5rem' }} />\n      Add\n    </OptionsButton>\n  );\n}\n\nfunction MemoryPhotoAlbum({ images, handlePhotoClick, renderPhoto }) {\n  const [arrangement, setArrangement] = useState(null);\n  useEffect(() => {\n    let twidth = 0;\n    let theight = 0;\n    images.forEach(({ height, width }) => {\n      if (height > width) theight += 1;\n      else twidth += 1;\n    });\n    if (twidth > theight) setArrangement('rows');\n    else setArrangement('columns');\n  }, [images]);\n\n  return renderPhoto ? (\n    <PhotoAlbum\n      layout={arrangement}\n      photos={images}\n      onClick={handlePhotoClick}\n      spacing={2}\n      renderPhoto={renderPhoto}\n    />\n  ) : (\n    <PhotoAlbum\n      layout={arrangement}\n      photos={images}\n      onClick={handlePhotoClick}\n      spacing={2}\n    />\n  );\n}\n\nexport default function MemoryImages({\n  editable, images, handlePhotoClick, handleThumbnailUpdate, deleteImage, addImage,\n}) {\n  const [edit, setEdit] = useState(editable);\n  const [updateOp, setUpdateOp] = useState(null);\n  const [thumbnail, setThumbnail] = useState(null);\n\n  const handleOpUpdate = (op) => {\n    if (updateOp === op) {\n      setUpdateOp(null);\n    } else {\n      setUpdateOp(op);\n    }\n  };\n\n  console.log('memory images', updateOp, edit);\n  useEffect(() => {\n    setEdit(editable);\n    setUpdateOp(null);\n  }, [editable]);\n\n  const handleThumbnailChange = (name) => {\n    console.log('name', name);\n    console.log('images', images);\n    setThumbnail(name);\n    const thumbnailImage = images.find((image) => image.alt === name);\n    console.log('thumbnail image', thumbnailImage);\n    handleThumbnailUpdate(thumbnailImage);\n  };\n\n  const handleImageDelete = (name) => {\n    const deleted = images.find((image) => image.alt === name);\n    deleteImage(deleted);\n  };\n\n  const renderPhotosWithDeleteIcon = ({\n    layout,\n    layoutOptions,\n    imageProps: { alt, style, ...restImageProps },\n  }) => {\n    console.log(layout, layoutOptions);\n    return (\n      <Button component=\"div\">\n        <img\n          alt={alt}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          style={{ ...style, width: layout.width, padding: 0 }}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...restImageProps}\n        />\n        <IconButton\n          size=\"medium\"\n          sx={{\n            color: 'black',\n            bgcolor: alpha('#fff', 0.4),\n            position: 'absolute',\n            top: 10,\n            right: 12,\n          }}\n          onClick={() => handleImageDelete(alt)}\n        >\n          <CloseIcon size=\"medium\" />\n        </IconButton>\n      </Button>\n    );\n  };\n\n  const renderPhotosWithRadioButton = ({\n    layout,\n    layoutOptions,\n    imageProps: { alt, style, ...restImageProps },\n  }) => {\n    console.log(layoutOptions);\n    return (\n      <Button component=\"div\">\n        <img\n          alt={alt}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          style={{ ...style, width: layout.width, padding: 0 }}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...restImageProps}\n        />\n        <FormControlLabel\n          control={<Radio />}\n          label=\"\"\n          checked={alt === thumbnail}\n          onChange={() => handleThumbnailChange(alt)}\n          sx={{\n            pr: 1,\n            position: 'absolute',\n            bgcolor: alpha('#fff', 0.6),\n            color: 'black',\n            borderRadius: '0px 5px 5px 0px',\n            borderColor: 'secondary.main',\n            borderLeft: 0,\n            bottom: 20,\n            left: 15,\n          }}\n        />\n      </Button>\n    );\n  };\n\n  const OptionsRow = (\n    <Stack direction=\"row\" spacing={2}>\n      <AddPhotos handleChange={addImage} onClick={() => handleOpUpdate('add')} updateOp={updateOp} />\n      <OptionsButton onClick={() => handleOpUpdate('delete')} name=\"delete\" updateOp={updateOp}>\n        <DeleteIcon sx={{ fontSize: '1.5rem' }} />\n        Delete\n      </OptionsButton>\n      <OptionsButton onClick={() => handleOpUpdate('thumbnail')} name=\"thumbnail\" updateOp={updateOp}>Set Thumbnail</OptionsButton>\n    </Stack>\n  );\n\n  const updatePanel = (\n    <Stack direction=\"row\">\n      <Typography variant=\"h6\" color=\"muted.main\">\n        Images:\n        {images.length}\n      </Typography>\n    </Stack>\n  );\n\n  if (!edit) {\n    return (\n      <MemoryPhotoAlbum images={images} handlePhotoClick={handlePhotoClick} />\n    );\n  }\n\n  if (edit && updateOp === 'delete') {\n    return (\n      <Stack direction=\"column\" spacing={2} sx={{ p: 2 }}>\n        {updatePanel}\n        {OptionsRow}\n        <MemoryPhotoAlbum\n          images={images}\n          handlePhotoClick={handlePhotoClick}\n          renderPhoto={renderPhotosWithDeleteIcon}\n        />\n      </Stack>\n    );\n  }\n\n  if (edit && updateOp === 'thumbnail') {\n    return (\n      <Stack direction=\"column\" spacing={2} sx={{ p: 2 }}>\n        {updatePanel}\n        {OptionsRow}\n        <MemoryPhotoAlbum\n          images={images}\n          handlePhotoClick={handlePhotoClick}\n          renderPhoto={renderPhotosWithRadioButton}\n        />\n      </Stack>\n    );\n  }\n\n  if (edit && updateOp === 'add') {\n    return (\n      <Stack direction=\"column\" spacing={2} sx={{ p: 2 }}>\n        {updatePanel}\n        {OptionsRow}\n        <MemoryPhotoAlbum\n          images={images}\n          handlePhotoClick={handlePhotoClick}\n        />\n      </Stack>\n    );\n  }\n\n  if (edit && !updateOp) {\n    return (\n      <Stack direction=\"column\" spacing={2} sx={{ p: 2 }}>\n        {updatePanel}\n        {OptionsRow}\n        <MemoryPhotoAlbum images={images} handlePhotoClick={handlePhotoClick} />\n      </Stack>\n    );\n  }\n}\n\nMemoryImages.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      src: PropTypes.string,\n      width: PropTypes.number,\n      height: PropTypes.number,\n    }),\n  ).isRequired,\n  handlePhotoClick: PropTypes.func.isRequired,\n  handleThumbnailUpdate: PropTypes.func.isRequired,\n  deleteImage: PropTypes.func.isRequired,\n  addImage: PropTypes.func.isRequired,\n};\n\nMemoryPhotoAlbum.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      src: PropTypes.string,\n      width: PropTypes.number,\n      height: PropTypes.number,\n    }),\n  ).isRequired,\n  handlePhotoClick: PropTypes.func.isRequired,\n  renderPhoto: PropTypes.func,\n};\n\nMemoryPhotoAlbum.defaultProps = {\n  renderPhoto: null,\n};\n\nAddPhotos.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n  updateOp: PropTypes.string.isRequired,\n};\n\nOptionsButton.defaultProps = {\n  onClick: () => {},\n};\n\nOptionsButton.propTypes = {\n  children: PropTypes.node.isRequired,\n  onClick: PropTypes.func,\n  name: PropTypes.string.isRequired,\n  updateOp: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\n//  import PhotoAlbum from 'react-photo-album';\nimport { useState, useEffect } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport Button from '@mui/material/Button';\nimport Link from '@mui/material/Link';\nimport DoneIcon from '@mui/icons-material/Done';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport Typography from '@mui/material/Typography';\nimport Stack from '@mui/material/Stack';\nimport Dialog from '@mui/material/Dialog';\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport CardContent from '@mui/material/CardContent';\nimport Divider from '@mui/material/Divider';\nimport Box from '@mui/material/Box';\nimport MemoryCarousel from './MemoryCarousel';\nimport MemoryContentStructure from './MemoryContentStructure';\nimport MemoryTitle from './MemoryTitle';\nimport MemoryDate from './MemoryDate';\nimport MemoryStory from './MemoryStory';\nimport MemoryImages from './MemoryImages';\nimport api from '../Api';\nimport SimpleSnackbar from '../../components/simple_snackbar';\nimport './memory.css';\n\nfunction BackButton({ preview }) {\n  if (preview === false) {\n    return (\n      <Stack\n        direction=\"row\"\n        justifyContent=\"flex-start\"\n        sx={{ backgroundColor: 'button.main', paddingX: 2, paddingY: 1 }}\n      >\n        <Link href=\"/\" underline=\"none\">\n          <Button\n            variant=\"contained\"\n            component=\"label\"\n            sx={{\n              color: 'primary.main',\n              backgroundColor: 'button.main',\n              padding: '6px 8px',\n              boxShadow: 0,\n              '&:hover': {\n                backgroundColor: 'button.main',\n              },\n            }}\n          >\n            <ArrowBackIcon size=\"medium\" sx={{ paddingRight: 1 }} />\n            <Typography variant=\"body1\" color=\"muted.main\">Memories</Typography>\n          </Button>\n        </Link>\n      </Stack>\n    );\n  }\n  return null;\n}\n\nexport default function MemoryContent({\n  memTitle,\n  memDate,\n  memStory,\n  memImages,\n  bucket,\n  memoryID,\n  authURL,\n  preview,\n}) {\n  const [open, setOpen] = useState(false);\n  const [edit, setEdit] = useState(false);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [title, setTitle] = useState(memTitle);\n  const [date, setDate] = useState(memDate);\n  const [story, setStory] = useState(memStory);\n  const [images, setImages] = useState(memImages);\n  const [snack, setSnack] = useState(null);\n  const [snackMessage, setSnackMessage] = useState(null);\n\n  const [newImages, setNewImages] = useState([]);\n  const [newImagesCount, setNewImagesCount] = useState(null);\n  const [errorUploadImages, setErrorUploadImages] = useState([]);\n  const [addImageOpen, setAddImageOpen] = useState(false);\n  const [uploadImageProgress, setUploadImageProgress] = useState(null);\n  const [uploadImageStatus, setUploadImageStatus] = useState(null);\n  const [snackError, setSnackError] = useState(null);\n  const [httpError, setHTTPError] = useState(false);\n\n  console.log('images', images);\n  const maxSteps = images.length;\n\n  useEffect(() => setTitle(memTitle), [memTitle]);\n  useEffect(() => setDate(memDate), [memDate]);\n  useEffect(() => setStory(memStory), [memStory]);\n  useEffect(() => setImages(memImages), [memImages]);\n\n  const handleSnackMessage = (msg, error) => {\n    console.log('Setting snack message', msg);\n    setSnackMessage(msg);\n    setSnackError(error);\n  };\n\n  const handleHTTPError = (response, operation, callback) => {\n    if (response.status === 401) {\n      handleSnackMessage('You have been logged out. Please login to continue.', true);\n    } else if (response.status === 403) {\n      handleSnackMessage('You do not have permissions to do this operation.', true);\n    } else {\n      handleSnackMessage(`Unknown error occured while ${operation}`, true);\n    }\n    callback(response.status);\n  };\n\n  const handleSnackBarClose = () => {\n    console.log('snack close, set snack false, message null');\n    setSnack(false);\n    setSnackMessage(null);\n    setSnackError(null);\n  };\n\n  const httpErrorCallback = (status) => {\n    setSnack(true);\n    setHTTPError(status);\n  };\n\n  const UpdateDetails = async (item, value) => {\n    try {\n      const resp = await api.updateMemoryDetails(\n        bucket,\n        authURL,\n        memoryID,\n        item,\n        value,\n      );\n      if (resp.ok) {\n        handleSnackMessage(`Memory ${item} updated successfully`, false);\n      } else {\n        handleHTTPError(resp, `updating ${item}`, httpErrorCallback);\n      }\n      setSnack(true);\n      return resp;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  };\n\n  const UpdateThumbnail = async (image) => {\n    try {\n      const resp = await api.updateMemoryImage(\n        bucket,\n        authURL,\n        memoryID,\n        'thumbnail',\n        image,\n      );\n      console.log('Response', resp);\n      if (resp.ok) {\n        handleSnackMessage('Memory thumbnail updated successfully', false);\n        setSnack(true);\n      } else {\n        handleHTTPError(resp, 'updating thumbnail', httpErrorCallback);\n      }\n      return resp;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  };\n\n  const deleteImage = async (image) => {\n    try {\n      let resp;\n      if (images.length > 1) {\n        resp = await api.updateMemoryImage(\n          bucket,\n          authURL,\n          memoryID,\n          'delete',\n          image,\n        );\n        console.log('Response', resp);\n        if (resp.ok) {\n          console.log('set snack message - successfully deleted memory image');\n          handleSnackMessage('Memory image deleted successfully', false);\n          setImages(images.filter((item) => item.title !== image.title));\n        } else {\n          handleHTTPError(resp, 'deleting image', httpErrorCallback);\n        }\n      } else {\n        console.log('set snack message - atleast one image is needed for memory');\n        handleSnackMessage('Atleast 1 image is needed for memory. Unable to delete', true);\n      }\n      setSnack(true);\n      return resp;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  };\n\n  const addImage = async (details) => {\n    try {\n      console.log('addImage details', details);\n      const resp = await api.updateMemoryImage(\n        bucket,\n        authURL,\n        memoryID,\n        'add',\n        details,\n      );\n      return resp;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  };\n\n  const handleNewImages = async () => {\n    /* eslint-disable  no-await-in-loop, no-restricted-syntax */\n    for (const [index, img] of newImages.entries()) {\n      const [det, file, src] = img;\n      console.log(det.name, src);\n      const putURL = await addImage(det).then((response) => {\n        if (response.ok) {\n          return response.text();\n        }\n        handleHTTPError(response, 'adding image', httpErrorCallback);\n        return '';\n      });\n      console.log('response for ', det.name, putURL);\n      const photo = {\n        key: `memories/${memoryID}/images/${det.name}`,\n        src,\n        alt: det.name,\n        title: det.name,\n        width: det.width,\n        height: det.height,\n        images: [],\n      };\n      const uploadResp = await fetch(putURL, { body: file, method: 'PUT' });\n      console.log('upload response', uploadResp);\n      if (uploadResp.ok) {\n        console.log(`Setting snack message - image ${det.name} add success`);\n        setUploadImageProgress(`Images uploaded: ${index + 1} / ${newImagesCount} `);\n        setImages((pics) => pics.concat([photo]));\n      } else {\n        setUploadImageStatus('Error while uploading memory image');\n        setErrorUploadImages((errImgs) => errImgs.concat([det.name]));\n        handleHTTPError(uploadResp, 'deleting image', httpErrorCallback);\n      }\n    }\n  };\n\n  useEffect(async () => {\n    if (newImages.length > 0) {\n      setAddImageOpen(true);\n      setUploadImageProgress('Preparing images for upload....');\n    }\n    if (newImages.length === newImagesCount) {\n      console.log(newImages, newImagesCount);\n      await handleNewImages();\n      console.log('Resetting new image count and images');\n      console.log('Add done');\n      if (errorUploadImages.length > 0) {\n        setUploadImageStatus(`Error while uploading ${errorUploadImages.length} images`);\n      } else {\n        setUploadImageStatus(`${newImages.length} image(s) uploaded successfully`);\n      }\n      setErrorUploadImages([]);\n      setNewImagesCount(null);\n      setNewImages([]);\n      setTimeout(() => {\n        setAddImageOpen(false);\n        setUploadImageStatus(null);\n        setUploadImageProgress(null);\n      }, 3000);\n    }\n  }, [newImages]);\n\n  const handleImageAdd = async (event) => {\n    if (event.target.files) {\n      const files = Array.from(event.target.files);\n      console.log('files to add:', files.length, 'exsting images:', images.length);\n      setNewImagesCount(files.length);\n      if (images.length + files.length <= 15) {\n        files.forEach((file) => {\n          const image = new Image();\n          image.onload = async (e) => {\n            const height = e.target.naturalHeight;\n            const width = e.target.naturalWidth;\n            const size = file.size / (1024 * 1024);\n            const { name } = file;\n            const resImages = [500, 1000, 1500].map((resHeight) => ({\n              height: resHeight, width: Math.ceil((resHeight * width) / height),\n            }));\n            const creationDate = Date.now();\n            const newName = `${creationDate}-${name}`;\n            const imageDetails = [{\n              name: newName, size, height, width, images: resImages,\n            }, file, e.target.src];\n            setNewImages((pics) => pics.concat([imageDetails]));\n          };\n          image.src = URL.createObjectURL(file);\n        });\n        files.map((file) => URL.revokeObjectURL(file)); // avoid memory leak\n      } else {\n        console.log('Setting snack message - error adding image as exceeding 15');\n        handleSnackMessage(`Unable to add ${files.length} images. Maximum images allowed per memory is 15`, true);\n        setSnack(true);\n      }\n      //  console.log('set snack true, handleImageAdd');\n    }\n  };\n\n  const updateTitle = (value) => {\n    const resp = UpdateDetails('title', value);\n    if (resp) {\n      setTitle(value);\n    }\n  };\n\n  const updateDate = (value) => {\n    const resp = UpdateDetails('date', value);\n    if (resp) {\n      setDate(value);\n    }\n  };\n\n  const updateStory = (value) => {\n    const resp = UpdateDetails('story', value);\n    if (resp) {\n      setStory(value);\n    }\n  };\n\n  const handleClose = () => setOpen(false);\n\n  const handleActiveIndexChange = (step) => setActiveIndex(step);\n\n  const handleBack = () => {\n    setActiveIndex(\n      (prevActiveStep) => (prevActiveStep - 1 + maxSteps) % maxSteps,\n    );\n  };\n\n  const handleNext = () => {\n    setActiveIndex((prevActiveStep) => (prevActiveStep + 1) % maxSteps);\n  };\n\n  const handlePhotoClick = (photo, event, index) => {\n    console.log(photo, event, index);\n    setOpen(true);\n    setActiveIndex(index);\n  };\n\n  const handleEditClick = () => setEdit(true);\n\n  const memoryTitle = (\n    <MemoryTitle\n      editable={edit}\n      text={title}\n      handleTitleUpdate={updateTitle}\n    />\n  );\n\n  const memoryDate = (\n    <MemoryDate editable={edit} prevDate={date} handleDateUpdate={updateDate} />\n  );\n\n  const storyLayout = (\n    <MemoryStory\n      editable={edit}\n      prevStory={story}\n      handleStoryUpdate={updateStory}\n    />\n  );\n\n  const photoLayout = (\n    <MemoryImages\n      editable={edit}\n      images={images}\n      handlePhotoClick={handlePhotoClick}\n      handleThumbnailUpdate={UpdateThumbnail}\n      deleteImage={deleteImage}\n      addImage={handleImageAdd}\n    />\n  );\n\n  const updateDone = (\n    <Button\n      variant=\"contained\"\n      component=\"label\"\n      onClick={() => setEdit(false)}\n      sx={{\n        color: 'primary.main',\n        borderRadius: 5,\n        backgroundColor: 'button.main',\n        padding: '6px 8px',\n      }}\n    >\n      <DoneIcon size=\"medium\" sx={{ paddingRight: 1 }} />\n      <Typography variant=\"body1\" color=\"muted.main\">Edit</Typography>\n    </Button>\n  );\n\n  console.log('preview', preview);\n\n  if (httpError === 401 && snack === false) {\n    return <Navigate to=\"/login\" />;\n  }\n\n  return (\n    <>\n      {edit ? (\n        <Stack\n          direction=\"row\"\n          justifyContent=\"flex-start\"\n          sx={{ backgroundColor: 'button.main', paddingX: 2, paddingY: 1 }}\n        >\n          {updateDone}\n        </Stack>\n      ) : <BackButton preview={preview} /> }\n      <Box\n        component=\"div\"\n        sx={{\n          backgroundColor: 'button.main',\n          margin: edit ? '5px' : 0,\n        }}\n      >\n        <MemoryContentStructure\n          header={memoryTitle}\n          subheader={memoryDate}\n          photoLayout={photoLayout}\n          storyLayout={storyLayout}\n          memoryID={memoryID}\n          bucket={bucket}\n          authURL={authURL}\n          handleEditClick={handleEditClick}\n          preview={preview}\n        />\n      </Box>\n      <MemoryCarousel\n        open={open}\n        title={title}\n        date={date}\n        images={images}\n        index={activeIndex}\n        handleNext={handleNext}\n        handleBack={handleBack}\n        handleClose={handleClose}\n        handleChange={handleActiveIndexChange}\n      />\n      <SimpleSnackbar\n        snackBarOpen={snack}\n        message={snackMessage}\n        onClose={handleSnackBarClose}\n        error={snackError}\n      />\n      <Dialog\n        open={addImageOpen}\n        fullWidth\n        sx={{\n          p: 1,\n        }}\n      >\n        <Card sx={{ maxWidth: 1, p: 1 }}>\n          <CardHeader title=\"Adding Images\" sx={{ textAlign: 'center' }} />\n          <Divider />\n          <CardContent>\n            <Typography variant=\"h6\" sx={{ color: 'muted.main' }}>{uploadImageProgress}</Typography>\n            <Stack justifyContent=\"center\" sx={{ py: 2 }}>\n              <Typography variant=\"h5\">{uploadImageStatus}</Typography>\n            </Stack>\n          </CardContent>\n        </Card>\n      </Dialog>\n\n    </>\n  );\n}\n\nMemoryContent.defaultProps = {\n  memTitle: 'Memory Title',\n  memDate: 'Memory Date',\n  memStory: 'Memory Text',\n};\n\nMemoryContent.propTypes = {\n  memTitle: PropTypes.string,\n  memDate: PropTypes.string,\n  memStory: PropTypes.string,\n  memoryID: PropTypes.string.isRequired,\n  bucket: PropTypes.string.isRequired,\n  authURL: PropTypes.string.isRequired,\n  memImages: PropTypes.arrayOf(\n    PropTypes.shape({\n      src: PropTypes.string,\n      width: PropTypes.number,\n      height: PropTypes.number,\n    }),\n  ).isRequired,\n  preview: PropTypes.bool.isRequired,\n};\n\nBackButton.propTypes = {\n  preview: PropTypes.bool.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport Divider from '@mui/material/Divider';\nimport ToggleButton from '@mui/material/ToggleButton';\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\nimport Typography from '@mui/material/Typography';\n\nexport default function ToggleViewMode({ mode, handleModeChange, modes }) {\n  return (\n    <Divider>\n      <Box sx={{ display: 'flex', justifyContent: 'center', p: 2 }}>\n        <ToggleButtonGroup\n          exclusive\n          value={mode}\n          aria-label=\"view-change\"\n          color=\"primary\"\n          sx={{ bgcolor: 'button.main' }}\n\n        >\n          {modes.map((modeName) => (\n            <ToggleButton\n              key={modeName}\n              value={modeName}\n              onClick={() => handleModeChange(`${modeName}`)}\n              sx={{ border: 2, borderColor: 'primary.main' }}\n            >\n              <Typography variant=\"h6\">{modeName}</Typography>\n            </ToggleButton>\n          ))}\n        </ToggleButtonGroup>\n      </Box>\n    </Divider>\n  );\n}\n\nToggleViewMode.propTypes = {\n  mode: PropTypes.string.isRequired,\n  handleModeChange: PropTypes.func.isRequired,\n  modes: PropTypes.PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Stepper from '@mui/material/Stepper';\nimport Step from '@mui/material/Step';\nimport StepLabel from '@mui/material/StepLabel';\n\nexport default function FormStepper({ titles, activeStep, handleClick }) {\n  return (\n    <Stepper\n      activeStep={activeStep}\n      alternativeLabel\n      sx={{ py: 4 }}\n    >\n      {titles.map((label, index) => (\n        <Step key={label} onClick={handleClick(index)}>\n          <StepLabel>{label}</StepLabel>\n        </Step>\n      ))}\n    </Stepper>\n  );\n}\n\nFormStepper.propTypes = {\n  titles: PropTypes.arrayOf(PropTypes.string).isRequired,\n  activeStep: PropTypes.number.isRequired,\n  handleClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport CardHeader from '@mui/material/CardHeader';\n\nexport default function PreviewCardHeader({ title }) {\n  return (\n    <CardHeader\n      title={title}\n      sx={{\n        border: 0,\n        borderColor: 'primary.main',\n        textAlign: 'center',\n        width: 1,\n        mb: 1,\n        bgcolor: 'button.main',\n        p: 0,\n        py: 2,\n        borderRadius: 2,\n      }}\n    />\n  );\n}\n\nPreviewCardHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Button from '@mui/material/Button';\n\nexport default function NavigationButton({ label, handleClick, disabled }) {\n  return (\n    <Button\n      onClick={handleClick}\n      disabled={disabled}\n      sx={{\n        m: 2,\n        border: 2,\n        borderColor: disabled ? 'muted.main' : 'ternary.main',\n        borderRadius: 5,\n        bgcolor: 'input.background',\n      }}\n    >\n      {label}\n    </Button>\n  );\n}\n\nNavigationButton.defaultProps = {\n  disabled: false,\n};\n\nNavigationButton.propTypes = {\n  label: PropTypes.string.isRequired,\n  handleClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport NavigationButton from './NavigationButton';\n\nexport default function FormStepperNavigation({\n  handleNext, handlePrevious, isLast, isFirst,\n}) {\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'row',\n        pt: 2,\n        width: 1,\n        justifyContent: 'space-evenly',\n      }}\n    >\n      { isFirst ? (\n        <NavigationButton disabled handleClick={() => {}} label=\"Back\" />\n      ) : (\n        <NavigationButton handleClick={handlePrevious} label=\"Back\" />\n      )}\n      { isLast ? (\n        <NavigationButton handleClick={handleNext} label=\"Create Memory\" />\n      ) : (\n        <NavigationButton handleClick={handleNext} label=\"Next\" />\n      )}\n    </Box>\n  );\n}\n\nFormStepperNavigation.propTypes = {\n  handleNext: PropTypes.func.isRequired,\n  handlePrevious: PropTypes.func.isRequired,\n  isLast: PropTypes.bool.isRequired,\n  isFirst: PropTypes.bool.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\n\nexport default function BoxForm({ children }) {\n  return (\n    <Box\n      component=\"form\"\n      sx={{\n        '& .MuiTextField-root': {\n          m: 1, maxWidth: '90%', width: '45ch',\n        },\n        '& .MuiOutlinedInput-root': {\n          backgroundColor: 'form.input',\n          borderRadius: 5,\n        },\n        flexDirection: 'column',\n        display: 'flex',\n        alignItems: 'center',\n        width: 'auto',\n        pt: 2,\n      }}\n      autoComplete=\"true\"\n    >\n      {children}\n    </Box>\n  );\n}\n\nBoxForm.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport TextField from '@mui/material/TextField';\nimport DatePicker from '@mui/lab/DesktopDatePicker';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\n\nimport * as yup from 'yup';\n\nimport FormStepperNavigation from './FormStepperNavigation';\nimport BoxForm from './BoxForm';\n\nexport default function TitleDateForm({\n  title,\n  date,\n  handleTitleChange,\n  handleDateChange,\n  handleNext,\n  handlePrevious,\n  isLast,\n  isFirst,\n  activeStep,\n}) {\n  const [titleError, setTitleError] = useState('');\n  const [dateError, setDateError] = useState('');\n\n  const [titleTouched, setTitleTouched] = useState(false);\n  const [dateTouched, setDateTouched] = useState(false);\n\n  const titleSchema = yup.object({\n    title: yup.string().required('Memory Title is required').max(40, 'Maximum length of memory title is 40'),\n  }).required();\n\n  const dateSchema = yup.object({\n    date: yup.date('Enter date by clicking calendar icon on the right end of date picker')\n      .required('Memory Date is required').nullable(),\n  }).required();\n  const isFieldValid = async (key, value, setFieldError, schema) => {\n    let hasError = false;\n    const testField = await schema\n      .validate({ [key]: value }, { abortEarly: false })\n      .catch((error) => error);\n    setFieldError('');\n    if (testField.inner) {\n      testField.inner.forEach((error) => setFieldError(error.message));\n      hasError = true;\n    }\n    return !hasError;\n  };\n\n  const isValid = async () => {\n    const titleValid = await isFieldValid('title', title, setTitleError, titleSchema);\n    const dateValid = await isFieldValid('date', date, setDateError, dateSchema);\n    return titleValid && dateValid;\n  };\n\n  useEffect(() => {\n    if (titleTouched) {\n      isFieldValid('title', title, setTitleError, titleSchema);\n    }\n    if (dateTouched) {\n      isFieldValid('date', date, setDateError, dateSchema);\n    }\n  }, [title, date]);\n\n  const submitForm = async (handleCallback) => {\n    const valid = await isValid();\n    if (valid) {\n      handleCallback();\n    }\n  };\n\n  const onTitleChange = (event) => {\n    setTitleTouched(true);\n    handleTitleChange(event);\n  };\n\n  const onDateChange = (event) => {\n    setDateTouched(true);\n    handleDateChange(event);\n  };\n\n  return (\n    <BoxForm>\n      <TextField\n        required\n        onChange={onTitleChange}\n        id=\"outlined-required\"\n        label=\"Memory Name\"\n        defaultValue={title}\n        helperText={titleError || \"E.g. Gogol's 2nd Birthday\"}\n        error={!!titleError}\n      />\n      <LocalizationProvider dateAdapter={AdapterDateFns}>\n        <DatePicker\n          label=\"Memory Date\"\n          value={date}\n          onChange={onDateChange}\n          placeholder=\"dd/MM/yyyy\"\n          inputFormat=\"dd/MM/yyyy\"\n          maxDate={new Date()}\n          renderInput={(props) => (\n            <TextField\n              readOnly\n              required\n          // eslint-disable-next-line react/jsx-props-no-spreading\n              {...props}\n              error={!!dateError}\n              helperText={dateError || ''}\n            />\n          )}\n        />\n      </LocalizationProvider>\n      <FormStepperNavigation\n        activeStep={activeStep}\n        handleNext={() => submitForm(handleNext)}\n        handlePrevious={handlePrevious}\n        isLast={isLast}\n        isFirst={isFirst}\n      />\n    </BoxForm>\n  );\n}\n\nTitleDateForm.defaultProps = {\n  date: '',\n};\n\nTitleDateForm.propTypes = {\n  activeStep: PropTypes.number.isRequired,\n  date: PropTypes.string,\n  isLast: PropTypes.bool.isRequired,\n  isFirst: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n\n  handleDateChange: PropTypes.func.isRequired,\n  handleNext: PropTypes.func.isRequired,\n  handlePrevious: PropTypes.func.isRequired,\n  handleTitleChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport AddAPhotoIcon from '@mui/icons-material/AddAPhoto';\n\nexport default function ImageSelector({ handleChange }) {\n  return (\n    <Box sx={{ display: 'flex', justifyContent: 'center', pb: 1 }}>\n      <Button\n        variant=\"contained\"\n        component=\"label\"\n        color=\"button\"\n        sx={{\n          borderRadius: 5, border: 2, borderColor: 'primary.main', backgroundColor: 'input.background',\n        }}\n      >\n        <input type=\"file\" hidden multiple accept=\"image/*\" onChange={handleChange} />\n        <Typography variant=\"h6\">Add Pictures</Typography>\n        <AddAPhotoIcon sx={{ fontSize: '2.5rem' }} />\n      </Button>\n    </Box>\n  );\n}\n\nImageSelector.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Radio from '@mui/material/Radio';\nimport { alpha } from '@mui/material/styles';\n\nexport default function ThumbnailChooser({ index, thumbnail, handleThumbnailChange }) {\n  return (\n    <FormControlLabel\n      control={<Radio />}\n      label=\"Thumbnail\"\n      checked={thumbnail === index}\n      onChange={() => handleThumbnailChange(index)}\n      sx={{\n        pr: 1,\n        position: 'absolute',\n        bgcolor: alpha('#fff', 0.6),\n        color: 'black',\n        borderRadius: '0px 5px 5px 0px',\n        borderColor: 'secondary.main',\n        borderLeft: 0,\n        bottom: 20,\n        left: 15,\n      }}\n    />\n  );\n}\n\nThumbnailChooser.propTypes = {\n  index: PropTypes.number.isRequired,\n  thumbnail: PropTypes.number.isRequired,\n  handleThumbnailChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\n\nexport default function SelectedImage({\n  photo, index, setDimensions, thumbnail, resizeHeights,\n}) {\n  const handleImageOnload = (event, heights) => {\n    const originalWidth = event.target.naturalWidth;\n    const originalHeight = event.target.naturalHeight;\n    const images = heights.map((height) => ({\n      height, width: Math.ceil((height * originalWidth) / originalHeight),\n    }));\n    setDimensions(index, images);\n  };\n\n  return (\n    <Box\n      component=\"img\"\n      onLoad={(event) => handleImageOnload(event, resizeHeights)}\n      sx={{\n        border: (thumbnail === index) ? 4 : 0,\n        borderColor: 'primary.main',\n        borderRadius: (thumbnail === index) ? 5 : 0,\n        mb: 1,\n        '&:hover': {\n          border: 5,\n          borderColor: 'secondary.main',\n        },\n      }}\n      src={photo}\n      alt={photo.name}\n      height=\"140px\"\n      width=\"140px\"\n      fit=\"crop\"\n      auto=\"format\"\n      loading=\"lazy\"\n    />\n  );\n}\n\nSelectedImage.propTypes = {\n  photo: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  setDimensions: PropTypes.func.isRequired,\n  thumbnail: PropTypes.number.isRequired,\n  resizeHeights: PropTypes.arrayOf(PropTypes.number).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Divider from '@mui/material/Divider';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\n\nimport RemovePhotoIcon from './RemovePhotoIcon';\nimport ThumbnailChooser from './ThumbnailChooser';\nimport SelectedImage from './SelectedImage';\n\nexport default function ImagePreviewer({\n  imageDetails,\n  handleRemoveImage,\n  thumbnail,\n  handleThumbnailChange,\n  setDimensions,\n  resizeHeights,\n}) {\n  return imageDetails.length\n    ? (\n      <>\n        <Divider />\n        <Typography sx={{ p: 2 }} variant=\"h6\" align=\"center\">\n          Selected Images\n        </Typography>\n        <Grid\n          container\n          alignItems=\"center\"\n          justifyContent=\"space-around\"\n          sx={{ p: 1 }}\n        >\n          {imageDetails.map((photo, index) => (\n            <Button key={photo.url} component=\"div\">\n              <SelectedImage\n                photo={photo.url}\n                index={index}\n                setDimensions={setDimensions}\n                thumbnail={thumbnail}\n                resizeHeights={resizeHeights}\n              />\n              <RemovePhotoIcon handleClick={() => handleRemoveImage(index)} />\n              <ThumbnailChooser\n                index={index}\n                thumbnail={thumbnail}\n                handleThumbnailChange={handleThumbnailChange}\n              />\n            </Button>\n          ))}\n        </Grid>\n      </>\n    )\n    : null;\n}\n\nImagePreviewer.propTypes = {\n  imageDetails: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string,\n    url: PropTypes.string,\n    size: PropTypes.number,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  })).isRequired,\n  handleRemoveImage: PropTypes.func.isRequired,\n  thumbnail: PropTypes.number.isRequired,\n  handleThumbnailChange: PropTypes.func.isRequired,\n  setDimensions: PropTypes.func.isRequired,\n  resizeHeights: PropTypes.arrayOf(PropTypes.number).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Typography from '@mui/material/Typography';\n\nexport default function ErrorText({ text }) {\n  return (\n    <Typography sx={{ color: 'error.main' }}>\n      { text }\n    </Typography>\n  );\n}\n\nErrorText.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\n\nimport ImageSelector from './ImageSelector';\nimport ImagePreviewer from './ImagePreviewer';\nimport FormStepperNavigation from './FormStepperNavigation';\nimport BoxForm from './BoxForm';\nimport ErrorText from './ErrorText';\n\nexport default function ImageForm({\n  imageDetails,\n  thumbnail,\n  handleSelectedImageChange,\n  handleThumbnailChange,\n  removeSelectedImage,\n  handleNext,\n  handlePrevious,\n  isLast,\n  isFirst,\n  setDimensions,\n  resizeHeights,\n}) {\n  const maxAllowedImages = 15;\n  const minAllowedImages = 1;\n  const [imageError, setImageError] = useState('');\n  const [touched, setTouched] = useState(false);\n\n  function isValid() {\n    let valid = true;\n    setImageError('');\n    if (imageDetails.length < minAllowedImages) {\n      setImageError('Need atleast one image to create a memory');\n      valid = false;\n    }\n\n    if (imageDetails.length > maxAllowedImages) {\n      setImageError(`Maximum Allowed Images per Memory: ${maxAllowedImages}`);\n      valid = false;\n    }\n\n    return valid;\n  }\n\n  useEffect(() => {\n    if (touched) isValid();\n  }, [imageDetails, touched]);\n\n  const handleSubmit = (handleCallback) => {\n    if (isValid()) {\n      handleCallback();\n    }\n  };\n\n  const handleImageChange = (event) => {\n    setTouched(true);\n    handleSelectedImageChange(event, isValid);\n  };\n\n  return (\n    <BoxForm>\n      <Grid item>\n        <ImageSelector\n          handleChange={handleImageChange}\n        />\n      </Grid>\n      <Grid item container direction=\"column\" alignItems=\"center\">\n        <Typography>\n          Total Images Selected:\n          {imageDetails.length}\n          /\n          {maxAllowedImages}\n        </Typography>\n        <ErrorText text={imageError} />\n      </Grid>\n      <FormStepperNavigation\n        handleNext={() => handleSubmit(handleNext)}\n        handlePrevious={handlePrevious}\n        isLast={isLast}\n        isFirst={isFirst}\n      />\n      <Grid item>\n        <ImagePreviewer\n          imageDetails={imageDetails}\n          handleRemoveImage={removeSelectedImage}\n          thumbnail={thumbnail}\n          handleThumbnailChange={handleThumbnailChange}\n          setDimensions={setDimensions}\n          resizeHeights={resizeHeights}\n        />\n      </Grid>\n    </BoxForm>\n  );\n}\n\nImageForm.propTypes = {\n  imageDetails: PropTypes.arrayOf(PropTypes.shape({\n    url: PropTypes.string,\n    name: PropTypes.string,\n    size: PropTypes.number,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  })).isRequired,\n  handleSelectedImageChange: PropTypes.func.isRequired,\n  removeSelectedImage: PropTypes.func.isRequired,\n  thumbnail: PropTypes.number.isRequired,\n  handleThumbnailChange: PropTypes.func.isRequired,\n  handleNext: PropTypes.func.isRequired,\n  handlePrevious: PropTypes.func.isRequired,\n  isLast: PropTypes.bool.isRequired,\n  isFirst: PropTypes.bool.isRequired,\n  setDimensions: PropTypes.func.isRequired,\n  resizeHeights: PropTypes.arrayOf(PropTypes.number).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\nimport { useRef, useEffect } from 'react';\n//  import { Editor, EditorState } from 'draft-js';\n\n/* import Divider from '@mui/material/Divider';\nimport EditorStyles from './EditorStyles'; */\n\nexport default function StoryEditor({\n  storyError, story, handleStoryChange,\n}) {\n  const storyRef = useRef();\n\n  useEffect(() => {\n    storyRef.current.focus();\n  }, []);\n\n  console.log(story);\n\n  return (\n    <Box\n      sx={{\n        m: 1,\n        my: 2,\n        border: 1,\n        borderColor: storyError ? 'error.main' : 'primary.main',\n        bgcolor: 'input.background',\n        minHeight: '200px',\n        borderRadius: 5,\n      }}\n      onClick={() => storyRef.current.focus()}\n    >\n      {/* <EditorStyles editorState={editorState} /> */}\n      {/* <Divider sx={{ my: 1 }} />\n      <Editor\n        editorState={editorState}\n        onChange={handleEditorStateChange}\n        placeholder=\"Tell your story...\"\n        ref={storyRef}\n      /> */}\n      <TextareaAutosize\n        autoFocus\n        aria-label=\"minimum height\"\n        placeholder=\"Tell your story...\"\n        value={story}\n        onChange={handleStoryChange}\n        style={{\n          width: '100%',\n          height: '100%',\n          boxSizing: 'border-box',\n          padding: 2,\n          border: 0,\n          borderRadius: 5,\n          '&:focus': {\n            border: 0,\n          },\n        }}\n        ref={storyRef}\n      />\n    </Box>\n  );\n}\n\nStoryEditor.propTypes = {\n  storyError: PropTypes.string.isRequired,\n  //  editorState: PropTypes.instanceOf(EditorState).isRequired,\n  story: PropTypes.string.isRequired,\n  handleStoryChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport 'draft-js/dist/Draft.css';\nimport { useState } from 'react';\nimport Box from '@mui/material/Box';\n\nimport FormStepperNavigation from './FormStepperNavigation';\nimport ErrorText from './ErrorText';\nimport StoryEditor from './StoryEditor';\n\nexport default function StoryForm({\n  story,\n  handleStoryChange,\n  handleNext,\n  handlePrevious,\n  isLast,\n  isFirst,\n  progressDialog,\n}) {\n  const maxStoryLength = 100000;\n  const [storyError, setStoryError] = useState('');\n\n  const submitForm = (handleCallback) => {\n    //  const memoryText = editorState.getCurrentContent().getPlainText();\n    const memoryText = story;\n    if (memoryText.length <= maxStoryLength) {\n      setStoryError('');\n      handleCallback();\n    } else {\n      setStoryError(`Maximum story length is: ${maxStoryLength}`);\n    }\n  };\n\n  return (\n    <>\n      <StoryEditor\n        storyError={storyError}\n        story={story}\n        handleStoryChange={handleStoryChange}\n      />\n      <Box sx={{ p: 1, m: 1 }}>\n        <ErrorText text={storyError} />\n      </Box>\n      <FormStepperNavigation\n        handleNext={() => submitForm(handleNext)}\n        handlePrevious={handlePrevious}\n        isLast={isLast}\n        isFirst={isFirst}\n      />\n      {progressDialog}\n    </>\n  );\n}\n\nStoryForm.propTypes = {\n  story: PropTypes.string.isRequired,\n  handleStoryChange: PropTypes.func.isRequired,\n  handleNext: PropTypes.func.isRequired,\n  handlePrevious: PropTypes.func.isRequired,\n  isLast: PropTypes.bool.isRequired,\n  isFirst: PropTypes.bool.isRequired,\n  progressDialog: PropTypes.node.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Dialog from '@mui/material/Dialog';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport CardContent from '@mui/material/CardContent';\nimport Divider from '@mui/material/Divider';\nimport LinearProgress from '@mui/material/LinearProgress';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport CheckCircleOutlineIcon from '@mui/icons-material/CheckCircleOutline';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\n\nfunction LinearProgressWithLabel({ value }) {\n  return (\n    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n      <Box sx={{ width: '100%', mr: 1 }}>\n        <LinearProgress variant=\"determinate\" value={value} />\n      </Box>\n      <Box sx={{ minWidth: 35 }}>\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          {`${Math.round(\n            value,\n          )}%`}\n        </Typography>\n      </Box>\n    </Box>\n  );\n}\n\nfunction MessageProgress({ message, done }) {\n  let showStatus;\n  if (done === 'failed') {\n    showStatus = <Typography color=\"error.main\">Failed</Typography>;\n  } else if (done === true) {\n    showStatus = <Typography color=\"success.main\">Done</Typography>;\n  } else {\n    showStatus = <CircularProgress size={30} />;\n  }\n  //  showStatus = done ? (\n  //  <Typography color=\"success.main\">Done</Typography>\n  //  ) : (\n  //  <CircularProgress size={30} />\n  //  );\n\n  return (\n    <Box sx={{ display: 'flex', alignItems: 'space-between' }}>\n      <Box sx={{ width: '100%', mr: 1 }}>\n        <Typography>{message}</Typography>\n      </Box>\n      <Box sx={{ minWidth: 35 }}>\n        {showStatus}\n      </Box>\n    </Box>\n\n  );\n}\n\nfunction MemoryCreationStatus({ progress, counter }) {\n  if (progress === 100) {\n    return (\n      <>\n        <Box sx={{\n          display: 'flex', justifyContent: 'center', alignItems: 'center', m: 2,\n        }}\n        >\n          <CheckCircleOutlineIcon color=\"success\" fontSize=\"large\" sx={{ mr: 2 }} />\n          <Typography variant=\"h5\" color=\"primary.main\">Memory Created Successfully</Typography>\n        </Box>\n\n        <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n          <Box>\n            <Typography>Navigating to memories page in </Typography>\n          </Box>\n          <Box sx={{ mx: 1 }}>\n            <Typography variant=\"h6\" color=\"success.main\">\n              {counter}\n            </Typography>\n          </Box>\n          <Box>\n            <Typography>seconds</Typography>\n          </Box>\n        </Box>\n      </>\n    );\n  }\n  if (progress === -1) {\n    return (\n      <>\n        <Box sx={{\n          display: 'flex', justifyContent: 'center', alignItems: 'center', m: 2,\n        }}\n        >\n          <ErrorOutlineIcon color=\"error\" fontSize=\"large\" sx={{ mr: 2 }} />\n          <Typography variant=\"h5\" color=\"primary.main\">Memory Creation Failed</Typography>\n        </Box>\n\n        <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n          <Box>\n            <Typography>Navigating to memories page in </Typography>\n          </Box>\n          <Box sx={{ mx: 1 }}>\n            <Typography variant=\"h6\" color=\"success.main\">\n              {counter}\n            </Typography>\n          </Box>\n          <Box>\n            <Typography>seconds</Typography>\n          </Box>\n        </Box>\n      </>\n    );\n  }\n  return null;\n}\n\nexport default function CreateMemoryProgress({\n  open, progress, messages,\n}) {\n  const [counter, setCounter] = useState(0);\n  useEffect(() => {\n    let timerId;\n    if (counter > 0) {\n      timerId = setTimeout(() => setCounter(counter - 1), 1000);\n    }\n    return () => clearTimeout(timerId);\n  }, [counter]);\n\n  useEffect(() => {\n    if (progress === 100 || progress === -1) setCounter(10);\n  }, [progress]);\n\n  return (\n    <Dialog\n      open={open}\n      fullWidth\n      sx={{\n        p: 1,\n      }}\n\n    >\n      <Card sx={{ maxWidth: 1, p: 1 }}>\n        <CardHeader title=\"Creating Memory\" sx={{ textAlign: 'center' }} />\n        <Divider />\n        <CardContent>\n          <LinearProgressWithLabel value={progress > 0 ? progress : 0} />\n          {messages.map((mesg) => (\n            <MessageProgress key={mesg.message} message={mesg.message} done={mesg.done} />\n          ))}\n          <MemoryCreationStatus progress={progress} counter={counter} />\n        </CardContent>\n      </Card>\n    </Dialog>\n\n  );\n}\n\nMemoryCreationStatus.propTypes = {\n  progress: PropTypes.number.isRequired,\n  counter: PropTypes.number.isRequired,\n};\n\nLinearProgressWithLabel.propTypes = {\n  value: PropTypes.number.isRequired,\n};\n\nMessageProgress.propTypes = {\n  message: PropTypes.string.isRequired,\n  done: PropTypes.bool.isRequired,\n};\n\nCreateMemoryProgress.defaultProps = {\n  messages: [],\n};\n\nCreateMemoryProgress.propTypes = {\n  open: PropTypes.bool.isRequired,\n  progress: PropTypes.number.isRequired,\n  messages: PropTypes.arrayOf(PropTypes.exact(\n    {\n      message: PropTypes.string,\n      done: PropTypes.bool,\n    },\n  )),\n};\n","import api from '../Api';\n\nfunction UploadImages(\n  bucket,\n  authURL,\n  memoryKey,\n  title,\n  imageDetails,\n  imageFiles,\n  incrementImageCount,\n) {\n  const paramList = imageDetails.map((detail, index) => {\n    const imgFile = imageFiles[index];\n    return {\n      Key: ['memories', memoryKey, 'images', detail.name].join('/'),\n      Body: imgFile,\n      ContentType: imgFile.type,\n    };\n  });\n  const uploadPromises = api.uploadMultipleImages(bucket, authURL, paramList, incrementImageCount);\n  return Promise.allSettled(uploadPromises);\n}\n\nasync function ValidateDetails(bucket, authURL, memoryDetails) {\n  const detailsJSON = JSON.stringify(memoryDetails);\n  const validateResp = await api.validateDetails(bucket, authURL, detailsJSON);\n  console.log(validateResp);\n  if (validateResp.status === 'error') {\n    return false;\n  }\n  return validateResp.Valid === true;\n}\n\nasync function UploadDetails(bucket, authURL, memoryDetails) {\n  const detailsJSON = JSON.stringify(memoryDetails);\n  const memoryDetailsKey = ['memories', memoryDetails.key, 'details.json'].join('/');\n  const uploadResp = await api.upload(bucket, authURL, memoryDetailsKey, detailsJSON);\n  return (uploadResp && uploadResp.ok === true);\n}\n\nconst InitializeMemory = async (\n  bucket,\n  authURL,\n  memoryDetails,\n  handleProgress,\n  updateMessageStatus,\n  addMessage,\n) => {\n  handleProgress(0);\n  addMessage('Initializing memory', false);\n  const valid = await ValidateDetails(bucket, authURL, memoryDetails);\n  let initRes;\n  if (valid === true) {\n    initRes = await UploadDetails(bucket, authURL, memoryDetails);\n    updateMessageStatus('Initializing Memory', initRes);\n    handleProgress(10);\n  } else {\n    updateMessageStatus('Initializing Memory', 'failed');\n  }\n  return valid;\n};\n\nconst HandleImages = async (\n  bucket,\n  authURL,\n  memoryKey,\n  title,\n  imageDetails,\n  imageFiles,\n  incrementImageCount,\n  handleProgress,\n) => {\n  const imagesResults = await UploadImages(\n    bucket,\n    authURL,\n    memoryKey,\n    title,\n    imageDetails,\n    imageFiles,\n    incrementImageCount,\n  );\n  for (let i = 0; i < imagesResults.length; i += 1) {\n    if ((imagesResults[i].status === 'rejected') || (imagesResults[i].value.ok !== true)) {\n      return false;\n    }\n  }\n  handleProgress(95);\n  return true;\n};\n\nconst CreateMemory = async (\n  bucket,\n  authURL,\n  memoryDetails,\n  handleProgress,\n  updateMessageStatus,\n  addMessage,\n  imageFiles,\n  incrementImageCount,\n) => {\n  // Validate details and upload if valid\n  const initMemResults = await InitializeMemory(\n    bucket,\n    authURL,\n    memoryDetails,\n    handleProgress,\n    updateMessageStatus,\n    addMessage,\n  );\n  console.log('Initialize Memory completed', initMemResults, new Date());\n\n  let imagesResults;\n  if (initMemResults === true) {\n    // Upload original images\n    imagesResults = await HandleImages(\n      bucket,\n      authURL,\n      memoryDetails.key,\n      memoryDetails.title,\n      memoryDetails.imageDetails,\n      imageFiles,\n      incrementImageCount,\n      handleProgress,\n    );\n\n    if (imagesResults === true) {\n      const finalizeResults = await api.finalizeMemory(bucket, authURL, memoryDetails.key);\n      if (parseInt(finalizeResults.MemoryID, 10) !== memoryDetails.key) {\n        return false;\n      }\n      return true;\n    }\n    updateMessageStatus('Uploading Original Images', 'failed');\n  }\n\n  return false;\n};\n\nexport default { CreateMemory };\n","import { useState, useEffect } from 'react';\n\n//  import { convertToRaw, EditorState } from 'draft-js';\nimport { useNavigate } from 'react-router-dom';\nimport useTitle from '../../hooks/title';\nimport useDate from '../../hooks/date';\nimport useSelectedImages from '../../hooks/selectedImages';\nimport useStory from '../../hooks/story';\nimport useStep from '../../hooks/formStep';\nimport useProgressMessage from '../../hooks/progressMessage';\n\nimport CreateMemoryForm from './CreateMemoryForm';\nimport PreviewMemory from './PreviewMemory';\nimport TitleDateForm from './TitleDateForm';\nimport ImageForm from './ImageForm';\nimport StoryForm from './StoryForm';\nimport CreateMemoryProgress from './CreateMemoryProgress';\nimport MemoryUtils from './MemoryUtils';\n//  import api from '../Api';\n\nfunction getTotalSize(images) {\n  return images.reduce((partialSum, image) => partialSum + image.size, 0);\n}\n\nexport default function ModeContent({ mode, bucket, authURL }) {\n  const navigate = useNavigate();\n  const resizeHeights = [500, 1000, 1500];\n  const stepTitles = [\n    'Enter memory title and date',\n    'Upload Pictures',\n    'Write story',\n  ];\n  const [activeStep, handleNext, handlePrevious, isLast, isFirst] = useStep(stepTitles.length);\n  const [title,, handleTitleChange] = useTitle('');\n  const [date,, handleDateChange] = useDate('');\n  const [\n    imageDetails,\n    thumbnail,\n    handleSelectedImageChange,\n    removeSelectedImage,\n    handleThumbnailChange,\n    setDimensions,\n  ] = useSelectedImages();\n\n  //  const [editorState,, handleEditorStateChange] = useStory(EditorState.createEmpty());\n  const [story,, handleStoryChange] = useStory('');\n  const [open, setOpen] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [messages, addMessage, updateMessageStatus] = useProgressMessage();\n  const [uploadCount, setUploadCount] = useState(0);\n\n  const handleProgress = (progressPercentage) => setProgress(progressPercentage);\n  const incrementImageCount = () => setUploadCount((cnt) => cnt + 1);\n  const imageFiles = imageDetails.map((detail) => detail.imageFile);\n\n  useEffect(() => {\n    const message = `Uploading Original Images (${uploadCount}/${imageDetails.length})`;\n    if (uploadCount >= 0 && progress >= 10) {\n      if (uploadCount === 0) addMessage(message, false);\n      else updateMessageStatus(message, false);\n\n      if (imageDetails.length === uploadCount) updateMessageStatus(message, true);\n    }\n  }, [uploadCount, progress]);\n\n  const TitleDate = (\n    <TitleDateForm\n      activeStep={activeStep}\n      handleNext={handleNext}\n      handlePrevious={handlePrevious}\n      isLast={isLast}\n      isFirst={isFirst}\n      title={title}\n      date={date}\n      handleTitleChange={handleTitleChange}\n      handleDateChange={handleDateChange}\n    />\n  );\n\n  const SelectImages = (\n    <ImageForm\n      imageDetails={imageDetails}\n      handleSelectedImageChange={handleSelectedImageChange}\n      removeSelectedImage={removeSelectedImage}\n      thumbnail={thumbnail}\n      handleThumbnailChange={handleThumbnailChange}\n      handleNext={handleNext}\n      handlePrevious={handlePrevious}\n      isLast={isLast}\n      isFirst={isFirst}\n      setDimensions={setDimensions}\n      resizeHeights={resizeHeights}\n    />\n  );\n\n  const handleSubmit = async () => {\n    // so that the newest memory has the smallest key and so  comes first in s3 listObjects\n    // When this fails wont be there to take blame. Should be dead by then. :-)\n    const memoryKey = new Date(2100, 1, 1).getTime() - Date.now();\n    const memoryDetails = {\n      key: memoryKey,\n      title,\n      date,\n      lastModified: new Date(),\n      imageDetails,\n      //  contentState: convertToRaw(editorState.getCurrentContent()),\n      story,\n      thumbnail: imageDetails[thumbnail],\n      totalSize: getTotalSize(imageDetails),\n    };\n    setOpen(true);\n\n    const created = await MemoryUtils.CreateMemory(\n      bucket,\n      authURL,\n      memoryDetails,\n      handleProgress,\n      updateMessageStatus,\n      addMessage,\n      imageFiles,\n      incrementImageCount,\n    );\n\n    console.log('created=', created);\n    if (created === true) {\n      handleProgress(100);\n    } else {\n      handleProgress(-1);\n      console.log('error while creating memory');\n    }\n    setTimeout(() => navigate('/memories'), 10000);\n  };\n\n  const ProgressDialog = (\n    <CreateMemoryProgress open={open} progress={progress} messages={messages} />\n  );\n\n  const WriteStory = (\n    <StoryForm\n      story={story}\n      handleStoryChange={handleStoryChange}\n      handleNext={handleSubmit}\n      handlePrevious={handlePrevious}\n      isLast={isLast}\n      isFirst={isFirst}\n      progressDialog={ProgressDialog}\n    />\n  );\n\n  const stepForms = [TitleDate, SelectImages, WriteStory];\n\n  let content;\n\n  const CreateModeContent = CreateMemoryForm(\n    stepTitles.length,\n    stepTitles,\n    stepForms,\n    handleSubmit,\n    activeStep,\n    isLast,\n    handleNext,\n    handlePrevious,\n  );\n  const PreviewModeContent = PreviewMemory(title, date, imageDetails, thumbnail, story);\n  if (mode === 'Create') {\n    content = CreateModeContent;\n  }\n\n  if (mode === 'Preview') {\n    content = PreviewModeContent;\n  }\n\n  return content;\n}\n","import { useState } from 'react';\n\nexport default function useStep(stepCount) {\n  const [activeStep, setActiveStep] = useState(0);\n\n  const handleNext = () => {\n    setActiveStep((activeStep + 1) % stepCount);\n  };\n\n  const handlePrevious = () => {\n    setActiveStep((activeStep - 1 + stepCount) % stepCount);\n  };\n\n  const isLast = activeStep === stepCount - 1;\n  const isFirst = activeStep === 0;\n\n  return [activeStep, handleNext, handlePrevious, isLast, isFirst];\n}\n","import { useState } from 'react';\n\nexport default function useSelectedImages() {\n  const [imageDetails, setImageDetails] = useState([]);\n  const [imageFiles, setImageFiles] = useState([]);\n  const [thumbnail, setThumbnail] = useState(0);\n\n  const handleThumbnailChange = (index) => {\n    setThumbnail(index);\n  };\n\n  const handleSelectedImageChange = (event) => {\n    if (event.target.files) {\n      const files = Array.from(event.target.files);\n      files.forEach((file) => {\n        const image = new Image();\n        image.onload = (e) => {\n          const date = Date.now();\n          const newName = `${date}-${file.name}`;\n          setImageDetails((arr) => arr.concat([\n            {\n              name: newName,\n              size: file.size / (1024 * 1024),\n              url: e.target.src,\n              height: e.target.naturalHeight,\n              width: e.target.naturalWidth,\n              imageFile: file,\n            },\n          ]));\n        };\n        image.src = URL.createObjectURL(file);\n      });\n      setImageFiles((arr) => arr.concat(files));\n      files.map((file) => URL.revokeObjectURL(file)); // avoid memory leak\n    }\n  };\n\n  const removeSelectedImage = (index) => {\n    setImageDetails([\n      ...imageDetails.slice(0, index),\n      ...imageDetails.slice(index + 1),\n    ]);\n\n    setImageFiles([\n      ...imageFiles.slice(0, index),\n      ...imageFiles.slice(index + 1),\n    ]);\n\n    if (index < thumbnail) {\n      handleThumbnailChange(thumbnail - 1);\n    } else if (index === thumbnail) {\n      handleThumbnailChange(0);\n    }\n  };\n\n  const setDimensions = (index, images) => {\n    setImageDetails([\n      ...imageDetails.slice(0, index),\n      {\n        ...imageDetails[index],\n        images,\n      },\n      ...imageDetails.slice(index + 1),\n    ]);\n  };\n\n  return [\n    imageDetails,\n    thumbnail,\n    handleSelectedImageChange,\n    removeSelectedImage,\n    handleThumbnailChange,\n    setDimensions,\n  ];\n}\n","import { useState } from 'react';\n\nexport default function useProgressMessage() {\n  const [messages, setMessages] = useState([]);\n\n  const addMessage = (message, done) => {\n    const newMessage = [{ message, done }];\n    setMessages((arr) => arr.concat(newMessage));\n  };\n\n  const updateMessageStatus = (message, done) => {\n    const newMessage = [{ message, done }];\n    setMessages((arr) => arr.slice(0, -1).concat(newMessage));\n  };\n\n  return [messages, addMessage, updateMessageStatus];\n}\n","import Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport Divider from '@mui/material/Divider';\nimport FormStepper from './FormStepper';\n\nexport default function CreateMemoryForm(\n  stepCount,\n  stepTitles,\n  stepForms,\n  handleSubmit,\n  activeStep,\n) {\n  return (\n    <Grid container justifyContent=\"center\">\n      <Grid\n        item\n        lg={6}\n        xs={12}\n        sx={{\n          boxShadow: 10,\n          borderRadius: 5,\n          bgcolor: 'button.main',\n          mb: 2,\n        }}\n      >\n        <Box>\n          <FormStepper\n            titles={stepTitles}\n            activeStep={activeStep}\n            handleClick={() => {}}\n          />\n          <Divider />\n          {stepForms[activeStep]}\n        </Box>\n      </Grid>\n    </Grid>\n  );\n}\n","import Grid from '@mui/material/Grid';\n\nimport MemoryThumbnail from '../MemoryThumbnail';\nimport MemoryContent from './MemoryContent';\nimport PreviewCardHeader from './PreviewCardHeader';\n\nexport default function PreviewMemory(\n  title,\n  date,\n  imageDetails,\n  thumbnail,\n  story,\n) {\n  return (\n    <Grid container justifyContent=\"space-evenly\" sx={{ p: 0 }}>\n      <Grid\n        item\n        xs={6}\n        sm={4}\n        md={4}\n        lg={3}\n        xl={2}\n        sx={{ px: 1, mb: 1 }}\n      >\n        <PreviewCardHeader title=\"Thumbnail Preview\" />\n        <MemoryThumbnail\n          title={title}\n          date={date || ''}\n          thumbnailImage={(imageDetails.length) > 0 ? imageDetails[thumbnail].url : ''}\n          handleClick={() => {}}\n        />\n      </Grid>\n\n      <Grid\n        item\n        xs={12}\n        lg={9}\n        xl={10}\n      >\n        <PreviewCardHeader title=\"Memory Preview\" />\n        <MemoryContent\n          memTitle={title}\n          memDate={date}\n          memStory={story}\n          memImages={imageDetails.map((image) => ({\n            src: image.url,\n            width: image.width,\n            height: image.height,\n          }))}\n          imageNames={imageDetails.map((image) => image.name)}\n          preview\n        />\n      </Grid>\n    </Grid>\n  );\n}\n","import { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport BasePage from '../base_page';\nimport ToggleViewMode from './ToggleViewMode';\nimport ModeContent from './ModeContent';\n\nexport default function CreateMemory({ bucket, authURL }) {\n  const modes = ['Create', 'Preview'];\n  const [mode, setMode] = useState(modes[0]);\n  const ref = useRef(null);\n\n  return (\n    <BasePage>\n      <ToggleViewMode mode={mode} handleModeChange={setMode} modes={modes} />\n      <ModeContent mode={mode} formRef={ref} bucket={bucket} authURL={authURL} />\n    </BasePage>\n  );\n}\n\nCreateMemory.propTypes = {\n  bucket: PropTypes.string.isRequired,\n  authURL: PropTypes.string.isRequired,\n};\n"],"sourceRoot":""}