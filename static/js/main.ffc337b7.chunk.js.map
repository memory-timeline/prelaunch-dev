{"version":3,"sources":["components/LoginButton.jsx","components/SignupButton.jsx","static/images/icons/logo.svg","components/brand.jsx","components/main.jsx","static/images/b1.webp","static/images/b2.webp","static/images/b3.webp","static/images/b4.webp","App.jsx","components/topbar/utils.jsx","utils.jsx","hocs/require-authentication.jsx","static/images/gogol.jpg","static/images/sagnika.jpg","components/about.jsx","static/images/blog_pic.jpg","components/common.jsx","components/social.jsx","components/contact.jsx","components/profile.jsx","components/topbar/misclinks.jsx","components/topbar/BurgerMenu.jsx","components/topbar/index.jsx","components/footer.jsx","pages/base_page.jsx","pages/memory/ToggleViewMode.jsx","hooks/title.jsx","hooks/date.jsx","hooks/story.jsx","pages/memory/FormStepper.jsx","pages/MemoryThumbnailCard.jsx","pages/MemoryThumbnail.jsx","pages/memory/MemoryImageSlide.jsx","pages/memory/RemovePhotoIcon.jsx","pages/memory/MemoryCarousel.jsx","pages/memory/UpdateMemoryIcon.jsx","pages/memory/DeleteMemoryIcon.jsx","components/simple_snackbar.jsx","components/confirmation.jsx","pages/memory/MemoryActions.jsx","pages/Api.jsx","pages/memory/MemoryContentStructure.jsx","pages/memory/MemoryTitle.jsx","pages/memory/MemoryDate.jsx","pages/memory/MemoryStory.jsx","pages/memory/MemoryImages.jsx","pages/memory/MemoryContent.jsx","pages/memory/PreviewCardHeader.jsx","pages/memory/NavigationButton.jsx","pages/memory/FormStepperNavigation.jsx","pages/memory/BoxForm.jsx","pages/memory/TitleDateForm.jsx","pages/memory/ImageSelector.jsx","pages/memory/ThumbnailChooser.jsx","pages/memory/SelectedImage.jsx","pages/memory/ImagePreviewer.jsx","pages/memory/ErrorText.jsx","pages/memory/ImageForm.jsx","pages/memory/StoryEditor.jsx","pages/memory/StoryForm.jsx","pages/memory/CreateMemoryProgress.jsx","pages/memory/MemoryUtils.jsx","pages/memory/ModeContent.jsx","hooks/formStep.jsx","hooks/selectedImages.jsx","hooks/progressMessage.jsx","pages/memory/CreateMemoryForm.jsx","pages/memory/PreviewMemory.jsx","pages/memories/CreateMemoryItem.jsx","pages/memories/LoadMore.jsx","pages/memories/GridView.jsx","static/images/image-loading.gif","pages/memories/List.jsx","theme.jsx","static/data/loading_album.js","pages/memory/MemoryContentLoading.jsx","pages/memory/View.jsx","serviceWorkerRegistration.js","fonts/BadScript-Regular.ttf","index.jsx","pages/memory/Create.jsx"],"names":["LoginButton","authURL","useMediaQuery","theme","breakpoints","up","Button","type","variant","sx","position","top","right","borderRadius","backgroundColor","href","target","style","textDecoration","color","Typography","left","SignupButton","rel","_excluded","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogo","_ref","svgRef","title","titleId","props","xmlns","xmlnsXlink","viewBox","fill","id","x","y","width","height","ref","d","ForwardRef","BrandLogo","BrandText","fontSize","paddingX","display","Branding","Grid","item","Box","justifyContent","alignItems","MainBrand","bgcolor","mb","IsComingSoon","noWrap","textAlign","fontFamily","pb","defaultProps","Main","Stack","transform","border","direction","blur","App","urls","b1","b2","b3","b4","useState","image","setImage","setDisplay","useEffect","timer","setTimeout","index","clearTimeout","className","component","src","alt","onLoad","positon","bottom","objectFit","TopBarGridContainer","children","container","p","borderBottom","borderColor","flexShrink","sm","xs","TopBarButton","text","onClick","textVariant","down","CloseButton","IconButton","edge","TopBarDialog","open","onClose","wdth","Dialog","fullWidth","maxWidth","DialogTitle","DialogContent","dividers","parseCookie","str","fromEntries","split","map","cookie","getUserInfo","parsedCookies","document","JSON","parse","atob","userInfo","Authenticate","WrappedComponent","commonUtils","to","replace","aboutData","gogol","name","gogolPhoto","nabarun","sagnika","sagnikaPhoto","AboutCard","data","Card","minWidth","md","m","CardMedia","CardContent","py","part","About","align","ScrollToTop","pathname","useLocation","window","scroll","MutedText","YoutubeIcon","size","icon","faYoutube","FacebookIcon","faFacebook","TwitterIcon","faTwitter","InstagramIcon","faInstagramSquare","ReactIcon","faReact","HeartIcon","faHeart","HeartLink","SocialLink","ReactLink","YoutubeLink","FacebookLink","TwitterLink","InstagramLink","Link","underline","px","SocialLinks","boxSx","Contact","faEnvelope","ProfileAvatar","picture","email","initials","Array","from","toUpperCase","Avatar","referrerPolicy","ProfileIcon","handleClick","avatar","console","log","marginRight","Tooltip","ml","undefined","ProfileMenu","handleClose","anchorEl","Menu","PaperProps","elevation","filter","mt","mr","content","zIndex","transformOrigin","horizontal","vertical","anchorOrigin","MenuItem","ListItemText","Divider","ListItemIcon","Profile","React","setAnchorEl","Boolean","userAvatar","event","currentTarget","MiscLinks","ProfileButton","paddingTop","BurgerMenu","navigate","useNavigate","aboutOpen","setAboutOpen","contactOpen","setContactOpen","handleAboutClose","handleContactClose","BrandLink","branding","MyMemoriesButton","TopBar","belowmd","MadeWith","Copyright","Date","getFullYear","FooterGridContainer","justify","borderTop","overflow","padding","Footer","DefaultBackground","flex","MyMemoriesIconButton","ProfileBar","BasePage","belowsm","flexDirection","flexWrap","ToggleViewMode","mode","handleModeChange","modes","ToggleButtonGroup","exclusive","value","modeName","ToggleButton","useTitle","initialValue","setTitle","e","useDate","initialDate","date","setDate","newDate","formattedDate","toLocaleDateString","day","month","year","useStory","initialState","editorState","setEditorState","newEditorState","FormStepper","titles","activeStep","Stepper","alternativeLabel","label","Step","StepLabel","MemoryThumbnailCard","CardActionArea","lg","ThumbnailImage","imageSrc","imageSrcSet","handleImageLoad","srcSet","ThumbnailDetails","CardHeader","disableTypography","textOverflow","fontWeight","subheader","MemoryThumbnail","thumbnailImage","thumbnailImageSrcSet","imgSrcSet","AutoPlaySwipeableViews","autoPlay","SwipeableViews","MemoryImageSlide","images","handleNext","setActiveStep","imgElements","srcSetList","join","justifyContents","boxSizing","cursor","onChangeIndex","step","enableMouseEvents","animateTransitions","interval","springConfig","duration","easeFunction","delay","RemovePhotoIcon","alpha","NextPic","PreviousPic","MemoryCarousel","handleBack","fullScreen","UpdateMemoryIcon","DeleteMemoryIcon","SimpleSnackbar","snackBarOpen","message","setOpen","reason","action","Snackbar","autoHideDuration","Confirm","confirm","handleCallback","handleCloseCallback","spacing","MemoryActions","deleteItem","updateItem","snackBar","confirmMessage","handleDeleteObject","handleEditClick","setConfirm","MenuListProps","get","url","path","params","newUrl","options","method","credentials","headers","Headers","URLSearchParams","toString","fetch","then","response","json","getObjectUrl","bucket","Error","URL","error","details","a","urlParams","apiUrl","body","ok","status","upload","putURL","resp","memoryID","memory_id","stringify","validateDetails","uploadMultipleImages","paramList","incrementImageCount","Key","Body","getMemories","nextToken","next_token","viewMemory","memoryKey","getThumbnails","memories","finalizeMemory","deleteMemory","updateMemoryDetails","updateMemoryImage","memoryDeleteCallback","api","deleteResults","MemoryContentStructure","header","photoLayout","storyLayout","preview","snack","setSnack","snackMessage","setSnackMessage","useTheme","handleSnackMessage","msg","actions","boxShadow","my","overflowY","MemoryTitle","editable","handleTitleUpdate","handleTitleChange","edit","setEdit","startEdit","setStartEdit","TextField","onChange","defaultValue","MemoryDate","prevDate","handleDateUpdate","handleDateChange","LocalizationProvider","dateAdapter","AdapterDateFns","placeholder","inputFormat","maxDate","renderInput","readOnly","required","MemoryStory","prevEditorState","handleEditorStateUpdate","handleEditorStateChange","storyRef","useRef","convertToRaw","getCurrentContent","minHeight","current","focus","autoFocus","OptionsButton","updateOp","AddPhotos","handleChange","hidden","multiple","accept","MemoryPhotoAlbum","handlePhotoClick","renderPhoto","arrangement","setArrangement","twidth","theight","forEach","layout","photos","MemoryImages","handleThumbnailUpdate","deleteImage","addImage","setUpdateOp","thumbnail","setThumbnail","OptionsRow","updatePanel","layoutOptions","imageProps","restImageProps","deleted","find","handleImageDelete","FormControlLabel","control","Radio","checked","handleThumbnailChange","pr","borderLeft","MemoryContent","memTitle","memDate","memEditorState","memImages","activeIndex","setActiveIndex","setImages","maxSteps","UpdateDetails","UpdateThumbnail","handleImageAdd","files","file","Image","onload","naturalHeight","naturalWidth","resImages","resHeight","Math","ceil","imageDetails","photo","pics","concat","createObjectURL","revokeObjectURL","memoryTitle","memoryDate","updateDone","paddingRight","paddingY","margin","prevActiveStep","PreviewCardHeader","EditorState","createWithText","NavigationButton","disabled","FormStepperNavigation","handlePrevious","isLast","isFirst","pt","BoxForm","autoComplete","TitleDateForm","titleError","setTitleError","dateError","setDateError","titleTouched","setTitleTouched","dateTouched","setDateTouched","titleSchema","yup","dateSchema","nullable","isFieldValid","setFieldError","schema","hasError","validate","abortEarly","catch","testField","inner","isValid","titleValid","dateValid","submitForm","helperText","ImageSelector","ThumbnailChooser","SelectedImage","setDimensions","resizeHeights","heights","originalWidth","originalHeight","handleImageOnload","fit","auto","loading","ImagePreviewer","handleRemoveImage","ErrorText","ImageForm","handleSelectedImageChange","removeSelectedImage","imageError","setImageError","touched","setTouched","valid","StoryEditor","storyError","StoryForm","progressDialog","maxStoryLength","setStoryError","getPlainText","LinearProgressWithLabel","LinearProgress","round","MessageProgress","showStatus","done","CircularProgress","MemoryCreationStatus","progress","counter","mx","CreateMemoryProgress","messages","setCounter","timerId","mesg","UploadImages","imageFiles","imgFile","ContentType","uploadPromises","Promise","allSettled","ValidateDetails","memoryDetails","detailsJSON","validateResp","Valid","UploadDetails","memoryDetailsKey","uploadResp","InitializeMemory","handleProgress","updateMessageStatus","addMessage","initRes","HandleImages","imagesResults","CreateMemory","initMemResults","finalizeResults","parseInt","MemoryID","ModeContent","stepTitles","stepCount","useStep","setImageDetails","setImageFiles","arr","imageFile","slice","useSelectedImages","createEmpty","setProgress","setMessages","newMessage","useProgressMessage","uploadCount","setUploadCount","progressPercentage","cnt","detail","TitleDate","SelectImages","handleSubmit","getTime","now","lastModified","contentState","totalSize","reduce","partialSum","MemoryUtils","created","ProgressDialog","CreateModeContent","stepForms","CreateMemoryForm","PreviewModeContent","xl","imageNames","PreviewMemory","CreateMemoryItem","LoadMore","handleMoreClick","GridView","sortedMemories","sort","b","getThumbnailSrcSet","memory","memDetails","state","handleMemoryCallback","handleTokenCallback","handleThumbnailCallback","all","thumbnails","next_continuation_token","createTheme","palette","primary","main","inverse","cta","secondary","ternary","muted","button","faded","black","social","youtube","facebook","twitter","instagram","heart","react","memorycard","background","form","stepper","input","basepage","typography","badscript","fontDisplay","textTransform","responsiveFontSizes","imageLoading","MemoryContentLoading","Skeleton","loadingAlbum","getMemory","memoryId","memoryData","location","hostname","match","process","MemoriesRoute","setNextToken","memoryIDs","setMemoryIDs","setMemories","count","setCount","grid","setGrid","picLoaded","handleTokenChange","newToken","addMemories","addMemoryIDs","ids","CreateMemoryRoute","setMode","formRef","ViewMemoryRoute","useParams","setMemory","handleMemory","mem","setInterval","clearInterval","pictures","createWithContent","convertFromRaw","ReactDOM","render","StrictMode","ThemeProvider","PrelaunchTheme","basename","exact","element","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ffc337b7.chunk.js","sourcesContent":["import Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport PropTypes from 'prop-types';\nimport useMediaQuery from '@mui/material/useMediaQuery';\n\nexport default function LoginButton({ authURL }) {\n  const abovesm = useMediaQuery((theme) => theme.breakpoints.up('sm'));\n  return !abovesm ? (\n    <Button\n      type=\"submit\"\n      variant=\"contained\"\n      sx={{\n        position: 'fixed',\n        top: 'calc(100vh - 150px)',\n        left: 20,\n        borderRadius: '5px',\n        backgroundColor: 'white',\n        '&:hover': {\n          backgroundColor: 'form.input',\n        },\n      }}\n    >\n      <a\n        href={`https://${authURL}/oauth2/authorize`}\n        target=\"_self\"\n        style={{ textDecoration: 'none', color: 'white' }}\n      >\n        <Typography variant=\"h4\" color=\"primary\">Login</Typography>\n      </a>\n    </Button>\n  ) : (\n    <Button\n      type=\"submit\"\n      variant=\"contained\"\n      sx={{\n        position: 'fixed',\n        top: 20,\n        right: 170,\n        borderRadius: '25px',\n        backgroundColor: 'white',\n        '&:hover': {\n          backgroundColor: 'form.input',\n        },\n      }}\n    >\n      <a\n        href={`https://${authURL}/oauth2/authorize`}\n        target=\"_self\"\n        style={{ textDecoration: 'none', color: 'white' }}\n      >\n        <Typography variant=\"h6\" color=\"primary\">Login</Typography>\n      </a>\n    </Button>\n\n  );\n}\n\nLoginButton.propTypes = {\n  authURL: PropTypes.string.isRequired,\n};\n","import Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport PropTypes from 'prop-types';\nimport useMediaQuery from '@mui/material/useMediaQuery';\n\nexport default function SignupButton({ authURL }) {\n  const abovesm = useMediaQuery((theme) => theme.breakpoints.up('sm'));\n  return !abovesm ? (\n    <Button\n      type=\"submit\"\n      variant=\"contained\"\n      sx={{\n        position: 'fixed',\n        top: 'calc(100vh - 150px)',\n        right: 20,\n        borderRadius: '5px',\n      }}\n    >\n      <a\n        href={`https://${authURL}/oauth2/signup`}\n        target=\"_self\"\n        rel=\"noreferrer\"\n        style={{ textDecoration: 'none', color: 'white' }}\n      >\n        <Typography variant=\"h4\">SignUp</Typography>\n      </a>\n    </Button>\n  ) : (\n    <Button\n      type=\"submit\"\n      variant=\"contained\"\n      sx={{\n        position: 'fixed',\n        top: 20,\n        right: 30,\n        borderRadius: '25px',\n      }}\n    >\n      <a\n        href={`https://${authURL}/oauth2/signup`}\n        target=\"_self\"\n        rel=\"noreferrer\"\n        style={{ textDecoration: 'none', color: 'white' }}\n      >\n        <Typography variant=\"h6\">SignUp</Typography>\n      </a>\n    </Button>\n\n  );\n}\n\nSignupButton.propTypes = {\n  authURL: PropTypes.string.isRequired,\n};\n","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 80 80\",\n    fill: \"#ffc745\",\n    id: \"svg_icon.primary\",\n    x: 60,\n    y: 41,\n    width: 40,\n    height: 40,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"surface1\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    style: {},\n    d: \"M 12 11 C 11.640625 10.996094 11.304688 11.183594 11.121094 11.496094 C 10.941406 11.808594 10.941406 12.191406 11.121094 12.503906 C 11.304688 12.816406 11.640625 13.003906 12 13 L 12 15 L 10 15 C 7.25 15 5 17.25 5 20 L 5 62 C 5 64.75 7.25 67 10 67 L 70 67 C 72.75 67 75 64.75 75 62 L 75 20 C 75 17.25 72.75 15 70 15 L 35 15 L 35 13 C 35.359375 13.003906 35.695313 12.816406 35.878906 12.503906 C 36.058594 12.191406 36.058594 11.808594 35.878906 11.496094 C 35.695313 11.183594 35.359375 10.996094 35 11 L 24 11 C 23.640625 10.996094 23.304688 11.183594 23.121094 11.496094 C 22.941406 11.808594 22.941406 12.191406 23.121094 12.503906 C 23.304688 12.816406 23.640625 13.003906 24 13 L 24 15 L 19 15 L 19 13 C 19.359375 13.003906 19.695313 12.816406 19.878906 12.503906 C 20.058594 12.191406 20.058594 11.808594 19.878906 11.496094 C 19.695313 11.183594 19.359375 10.996094 19 11 Z M 14 13 L 17 13 L 17 15 L 14 15 Z M 26 13 L 33 13 L 33 15 L 26 15 Z M 10 17 L 70 17 C 71.667969 17 73 18.332031 73 20 L 73 62 C 73 63.667969 71.667969 65 70 65 L 10 65 C 8.332031 65 7 63.667969 7 62 L 7 20 C 7 18.332031 8.332031 17 10 17 Z M 61 21 L 61 24 L 70 24 L 70 21 Z M 46 23 C 36.621094 23 29 30.621094 29 40 C 29 49.378906 36.621094 57 46 57 C 55.378906 57 63 49.378906 63 40 C 63 30.621094 55.378906 23 46 23 Z M 46 25 C 54.296875 25 61 31.703125 61 40 C 61 48.296875 54.296875 55 46 55 C 37.703125 55 31 48.296875 31 40 C 31 31.703125 37.703125 25 46 25 Z M 10 28 C 9.449219 28 9 28.449219 9 29 C 9 29.550781 9.449219 30 10 30 C 10.550781 30 11 29.550781 11 29 C 11 28.449219 10.550781 28 10 28 Z M 14 28 C 13.449219 28 13 28.449219 13 29 C 13 29.550781 13.449219 30 14 30 C 14.550781 30 15 29.550781 15 29 C 15 28.449219 14.550781 28 14 28 Z M 18 28 C 17.449219 28 17 28.449219 17 29 C 17 29.550781 17.449219 30 18 30 C 18.550781 30 19 29.550781 19 29 C 19 28.449219 18.550781 28 18 28 Z M 22 28 C 21.449219 28 21 28.449219 21 29 C 21 29.550781 21.449219 30 22 30 C 22.550781 30 23 29.550781 23 29 C 23 28.449219 22.550781 28 22 28 Z M 26 28 C 25.449219 28 25 28.449219 25 29 C 25 29.550781 25.449219 30 26 30 C 26.550781 30 27 29.550781 27 29 C 27 28.449219 26.550781 28 26 28 Z M 30 28 C 29.449219 28 29 28.449219 29 29 C 29 29.550781 29.449219 30 30 30 C 30.550781 30 31 29.550781 31 29 C 31 28.449219 30.550781 28 30 28 Z M 46 28 C 39.382813 28 34 33.382813 34 40 C 34 46.617188 39.382813 52 46 52 C 52.617188 52 58 46.617188 58 40 C 58 33.382813 52.617188 28 46 28 Z M 62 28 C 61.449219 28 61 28.449219 61 29 C 61 29.550781 61.449219 30 62 30 C 62.550781 30 63 29.550781 63 29 C 63 28.449219 62.550781 28 62 28 Z M 66 28 C 65.449219 28 65 28.449219 65 29 C 65 29.550781 65.449219 30 66 30 C 66.550781 30 67 29.550781 67 29 C 67 28.449219 66.550781 28 66 28 Z M 70 28 C 69.449219 28 69 28.449219 69 29 C 69 29.550781 69.449219 30 70 30 C 70.550781 30 71 29.550781 71 29 C 71 28.449219 70.550781 28 70 28 Z M 46 30 C 51.535156 30 56 34.464844 56 40 C 56 45.535156 51.535156 50 46 50 C 40.464844 50 36 45.535156 36 40 C 36 34.464844 40.464844 30 46 30 Z M 25 38 C 23.894531 38 23 38.894531 23 40 C 23 41.105469 23.894531 42 25 42 C 26.105469 42 27 41.105469 27 40 C 27 38.894531 26.105469 38 25 38 Z M 10 60 C 9.449219 60 9 60.449219 9 61 C 9 61.550781 9.449219 62 10 62 C 10.550781 62 11 61.550781 11 61 C 11 60.449219 10.550781 60 10 60 Z M 14 60 C 13.449219 60 13 60.449219 13 61 C 13 61.550781 13.449219 62 14 62 C 14.550781 62 15 61.550781 15 61 C 15 60.449219 14.550781 60 14 60 Z M 18 60 C 17.449219 60 17 60.449219 17 61 C 17 61.550781 17.449219 62 18 62 C 18.550781 62 19 61.550781 19 61 C 19 60.449219 18.550781 60 18 60 Z M 22 60 C 21.449219 60 21 60.449219 21 61 C 21 61.550781 21.449219 62 22 62 C 22.550781 62 23 61.550781 23 61 C 23 60.449219 22.550781 60 22 60 Z M 26 60 C 25.449219 60 25 60.449219 25 61 C 25 61.550781 25.449219 62 26 62 C 26.550781 62 27 61.550781 27 61 C 27 60.449219 26.550781 60 26 60 Z M 30 60 C 29.449219 60 29 60.449219 29 61 C 29 61.550781 29.449219 62 30 62 C 30.550781 62 31 61.550781 31 61 C 31 60.449219 30.550781 60 30 60 Z M 34 60 C 33.449219 60 33 60.449219 33 61 C 33 61.550781 33.449219 62 34 62 C 34.550781 62 35 61.550781 35 61 C 35 60.449219 34.550781 60 34 60 Z M 38 60 C 37.449219 60 37 60.449219 37 61 C 37 61.550781 37.449219 62 38 62 C 38.550781 62 39 61.550781 39 61 C 39 60.449219 38.550781 60 38 60 Z M 42 60 C 41.449219 60 41 60.449219 41 61 C 41 61.550781 41.449219 62 42 62 C 42.550781 62 43 61.550781 43 61 C 43 60.449219 42.550781 60 42 60 Z M 46 60 C 45.449219 60 45 60.449219 45 61 C 45 61.550781 45.449219 62 46 62 C 46.550781 62 47 61.550781 47 61 C 47 60.449219 46.550781 60 46 60 Z M 50 60 C 49.449219 60 49 60.449219 49 61 C 49 61.550781 49.449219 62 50 62 C 50.550781 62 51 61.550781 51 61 C 51 60.449219 50.550781 60 50 60 Z M 54 60 C 53.449219 60 53 60.449219 53 61 C 53 61.550781 53.449219 62 54 62 C 54.550781 62 55 61.550781 55 61 C 55 60.449219 54.550781 60 54 60 Z M 58 60 C 57.449219 60 57 60.449219 57 61 C 57 61.550781 57.449219 62 58 62 C 58.550781 62 59 61.550781 59 61 C 59 60.449219 58.550781 60 58 60 Z M 62 60 C 61.449219 60 61 60.449219 61 61 C 61 61.550781 61.449219 62 62 62 C 62.550781 62 63 61.550781 63 61 C 63 60.449219 62.550781 60 62 60 Z M 66 60 C 65.449219 60 65 60.449219 65 61 C 65 61.550781 65.449219 62 66 62 C 66.550781 62 67 61.550781 67 61 C 67 60.449219 66.550781 60 66 60 Z M 70 60 C 69.449219 60 69 60.449219 69 61 C 69 61.550781 69.449219 62 70 62 C 70.550781 62 71 61.550781 71 61 C 71 60.449219 70.550781 60 70 60 Z \"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.d683ad42.svg\";\nexport { ForwardRef as ReactComponent };","import PropTypes from 'prop-types';\nimport Typography from '@mui/material/Typography';\nimport Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport { ReactComponent as Logo } from '../static/images/icons/logo.svg';\n\nexport function BrandLogo({ width, height }) {\n  return <Logo width={width} height={height} />;\n}\n\nexport function BrandText({ fontSize }) {\n  return (\n    <Typography\n      color=\"secondary\"\n      variant=\"badscript\"\n      sx={{ paddingX: 1, fontSize, display: 'inline' }}\n    >\n      myMemoryStore\n    </Typography>\n  );\n}\n\nexport function Branding({\n  fontSize, width, height,\n}) {\n  return (\n    <Grid item>\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n        }}\n      >\n        <BrandLogo width={width} height={height} />\n        <BrandText fontSize={fontSize} />\n      </Box>\n    </Grid>\n  );\n}\n\nBranding.defaultProps = {\n  width: '64px',\n  height: '64px',\n  fontSize: '2em',\n};\n\nBrandLogo.propTypes = {\n  width: PropTypes.string.isRequired,\n  height: PropTypes.string.isRequired,\n};\n\nBrandText.propTypes = {\n  fontSize: PropTypes.string.isRequired,\n};\n\nBranding.propTypes = {\n  width: PropTypes.string,\n  height: PropTypes.string,\n  fontSize: PropTypes.string,\n};\n","import Typography from '@mui/material/Typography';\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport PropTypes from 'prop-types';\nimport { Branding } from './brand';\n//  import LoginButton from './LoginButton';\n//  import SignupButton from './SignupButton';\n\nfunction MainBrand() {\n  return (\n    <Box\n      sx={{\n        bgcolor: 'primary.cta',\n        mb: 2,\n        width: 300,\n        justifyContent: 'center',\n        display: 'flex',\n        borderRadius: 'inherit',\n      }}\n    >\n      <Branding />\n    </Box>\n  );\n}\n\nfunction IsComingSoon() {\n  return (\n    <>\n      <Typography\n        variant=\"h4\"\n        noWrap\n        sx={{\n          color: 'button.main', textAlign: 'center', fontFamily: 'BadScript', pb: 2,\n        }}\n      >\n        Give Your\n      </Typography>\n      <Typography\n        variant=\"h4\"\n        noWrap\n        sx={{\n          color: 'secondary.main', textAlign: 'center', fontFamily: 'BadScript', pb: 2,\n        }}\n      >\n        Memories\n      </Typography>\n      <Typography\n        variant=\"h4\"\n        sx={{\n          display: 'inline',\n          color: 'form.stepper',\n          textAlign: 'center',\n          fontFamily: 'BadScript',\n        }}\n      >\n        The home\n      </Typography>\n      <Typography\n        variant=\"h4\"\n        sx={{\n          textAlign: 'center',\n          fontFamily: 'BadScript',\n          color: 'ternary.main',\n          pb: 2,\n        }}\n      >\n        they deserve\n      </Typography>\n    </>\n  );\n}\n\nfunction Main({ authURL }) {\n  return (\n    <Stack\n      id={authURL}\n      alignItems=\"center\"\n      sx={{\n        position: 'fixed',\n        top: 'calc(50vh)',\n        left: 'calc(50vw)',\n        transform: 'translate(-50%, -50%)',\n        bgcolor: 'transparent',\n        borderRadius: 2,\n        border: '5px solid white',\n      }}\n    >\n      <Stack\n        sx={{\n          bgcolor: 'transparent',\n          alignItems: 'center',\n          direction: 'column',\n          //  height: 300,\n          borderRadius: 5,\n        }}\n      >\n        <Stack\n          direction=\"column\"\n          sx={{\n            alignItems: 'space-between',\n            bgcolor: 'faded.black',\n            borderRadius: '2px 2px 0 0',\n            blur: '5px',\n            //  m: 1,\n            //  mb: 1,\n            //  pb: 2,\n          }}\n        >\n          <MainBrand />\n          <IsComingSoon />\n        </Stack>\n      </Stack>\n    </Stack>\n  );\n}\n\nMain.propTypes = {\n  authURL: PropTypes.string.isRequired,\n};\nexport default Main;\n","export default __webpack_public_path__ + \"static/media/b1.6d728861.webp\";","export default __webpack_public_path__ + \"static/media/b2.68e43eea.webp\";","export default __webpack_public_path__ + \"static/media/b3.fcc92fc0.webp\";","export default __webpack_public_path__ + \"static/media/b4.c8bcec18.webp\";","import './App.css';\n\nimport PropTypes from 'prop-types';\n//  import Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport { useState, useEffect } from 'react';\nimport LoginButton from './components/LoginButton';\nimport SignupButton from './components/SignupButton';\n//  import Background from './components/background';\nimport Main from './components/main';\nimport b1 from './static/images/b1.webp';\nimport b2 from './static/images/b2.webp';\nimport b3 from './static/images/b3.webp';\nimport b4 from './static/images/b4.webp';\n\nfunction App({ authURL }) {\n  const urls = [b1, b2, b3, b4];\n  const [image, setImage] = useState(0);\n  const [display, setDisplay] = useState('none');\n  useEffect(() => {\n    const timer = setTimeout(() => setImage((index) => (index + 1) % urls.length), 5000);\n    return () => clearTimeout(timer);\n  });\n  return (\n    <div className=\"App\" sx={{ display }}>\n      <Box\n        component=\"img\"\n        src={urls[image]}\n        alt=\"Background\"\n        width=\"100%\"\n        height=\"100vh\"\n        onLoad={() => setDisplay('block')}\n        sx={{\n          positon: 'absolute',\n          top: 0,\n          bottom: 0,\n          objectFit: 'cover',\n        }}\n      />\n      <LoginButton authURL={authURL} />\n      <SignupButton authURL={authURL} />\n      <Main authURL={authURL} />\n    </div>\n  );\n}\n\nApp.propTypes = {\n  authURL: PropTypes.string.isRequired,\n};\n\nexport default App;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\n\nexport function TopBarGridContainer({ children }) {\n  return (\n    <Grid\n      container\n      alignItems=\"center\"\n      sx={{\n        p: 0,\n        pb: 1,\n        borderBottom: 4,\n        borderColor: 'secondary.main',\n        flexShrink: 0,\n        justifyContent: {\n          sm: 'space-between',\n          xs: 'space-between',\n        },\n      }}\n    >\n      {children}\n    </Grid>\n  );\n}\n\nexport function TopBarButton({ text, onClick, borderColor }) {\n  const belowmd = useMediaQuery((theme) => theme.breakpoints.down('md'));\n  const textVariant = belowmd ? 'body1' : 'h6';\n  return (\n    <Button\n      sx={{\n        color: 'button.main',\n        border: 2,\n        borderColor,\n        borderRadius: 5,\n      }}\n      variant=\"outlined\"\n      onClick={onClick}\n    >\n      <Typography variant={textVariant}>{text}</Typography>\n    </Button>\n  );\n}\n\nfunction CloseButton({ onClick }) {\n  return (\n    <IconButton\n      edge=\"start\"\n      onClick={onClick}\n      aria-label=\"close\"\n      sx={{\n        fontSize: '3.5rem',\n        position: 'absolute',\n        top: 0,\n        right: 0,\n      }}\n    >\n      <CloseIcon sx={{ fontSize: '3rem', fill: 'muted.main' }} />\n    </IconButton>\n  );\n}\n\nexport function TopBarDialog({\n  text, open, onClose, onClick, children, wdth,\n}) {\n  return (\n    <Dialog open={open} onClose={onClose} fullWidth maxWidth={wdth}>\n      <DialogTitle>\n        {text}\n        <CloseButton onClick={onClick} />\n      </DialogTitle>\n      <DialogContent dividers>{children}</DialogContent>\n    </Dialog>\n  );\n}\n\nexport function TopBarLink({ text, children, wdth }) {\n  const [open, setOpen] = React.useState(false);\n  const handleClickOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  return (\n    <span>\n      <TopBarButton text={text} onClick={handleClickOpen} />\n      <TopBarDialog\n        text={text}\n        open={open}\n        wdth={wdth}\n        onClose={handleClose}\n        onClick={handleClose}\n      >\n        {children}\n      </TopBarDialog>\n    </span>\n  );\n}\n\nTopBarLink.propTypes = {\n  text: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  wdth: PropTypes.string.isRequired,\n};\n\nTopBarDialog.propTypes = {\n  text: PropTypes.string.isRequired,\n  open: PropTypes.bool.isRequired,\n  children: PropTypes.node.isRequired,\n  wdth: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nTopBarButton.defaultProps = {\n  borderColor: 'transparent',\n};\n\nTopBarButton.propTypes = {\n  text: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  borderColor: PropTypes.string,\n};\n\nTopBarGridContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nCloseButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","const parseCookie = (str) => Object.fromEntries(str.split(';').map((cookie) => cookie.split('=', 2)));\n\nfunction getUserInfo() {\n  const parsedCookies = parseCookie(document.cookie);\n  if ('userInfo' in parsedCookies) {\n    return JSON.parse(atob(parsedCookies.userInfo));\n  }\n  return '';\n}\n\nexport default {\n  parseCookie,\n  getUserInfo,\n};\n","import { Navigate } from 'react-router-dom';\nimport commonUtils from '../utils';\n\nfunction Authenticate(WrappedComponent) {\n  // eslint-disable-next-line\n  return function (props) {\n    const cookieValue = commonUtils.getUserInfo();\n    const isLoggedIn = cookieValue !== '';\n\n    if (isLoggedIn === true) {\n      // eslint-disable-next-line\n      return <WrappedComponent {...props} />;\n    }\n\n    return <Navigate to=\"/login\" replace />;\n  };\n}\n\nexport default Authenticate;\n","export default __webpack_public_path__ + \"static/media/gogol.56b2d6a2.jpg\";","export default __webpack_public_path__ + \"static/media/sagnika.5dbc30e1.jpg\";","import PropTypes from 'prop-types';\nimport Typography from '@mui/material/Typography';\nimport Grid from '@mui/material/Grid';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport CardMedia from '@mui/material/CardMedia';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport gogolPhoto from '../static/images/gogol.jpg';\nimport sagnikaPhoto from '../static/images/sagnika.jpg';\nimport nabarunPhoto from '../static/images/blog_pic.jpg';\n\nconst aboutData = {\n  gogol: {\n    name: 'Shlok Chatterjee (Gogol)',\n    image: gogolPhoto,\n    text: ['CMO (Chief Motivation Officer)', 'CCC (Chief Chaos Creator)'],\n  },\n  nabarun: {\n    name: 'Nabarun Chatterjee',\n    image: nabarunPhoto,\n    text: [\n      'Full time father to my 1 year old son and husband to my loving wife . Site Reliability Engineer by profession. Memory making travel and finger licking food are what I live for.',\n    ],\n  },\n  sagnika: {\n    name: 'Sagnika Dasgupta',\n    image: sagnikaPhoto,\n    text: [\n      \"I don't remember my life from 1 year back. Now it is mostly Gogol and a little bit of food, travel, painting, writing and other things.\",\n    ],\n  },\n};\n\nfunction AboutCard({ data }) {\n  return (\n    <Card sx={{\n      minWidth: 250, maxWidth: 350, p: { md: 1, xs: 0 }, m: { md: 1, xs: 0 },\n    }}\n    >\n      <CardMedia\n        component=\"img\"\n        height=\"350\"\n        image={data.image}\n        alt={data.name}\n        sx={{\n          border: { md: 5, xs: 0 },\n          borderColor: 'primary.main',\n        }}\n      />\n      <CardContent>\n        <Typography variant=\"h6\" sx={{ py: 1 }}>\n          {data.name}\n        </Typography>\n        {data.text.map((part) => (\n          <Typography key={part} variant=\"body2\" color=\"text.secondary\">\n            {part}\n          </Typography>\n        ))}\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction About() {\n  const reorient = useMediaQuery((theme) => theme.breakpoints.down('lg'));\n  return reorient\n    ? (\n      <Grid container justifyContent=\"center\" alignItems=\"center\">\n        <Grid item align=\"center\">\n          <AboutCard key=\"gogol\" data={aboutData.gogol} />\n        </Grid>\n        <Grid item align=\"center\">\n          <AboutCard key=\"nabarun\" data={aboutData.nabarun} />\n        </Grid>\n        <Grid item align=\"center\">\n          <AboutCard key=\"sagnika\" data={aboutData.sagnika} />\n        </Grid>\n      </Grid>\n    )\n    : (\n      <Grid container justifyContent=\"space-between\">\n        <Grid item align=\"center\">\n          <AboutCard key=\"nabarun\" data={aboutData.nabarun} />\n        </Grid>\n        <Grid item align=\"center\">\n          <AboutCard key=\"gogol\" data={aboutData.gogol} />\n        </Grid>\n        <Grid item align=\"center\">\n          <AboutCard key=\"sagnika\" data={aboutData.sagnika} />\n        </Grid>\n      </Grid>\n    );\n}\n\nAboutCard.propTypes = {\n  data: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired,\n    text: PropTypes.arrayOf(PropTypes.string).isRequired,\n  }).isRequired,\n};\n\nexport default About;\n","export default __webpack_public_path__ + \"static/media/blog_pic.0071f886.jpg\";","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport ToggleButton from '@mui/material/ToggleButton';\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\nimport { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nexport function ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scroll(0, 0);\n  }, [pathname]);\n\n  return null;\n}\n\nexport function MutedText({ children }) {\n  return (\n    <Typography sx={{ paddingX: 2, color: 'muted.main', display: 'inline' }}>\n      {children}\n    </Typography>\n  );\n}\n\nexport function LanguageChanger({ language, setEnglish, setBengali }) {\n  return (\n    <Box sx={{ display: 'flex', justifyContent: 'center', p: 2 }}>\n      <ToggleButtonGroup\n        exclusive\n        value={language}\n        aria-label=\"language change\"\n        align=\"center\"\n        color=\"primary\"\n      >\n        <ToggleButton\n          value=\"english\"\n          onClick={setEnglish}\n          sx={{ border: 2, borderColor: 'primary.main' }}\n        >\n          <Typography variant=\"h6\">English</Typography>\n        </ToggleButton>\n        <ToggleButton\n          value=\"bengali\"\n          onClick={setBengali}\n          sx={{ border: 2, borderColor: 'primary.main' }}\n        >\n          <Typography variant=\"h6\"></Typography>\n        </ToggleButton>\n      </ToggleButtonGroup>\n    </Box>\n  );\n}\n\nMutedText.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nLanguageChanger.propTypes = {\n  language: PropTypes.string.isRequired,\n  setEnglish: PropTypes.func.isRequired,\n  setBengali: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Grid from '@mui/material/Grid';\nimport Link from '@mui/material/Link';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faYoutube,\n  faFacebook,\n  faTwitter,\n  faInstagramSquare,\n  faReact,\n} from '@fortawesome/free-brands-svg-icons';\n\nimport { faHeart } from '@fortawesome/free-solid-svg-icons';\n\nimport { MutedText } from './common';\n\nfunction YoutubeIcon({ size }) {\n  return <FontAwesomeIcon icon={faYoutube} size={size} />;\n}\n\nfunction FacebookIcon({ size }) {\n  return <FontAwesomeIcon icon={faFacebook} size={size} />;\n}\n\nfunction TwitterIcon({ size }) {\n  return <FontAwesomeIcon icon={faTwitter} size={size} />;\n}\n\nfunction InstagramIcon({ size }) {\n  return <FontAwesomeIcon icon={faInstagramSquare} size={size} />;\n}\n\nfunction ReactIcon() {\n  return <FontAwesomeIcon icon={faReact} />;\n}\nfunction HeartIcon() {\n  return <FontAwesomeIcon icon={faHeart} />;\n}\n\nexport function HeartLink({ size, color }) {\n  return (\n    <SocialLink to=\"https://en.wikipedia.org/wiki/Love\" color={color}>\n      <HeartIcon size={size} />\n    </SocialLink>\n  );\n}\n\nexport function ReactLink({ size, color }) {\n  return (\n    <SocialLink to=\"https://reactjs.org/\" color={color}>\n      <ReactIcon size={size} />\n    </SocialLink>\n  );\n}\n\nexport function YoutubeLink({ size, color }) {\n  return (\n    <SocialLink\n      to=\"https://www.youtube.com/channel/UCabGr_w5PLFIg1rcmKPbeVg\"\n      color={color}\n    >\n      <YoutubeIcon size={size} />\n    </SocialLink>\n  );\n}\n\nexport function FacebookLink({ size, color }) {\n  return (\n    <SocialLink to=\"https://www.facebook.com/mymemorystore.in\" color={color}>\n      <FacebookIcon size={size} />\n    </SocialLink>\n  );\n}\n\nexport function TwitterLink({ size, color }) {\n  return (\n    <SocialLink to=\"https://twitter.com/mymymemorystore/\" color={color}>\n      <TwitterIcon size={size} />\n    </SocialLink>\n  );\n}\n\nexport function InstagramLink({ size, color }) {\n  return (\n    <SocialLink to=\"https://www.instagram.com/mymemorystore.in/\" color={color}>\n      <InstagramIcon size={size} />\n    </SocialLink>\n  );\n}\n\nexport function SocialLink({ to, color, children }) {\n  return (\n    <Link\n      underline=\"none\"\n      href={to}\n      rel=\"noreferrer noopener\"\n      target=\"_blank\"\n      sx={{ px: 1, color: `${color}` }}\n    >\n      {children}\n    </Link>\n  );\n}\n\nexport function SocialLinks({ size }) {\n  return (\n    <Grid item>\n      <MutedText>Follow Us</MutedText>\n      <YoutubeLink color=\"social.youtube\" size={size} />\n      <FacebookLink color=\"social.facebook\" size={size} />\n      <TwitterLink color=\"social.twitter\" size={size} />\n      <InstagramLink color=\"social.instagram\" size={size} />\n    </Grid>\n  );\n}\n\nFacebookIcon.propTypes = {\n  size: PropTypes.string.isRequired,\n};\n\nInstagramIcon.propTypes = {\n  size: PropTypes.string.isRequired,\n};\n\nYoutubeIcon.propTypes = {\n  size: PropTypes.string.isRequired,\n};\n\nTwitterIcon.propTypes = {\n  size: PropTypes.string.isRequired,\n};\n\nHeartLink.propTypes = {\n  size: PropTypes.string,\n  color: PropTypes.string.isRequired,\n};\n\nReactLink.propTypes = {\n  size: PropTypes.string,\n  color: PropTypes.string.isRequired,\n};\n\nFacebookLink.propTypes = {\n  size: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n};\n\nYoutubeLink.propTypes = {\n  size: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n};\n\nTwitterLink.propTypes = {\n  size: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n};\n\nInstagramLink.propTypes = {\n  size: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n};\n\nSocialLink.propTypes = {\n  to: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nHeartLink.defaultProps = {\n  size: '1x',\n};\n\nReactLink.defaultProps = {\n  size: '1x',\n};\n\nSocialLinks.defaultProps = {\n  size: '1x',\n};\n\nSocialLinks.propTypes = {\n  size: PropTypes.string,\n};\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEnvelope } from '@fortawesome/free-solid-svg-icons';\nimport Typography from '@mui/material/Typography';\nimport Link from '@mui/material/Link';\nimport Box from '@mui/material/Box';\nimport {\n  FacebookLink, TwitterLink, YoutubeLink, InstagramLink,\n} from './social';\n\nconst boxSx = {\n  display: 'flex',\n  justifyContent: 'center',\n  m: 1,\n  borderRadius: 1,\n};\n\nfunction Contact() {\n  return (\n    <>\n      <Typography variant=\"h6\" align=\"center\" className=\"text-muted\">\n        To share your queries or feedback\n      </Typography>\n\n      <Link underline=\"none\" href=\"mailto:support@mymemorystore.in\">\n        <Box sx={{ ...boxSx }}>\n          <FontAwesomeIcon icon={faEnvelope} className=\"black-icon\" size=\"2x\" />\n          <Typography variant=\"h6\" className=\"px-1\" sx={{ fontSize: '1.5rem' }}>\n            Email Us\n          </Typography>\n        </Box>\n      </Link>\n\n      <hr />\n      <Box\n        sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}\n      >\n        <Typography variant=\"h6\" className=\"text-muted\" sx={{ p: 1 }}>\n          Follow Us\n        </Typography>\n      </Box>\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          m: 1,\n          borderRadius: 1,\n        }}\n      >\n        <YoutubeLink color=\"social.youtube\" size=\"2x\" />\n        <FacebookLink color=\"social.facebook\" size=\"2x\" />\n        <TwitterLink color=\"social.twitter\" size=\"2x\" />\n        <InstagramLink color=\"social.instagram\" size=\"2x\" />\n      </Box>\n      <hr />\n    </>\n  );\n}\n\nexport default Contact;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport Avatar from '@mui/material/Avatar';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport Divider from '@mui/material/Divider';\nimport IconButton from '@mui/material/IconButton';\nimport Tooltip from '@mui/material/Tooltip';\nimport Logout from '@mui/icons-material/Logout';\nimport Typography from '@mui/material/Typography';\nimport ListItemText from '@mui/material/ListItemText';\nimport Link from '@mui/material/Link';\nimport commonUtils from '../utils';\n\nfunction ProfileAvatar({ name, picture, email }) {\n  const initials = Array.from(email)[0].toUpperCase();\n  return (\n    <Avatar alt={name} src={picture} sx={{ referrerPolicy: 'no-referrer' }}>{initials}</Avatar>\n  );\n}\n\nfunction ProfileIcon({\n  name, email, open, handleClick, avatar,\n}) {\n  console.log(name, email, open, avatar);\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        alignItems: 'center',\n        textAlign: 'center',\n        marginRight: '10px',\n      }}\n    >\n      <Tooltip\n        title={(\n          <>\n            <Typography>{name}</Typography>\n            <Typography>{email}</Typography>\n          </>\n        )}\n      >\n        <IconButton\n          onClick={handleClick}\n          size=\"small\"\n          sx={{ ml: 2 }}\n          aria-controls={open ? 'account-menu' : undefined}\n          aria-haspopup=\"true\"\n          aria-expanded={open ? 'true' : undefined}\n        >\n          {avatar}\n        </IconButton>\n      </Tooltip>\n    </Box>\n  );\n}\n\nfunction ProfileMenu({\n  name, open, handleClose, anchorEl, avatar, email,\n}) {\n  return (\n    <Menu\n      anchorEl={anchorEl}\n      id=\"account-menu\"\n      open={open}\n      onClose={handleClose}\n      onClick={handleClose}\n      PaperProps={{\n        elevation: 0,\n        sx: {\n          filter: 'drop-shadow(0px 2px 8px rgba(0,0,0,0.32))',\n          mt: 1.5,\n          '& .MuiAvatar-root': {\n            width: 32,\n            height: 32,\n            ml: -0.5,\n            mr: 1,\n          },\n          '&:before': {\n            content: '\"\"',\n            display: 'block',\n            position: 'absolute',\n            top: 0,\n            right: 14,\n            width: 10,\n            height: 10,\n            bgcolor: 'background.paper',\n            transform: 'translateY(-50%) rotate(45deg)',\n            zIndex: 0,\n          },\n        },\n      }}\n      transformOrigin={{ horizontal: 'right', vertical: 'top' }}\n      anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}\n    >\n      <MenuItem>\n        {avatar}\n        <ListItemText>{name || email}</ListItemText>\n      </MenuItem>\n      <Divider />\n      <MenuItem>\n        <Link\n          href=\"https://auth-stage.mymemorystore.in/oauth2/logout\"\n          underline=\"none\"\n          sx={{ alignItems: 'center', display: 'flex' }}\n        >\n          <ListItemIcon>\n            <Logout fontSize=\"small\" />\n          </ListItemIcon>\n          <Typography sx={{ color: 'muted.main' }}>Logout</Typography>\n        </Link>\n      </MenuItem>\n    </Menu>\n  );\n}\n\nexport default function Profile() {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const userInfo = commonUtils.getUserInfo();\n  const handleClose = () => setAnchorEl(null);\n  const handleClick = (event) => setAnchorEl(event.currentTarget);\n  const userAvatar = (\n    <ProfileAvatar name={userInfo.name} picture={userInfo.picture} email={userInfo.email} />\n  );\n\n  return (\n    <>\n      <ProfileIcon\n        avatar={userAvatar}\n        open={open}\n        email={userInfo.email}\n        handleClick={handleClick}\n        name={userInfo.name}\n      />\n      <ProfileMenu\n        anchorEl={anchorEl}\n        avatar={userAvatar}\n        handleClose={handleClose}\n        name={userInfo.name}\n        open={open}\n      />\n    </>\n  );\n}\n\nProfileIcon.propTypes = {\n  name: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  handleClick: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  avatar: PropTypes.node.isRequired,\n};\n\nProfileMenu.propTypes = {\n  name: PropTypes.string.isRequired,\n  anchorEl: PropTypes.node.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  avatar: PropTypes.node.isRequired,\n  email: PropTypes.string.isRequired,\n};\n\nProfileAvatar.propTypes = {\n  name: PropTypes.string.isRequired,\n  picture: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Grid from '@mui/material/Grid';\nimport Authenticate from '../../hocs/require-authentication';\nimport { TopBarLink } from './utils';\nimport About from '../about';\nimport Contact from '../contact';\nimport Profile from '../profile';\n\nexport function AboutLink({ wdth, cb }) {\n  return (\n    <TopBarLink text=\"About\" wdth={wdth} cb={cb}>\n      <About />\n    </TopBarLink>\n  );\n}\n\nexport function ContactUsLink({ wdth }) {\n  return (\n    <TopBarLink text=\"Contact Us\" wdth={wdth}>\n      <Contact />\n    </TopBarLink>\n  );\n}\n\nexport function MiscLinks() {\n  const ProfileButton = Authenticate(Profile);\n  return (\n    <Grid item sx={{ paddingTop: '0.3rem' }}>\n      <ProfileButton />\n    </Grid>\n  );\n}\n\nContactUsLink.propTypes = {\n  wdth: PropTypes.string.isRequired,\n};\n\nAboutLink.defaultProps = {\n  cb: () => {},\n};\n\nAboutLink.propTypes = {\n  wdth: PropTypes.string.isRequired,\n  cb: PropTypes.func,\n};\n","import * as React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Box from '@mui/material/Box';\nimport Menu from '@mui/material/Menu';\nimport IconButton from '@mui/material/IconButton';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\n\nimport { TopBarDialog } from './utils';\nimport About from '../about';\nimport Contact from '../contact';\n\nexport default function BurgerMenu() {\n  const navigate = useNavigate();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const [aboutOpen, setAboutOpen] = React.useState(false);\n  const [contactOpen, setContactOpen] = React.useState(false);\n\n  const handleAboutOpen = () => setAboutOpen(true);\n  const handleAboutClose = () => setAboutOpen(false);\n\n  const handleContactOpen = () => setContactOpen(true);\n  const handleContactClose = () => setContactOpen(false);\n\n  const handleClick = (event) => setAnchorEl(event.currentTarget);\n  const handleClose = () => setAnchorEl(null);\n\n  return (\n    <>\n      <Box sx={{ display: 'flex', alignItems: 'center', textAlign: 'center' }}>\n        <IconButton\n          onClick={handleClick}\n          size=\"small\"\n          sx={{ ml: 2 }}\n          aria-controls={open ? 'burger-menu' : undefined}\n          aria-haspopup=\"true\"\n          aria-expanded={open ? 'true' : undefined}\n        >\n          <MenuIcon sx={{ width: 45, height: 45, color: 'button.main' }} />\n        </IconButton>\n      </Box>\n      <Menu\n        anchorEl={anchorEl}\n        id=\"burger-menu\"\n        open={open}\n        onClose={handleClose}\n        onClick={handleClose}\n        PaperProps={{\n          backgroundColor: 'form.input',\n          elevation: 0,\n          sx: {\n            filter: 'drop-shadow(0px 2px 8px rgba(0,0,0,0.32))',\n            mt: 1.5,\n            '& .MuiAvatar-root': {\n              width: 32,\n              height: 32,\n              ml: -0.5,\n              mr: 1,\n            },\n            '&:before': {\n              content: '\"\"',\n              display: 'block',\n              position: 'absolute',\n              top: 0,\n              right: 14,\n              width: 10,\n              height: 10,\n              bgcolor: 'background.paper',\n              transform: 'translateY(-50%) rotate(45deg)',\n              zIndex: 0,\n            },\n          },\n        }}\n        transformOrigin={{ horizontal: 'right', vertical: 'top' }}\n        anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}\n      >\n        <MenuItem onClick={() => navigate('/memories')}>My Memories</MenuItem>\n        <MenuItem onClick={handleAboutOpen}>About</MenuItem>\n        <MenuItem onClick={handleContactOpen}>Contact Us</MenuItem>\n      </Menu>\n      <TopBarDialog\n        text=\"About\"\n        wdth=\"lg\"\n        open={aboutOpen}\n        onClose={handleAboutClose}\n        onClick={handleAboutClose}\n      >\n        <About />\n      </TopBarDialog>\n      <TopBarDialog\n        text=\"Contact\"\n        wdth=\"sm\"\n        open={contactOpen}\n        onClose={handleContactClose}\n        onClick={handleContactClose}\n      >\n        <Contact />\n      </TopBarDialog>\n    </>\n  );\n}\n","import useMediaQuery from '@mui/material/useMediaQuery';\nimport { Link } from 'react-router-dom';\nimport Button from '@mui/material/Button';\nimport Grid from '@mui/material/Grid';\nimport { Branding } from '../brand';\nimport { TopBarGridContainer, TopBarButton } from './utils';\nimport { MiscLinks } from './misclinks';\nimport BurgerMenu from './BurgerMenu';\n\nfunction BrandLink() {\n  const belowsm = useMediaQuery((theme) => theme.breakpoints.down('sm'));\n  const branding = belowsm ? <Branding width=\"55px\" height=\"55px\" fontSize=\"1.55rem\" /> : <Branding />;\n  return (\n    <Link style={{ textDecoration: 'none' }} to=\"/memories\">\n      <Button>\n        {branding}\n      </Button>\n    </Link>\n  );\n}\n\nfunction MyMemoriesButton() {\n  return (\n    <Grid\n      item\n      sx={{\n        paddingTop: '0.55rem',\n        position: 'fixed',\n        left: '50vw',\n        transform: 'translate(-50%)',\n      }}\n    >\n      <Link style={{ textDecoration: 'none' }} to=\"/memories\">\n        <TopBarButton text=\"My Memories\" borderColor=\"secondary.main\" onClick={() => {}} />\n      </Link>\n    </Grid>\n  );\n}\n\nexport default function TopBar() {\n  const belowmd = useMediaQuery((theme) => theme.breakpoints.down('md'));\n  const belowsm = useMediaQuery((theme) => theme.breakpoints.down('sm'));\n\n  if (belowsm) {\n    return (\n      <TopBarGridContainer>\n        <BrandLink />\n      </TopBarGridContainer>\n    );\n  }\n\n  if (belowmd) {\n    return (\n      <TopBarGridContainer>\n        <BurgerMenu />\n        <BrandLink />\n        <MiscLinks />\n      </TopBarGridContainer>\n    );\n  }\n\n  return (\n    <TopBarGridContainer>\n      <BrandLink />\n      <MyMemoriesButton />\n      <MiscLinks />\n    </TopBarGridContainer>\n  );\n}\n","import PropTypes from 'prop-types';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport Grid from '@mui/material/Grid';\n\nimport { SocialLinks, HeartLink, ReactLink } from './social';\nimport { MutedText } from './common';\n\nfunction MadeWith() {\n  return (\n    <Grid item>\n      <MutedText>Made with</MutedText>\n      <HeartLink color=\"social.heart\" />\n      <MutedText>&</MutedText>\n      <ReactLink color=\"social.react\" />\n    </Grid>\n  );\n}\n\nfunction Copyright() {\n  return (\n    <Grid item>\n      <MutedText>\n         myMemoryStore\n        {new Date().getFullYear()}\n      </MutedText>\n    </Grid>\n  );\n}\n\nfunction FooterGridContainer({ justify, children }) {\n  return (\n    <Grid\n      container\n      alignItems=\"center\"\n      justifyContent={justify}\n      sx={{\n        borderTop: 4,\n        borderColor: 'secondary.main',\n        bgcolor: 'primary.main',\n        bottom: 0,\n        overflow: 'hidden',\n        flexShrink: 0,\n        padding: 1,\n      }}\n    >\n      {children}\n    </Grid>\n  );\n}\n\nexport default function Footer() {\n  const hidden = useMediaQuery((theme) => theme.breakpoints.down('md'));\n  return hidden\n    ? (\n      <FooterGridContainer justify=\"center\">\n        <Copyright />\n        <SocialLinks />\n      </FooterGridContainer>\n    )\n    : (\n      <FooterGridContainer justify=\"space-between\">\n        <Copyright />\n        <MadeWith />\n        <SocialLinks />\n      </FooterGridContainer>\n    );\n}\n\nFooterGridContainer.propTypes = {\n  justify: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport Box from '@mui/material/Box';\nimport Stack from '@mui/material/Stack';\nimport Button from '@mui/material/Button';\nimport useMediaQuery from '@mui/material/useMediaQuery';\n\nimport TopBar from '../components/topbar';\nimport Footer from '../components/footer';\nimport { BrandLogo } from '../components/brand';\nimport BurgerMenu from '../components/topbar/BurgerMenu';\nimport { MiscLinks } from '../components/topbar/misclinks';\n\nfunction DefaultBackground({ children }) {\n  return (\n    <Box\n      sx={{\n        backgroundColor: 'basepage.background',\n        overflow: 'auto',\n        flex: 1,\n        width: 1,\n      }}\n    >\n      {children}\n    </Box>\n  );\n}\n\nfunction MyMemoriesIconButton() {\n  return (\n    <Link style={{ textDecoration: 'none' }} to=\"/memories\">\n      <Button>\n        <BrandLogo width=\"45px\" height=\"45px\" />\n      </Button>\n    </Link>\n  );\n}\n\nfunction ProfileBar() {\n  return (\n    <Stack\n      direction=\"row\"\n      justifyContent=\"space-between\"\n      sx={{\n        borderTop: 4,\n        borderColor: 'secondary.main',\n      }}\n    >\n      <BurgerMenu />\n      <MyMemoriesIconButton />\n      <MiscLinks />\n    </Stack>\n  );\n}\n\nexport default function BasePage({ children }) {\n  const belowsm = useMediaQuery((theme) => theme.breakpoints.down('sm'));\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        flexWrap: 'no-wrap',\n        height: '100vh',\n        width: '100vw',\n      }}\n    >\n      <TopBar />\n      <DefaultBackground>{children}</DefaultBackground>\n      {belowsm ? <ProfileBar /> : null}\n      <Footer />\n    </Box>\n  );\n}\n\nDefaultBackground.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nBasePage.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport Divider from '@mui/material/Divider';\nimport ToggleButton from '@mui/material/ToggleButton';\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\nimport Typography from '@mui/material/Typography';\n\nexport default function ToggleViewMode({ mode, handleModeChange, modes }) {\n  return (\n    <Divider>\n      <Box sx={{ display: 'flex', justifyContent: 'center', p: 2 }}>\n        <ToggleButtonGroup\n          exclusive\n          value={mode}\n          aria-label=\"view-change\"\n          color=\"primary\"\n          sx={{ bgcolor: 'button.main' }}\n\n        >\n          {modes.map((modeName) => (\n            <ToggleButton\n              key={modeName}\n              value={modeName}\n              onClick={() => handleModeChange(`${modeName}`)}\n              sx={{ border: 2, borderColor: 'primary.main' }}\n            >\n              <Typography variant=\"h6\">{modeName}</Typography>\n            </ToggleButton>\n          ))}\n        </ToggleButtonGroup>\n      </Box>\n    </Divider>\n  );\n}\n\nToggleViewMode.propTypes = {\n  mode: PropTypes.string.isRequired,\n  handleModeChange: PropTypes.func.isRequired,\n  modes: PropTypes.PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n","import { useState, useEffect } from 'react';\n\nexport default function useTitle(initialValue) {\n  const [title, setTitle] = useState(initialValue);\n  useEffect(() => setTitle(initialValue), [initialValue]);\n  const handleTitleChange = (e) => {\n    setTitle(e.target.value);\n  };\n  return [title, setTitle, handleTitleChange];\n}\n","import { useState } from 'react';\n\nexport default function useDate(initialDate) {\n  const [date, setDate] = useState(initialDate);\n  const handleDateChange = (e) => {\n    const newDate = new Date(e);\n    if (e) {\n      const formattedDate = newDate.toLocaleDateString('en-in', {\n        day: 'numeric',\n        month: 'long',\n        year: 'numeric',\n      });\n      setDate(formattedDate);\n    } else {\n      setDate(null);\n    }\n  };\n  return [date, setDate, handleDateChange];\n}\n","import { useState } from 'react';\n\nexport default function useStory(initialState) {\n  const [editorState, setEditorState] = useState(initialState);\n  const handleEditorStateChange = (newEditorState) => setEditorState(newEditorState);\n  return [editorState, setEditorState, handleEditorStateChange];\n}\n","import PropTypes from 'prop-types';\nimport Stepper from '@mui/material/Stepper';\nimport Step from '@mui/material/Step';\nimport StepLabel from '@mui/material/StepLabel';\n\nexport default function FormStepper({ titles, activeStep, handleClick }) {\n  return (\n    <Stepper\n      activeStep={activeStep}\n      alternativeLabel\n      sx={{ py: 4 }}\n    >\n      {titles.map((label, index) => (\n        <Step key={label} onClick={handleClick(index)}>\n          <StepLabel>{label}</StepLabel>\n        </Step>\n      ))}\n    </Stepper>\n  );\n}\n\nFormStepper.propTypes = {\n  titles: PropTypes.arrayOf(PropTypes.string).isRequired,\n  activeStep: PropTypes.number.isRequired,\n  handleClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Card from '@mui/material/Card';\nimport CardActionArea from '@mui/material/CardActionArea';\n//  import { useTheme, alpha } from '@mui/material/styles';\n\nexport default function MemoryThumbnailCard({ handleClick, children }) {\n  //  const theme = useTheme();\n\n  return (\n    <CardActionArea onClick={handleClick}>\n      <Card\n        elevation={0}\n        sx={{\n          bgcolor: '#fff',\n          borderRadius: 5,\n          border: '2px solid gray',\n          color: 'black',\n          position: 'relative',\n          height: {\n            lg: 350,\n            sm: 300,\n            xs: 250,\n          },\n          '&:hover': {\n            border: 3,\n            borderColor: 'secondary.main',\n            elevation: 0,\n          },\n        }}\n      >\n        {children}\n      </Card>\n    </CardActionArea>\n  );\n}\n\nMemoryThumbnailCard.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport CardMedia from '@mui/material/CardMedia';\nimport CardContent from '@mui/material/CardContent';\nimport CardHeader from '@mui/material/CardHeader';\nimport Typography from '@mui/material/Typography';\nimport MemoryThumbnailCard from './MemoryThumbnailCard';\n\nfunction ThumbnailImage({\n  imageSrc, imageSrcSet, title, handleImageLoad,\n}) {\n  return (\n    <CardMedia\n      component=\"img\"\n      src={imageSrc}\n      srcSet={imageSrcSet}\n      alt={title}\n      sx={{\n        borderColor: 'muted.main',\n        borderRadius: 4,\n        textAlign: 'center',\n        objectFit: 'cover',\n        height: {\n          lg: 270,\n          sm: 220,\n          xs: 170,\n        },\n      }}\n      onLoad={handleImageLoad}\n    />\n  );\n}\n\nfunction ThumbnailDetails({ title, date }) {\n  return (\n    <CardContent>\n      <CardHeader\n        disableTypography\n        title={(\n          <Typography\n            noWrap\n            sx={{\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              width: { xs: 'calc(75%)', sm: 'calc(100%)' },\n              fontWeight: 600,\n            }}\n          >\n            {title}\n          </Typography>\n        )}\n        subheader={<Typography sx={{ color: 'muted.main' }}>{date}</Typography>}\n        sx={{\n          padding: 0,\n          color: 'faded.black',\n        }}\n      />\n    </CardContent>\n  );\n}\n\nexport default function MemoryThumbnail({\n  title,\n  date,\n  thumbnailImage,\n  thumbnailImageSrcSet,\n  handleClick,\n  handleImageLoad,\n}) {\n  return (\n    <MemoryThumbnailCard handleClick={handleClick}>\n      <ThumbnailImage\n        imageSrc={thumbnailImage}\n        imgSrcSet={thumbnailImageSrcSet}\n        title={title}\n        handleImageLoad={handleImageLoad}\n      />\n      <ThumbnailDetails title={title} date={date} />\n    </MemoryThumbnailCard>\n  );\n}\n\nThumbnailDetails.defaultProps = {\n  title: 'Memory Thumbnail Image',\n  date: 'Memory Date',\n};\n\nThumbnailDetails.propTypes = {\n  title: PropTypes.string,\n  date: PropTypes.string,\n};\n\nThumbnailImage.defaultProps = {\n  title: 'Memory Thumbnail Image',\n  imageSrc: '',\n  imageSrcSet: '',\n  handleImageLoad: () => {},\n};\n\nThumbnailImage.propTypes = {\n  title: PropTypes.string,\n  imageSrc: PropTypes.string,\n  imageSrcSet: PropTypes.string,\n  handleImageLoad: PropTypes.func,\n};\n\nMemoryThumbnail.defaultProps = {\n  thumbnailImageSrcSet: '',\n  handleImageLoad: () => {},\n};\n\nMemoryThumbnail.propTypes = {\n  title: PropTypes.oneOfType([PropTypes.element, PropTypes.string]).isRequired,\n  date: PropTypes.oneOfType([PropTypes.element, PropTypes.string]).isRequired,\n  thumbnailImage: PropTypes.string.isRequired,\n  handleClick: PropTypes.func.isRequired,\n  thumbnailImageSrcSet: PropTypes.string,\n  handleImageLoad: PropTypes.func,\n};\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport SwipeableViews from 'react-swipeable-views';\nimport Box from '@mui/material/Box';\nimport { autoPlay } from 'react-swipeable-views-utils';\n\nconst AutoPlaySwipeableViews = autoPlay(SwipeableViews);\n\nexport default function MemoryImageSlide({ index, images, handleNext }) {\n  const [activeStep, setActiveStep] = React.useState(index);\n\n  React.useEffect(() => {\n    setActiveStep(index);\n  }, [index]);\n\n  const handleStepChange = (step) => {\n    setActiveStep(step);\n  };\n\n  const imgElements = images.map((image) => {\n    const srcSetList = image.images ? image.images.map(({ src, width }) => `${src} ${width}w`) : [];\n    const srcSet = srcSetList.join(',');\n    const style = {\n      display: 'block',\n      boxSizing: 'content-box',\n      cursor: 'pointer',\n      objectFit: 'contain',\n      height: '100vh',\n    };\n    return (\n      <Box\n        component=\"img\"\n        sx={{\n          display: 'flex',\n          justifyContents: 'center',\n          width: '100%',\n          bgcolor: '#1c1c1c',\n        }}\n        src={image.src}\n        srcSet={srcSet}\n        style={style}\n        alt={image.src}\n        key={image.src}\n      />\n    );\n  });\n\n  return (\n    <AutoPlaySwipeableViews\n      index={activeStep}\n      onChangeIndex={handleStepChange}\n      enableMouseEvents\n      animateTransitions\n      interval={10000}\n      onClick={handleNext}\n      springConfig={{\n        duration: '0.7s',\n        easeFunction: 'cubic-bezier(0.83, 0, 0.17, 1)',\n        delay: '0s',\n      }}\n      style={{ backgroundColor: 'muted.main' }}\n    >\n      {imgElements}\n    </AutoPlaySwipeableViews>\n  );\n}\n\nMemoryImageSlide.defaultProps = {\n  index: 0,\n};\n\nMemoryImageSlide.propTypes = {\n  index: PropTypes.number,\n  handleNext: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(PropTypes.shape({\n    src: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  })).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport { alpha } from '@mui/material/styles';\n\nexport default function RemovePhotoIcon({ size, handleClick }) {\n  return (\n    <IconButton\n      size={size}\n      sx={{\n        color: 'black',\n        bgcolor: alpha('#fff', 0.4),\n        position: 'absolute',\n        top: 10,\n        right: 12,\n      }}\n      onClick={handleClick}\n    >\n      <CloseIcon size={size} />\n    </IconButton>\n  );\n}\n\nRemovePhotoIcon.defaultProps = {\n  size: 'small',\n};\n\nRemovePhotoIcon.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  size: PropTypes.string,\n};\n","import PropTypes from 'prop-types';\nimport Dialog from '@mui/material/Dialog';\nimport CardHeader from '@mui/material/CardHeader';\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@mui/icons-material/KeyboardArrowRight';\nimport IconButton from '@mui/material/IconButton';\n\nimport MemoryImageSlide from './MemoryImageSlide';\nimport RemovePhotoIcon from './RemovePhotoIcon';\n\nfunction NextPic({ handleClick }) {\n  return (\n    <IconButton\n      edge=\"start\"\n      color=\"primary\"\n      aria-label=\"close\"\n      onClick={handleClick}\n      sx={{\n        position: 'absolute', top: '50%', right: 0, transform: 'translate(0%, -50%)',\n      }}\n    >\n      <KeyboardArrowRight sx={{ color: 'button.main', fontSize: '4.5rem' }} />\n    </IconButton>\n  );\n}\n\nfunction PreviousPic({ handleClick }) {\n  return (\n    <IconButton\n      edge=\"start\"\n      color=\"primary\"\n      aria-label=\"close\"\n      onClick={handleClick}\n      sx={{\n        position: 'absolute', top: '50%', left: 0, transform: 'translate(0%, -50%)',\n      }}\n    >\n      <KeyboardArrowLeft sx={{ color: 'button.main', fontSize: '4.5rem' }} />\n    </IconButton>\n  );\n}\n\nexport default function MemoryCarousel({\n  open, title, date, images, index, handleNext, handleBack, handleClose,\n}) {\n  return (\n    <Dialog\n      open={open}\n      fullScreen\n    >\n      <MemoryImageSlide images={images} index={index} handleNext={handleNext} />\n      <CardHeader\n        title={title}\n        subheader={date}\n        sx={{\n          position: 'absolute',\n          top: 10,\n          left: 10,\n          bgcolor: 'button.main',\n          borderRadius: 3,\n          padding: 1,\n        }}\n      />\n      <PreviousPic handleClick={handleBack} />\n      <NextPic handleClick={handleNext} />\n      <RemovePhotoIcon size=\"large\" handleClick={handleClose} />\n    </Dialog>\n  );\n}\n\nNextPic.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n};\n\nPreviousPic.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n};\n\nMemoryCarousel.defaultProps = {\n  index: 0,\n};\n\nMemoryCarousel.propTypes = {\n  open: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  date: PropTypes.string.isRequired,\n  index: PropTypes.number,\n  handleNext: PropTypes.func.isRequired,\n  handleBack: PropTypes.func.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(PropTypes.shape({\n    src: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  })).isRequired,\n};\n","import Box from '@mui/material/Box';\nimport IconButton from '@mui/material/IconButton';\nimport EditIcon from '@mui/icons-material/Edit';\n\nexport default function UpdateMemoryIcon() {\n  return (\n    <Box sx={{ alignItems: 'center' }} onClick={() => {}}>\n      <IconButton\n        aria-label=\"update\"\n        sx={{\n          bgcolor: 'form.input',\n        }}\n        onClick={() => {}}\n      >\n        <EditIcon />\n      </IconButton>\n      Edit\n    </Box>\n  );\n}\n","import Box from '@mui/material/Box';\nimport IconButton from '@mui/material/IconButton';\nimport DeleteIcon from '@mui/icons-material/Delete';\n\nexport default function DeleteMemoryIcon() {\n  return (\n    <Box sx={{ alignItems: 'center' }}>\n      <IconButton\n        aria-label=\"delete\"\n        sx={{\n          bgcolor: 'form.input',\n        }}\n      >\n        <DeleteIcon />\n      </IconButton>\n      Delete\n    </Box>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Snackbar from '@mui/material/Snackbar';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\n\nexport default function SimpleSnackbar({ snackBarOpen, message, onClose }) {\n  const [open, setOpen] = useState(snackBarOpen);\n\n  useEffect(() => setOpen(snackBarOpen), [snackBarOpen]);\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n    onClose();\n  };\n\n  const action = (\n    <IconButton\n      size=\"small\"\n      aria-label=\"close\"\n      color=\"inherit\"\n      onClick={handleClose}\n    >\n      <CloseIcon fontSize=\"small\" />\n    </IconButton>\n  );\n\n  console.log('in snackbar', open);\n\n  return (\n    <Snackbar\n      open={open}\n      autoHideDuration={3000}\n      onClose={handleClose}\n      message={message}\n      action={action}\n      anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n    />\n  );\n}\n\nSimpleSnackbar.propTypes = {\n  message: PropTypes.string.isRequired,\n  snackBarOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Dialog from '@mui/material/Dialog';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport DialogTitle from '@mui/material/DialogTitle';\n\nexport default function Confirm({\n  confirm, handleCallback, handleCloseCallback, title, message,\n}) {\n  const [open, setOpen] = useState(confirm);\n  useEffect(() => setOpen(confirm), [confirm]);\n\n  const handleClose = () => {\n    setOpen(false);\n    handleCloseCallback();\n  };\n\n  const handleSubmit = () => {\n    handleClose();\n    handleCallback();\n  };\n\n  console.log('in confirm', open);\n\n  return (\n    <Dialog open={open} sx={{ backgroundColor: 'faded.black' }}>\n      <DialogTitle>{title}</DialogTitle>\n      <Box sx={{ p: 2 }}>\n        <Typography sx={{ pb: 2 }}>{message}</Typography>\n        <Stack spacing={2} direction=\"row\">\n          <Button variant=\"contained\" onClick={handleClose}>Cancel</Button>\n          <Button variant=\"outlined\" onClick={handleSubmit}>OK</Button>\n        </Stack>\n      </Box>\n    </Dialog>\n  );\n}\n\nConfirm.propTypes = {\n  confirm: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  handleCallback: PropTypes.func.isRequired,\n  handleCloseCallback: PropTypes.func.isRequired,\n};\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport Confirm from '../../components/confirmation';\n\nexport default function MemoryActions({\n  deleteItem, updateItem, snackBar, confirmMessage, handleDeleteObject, handleEditClick,\n}) {\n  const [confirm, setConfirm] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => setAnchorEl(event.currentTarget);\n  const handleClose = () => setAnchorEl(null);\n\n  const handleDeleteClick = () => {\n    setConfirm(true);\n    handleClose();\n  };\n\n  const handleEdit = () => {\n    handleEditClick();\n    handleClose();\n  };\n\n  return (\n    <div>\n      <MoreVertIcon onClick={handleClick} />\n      <Menu\n        id=\"basic-menu\"\n        anchorEl={anchorEl}\n        open={open}\n        onClose={handleClose}\n        MenuListProps={{\n          'aria-labelledby': 'basic-button',\n        }}\n        sx={{ borderRadius: '10px' }}\n      >\n        <MenuItem onClick={handleEdit}>{updateItem}</MenuItem>\n        <MenuItem onClick={handleDeleteClick}>{deleteItem}</MenuItem>\n      </Menu>\n      <Confirm\n        title=\"Delete Memory\"\n        confirm={confirm}\n        handleCallback={handleDeleteObject}\n        handleCloseCallback={() => setConfirm(false)}\n        message={confirmMessage}\n      />\n      {snackBar}\n    </div>\n  );\n}\n\nMemoryActions.propTypes = {\n  deleteItem: PropTypes.node.isRequired,\n  updateItem: PropTypes.node.isRequired,\n  confirmMessage: PropTypes.string.isRequired,\n  snackBar: PropTypes.node.isRequired,\n  handleDeleteObject: PropTypes.func.isRequired,\n  handleEditClick: PropTypes.func.isRequired,\n};\n","const get = (url, path, params = {}) => {\n  let newUrl = `https://${url}${path}`;\n  const options = {\n    method: 'GET',\n    credentials: 'include',\n    headers: new Headers({ 'content-type': 'application/json' }),\n  };\n  newUrl += `?${new URLSearchParams(params).toString()}`;\n  return fetch(newUrl, options).then((response) => response.json());\n};\n\nfunction getObjectUrl(bucket, authURL, key, method) {\n  try {\n    const path = '/api/presigned-url';\n    const params = { key, bucket, method };\n    return get(authURL, path, params).then((response) => {\n      if (response.Error) {\n        console.log(response.Error);\n        return '';\n      }\n      return response.URL;\n    });\n  } catch (error) {\n    return error;\n  }\n}\n\nasync function validateDetails(bucket, authURL, details) {\n  try {\n    const path = '/api/details/validate';\n    const urlParams = { bucket };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(urlParams).toString()}`;\n    const options = {\n      method: 'POST',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n      body: details,\n    };\n    return await fetch(apiUrl, options).then((response) => {\n      console.log(response);\n      if (!response.ok) {\n        return { status: 'error' };\n      }\n      return response.json();\n    });\n  } catch (error) {\n    console.log(error);\n    return error;\n  }\n}\n\nasync function upload(bucket, authURL, key, body) {\n  try {\n    const putURL = await getObjectUrl(bucket, authURL, key, 'PUT');\n    const params = { body, method: 'PUT' };\n    const resp = await fetch(putURL, params).then((response) => response);\n    return resp;\n  } catch (error) {\n    console.log(error);\n    return error;\n  }\n}\n\nasync function deleteMemory(bucket, authURL, memoryID) {\n  try {\n    const path = '/api/memory';\n    const params = { bucket, memory_id: memoryID };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(params).toString()}`;\n    const options = {\n      method: 'DELETE',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n    };\n    return await fetch(apiUrl, options).then((response) => {\n      console.log(response);\n      if (!response.ok) {\n        return { status: 'error' };\n      }\n      return { status: 'ok', body: response.json() };\n    });\n  } catch (error) {\n    return error;\n  }\n}\n\nfunction getThumbnails(bucket, authURL, memories) {\n  try {\n    const path = '/api/memory/thumbnail';\n    console.log('Memories = ', memories);\n    return memories.map(async (memoryID) => {\n      const params = { bucket, memory_id: memoryID };\n      return get(authURL, path, params);\n    });\n  } catch (error) {\n    console.log(error);\n    return error;\n  }\n}\n\nfunction uploadMultipleImages(bucket, authURL, paramList, incrementImageCount) {\n  try {\n    return paramList.map(async (params) => {\n      const resp = await upload(bucket, authURL, params.Key, params.Body);\n      incrementImageCount();\n      return resp;\n    });\n  } catch (error) {\n    console.log(error);\n    return error;\n  }\n}\n\nfunction getMemories(bucket, authURL, nextToken) {\n  try {\n    const path = '/api/memories';\n    const params = { bucket };\n\n    if (nextToken) {\n      params.next_token = nextToken;\n    }\n\n    return get(authURL, path, params);\n  } catch (error) {\n    return error;\n  }\n}\n\nfunction viewMemory(bucket, authURL, memoryKey) {\n  try {\n    const path = '/api/memory';\n    const params = { bucket, memory_id: memoryKey };\n\n    return get(authURL, path, params);\n  } catch (error) {\n    return error;\n  }\n}\n\nfunction finalizeMemory(bucket, authURL, memoryKey) {\n  try {\n    const path = '/api/memory/finalize';\n    const params = { bucket, memory_id: memoryKey };\n    return get(authURL, path, params);\n  } catch (error) {\n    return error;\n  }\n}\n\nasync function updateMemoryDetails(bucket, authURL, memoryID, item, value) {\n  try {\n    const path = '/api/memory';\n    const urlParams = { bucket, memory_id: memoryID };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(urlParams).toString()}`;\n    const options = {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n      body: JSON.stringify({ item, value }),\n    };\n    return await fetch(apiUrl, options).then((response) => {\n      console.log(response);\n      if (!response.ok) {\n        return false;\n      }\n      return true;\n    });\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n}\n\nasync function updateMemoryImage(bucket, authURL, memoryID, action, image) {\n  try {\n    const path = '/api/memory';\n    const urlParams = { bucket, memory_id: memoryID };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(urlParams).toString()}`;\n    const options = {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n      body: JSON.stringify({ item: 'image', action, image }),\n    };\n    return await fetch(apiUrl, options).then((response) => response);\n  } catch (error) {\n    console.log(error);\n    return false;\n  }\n}\nexport default {\n  getObjectUrl,\n  validateDetails,\n  upload,\n  uploadMultipleImages,\n  getMemories,\n  viewMemory,\n  getThumbnails,\n  finalizeMemory,\n  deleteMemory,\n  updateMemoryDetails,\n  updateMemoryImage,\n};\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Navigate } from 'react-router-dom';\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport Box from '@mui/material/Box';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport Divider from '@mui/material/Divider';\nimport { useTheme } from '@mui/material/styles';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport UpdateMemoryIcon from './UpdateMemoryIcon';\nimport DeleteMemoryIcon from './DeleteMemoryIcon';\nimport SimpleSnackbar from '../../components/simple_snackbar';\nimport MemoryActions from './MemoryActions';\nimport api from '../Api';\n\nasync function deleteMemory(bucket, authURL, memoryID, memoryDeleteCallback) {\n  try {\n    const deleteResults = await api.deleteMemory(bucket, authURL, memoryID);\n    console.log('delete results', deleteResults);\n    memoryDeleteCallback(deleteResults);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport default function MemoryContentStructure({\n  header, subheader, photoLayout, storyLayout, bucket, memoryID, authURL, handleEditClick, preview,\n}) {\n  const [snack, setSnack] = useState(null);\n  const [snackMessage, setSnackMessage] = useState('');\n  let className;\n  const theme = useTheme();\n  const lgdown = useMediaQuery(theme.breakpoints.down('lg'));\n  if (lgdown) className = '';\n  else className = 'vertical-scroll';\n\n  const handleSnackMessage = (msg) => setSnackMessage(msg);\n\n  const memoryDeleteCallback = (open) => {\n    console.log('memory delete callback = ', open);\n    if (open.status === 'ok') {\n      handleSnackMessage('Memory deleted successfully');\n    } else {\n      handleSnackMessage('Error while deleting memory');\n    }\n    setSnack(true);\n  };\n\n  const handleSnackBarClose = () => {\n    setSnack(false);\n  };\n\n  const snackBar = (\n    <SimpleSnackbar\n      snackBarOpen={snack}\n      message={snackMessage}\n      onClose={handleSnackBarClose}\n    />\n  );\n\n  const actions = !preview ? (\n    <MemoryActions\n      confirmMessage=\"Do you want to delete this memory?\"\n      snackBar={snackBar}\n      handleDeleteObject={() => {\n        deleteMemory(bucket, authURL, memoryID, memoryDeleteCallback);\n      }}\n      deleteItem={<DeleteMemoryIcon />}\n      updateItem={<UpdateMemoryIcon />}\n      handleEditClick={handleEditClick}\n    />\n  ) : <MoreVertIcon />;\n\n  console.log('Rendering', snack, snackMessage);\n\n  return (snack === false) ? (\n    <Navigate to=\"/memories\" replace />\n  ) : (\n    <Card\n      sx={{\n        boxShadow: 10,\n        bgcolor: 'button.main',\n        p: 1,\n      }}\n    >\n      <CardHeader\n        title={header}\n        subheader={subheader}\n        action={actions}\n      />\n      <Divider />\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'flex-start',\n          flexDirection: {\n            lg: 'row',\n            xs: 'column',\n          },\n          height: {\n            lg: '72vh',\n          },\n          my: 1,\n        }}\n      >\n        <Box\n          sx={{\n            width: {\n              lg: '70%',\n              xs: '100%',\n            },\n            overflowY: 'scroll',\n            borderRadius: 5,\n          }}\n          className={className}\n        >\n          {photoLayout}\n        </Box>\n        <Box\n          sx={{\n            width: { lg: '30%', sx: '100%' },\n            overflowY: 'scroll',\n            mt: {\n              lg: 0,\n              xs: 2,\n            },\n            p: {\n              lg: 1,\n            },\n            px: 1,\n          }}\n          className={className}\n        >\n          {storyLayout}\n        </Box>\n      </Box>\n    </Card>\n  );\n}\n\nMemoryContentStructure.propTypes = {\n  header: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n  subheader: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n  photoLayout: PropTypes.element.isRequired,\n  storyLayout: PropTypes.element.isRequired,\n  memoryID: PropTypes.string.isRequired,\n  bucket: PropTypes.string.isRequired,\n  authURL: PropTypes.string.isRequired,\n  handleEditClick: PropTypes.func.isRequired,\n  preview: PropTypes.bool.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Stack from '@mui/material/Stack';\nimport Typography from '@mui/material/Typography';\nimport TextField from '@mui/material/TextField';\nimport DoneTwoToneIcon from '@mui/icons-material/DoneTwoTone';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport EditIcon from '@mui/icons-material/Edit';\nimport useTitle from '../../hooks/title';\n\nexport default function MemoryTitle({ editable, text, handleTitleUpdate }) {\n  const [title, setTitle, handleTitleChange] = useTitle(text);\n  const [edit, setEdit] = useState(editable);\n  const [startEdit, setStartEdit] = useState(false);\n\n  useEffect(() => {\n    setEdit(editable);\n    setTitle(text);\n    setStartEdit(false);\n  }, [editable]);\n\n  console.log('Memory Title ', edit, startEdit, title);\n\n  if (!edit && !startEdit) {\n    return <Typography variant=\"h6\">{title}</Typography>;\n  }\n\n  if (edit && !startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'center' }} spacing={2}>\n        <Typography variant=\"h6\">{title}</Typography>\n        <EditIcon fontSize=\"medium\" onClick={() => setStartEdit(true)} />\n      </Stack>\n    );\n  }\n\n  if (edit && startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'flex-end', justifyContent: 'flex-start' }} spacing={2}>\n        <TextField\n          id=\"standard-basic\"\n          size=\"small\"\n          label=\"Title\"\n          onChange={handleTitleChange}\n          variant=\"standard\"\n          defaultValue={title}\n          sx={{ maxWidth: '200px' }}\n        />\n        <DoneTwoToneIcon\n          fontSize=\"medium\"\n          onClick={() => {\n            console.log(title);\n            handleTitleUpdate(title);\n            setStartEdit(false);\n          }}\n        />\n        <ClearIcon fontSize=\"medium\" onClick={() => { setTitle(text); setStartEdit(false); }} />\n      </Stack>\n    );\n  }\n}\n\nMemoryTitle.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  text: PropTypes.string.isRequired,\n  handleTitleUpdate: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Stack from '@mui/material/Stack';\nimport Typography from '@mui/material/Typography';\nimport TextField from '@mui/material/TextField';\nimport DoneTwoToneIcon from '@mui/icons-material/DoneTwoTone';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport EditIcon from '@mui/icons-material/Edit';\nimport DatePicker from '@mui/lab/DesktopDatePicker';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\n\nimport useDate from '../../hooks/date';\n\nexport default function MemoryDate({ editable, prevDate, handleDateUpdate }) {\n  const [edit, setEdit] = useState(editable);\n  const [startEdit, setStartEdit] = useState(false);\n  const [date, setDate, handleDateChange] = useDate(prevDate);\n\n  useEffect(() => {\n    setEdit(editable);\n    setDate(prevDate);\n    setStartEdit(false);\n  }, [editable, prevDate]);\n  console.log('Memory Date ', edit, startEdit, date);\n\n  if (!edit && !startEdit) {\n    return <Typography>{date}</Typography>;\n  }\n\n  if (edit && !startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'center' }} spacing={2}>\n        <Typography>{date}</Typography>\n        <EditIcon fontSize=\"medium\" onClick={() => setStartEdit(true)} />\n      </Stack>\n    );\n  }\n\n  if (edit && startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'flex-end', justifyContent: 'flex-start', mt: 3 }} spacing={2}>\n        <LocalizationProvider dateAdapter={AdapterDateFns}>\n          <DatePicker\n            label=\"Memory Date\"\n            value={date}\n            onChange={handleDateChange}\n            placeholder=\"dd/MM/yyyy\"\n            inputFormat=\"dd/MM/yyyy\"\n            maxDate={new Date()}\n            renderInput={(props) => (\n              <TextField\n                readOnly\n                required\n          // eslint-disable-next-line react/jsx-props-no-spreading\n                {...props}\n              />\n            )}\n          />\n        </LocalizationProvider>\n        <DoneTwoToneIcon\n          fontSize=\"medium\"\n          onClick={() => {\n            handleDateUpdate(date);\n            setStartEdit(false);\n          }}\n        />\n        <ClearIcon fontSize=\"medium\" onClick={() => { setDate(prevDate); setStartEdit(false); }} />\n      </Stack>\n    );\n  }\n}\n\nMemoryDate.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  prevDate: PropTypes.string.isRequired,\n  handleDateUpdate: PropTypes.func.isRequired,\n};\n","import { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Stack from '@mui/material/Stack';\nimport DoneTwoToneIcon from '@mui/icons-material/DoneTwoTone';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport EditIcon from '@mui/icons-material/Edit';\nimport { Editor, EditorState, convertToRaw } from 'draft-js';\nimport Box from '@mui/material/Box';\nimport useStory from '../../hooks/story';\nimport './memory.css';\n\nexport default function MemoryStory({ editable, prevEditorState, handleEditorStateUpdate }) {\n  const [edit, setEdit] = useState(editable);\n  const [startEdit, setStartEdit] = useState(false);\n  const [editorState, setEditorState, handleEditorStateChange] = useStory(prevEditorState);\n  const storyRef = useRef();\n\n  useEffect(() => {\n    setEdit(editable);\n    setEditorState(prevEditorState);\n    setStartEdit(false);\n  }, [editable, prevEditorState]);\n  console.log('Memory Title ', edit, startEdit);\n\n  if (!edit && !startEdit) {\n    return (\n      <Editor\n        readOnly\n        editorState={editorState}\n      />\n    );\n  }\n\n  if (edit && !startEdit) {\n    return (\n      <Stack direction=\"column\" sx={{ alignItems: 'flex-end', justifyContent: 'flex-end' }} spacing={2}>\n        <EditIcon\n          fontSize=\"medium\"\n          onClick={() => {\n            setStartEdit(true);\n          }}\n        />\n        <Editor\n          readOnly\n          editorState={editorState}\n        />\n      </Stack>\n    );\n  }\n\n  if (edit && startEdit) {\n    return (\n      <Stack direction=\"column\" sx={{ alignItems: 'flex-end', justifyContent: 'flex-start' }} spacing={2}>\n        <Stack direction=\"row\" spacing={2}>\n          <DoneTwoToneIcon\n            fontSize=\"medium\"\n            onClick={() => {\n              handleEditorStateUpdate(\n                JSON.stringify(convertToRaw(editorState.getCurrentContent())),\n              );\n              setStartEdit(false);\n            }}\n          />\n          <ClearIcon\n            fontSize=\"medium\"\n            onClick={() => {\n              setEditorState(prevEditorState);\n              setStartEdit(false);\n            }}\n          />\n        </Stack>\n        <Box\n          sx={{\n            p: 2,\n            m: 1,\n            my: 2,\n            border: 1,\n            borderColor: 'primary.main',\n            bgcolor: 'input.background',\n            minHeight: '200px',\n            borderRadius: 5,\n            width: '90%',\n          }}\n          onClick={() => storyRef.current.focus()}\n        >\n          <Editor\n            autoFocus\n            onChange={handleEditorStateChange}\n            editorState={editorState}\n            ref={storyRef}\n          />\n        </Box>\n      </Stack>\n    );\n  }\n}\n\nMemoryStory.propTypes = {\n  prevEditorState: PropTypes.instanceOf(EditorState).isRequired,\n  editable: PropTypes.bool.isRequired,\n  handleEditorStateUpdate: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport PhotoAlbum from 'react-photo-album';\nimport Radio from '@mui/material/Radio';\nimport FormControlLabel from '@mui/material/FormControlLabel';\n//  import EditIcon from '@mui/icons-material/Edit';\n//  import FormControl from '@mui/material/FormControl';\n//  import MenuItem from '@mui/material/MenuItem';\n//  import Select from '@mui/material/Select';\n//  import InputLabel from '@mui/material/InputLabel';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport IconButton from '@mui/material/IconButton';\nimport AddPhotoIcon from '@mui/icons-material/AddPhotoAlternate';\n//  import ImageSelector from './ImageSelector';\nimport Button from '@mui/material/Button';\nimport CloseIcon from '@mui/icons-material/Close';\nimport Typography from '@mui/material/Typography';\nimport Stack from '@mui/material/Stack';\nimport { alpha } from '@mui/material/styles';\n//  import Box from '@mui/material/Box';\n//  import rp from './RenderPhotos';\n\nfunction OptionsButton({\n  children, onClick, name, updateOp,\n}) {\n  console.log('options button', name, updateOp, (updateOp === name));\n  return (\n    <Button\n      id={name}\n      variant=\"contained\"\n      component=\"label\"\n      onClick={onClick}\n      sx={{\n        color: (updateOp === name) ? 'button.main' : 'muted.main',\n        borderRadius: 5,\n        backgroundColor: (updateOp === name) ? 'primary.main' : 'button.main',\n        padding: '6px 8px',\n      }}\n    >\n      {children}\n    </Button>\n  );\n}\n\nfunction AddPhotos({ handleChange, onClick, updateOp }) {\n  return (\n    <OptionsButton onClick={onClick} name=\"add\" updateOp={updateOp}>\n      <input type=\"file\" hidden multiple accept=\"image/*\" onChange={handleChange} />\n      <AddPhotoIcon sx={{ fontSize: '1.5rem' }} />\n      Add\n    </OptionsButton>\n  );\n}\n\nfunction MemoryPhotoAlbum({ images, handlePhotoClick, renderPhoto }) {\n  const [arrangement, setArrangement] = useState(null);\n  useEffect(() => {\n    let twidth = 0;\n    let theight = 0;\n    images.forEach(({ height, width }) => {\n      if (height > width) theight += 1;\n      else twidth += 1;\n    });\n    if (twidth > theight) setArrangement('rows');\n    else setArrangement('columns');\n  }, [images]);\n\n  return renderPhoto ? (\n    <PhotoAlbum\n      layout={arrangement}\n      photos={images}\n      onClick={handlePhotoClick}\n      spacing={2}\n      renderPhoto={renderPhoto}\n    />\n  ) : (\n    <PhotoAlbum\n      layout={arrangement}\n      photos={images}\n      onClick={handlePhotoClick}\n      spacing={2}\n    />\n  );\n}\n\nexport default function MemoryImages({\n  editable, images, handlePhotoClick, handleThumbnailUpdate, deleteImage, addImage,\n}) {\n  const [edit, setEdit] = useState(editable);\n  const [updateOp, setUpdateOp] = useState(null);\n  const [thumbnail, setThumbnail] = useState(null);\n\n  console.log('memory images', updateOp, edit);\n  useEffect(() => {\n    setEdit(editable);\n    setUpdateOp(null);\n  }, [editable]);\n\n  const handleThumbnailChange = (name) => {\n    console.log('name', name);\n    console.log('images', images);\n    setThumbnail(name);\n    const thumbnailImage = images.find((image) => image.alt === name);\n    console.log('thumbnail image', thumbnailImage);\n    handleThumbnailUpdate(thumbnailImage);\n  };\n\n  const handleImageDelete = (name) => {\n    const deleted = images.find((image) => image.alt === name);\n    deleteImage(deleted);\n  };\n\n  const renderPhotosWithDeleteIcon = ({\n    layout,\n    layoutOptions,\n    imageProps: { alt, style, ...restImageProps },\n  }) => {\n    console.log(layout, layoutOptions);\n    return (\n      <Button component=\"div\">\n        <img\n          alt={alt}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          style={{ ...style, width: layout.width, padding: 0 }}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...restImageProps}\n        />\n        <IconButton\n          size=\"medium\"\n          sx={{\n            color: 'black',\n            bgcolor: alpha('#fff', 0.4),\n            position: 'absolute',\n            top: 10,\n            right: 12,\n          }}\n          onClick={() => handleImageDelete(alt)}\n        >\n          <CloseIcon size=\"medium\" />\n        </IconButton>\n      </Button>\n    );\n  };\n\n  const renderPhotosWithRadioButton = ({\n    layout,\n    layoutOptions,\n    imageProps: { alt, style, ...restImageProps },\n  }) => {\n    console.log(layout, layoutOptions, alt, style);\n    return (\n      <Button component=\"div\">\n        <img\n          alt={alt}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          style={{ ...style, width: layout.width, padding: 0 }}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...restImageProps}\n        />\n        <FormControlLabel\n          control={<Radio />}\n          label=\"\"\n          checked={alt === thumbnail}\n          onChange={() => handleThumbnailChange(alt)}\n          sx={{\n            pr: 1,\n            position: 'absolute',\n            bgcolor: alpha('#fff', 0.6),\n            color: 'black',\n            borderRadius: '0px 5px 5px 0px',\n            borderColor: 'secondary.main',\n            borderLeft: 0,\n            bottom: 20,\n            left: 15,\n          }}\n        />\n      </Button>\n    );\n  };\n\n  const OptionsRow = (\n    <Stack direction=\"row\" spacing={2}>\n      <AddPhotos handleChange={addImage} onClick={() => setUpdateOp('add')} updateOp={updateOp} />\n      <OptionsButton onClick={() => setUpdateOp('delete')} name=\"delete\" updateOp={updateOp}>\n        <DeleteIcon sx={{ fontSize: '1.5rem' }} />\n        Delete\n      </OptionsButton>\n      <OptionsButton onClick={() => setUpdateOp('thumbnail')} name=\"thumbnail\" updateOp={updateOp}>Set Thumbnail</OptionsButton>\n    </Stack>\n  );\n\n  const updatePanel = (\n    <Stack direction=\"row\" sx={{ justifyContent: 'flex-end' }} alignItems=\"center\">\n      <Typography variant=\"body1\">\n        Images:\n        {images.length}\n      </Typography>\n    </Stack>\n  );\n\n  if (!edit) {\n    return (\n      <MemoryPhotoAlbum images={images} handlePhotoClick={handlePhotoClick} />\n    );\n  }\n\n  if (edit && updateOp === 'delete') {\n    return (\n      <Stack direction=\"column\" spacing={2} sx={{ p: 2 }}>\n        {updatePanel}\n        {OptionsRow}\n        <MemoryPhotoAlbum\n          images={images}\n          handlePhotoClick={handlePhotoClick}\n          renderPhoto={renderPhotosWithDeleteIcon}\n        />\n      </Stack>\n    );\n  }\n\n  if (edit && updateOp === 'thumbnail') {\n    return (\n      <Stack direction=\"column\" spacing={2} sx={{ p: 2 }}>\n        {updatePanel}\n        {OptionsRow}\n        <MemoryPhotoAlbum\n          images={images}\n          handlePhotoClick={handlePhotoClick}\n          renderPhoto={renderPhotosWithRadioButton}\n        />\n      </Stack>\n    );\n  }\n\n  if (edit && updateOp === 'add') {\n    return (\n      <Stack direction=\"column\" spacing={2} sx={{ p: 2 }}>\n        {updatePanel}\n        {OptionsRow}\n        <MemoryPhotoAlbum\n          images={images}\n          handlePhotoClick={handlePhotoClick}\n        />\n      </Stack>\n    );\n  }\n\n  if (edit && !updateOp) {\n    return (\n      <Stack direction=\"column\" spacing={2} sx={{ p: 2 }}>\n        {updatePanel}\n        {OptionsRow}\n        <MemoryPhotoAlbum images={images} handlePhotoClick={handlePhotoClick} />\n      </Stack>\n    );\n  }\n}\n\nMemoryImages.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      src: PropTypes.string,\n      width: PropTypes.number,\n      height: PropTypes.number,\n    }),\n  ).isRequired,\n  handlePhotoClick: PropTypes.func.isRequired,\n  handleThumbnailUpdate: PropTypes.func.isRequired,\n  deleteImage: PropTypes.func.isRequired,\n  addImage: PropTypes.func.isRequired,\n};\n\nMemoryPhotoAlbum.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      src: PropTypes.string,\n      width: PropTypes.number,\n      height: PropTypes.number,\n    }),\n  ).isRequired,\n  handlePhotoClick: PropTypes.func.isRequired,\n  renderPhoto: PropTypes.func,\n};\n\nMemoryPhotoAlbum.defaultProps = {\n  renderPhoto: null,\n};\n\nAddPhotos.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n  updateOp: PropTypes.string.isRequired,\n};\n\nOptionsButton.defaultProps = {\n  onClick: () => {},\n};\n\nOptionsButton.propTypes = {\n  children: PropTypes.node.isRequired,\n  onClick: PropTypes.func,\n  name: PropTypes.string.isRequired,\n  updateOp: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\n//  import PhotoAlbum from 'react-photo-album';\nimport { useState, useEffect } from 'react';\nimport { EditorState } from 'draft-js';\nimport Button from '@mui/material/Button';\nimport DoneIcon from '@mui/icons-material/Done';\nimport Typography from '@mui/material/Typography';\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport MemoryCarousel from './MemoryCarousel';\nimport MemoryContentStructure from './MemoryContentStructure';\nimport MemoryTitle from './MemoryTitle';\nimport MemoryDate from './MemoryDate';\nimport MemoryStory from './MemoryStory';\nimport MemoryImages from './MemoryImages';\nimport api from '../Api';\nimport SimpleSnackbar from '../../components/simple_snackbar';\nimport './memory.css';\n\nexport default function MemoryContent({\n  memTitle,\n  memDate,\n  memEditorState,\n  memImages,\n  bucket,\n  memoryID,\n  authURL,\n  preview,\n}) {\n  const [open, setOpen] = useState(false);\n  const [edit, setEdit] = useState(false);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [title, setTitle] = useState(memTitle);\n  const [date, setDate] = useState(memDate);\n  const [editorState, setEditorState] = useState(memEditorState);\n  const [images, setImages] = useState(memImages);\n  const [snack, setSnack] = useState(null);\n  const [snackMessage, setSnackMessage] = useState('');\n\n  console.log('images', images);\n  const maxSteps = images.length;\n\n  useEffect(() => setTitle(memTitle), [memTitle]);\n  useEffect(() => setDate(memDate), [memDate]);\n  useEffect(() => setEditorState(memEditorState), [memEditorState]);\n  useEffect(() => setImages(memImages), [memImages]);\n\n  const handleSnackMessage = (msg) => setSnackMessage(msg);\n  const handleSnackBarClose = () => setSnack(false);\n\n  const UpdateDetails = async (item, value) => {\n    try {\n      const resp = await api.updateMemoryDetails(\n        bucket,\n        authURL,\n        memoryID,\n        item,\n        value,\n      );\n      console.log('Response', resp);\n      if (resp.ok) {\n        handleSnackMessage(`Memory ${item} updated successfully`);\n      } else {\n        handleSnackMessage(`Error while updating memory ${item}`);\n      }\n      setSnack(true);\n      return resp;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  };\n\n  const UpdateThumbnail = async (image) => {\n    try {\n      console.log('thumbnail image in update thumbnail', image);\n      const resp = await api.updateMemoryImage(\n        bucket,\n        authURL,\n        memoryID,\n        'thumbnail',\n        image,\n      );\n      console.log('Response', resp);\n      if (resp.ok) {\n        handleSnackMessage('Memory thumbnail updated successfully');\n      } else {\n        handleSnackMessage('Error while updating memory thumbnail');\n      }\n      setSnack(true);\n      return resp;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  };\n\n  const deleteImage = async (image) => {\n    try {\n      let resp;\n      console.log('thumbnail image in update thumbnail', image);\n      if (images.length > 1) {\n        resp = await api.updateMemoryImage(\n          bucket,\n          authURL,\n          memoryID,\n          'delete',\n          image,\n        );\n        console.log('Response', resp);\n        if (resp) {\n          handleSnackMessage('Memory image deleted successfully');\n          setImages(images.filter((item) => item.title !== image.title));\n        } else {\n          handleSnackMessage('Error while deleting memory');\n        }\n      } else {\n        handleSnackMessage('Atleast 1 image is needed for memory. Unable to delete');\n      }\n      setSnack(true);\n      return resp;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  };\n\n  const addImage = async (details) => {\n    try {\n      console.log('add image', details);\n      const resp = await api.updateMemoryImage(\n        bucket,\n        authURL,\n        memoryID,\n        'add',\n        details,\n      );\n      console.log('Response', resp);\n      return resp;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  };\n\n  const handleImageAdd = async (event) => {\n    if (event.target.files) {\n      const files = Array.from(event.target.files);\n      if (images.length + files.length <= 15) {\n        console.log('files', files);\n        files.forEach((file) => {\n          const image = new Image();\n          image.onload = async (e) => {\n            const height = e.target.naturalHeight;\n            const width = e.target.naturalWidth;\n            const size = file.size / (1024 * 1024);\n            const { name } = file;\n            const resImages = [500, 1000, 1500].map((resHeight) => ({\n              height: resHeight, width: Math.ceil((resHeight * width) / height),\n            }));\n            const imageDetails = {\n              name, size, height, width, images: resImages,\n            };\n            console.log(imageDetails);\n            const resp = await addImage(imageDetails);\n            if (resp.ok) {\n              const photo = {\n                key: `memories/${memoryID}/images/${file.name}`,\n                src: e.target.src,\n                alt: name,\n                title: name,\n                width,\n                height,\n                images: [],\n              };\n              const putURL = await resp.text();\n              const uploadResp = await fetch(putURL, { body: file, method: 'PUT' }).then((response) => response);\n              if (uploadResp.ok) {\n                setImages((pics) => pics.concat([photo]));\n                handleSnackMessage('Memory image added successfully');\n              } else {\n                handleSnackMessage('Error while uploading memory image');\n              }\n            } else {\n              handleSnackMessage('Error while adding memory image');\n            }\n          };\n          image.src = URL.createObjectURL(file);\n        });\n        files.map((file) => URL.revokeObjectURL(file)); // avoid memory leak\n      } else {\n        handleSnackMessage(`Unable to add ${files.length} images. Maximum images allowed pre memory is 15`);\n      }\n      setSnack(true);\n    }\n  };\n\n  const updateTitle = (value) => {\n    const resp = UpdateDetails('title', value);\n    if (resp.ok) {\n      setTitle(value);\n    }\n  };\n\n  const updateDate = (value) => {\n    const resp = UpdateDetails('date', value);\n    if (resp.ok) {\n      setDate(value);\n    }\n  };\n\n  const updateEditorState = (value) => {\n    const resp = UpdateDetails('story', value);\n    if (resp.ok) {\n      setEditorState(value);\n    }\n  };\n\n  const updateImages = (value) => {\n    const resp = UpdateDetails('images', value);\n    if (resp.ok) {\n      setEditorState(value);\n    }\n  };\n\n  console.log(updateImages);\n\n  const handleClose = () => setOpen(false);\n\n  const handleBack = () => {\n    setActiveIndex(\n      (prevActiveStep) => (prevActiveStep - 1 + maxSteps) % maxSteps,\n    );\n  };\n\n  const handleNext = () => {\n    setActiveIndex((prevActiveStep) => (prevActiveStep + 1) % maxSteps);\n  };\n\n  const handlePhotoClick = (photo, event, index) => {\n    setOpen(true);\n    setActiveIndex(index);\n  };\n\n  const handleEditClick = () => setEdit(true);\n\n  const memoryTitle = (\n    <MemoryTitle\n      editable={edit}\n      text={title}\n      handleTitleUpdate={updateTitle}\n    />\n  );\n\n  const memoryDate = (\n    <MemoryDate editable={edit} prevDate={date} handleDateUpdate={updateDate} />\n  );\n\n  const storyLayout = (\n    <MemoryStory\n      editable={edit}\n      prevEditorState={editorState}\n      handleEditorStateUpdate={updateEditorState}\n    />\n  );\n\n  const photoLayout = (\n    <MemoryImages\n      editable={edit}\n      images={images}\n      handlePhotoClick={handlePhotoClick}\n      handleThumbnailUpdate={UpdateThumbnail}\n      deleteImage={deleteImage}\n      addImage={handleImageAdd}\n    />\n  );\n\n  const updateDone = (\n    <Button\n      variant=\"contained\"\n      component=\"label\"\n      onClick={() => setEdit(false)}\n      sx={{\n        color: 'primary.main',\n        borderRadius: 5,\n        backgroundColor: 'button.main',\n        padding: '6px 8px',\n      }}\n    >\n      <DoneIcon size=\"medium\" sx={{ paddingRight: 1 }} />\n      <Typography variant=\"body1\" color=\"muted.main\">Edit</Typography>\n    </Button>\n  );\n  console.log('Memory Content', edit, memoryTitle);\n  return (\n    <>\n      {edit ? (\n        <Stack\n          direction=\"row\"\n          justifyContent=\"flex-start\"\n          sx={{ backgroundColor: 'button.main', paddingX: 2, paddingY: 3 }}\n        >\n          {updateDone}\n        </Stack>\n      ) : null}\n      <Box\n        component=\"div\"\n        sx={{\n          backgroundColor: 'button.main',\n          margin: edit ? '5px' : 0,\n        }}\n      >\n        <MemoryContentStructure\n          header={memoryTitle}\n          subheader={memoryDate}\n          photoLayout={photoLayout}\n          storyLayout={storyLayout}\n          memoryID={memoryID}\n          bucket={bucket}\n          authURL={authURL}\n          handleEditClick={handleEditClick}\n          preview={preview}\n        />\n      </Box>\n      <MemoryCarousel\n        open={open}\n        title={title}\n        date={date}\n        images={images}\n        index={activeIndex}\n        handleNext={handleNext}\n        handleBack={handleBack}\n        handleClose={handleClose}\n      />\n      <SimpleSnackbar\n        snackBarOpen={snack}\n        message={snackMessage}\n        onClose={handleSnackBarClose}\n      />\n    </>\n  );\n}\n\nMemoryContent.defaultProps = {\n  memTitle: 'Memory Title',\n  memDate: 'Memory Date',\n  memEditorState: EditorState.createWithText('Memory Text'),\n};\n\nMemoryContent.propTypes = {\n  memTitle: PropTypes.string,\n  memDate: PropTypes.string,\n  memEditorState: PropTypes.instanceOf(EditorState),\n  memoryID: PropTypes.string.isRequired,\n  bucket: PropTypes.string.isRequired,\n  authURL: PropTypes.string.isRequired,\n  memImages: PropTypes.arrayOf(\n    PropTypes.shape({\n      src: PropTypes.string,\n      width: PropTypes.number,\n      height: PropTypes.number,\n    }),\n  ).isRequired,\n  preview: PropTypes.bool.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport CardHeader from '@mui/material/CardHeader';\n\nexport default function PreviewCardHeader({ title }) {\n  return (\n    <CardHeader\n      title={title}\n      sx={{\n        border: 0,\n        borderColor: 'primary.main',\n        textAlign: 'center',\n        width: 1,\n        mb: 1,\n        bgcolor: 'button.main',\n        p: 0,\n        py: 2,\n        borderRadius: 2,\n      }}\n    />\n  );\n}\n\nPreviewCardHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Button from '@mui/material/Button';\n\nexport default function NavigationButton({ label, handleClick, disabled }) {\n  return (\n    <Button\n      onClick={handleClick}\n      disabled={disabled}\n      sx={{\n        m: 2,\n        border: 2,\n        borderColor: disabled ? 'muted.main' : 'ternary.main',\n        borderRadius: 5,\n        bgcolor: 'input.background',\n      }}\n    >\n      {label}\n    </Button>\n  );\n}\n\nNavigationButton.defaultProps = {\n  disabled: false,\n};\n\nNavigationButton.propTypes = {\n  label: PropTypes.string.isRequired,\n  handleClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport NavigationButton from './NavigationButton';\n\nexport default function FormStepperNavigation({\n  handleNext, handlePrevious, isLast, isFirst,\n}) {\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'row',\n        pt: 2,\n        width: 1,\n        justifyContent: 'space-evenly',\n      }}\n    >\n      { isFirst ? (\n        <NavigationButton disabled handleClick={() => {}} label=\"Back\" />\n      ) : (\n        <NavigationButton handleClick={handlePrevious} label=\"Back\" />\n      )}\n      { isLast ? (\n        <NavigationButton handleClick={handleNext} label=\"Create Memory\" />\n      ) : (\n        <NavigationButton handleClick={handleNext} label=\"Next\" />\n      )}\n    </Box>\n  );\n}\n\nFormStepperNavigation.propTypes = {\n  handleNext: PropTypes.func.isRequired,\n  handlePrevious: PropTypes.func.isRequired,\n  isLast: PropTypes.bool.isRequired,\n  isFirst: PropTypes.bool.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\n\nexport default function BoxForm({ children }) {\n  return (\n    <Box\n      component=\"form\"\n      sx={{\n        '& .MuiTextField-root': {\n          m: 1, maxWidth: '90%', width: '45ch',\n        },\n        '& .MuiOutlinedInput-root': {\n          backgroundColor: 'form.input',\n          borderRadius: 5,\n        },\n        flexDirection: 'column',\n        display: 'flex',\n        alignItems: 'center',\n        width: 'auto',\n        pt: 2,\n      }}\n      autoComplete=\"true\"\n    >\n      {children}\n    </Box>\n  );\n}\n\nBoxForm.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport TextField from '@mui/material/TextField';\nimport DatePicker from '@mui/lab/DesktopDatePicker';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\n\nimport * as yup from 'yup';\n\nimport FormStepperNavigation from './FormStepperNavigation';\nimport BoxForm from './BoxForm';\n\nexport default function TitleDateForm({\n  title,\n  date,\n  handleTitleChange,\n  handleDateChange,\n  handleNext,\n  handlePrevious,\n  isLast,\n  isFirst,\n  activeStep,\n}) {\n  const [titleError, setTitleError] = useState('');\n  const [dateError, setDateError] = useState('');\n\n  const [titleTouched, setTitleTouched] = useState(false);\n  const [dateTouched, setDateTouched] = useState(false);\n\n  const titleSchema = yup.object({\n    title: yup.string().required('Memory Title is required'),\n  }).required();\n\n  const dateSchema = yup.object({\n    date: yup.date('Enter date by clicking calendar icon on the right end of date picker')\n      .required('Memory Date is required').nullable(),\n  }).required();\n  const isFieldValid = async (key, value, setFieldError, schema) => {\n    let hasError = false;\n    const testField = await schema\n      .validate({ [key]: value }, { abortEarly: false })\n      .catch((error) => error);\n    setFieldError('');\n    if (testField.inner) {\n      testField.inner.forEach((error) => setFieldError(error.message));\n      hasError = true;\n    }\n    return !hasError;\n  };\n\n  const isValid = async () => {\n    const titleValid = await isFieldValid('title', title, setTitleError, titleSchema);\n    const dateValid = await isFieldValid('date', date, setDateError, dateSchema);\n    return titleValid && dateValid;\n  };\n\n  useEffect(() => {\n    if (titleTouched) {\n      isFieldValid('title', title, setTitleError, titleSchema);\n    }\n    if (dateTouched) {\n      isFieldValid('date', date, setDateError, dateSchema);\n    }\n  }, [title, date]);\n\n  const submitForm = async (handleCallback) => {\n    const valid = await isValid();\n    if (valid) {\n      handleCallback();\n    }\n  };\n\n  const onTitleChange = (event) => {\n    setTitleTouched(true);\n    handleTitleChange(event);\n  };\n\n  const onDateChange = (event) => {\n    setDateTouched(true);\n    handleDateChange(event);\n  };\n\n  return (\n    <BoxForm>\n      <TextField\n        required\n        onChange={onTitleChange}\n        id=\"outlined-required\"\n        label=\"Memory Name\"\n        defaultValue={title}\n        helperText={titleError || \"E.g. Gogol's 2nd Birthday\"}\n        error={!!titleError}\n      />\n      <LocalizationProvider dateAdapter={AdapterDateFns}>\n        <DatePicker\n          label=\"Memory Date\"\n          value={date}\n          onChange={onDateChange}\n          placeholder=\"dd/MM/yyyy\"\n          inputFormat=\"dd/MM/yyyy\"\n          maxDate={new Date()}\n          renderInput={(props) => (\n            <TextField\n              readOnly\n              required\n          // eslint-disable-next-line react/jsx-props-no-spreading\n              {...props}\n              error={!!dateError}\n              helperText={dateError || ''}\n            />\n          )}\n        />\n      </LocalizationProvider>\n      <FormStepperNavigation\n        activeStep={activeStep}\n        handleNext={() => submitForm(handleNext)}\n        handlePrevious={handlePrevious}\n        isLast={isLast}\n        isFirst={isFirst}\n      />\n    </BoxForm>\n  );\n}\n\nTitleDateForm.defaultProps = {\n  date: '',\n};\n\nTitleDateForm.propTypes = {\n  activeStep: PropTypes.number.isRequired,\n  date: PropTypes.string,\n  isLast: PropTypes.bool.isRequired,\n  isFirst: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n\n  handleDateChange: PropTypes.func.isRequired,\n  handleNext: PropTypes.func.isRequired,\n  handlePrevious: PropTypes.func.isRequired,\n  handleTitleChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport AddAPhotoIcon from '@mui/icons-material/AddAPhoto';\n\nexport default function ImageSelector({ handleChange }) {\n  return (\n    <Box sx={{ display: 'flex', justifyContent: 'center', pb: 1 }}>\n      <Button\n        variant=\"contained\"\n        component=\"label\"\n        color=\"button\"\n        sx={{\n          borderRadius: 5, border: 2, borderColor: 'primary.main', backgroundColor: 'input.background',\n        }}\n      >\n        <input type=\"file\" hidden multiple accept=\"image/*\" onChange={handleChange} />\n        <Typography variant=\"h6\">Add Pictures</Typography>\n        <AddAPhotoIcon sx={{ fontSize: '2.5rem' }} />\n      </Button>\n    </Box>\n  );\n}\n\nImageSelector.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Radio from '@mui/material/Radio';\nimport { alpha } from '@mui/material/styles';\n\nexport default function ThumbnailChooser({ index, thumbnail, handleThumbnailChange }) {\n  return (\n    <FormControlLabel\n      control={<Radio />}\n      label=\"Thumbnail\"\n      checked={thumbnail === index}\n      onChange={() => handleThumbnailChange(index)}\n      sx={{\n        pr: 1,\n        position: 'absolute',\n        bgcolor: alpha('#fff', 0.6),\n        color: 'black',\n        borderRadius: '0px 5px 5px 0px',\n        borderColor: 'secondary.main',\n        borderLeft: 0,\n        bottom: 20,\n        left: 15,\n      }}\n    />\n  );\n}\n\nThumbnailChooser.propTypes = {\n  index: PropTypes.number.isRequired,\n  thumbnail: PropTypes.number.isRequired,\n  handleThumbnailChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\n\nexport default function SelectedImage({\n  photo, index, setDimensions, thumbnail, resizeHeights,\n}) {\n  const handleImageOnload = (event, heights) => {\n    const originalWidth = event.target.naturalWidth;\n    const originalHeight = event.target.naturalHeight;\n    const images = heights.map((height) => ({\n      height, width: Math.ceil((height * originalWidth) / originalHeight),\n    }));\n    setDimensions(index, images);\n  };\n\n  return (\n    <Box\n      component=\"img\"\n      onLoad={(event) => handleImageOnload(event, resizeHeights)}\n      sx={{\n        border: (thumbnail === index) ? 4 : 0,\n        borderColor: 'primary.main',\n        borderRadius: (thumbnail === index) ? 5 : 0,\n        mb: 1,\n        '&:hover': {\n          border: 5,\n          borderColor: 'secondary.main',\n        },\n      }}\n      src={photo}\n      alt={photo.name}\n      height=\"140px\"\n      width=\"140px\"\n      fit=\"crop\"\n      auto=\"format\"\n      loading=\"lazy\"\n    />\n  );\n}\n\nSelectedImage.propTypes = {\n  photo: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  setDimensions: PropTypes.func.isRequired,\n  thumbnail: PropTypes.number.isRequired,\n  resizeHeights: PropTypes.arrayOf(PropTypes.number).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Divider from '@mui/material/Divider';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\n\nimport RemovePhotoIcon from './RemovePhotoIcon';\nimport ThumbnailChooser from './ThumbnailChooser';\nimport SelectedImage from './SelectedImage';\n\nexport default function ImagePreviewer({\n  imageDetails,\n  handleRemoveImage,\n  thumbnail,\n  handleThumbnailChange,\n  setDimensions,\n  resizeHeights,\n}) {\n  return imageDetails.length\n    ? (\n      <>\n        <Divider />\n        <Typography sx={{ p: 2 }} variant=\"h6\" align=\"center\">\n          Selected Images\n        </Typography>\n        <Grid\n          container\n          alignItems=\"center\"\n          justifyContent=\"space-around\"\n          sx={{ p: 1 }}\n        >\n          {imageDetails.map((photo, index) => (\n            <Button key={photo.url} component=\"div\">\n              <SelectedImage\n                photo={photo.url}\n                index={index}\n                setDimensions={setDimensions}\n                thumbnail={thumbnail}\n                resizeHeights={resizeHeights}\n              />\n              <RemovePhotoIcon handleClick={() => handleRemoveImage(index)} />\n              <ThumbnailChooser\n                index={index}\n                thumbnail={thumbnail}\n                handleThumbnailChange={handleThumbnailChange}\n              />\n            </Button>\n          ))}\n        </Grid>\n      </>\n    )\n    : null;\n}\n\nImagePreviewer.propTypes = {\n  imageDetails: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string,\n    url: PropTypes.string,\n    size: PropTypes.number,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  })).isRequired,\n  handleRemoveImage: PropTypes.func.isRequired,\n  thumbnail: PropTypes.number.isRequired,\n  handleThumbnailChange: PropTypes.func.isRequired,\n  setDimensions: PropTypes.func.isRequired,\n  resizeHeights: PropTypes.arrayOf(PropTypes.number).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Typography from '@mui/material/Typography';\n\nexport default function ErrorText({ text }) {\n  return (\n    <Typography sx={{ color: 'error.main' }}>\n      { text }\n    </Typography>\n  );\n}\n\nErrorText.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\n\nimport ImageSelector from './ImageSelector';\nimport ImagePreviewer from './ImagePreviewer';\nimport FormStepperNavigation from './FormStepperNavigation';\nimport BoxForm from './BoxForm';\nimport ErrorText from './ErrorText';\n\nexport default function ImageForm({\n  imageDetails,\n  thumbnail,\n  handleSelectedImageChange,\n  handleThumbnailChange,\n  removeSelectedImage,\n  handleNext,\n  handlePrevious,\n  isLast,\n  isFirst,\n  setDimensions,\n  resizeHeights,\n}) {\n  const maxAllowedImages = 15;\n  const minAllowedImages = 1;\n  const [imageError, setImageError] = useState('');\n  const [touched, setTouched] = useState(false);\n\n  function isValid() {\n    let valid = true;\n    setImageError('');\n    if (imageDetails.length < minAllowedImages) {\n      setImageError('Need atleast one image to create a memory');\n      valid = false;\n    }\n\n    if (imageDetails.length > maxAllowedImages) {\n      setImageError(`Maximum Allowed Images per Memory: ${maxAllowedImages}`);\n      valid = false;\n    }\n\n    return valid;\n  }\n\n  useEffect(() => {\n    if (touched) isValid();\n  }, [imageDetails, touched]);\n\n  const handleSubmit = (handleCallback) => {\n    if (isValid()) {\n      handleCallback();\n    }\n  };\n\n  const handleImageChange = (event) => {\n    setTouched(true);\n    handleSelectedImageChange(event, isValid);\n  };\n\n  return (\n    <BoxForm>\n      <Grid item>\n        <ImageSelector\n          handleChange={handleImageChange}\n        />\n      </Grid>\n      <Grid item container direction=\"column\" alignItems=\"center\">\n        <Typography>\n          Total Images Selected:\n          {imageDetails.length}\n        </Typography>\n        <ErrorText text={imageError} />\n      </Grid>\n      <FormStepperNavigation\n        handleNext={() => handleSubmit(handleNext)}\n        handlePrevious={handlePrevious}\n        isLast={isLast}\n        isFirst={isFirst}\n      />\n      <Grid item>\n        <ImagePreviewer\n          imageDetails={imageDetails}\n          handleRemoveImage={removeSelectedImage}\n          thumbnail={thumbnail}\n          handleThumbnailChange={handleThumbnailChange}\n          setDimensions={setDimensions}\n          resizeHeights={resizeHeights}\n        />\n      </Grid>\n    </BoxForm>\n  );\n}\n\nImageForm.propTypes = {\n  imageDetails: PropTypes.arrayOf(PropTypes.shape({\n    url: PropTypes.string,\n    name: PropTypes.string,\n    size: PropTypes.number,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  })).isRequired,\n  handleSelectedImageChange: PropTypes.func.isRequired,\n  removeSelectedImage: PropTypes.func.isRequired,\n  thumbnail: PropTypes.number.isRequired,\n  handleThumbnailChange: PropTypes.func.isRequired,\n  handleNext: PropTypes.func.isRequired,\n  handlePrevious: PropTypes.func.isRequired,\n  isLast: PropTypes.bool.isRequired,\n  isFirst: PropTypes.bool.isRequired,\n  setDimensions: PropTypes.func.isRequired,\n  resizeHeights: PropTypes.arrayOf(PropTypes.number).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport { useRef, useEffect } from 'react';\nimport { Editor, EditorState } from 'draft-js';\n\n/* import Divider from '@mui/material/Divider';\nimport EditorStyles from './EditorStyles'; */\n\nexport default function StoryEditor({\n  storyError, editorState, handleEditorStateChange,\n}) {\n  const storyRef = useRef();\n\n  useEffect(() => {\n    storyRef.current.focus();\n  }, []);\n\n  return (\n    <Box\n      sx={{\n        p: 2,\n        m: 1,\n        my: 2,\n        border: 1,\n        borderColor: storyError ? 'error.main' : 'primary.main',\n        bgcolor: 'input.background',\n        minHeight: '200px',\n        borderRadius: 5,\n      }}\n      onClick={() => storyRef.current.focus()}\n    >\n      {/* <EditorStyles editorState={editorState} /> */}\n      {/* <Divider sx={{ my: 1 }} />  */}\n      <Editor\n        editorState={editorState}\n        onChange={handleEditorStateChange}\n        placeholder=\"Tell your story...\"\n        ref={storyRef}\n      />\n    </Box>\n  );\n}\n\nStoryEditor.propTypes = {\n  storyError: PropTypes.string.isRequired,\n  editorState: PropTypes.instanceOf(EditorState).isRequired,\n  handleEditorStateChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { EditorState } from 'draft-js';\nimport 'draft-js/dist/Draft.css';\nimport { useState } from 'react';\nimport Box from '@mui/material/Box';\n\nimport FormStepperNavigation from './FormStepperNavigation';\nimport ErrorText from './ErrorText';\nimport StoryEditor from './StoryEditor';\n\nexport default function StoryForm({\n  editorState,\n  handleEditorStateChange,\n  handleNext,\n  handlePrevious,\n  isLast,\n  isFirst,\n  progressDialog,\n}) {\n  const maxStoryLength = 100000;\n  const [storyError, setStoryError] = useState('');\n\n  const submitForm = (handleCallback) => {\n    const memoryText = editorState.getCurrentContent().getPlainText();\n    if (memoryText.length <= maxStoryLength) {\n      setStoryError('');\n      handleCallback();\n    } else {\n      setStoryError(`Maximum story length is: ${maxStoryLength}`);\n    }\n  };\n\n  return (\n    <>\n      <StoryEditor\n        storyError={storyError}\n        editorState={editorState}\n        handleEditorStateChange={handleEditorStateChange}\n      />\n      <Box sx={{ p: 1, m: 1 }}>\n        <ErrorText text={storyError} />\n      </Box>\n      <FormStepperNavigation\n        handleNext={() => submitForm(handleNext)}\n        handlePrevious={handlePrevious}\n        isLast={isLast}\n        isFirst={isFirst}\n      />\n      {progressDialog}\n    </>\n  );\n}\n\nStoryForm.propTypes = {\n  editorState: PropTypes.instanceOf(EditorState).isRequired,\n  handleEditorStateChange: PropTypes.func.isRequired,\n  handleNext: PropTypes.func.isRequired,\n  handlePrevious: PropTypes.func.isRequired,\n  isLast: PropTypes.bool.isRequired,\n  isFirst: PropTypes.bool.isRequired,\n  progressDialog: PropTypes.node.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Dialog from '@mui/material/Dialog';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport CardContent from '@mui/material/CardContent';\nimport Divider from '@mui/material/Divider';\nimport LinearProgress from '@mui/material/LinearProgress';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport CheckCircleOutlineIcon from '@mui/icons-material/CheckCircleOutline';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\n\nfunction LinearProgressWithLabel({ value }) {\n  return (\n    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n      <Box sx={{ width: '100%', mr: 1 }}>\n        <LinearProgress variant=\"determinate\" value={value} />\n      </Box>\n      <Box sx={{ minWidth: 35 }}>\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          {`${Math.round(\n            value,\n          )}%`}\n        </Typography>\n      </Box>\n    </Box>\n  );\n}\n\nfunction MessageProgress({ message, done }) {\n  let showStatus;\n  if (done === 'failed') {\n    showStatus = <Typography color=\"error.main\">Failed</Typography>;\n  } else if (done === true) {\n    showStatus = <Typography color=\"success.main\">Done</Typography>;\n  } else {\n    showStatus = <CircularProgress size={30} />;\n  }\n  //  showStatus = done ? (\n  //  <Typography color=\"success.main\">Done</Typography>\n  //  ) : (\n  //  <CircularProgress size={30} />\n  //  );\n\n  return (\n    <Box sx={{ display: 'flex', alignItems: 'space-between' }}>\n      <Box sx={{ width: '100%', mr: 1 }}>\n        <Typography>{message}</Typography>\n      </Box>\n      <Box sx={{ minWidth: 35 }}>\n        {showStatus}\n      </Box>\n    </Box>\n\n  );\n}\n\nfunction MemoryCreationStatus({ progress, counter }) {\n  if (progress === 100) {\n    return (\n      <>\n        <Box sx={{\n          display: 'flex', justifyContent: 'center', alignItems: 'center', m: 2,\n        }}\n        >\n          <CheckCircleOutlineIcon color=\"success\" fontSize=\"large\" sx={{ mr: 2 }} />\n          <Typography variant=\"h5\" color=\"primary.main\">Memory Created Successfully</Typography>\n        </Box>\n\n        <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n          <Box>\n            <Typography>Navigating to memories page in </Typography>\n          </Box>\n          <Box sx={{ mx: 1 }}>\n            <Typography variant=\"h6\" color=\"success.main\">\n              {counter}\n            </Typography>\n          </Box>\n          <Box>\n            <Typography>seconds</Typography>\n          </Box>\n        </Box>\n      </>\n    );\n  }\n  if (progress === -1) {\n    return (\n      <>\n        <Box sx={{\n          display: 'flex', justifyContent: 'center', alignItems: 'center', m: 2,\n        }}\n        >\n          <ErrorOutlineIcon color=\"error\" fontSize=\"large\" sx={{ mr: 2 }} />\n          <Typography variant=\"h5\" color=\"primary.main\">Memory Creation Failed</Typography>\n        </Box>\n\n        <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n          <Box>\n            <Typography>Navigating to memories page in </Typography>\n          </Box>\n          <Box sx={{ mx: 1 }}>\n            <Typography variant=\"h6\" color=\"success.main\">\n              {counter}\n            </Typography>\n          </Box>\n          <Box>\n            <Typography>seconds</Typography>\n          </Box>\n        </Box>\n      </>\n    );\n  }\n  return null;\n}\n\nexport default function CreateMemoryProgress({\n  open, progress, messages,\n}) {\n  const [counter, setCounter] = useState(0);\n  useEffect(() => {\n    let timerId;\n    if (counter > 0) {\n      timerId = setTimeout(() => setCounter(counter - 1), 1000);\n    }\n    return () => clearTimeout(timerId);\n  }, [counter]);\n\n  useEffect(() => {\n    if (progress === 100 || progress === -1) setCounter(10);\n  }, [progress]);\n\n  return (\n    <Dialog\n      open={open}\n      fullWidth\n      sx={{\n        p: 1,\n      }}\n\n    >\n      <Card sx={{ maxWidth: 1, p: 1 }}>\n        <CardHeader title=\"Creating Memory\" sx={{ textAlign: 'center' }} />\n        <Divider />\n        <CardContent>\n          <LinearProgressWithLabel value={progress > 0 ? progress : 0} />\n          {messages.map((mesg) => (\n            <MessageProgress key={mesg.message} message={mesg.message} done={mesg.done} />\n          ))}\n          <MemoryCreationStatus progress={progress} counter={counter} />\n        </CardContent>\n      </Card>\n    </Dialog>\n\n  );\n}\n\nMemoryCreationStatus.propTypes = {\n  progress: PropTypes.number.isRequired,\n  counter: PropTypes.number.isRequired,\n};\n\nLinearProgressWithLabel.propTypes = {\n  value: PropTypes.number.isRequired,\n};\n\nMessageProgress.propTypes = {\n  message: PropTypes.string.isRequired,\n  done: PropTypes.bool.isRequired,\n};\n\nCreateMemoryProgress.defaultProps = {\n  messages: [],\n};\n\nCreateMemoryProgress.propTypes = {\n  open: PropTypes.bool.isRequired,\n  progress: PropTypes.number.isRequired,\n  messages: PropTypes.arrayOf(PropTypes.exact(\n    {\n      message: PropTypes.string,\n      done: PropTypes.bool,\n    },\n  )),\n};\n","import api from '../Api';\n\nfunction UploadImages(bucket, authURL, memoryKey, title, imageFiles, incrementImageCount) {\n  const paramList = imageFiles.map((imgFile) => (\n    {\n      Key: ['memories', memoryKey, 'images', imgFile.name].join('/'),\n      Body: imgFile,\n      ContentType: imgFile.type,\n    }\n  ));\n  const uploadPromises = api.uploadMultipleImages(bucket, authURL, paramList, incrementImageCount);\n  return Promise.allSettled(uploadPromises);\n}\n\nasync function ValidateDetails(bucket, authURL, memoryDetails) {\n  const detailsJSON = JSON.stringify(memoryDetails);\n  const validateResp = await api.validateDetails(bucket, authURL, detailsJSON);\n  console.log(validateResp);\n  if (validateResp.status === 'error') {\n    return false;\n  }\n  return validateResp.Valid === true;\n}\n\nasync function UploadDetails(bucket, authURL, memoryDetails) {\n  const detailsJSON = JSON.stringify(memoryDetails);\n  const memoryDetailsKey = ['memories', memoryDetails.key, 'details.json'].join('/');\n  const uploadResp = await api.upload(bucket, authURL, memoryDetailsKey, detailsJSON);\n  return (uploadResp && uploadResp.ok === true);\n}\n\nconst InitializeMemory = async (\n  bucket,\n  authURL,\n  memoryDetails,\n  handleProgress,\n  updateMessageStatus,\n  addMessage,\n) => {\n  handleProgress(0);\n  addMessage('Initializing memory', false);\n  const valid = await ValidateDetails(bucket, authURL, memoryDetails);\n  let initRes;\n  if (valid === true) {\n    initRes = await UploadDetails(bucket, authURL, memoryDetails);\n    updateMessageStatus('Initializing Memory', initRes);\n    handleProgress(10);\n  } else {\n    updateMessageStatus('Initializing Memory', 'failed');\n  }\n  return valid;\n};\n\nconst HandleImages = async (\n  bucket,\n  authURL,\n  memoryKey,\n  title,\n  imageFiles,\n  incrementImageCount,\n  handleProgress,\n) => {\n  const imagesResults = await UploadImages(\n    bucket,\n    authURL,\n    memoryKey,\n    title,\n    imageFiles,\n    incrementImageCount,\n  );\n  for (let i = 0; i < imagesResults.length; i += 1) {\n    if ((imagesResults[i].status === 'rejected') || (imagesResults[i].value.ok !== true)) {\n      return false;\n    }\n  }\n  handleProgress(95);\n  return true;\n};\n\nconst CreateMemory = async (\n  bucket,\n  authURL,\n  memoryDetails,\n  handleProgress,\n  updateMessageStatus,\n  addMessage,\n  imageFiles,\n  incrementImageCount,\n) => {\n  // Validate details and upload if valid\n  const initMemResults = await InitializeMemory(\n    bucket,\n    authURL,\n    memoryDetails,\n    handleProgress,\n    updateMessageStatus,\n    addMessage,\n  );\n  console.log('Initialize Memory completed', initMemResults, new Date());\n\n  let imagesResults;\n  if (initMemResults === true) {\n    // Upload original images\n    imagesResults = await HandleImages(\n      bucket,\n      authURL,\n      memoryDetails.key,\n      memoryDetails.title,\n      imageFiles,\n      incrementImageCount,\n      handleProgress,\n    );\n\n    if (imagesResults === true) {\n      const finalizeResults = await api.finalizeMemory(bucket, authURL, memoryDetails.key);\n      if (parseInt(finalizeResults.MemoryID, 10) !== memoryDetails.key) {\n        return false;\n      }\n      return true;\n    }\n    updateMessageStatus('Uploading Original Images', 'failed');\n  }\n\n  return false;\n};\n\nexport default { CreateMemory };\n","import { useState, useEffect } from 'react';\n\nimport { convertToRaw, EditorState } from 'draft-js';\nimport { useNavigate } from 'react-router-dom';\nimport useTitle from '../../hooks/title';\nimport useDate from '../../hooks/date';\nimport useSelectedImages from '../../hooks/selectedImages';\nimport useStory from '../../hooks/story';\nimport useStep from '../../hooks/formStep';\nimport useProgressMessage from '../../hooks/progressMessage';\n\nimport CreateMemoryForm from './CreateMemoryForm';\nimport PreviewMemory from './PreviewMemory';\nimport TitleDateForm from './TitleDateForm';\nimport ImageForm from './ImageForm';\nimport StoryForm from './StoryForm';\nimport CreateMemoryProgress from './CreateMemoryProgress';\nimport MemoryUtils from './MemoryUtils';\n//  import api from '../Api';\n\nfunction getTotalSize(images) {\n  return images.reduce((partialSum, image) => partialSum + image.size, 0);\n}\n\nexport default function ModeContent({ mode, bucket, authURL }) {\n  const navigate = useNavigate();\n  const resizeHeights = [500, 1000, 1500];\n  const stepTitles = [\n    'Enter memory title and date',\n    'Upload Pictures',\n    'Write story',\n  ];\n  const [activeStep, handleNext, handlePrevious, isLast, isFirst] = useStep(stepTitles.length);\n  const [title,, handleTitleChange] = useTitle('');\n  const [date,, handleDateChange] = useDate('');\n  const [\n    imageDetails,\n    thumbnail,\n    handleSelectedImageChange,\n    removeSelectedImage,\n    handleThumbnailChange,\n    setDimensions,\n  ] = useSelectedImages();\n\n  const [editorState,, handleEditorStateChange] = useStory(EditorState.createEmpty());\n  const [open, setOpen] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [messages, addMessage, updateMessageStatus] = useProgressMessage();\n  const [uploadCount, setUploadCount] = useState(0);\n\n  const handleProgress = (progressPercentage) => setProgress(progressPercentage);\n  const incrementImageCount = () => setUploadCount((cnt) => cnt + 1);\n  const imageFiles = imageDetails.map((detail) => detail.imageFile);\n\n  useEffect(() => {\n    const message = `Uploading Original Images (${uploadCount}/${imageDetails.length})`;\n    if (uploadCount >= 0 && progress >= 10) {\n      if (uploadCount === 0) addMessage(message, false);\n      else updateMessageStatus(message, false);\n\n      if (imageDetails.length === uploadCount) updateMessageStatus(message, true);\n    }\n  }, [uploadCount, progress]);\n\n  const TitleDate = (\n    <TitleDateForm\n      activeStep={activeStep}\n      handleNext={handleNext}\n      handlePrevious={handlePrevious}\n      isLast={isLast}\n      isFirst={isFirst}\n      title={title}\n      date={date}\n      handleTitleChange={handleTitleChange}\n      handleDateChange={handleDateChange}\n    />\n  );\n\n  const SelectImages = (\n    <ImageForm\n      imageDetails={imageDetails}\n      handleSelectedImageChange={handleSelectedImageChange}\n      removeSelectedImage={removeSelectedImage}\n      thumbnail={thumbnail}\n      handleThumbnailChange={handleThumbnailChange}\n      handleNext={handleNext}\n      handlePrevious={handlePrevious}\n      isLast={isLast}\n      isFirst={isFirst}\n      setDimensions={setDimensions}\n      resizeHeights={resizeHeights}\n    />\n  );\n\n  const handleSubmit = async () => {\n    // so that the newest memory has the smallest key and so  comes first in s3 listObjects\n    // When this fails wont be there to take blame. Should be dead by then. :-)\n    const memoryKey = new Date(2100, 1, 1).getTime() - Date.now();\n    const memoryDetails = {\n      key: memoryKey,\n      title,\n      date,\n      lastModified: new Date(),\n      imageDetails,\n      contentState: convertToRaw(editorState.getCurrentContent()),\n      thumbnail: imageDetails[thumbnail],\n      totalSize: getTotalSize(imageDetails),\n    };\n    setOpen(true);\n\n    const created = await MemoryUtils.CreateMemory(\n      bucket,\n      authURL,\n      memoryDetails,\n      handleProgress,\n      updateMessageStatus,\n      addMessage,\n      imageFiles,\n      incrementImageCount,\n    );\n\n    console.log('created=', created);\n    if (created === true) {\n      handleProgress(100);\n    } else {\n      handleProgress(-1);\n      console.log('error while creating memory');\n    }\n    setTimeout(() => navigate('/memories'), 10000);\n  };\n\n  const ProgressDialog = (\n    <CreateMemoryProgress open={open} progress={progress} messages={messages} />\n  );\n\n  const WriteStory = (\n    <StoryForm\n      editorState={editorState}\n      handleEditorStateChange={handleEditorStateChange}\n      handleNext={handleSubmit}\n      handlePrevious={handlePrevious}\n      isLast={isLast}\n      isFirst={isFirst}\n      progressDialog={ProgressDialog}\n    />\n  );\n\n  const stepForms = [TitleDate, SelectImages, WriteStory];\n\n  let content;\n\n  const CreateModeContent = CreateMemoryForm(\n    stepTitles.length,\n    stepTitles,\n    stepForms,\n    handleSubmit,\n    activeStep,\n    isLast,\n    handleNext,\n    handlePrevious,\n  );\n  const PreviewModeContent = PreviewMemory(title, date, imageDetails, thumbnail, editorState);\n  if (mode === 'Create') {\n    content = CreateModeContent;\n  }\n\n  if (mode === 'Preview') {\n    content = PreviewModeContent;\n  }\n\n  return content;\n}\n","import { useState } from 'react';\n\nexport default function useStep(stepCount) {\n  const [activeStep, setActiveStep] = useState(0);\n\n  const handleNext = () => {\n    setActiveStep((activeStep + 1) % stepCount);\n  };\n\n  const handlePrevious = () => {\n    setActiveStep((activeStep - 1 + stepCount) % stepCount);\n  };\n\n  const isLast = activeStep === stepCount - 1;\n  const isFirst = activeStep === 0;\n\n  return [activeStep, handleNext, handlePrevious, isLast, isFirst];\n}\n","import { useState } from 'react';\n\nexport default function useSelectedImages() {\n  const [imageDetails, setImageDetails] = useState([]);\n  const [imageFiles, setImageFiles] = useState([]);\n  const [thumbnail, setThumbnail] = useState(0);\n\n  const handleThumbnailChange = (index) => {\n    setThumbnail(index);\n  };\n\n  const handleSelectedImageChange = (event) => {\n    if (event.target.files) {\n      const files = Array.from(event.target.files);\n      files.forEach((file) => {\n        const image = new Image();\n        image.onload = (e) => {\n          setImageDetails((arr) => arr.concat([\n            {\n              name: file.name,\n              size: file.size / (1024 * 1024),\n              url: e.target.src,\n              height: e.target.naturalHeight,\n              width: e.target.naturalWidth,\n              imageFile: file,\n            },\n          ]));\n        };\n        image.src = URL.createObjectURL(file);\n      });\n      setImageFiles((arr) => arr.concat(files));\n      files.map((file) => URL.revokeObjectURL(file)); // avoid memory leak\n    }\n  };\n\n  const removeSelectedImage = (index) => {\n    setImageDetails([\n      ...imageDetails.slice(0, index),\n      ...imageDetails.slice(index + 1),\n    ]);\n\n    setImageFiles([\n      ...imageFiles.slice(0, index),\n      ...imageFiles.slice(index + 1),\n    ]);\n\n    if (index < thumbnail) {\n      handleThumbnailChange(thumbnail - 1);\n    } else if (index === thumbnail) {\n      handleThumbnailChange(0);\n    }\n  };\n\n  const setDimensions = (index, images) => {\n    setImageDetails([\n      ...imageDetails.slice(0, index),\n      {\n        ...imageDetails[index],\n        images,\n      },\n      ...imageDetails.slice(index + 1),\n    ]);\n  };\n\n  return [\n    imageDetails,\n    thumbnail,\n    handleSelectedImageChange,\n    removeSelectedImage,\n    handleThumbnailChange,\n    setDimensions,\n  ];\n}\n","import { useState } from 'react';\n\nexport default function useProgressMessage() {\n  const [messages, setMessages] = useState([]);\n\n  const addMessage = (message, done) => {\n    const newMessage = [{ message, done }];\n    setMessages((arr) => arr.concat(newMessage));\n  };\n\n  const updateMessageStatus = (message, done) => {\n    const newMessage = [{ message, done }];\n    setMessages((arr) => arr.slice(0, -1).concat(newMessage));\n  };\n\n  return [messages, addMessage, updateMessageStatus];\n}\n","import Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport Divider from '@mui/material/Divider';\nimport FormStepper from './FormStepper';\n\nexport default function CreateMemoryForm(\n  stepCount,\n  stepTitles,\n  stepForms,\n  handleSubmit,\n  activeStep,\n) {\n  return (\n    <Grid container justifyContent=\"center\">\n      <Grid\n        item\n        lg={6}\n        xs={12}\n        sx={{\n          boxShadow: 10,\n          borderRadius: 5,\n          bgcolor: 'button.main',\n          mb: 2,\n        }}\n      >\n        <Box>\n          <FormStepper\n            titles={stepTitles}\n            activeStep={activeStep}\n            handleClick={() => {}}\n          />\n          <Divider />\n          {stepForms[activeStep]}\n        </Box>\n      </Grid>\n    </Grid>\n  );\n}\n","import Grid from '@mui/material/Grid';\n\nimport MemoryThumbnail from '../MemoryThumbnail';\nimport MemoryContent from './MemoryContent';\nimport PreviewCardHeader from './PreviewCardHeader';\n\nexport default function PreviewMemory(\n  title,\n  date,\n  imageDetails,\n  thumbnail,\n  editorState,\n) {\n  return (\n    <Grid container justifyContent=\"space-evenly\" sx={{ p: 0 }}>\n      <Grid\n        item\n        xs={6}\n        sm={4}\n        md={4}\n        lg={3}\n        xl={2}\n        sx={{ px: 1, mb: 1 }}\n      >\n        <PreviewCardHeader title=\"Thumbnail Preview\" />\n        <MemoryThumbnail\n          title={title}\n          date={date || ''}\n          thumbnailImage={(imageDetails.length) > 0 ? imageDetails[thumbnail].url : ''}\n          handleClick={() => {}}\n        />\n      </Grid>\n\n      <Grid\n        item\n        xs={12}\n        lg={9}\n        xl={10}\n      >\n        <PreviewCardHeader title=\"Memory Preview\" />\n        <MemoryContent\n          memTitle={title}\n          memDate={date}\n          memEditorState={editorState}\n          memImages={imageDetails.map((image) => ({\n            src: image.url,\n            width: image.width,\n            height: image.height,\n          }))}\n          imageNames={imageDetails.map((image) => image.name)}\n          preview\n        />\n      </Grid>\n    </Grid>\n  );\n}\n","import { useNavigate } from 'react-router-dom';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\nimport AddOutlinedIcon from '@mui/icons-material/AddOutlined';\n\nimport MemoryThumbnailCard from '../MemoryThumbnailCard';\n\nexport default function CreateMemoryItem() {\n  const navigate = useNavigate();\n  const belowmd = useMediaQuery((theme) => theme.breakpoints.down('md'));\n\n  const handleClick = () => {\n    navigate('/memory/create');\n  };\n\n  return (\n    <Grid\n      item\n      key=\"creatememory\"\n      lg={3}\n      md={4}\n      xs={6}\n      sx={{ p: 1 }}\n    >\n      <MemoryThumbnailCard handleClick={handleClick}>\n        <Typography\n          variant={belowmd ? 'body1' : 'h5'}\n          color=\"button.main\"\n          sx={{\n            p: 1,\n            color: 'secondary.main',\n            bgcolor: 'primary.main',\n            borderRadius: '0px 10px 10px 0px',\n            borderColor: 'secondary.main',\n            position: 'absolute',\n            bottom: 15,\n            left: 0,\n          }}\n        >\n          Create a memory\n        </Typography>\n        <AddOutlinedIcon\n          sx={{\n            position: 'absolute',\n            border: 3,\n            borderRadius: '50%',\n            fontSize: '7.5rem',\n            left: '50%',\n            top: '50%',\n            transform: 'translate(-50%, -50%)',\n            color: 'muted.main',\n          }}\n        />\n      </MemoryThumbnailCard>\n    </Grid>\n  );\n}\n","import PropTypes from 'prop-types';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\n\nimport MemoryThumbnailCard from '../MemoryThumbnailCard';\n\nexport default function LoadMore({ handleMoreClick }) {\n  return (\n    <Grid\n      item\n      key=\"creatememory\"\n      lg={3}\n      md={4}\n      xs={6}\n      sx={{ p: 1 }}\n    >\n      <MemoryThumbnailCard handleClick={handleMoreClick}>\n        <Typography\n          variant=\"h5\"\n          sx={{\n            p: 2,\n            color: 'secondary.main',\n            bgcolor: 'primary.main',\n            borderRadius: { md: 10, xs: '50%' },\n            borderColor: 'secondary.main',\n            position: 'absolute',\n            bottom: '50%',\n            left: '50%',\n            transform: 'translate(-50%, +50%)',\n            textAlign: 'center',\n          }}\n        >\n          Load More\n        </Typography>\n      </MemoryThumbnailCard>\n    </Grid>\n  );\n}\n\nLoadMore.propTypes = {\n  handleMoreClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useNavigate } from 'react-router-dom';\nimport Grid from '@mui/material/Grid';\nimport MemoryThumbnail from '../MemoryThumbnail';\n\nimport CreateMemoryItem from './CreateMemoryItem';\nimport LoadMore from './LoadMore';\n\nexport default function GridView({\n  memories, handleMoreClick, nextToken, handleImageLoad,\n}) {\n  const navigate = useNavigate();\n  const sortedMemories = memories.sort((a, b) => (a.memory_id > b.memory_id ? 1 : -1));\n\n  const handleClick = (memDetails) => {\n    navigate(`/memory/${memDetails.memory_id}`, { state: memDetails });\n  };\n\n  const getThumbnailSrcSet = (thumbnailImage) => {\n    const srcSetList = thumbnailImage.images ? thumbnailImage.images.map(({ src, width }) => `${src} ${width}w`) : [];\n    return srcSetList.join(',');\n  };\n\n  return (\n    <Grid container sx={{ bgcolor: 'button.main', py: 1 }} justifyContent=\"left\" alignItems=\"flex-start\">\n      <CreateMemoryItem />\n      {sortedMemories.map((memory) => (\n        <Grid\n          item\n          key={memory.title}\n          lg={3}\n          md={4}\n          xs={6}\n          sx={{ p: 1 }}\n        >\n          <MemoryThumbnail\n            title={memory.title}\n            date={memory.date}\n            thumbnailImage={memory.photo.src}\n            thumbnailImageSrcSet={getThumbnailSrcSet(memory.photo)}\n            handleClick={() => handleClick(memory)}\n            handleImageLoad={handleImageLoad}\n          />\n        </Grid>\n      ))}\n      { nextToken && (<LoadMore handleMoreClick={handleMoreClick} />) }\n    </Grid>\n  );\n}\n\nGridView.defaultProps = {\n  memories: [],\n};\n\nGridView.propTypes = {\n  memories: PropTypes.arrayOf(\n    PropTypes.shape({\n      memory_id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      date: PropTypes.string.isRequired,\n      photo: PropTypes.arrayOf(PropTypes.shape({\n        key: PropTypes.string,\n        src: PropTypes.string,\n        title: PropTypes.string,\n        alt: PropTypes.string,\n        width: PropTypes.number,\n        height: PropTypes.number,\n      })),\n    }),\n  ),\n  nextToken: PropTypes.string.isRequired,\n  handleMoreClick: PropTypes.func.isRequired,\n  handleImageLoad: PropTypes.func.isRequired,\n};\n","export default __webpack_public_path__ + \"static/media/image-loading.b17d2768.gif\";","import * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport Skeleton from '@mui/material/Skeleton';\nimport BasePage from '../base_page';\nimport GridView from './GridView';\nimport api from '../Api';\nimport CreateMemoryItem from './CreateMemoryItem';\nimport MemoryThumbnail from '../MemoryThumbnail';\n\nimport imageLoading from '../../static/images/image-loading.gif';\n\nasync function getMemories(\n  bucket,\n  authURL,\n  handleMemoryCallback,\n  handleTokenCallback,\n  handleThumbnailCallback,\n  nextToken = '',\n) {\n  try {\n    const resp = await api.getMemories(bucket, authURL, nextToken);\n    console.log(resp);\n    if (resp) {\n      handleThumbnailCallback(resp);\n      const thumbnails = await Promise.all(\n        api.getThumbnails(bucket, authURL, resp),\n      );\n      handleMemoryCallback(thumbnails);\n      handleTokenCallback(resp.next_continuation_token || '');\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport default function Memories({ bucket, authURL }) {\n  const [nextToken, setNextToken] = useState('');\n  const [memoryIDs, setMemoryIDs] = useState([]);\n  const [memories, setMemories] = useState([]);\n  const [count, setCount] = useState(0);\n  const [grid, setGrid] = useState(null);\n\n  const picLoaded = () => {\n    console.log('Image loaded', count);\n    setCount((cnt) => cnt + 1);\n  };\n  const handleTokenChange = (newToken) => setNextToken(newToken);\n\n  const addMemories = (details) => {\n    setMemories((arr) => arr.concat(details));\n  };\n\n  const addMemoryIDs = (ids) => {\n    setMemoryIDs((arr) => arr.concat(ids));\n  };\n\n  useEffect(() => {\n    getMemories(\n      bucket,\n      authURL,\n      addMemories,\n      handleTokenChange,\n      addMemoryIDs,\n      nextToken,\n    );\n  }, []);\n\n  function GetThumbnailGrid() {\n    console.log(memories, nextToken);\n    const thumbnailGrid = (\n      <BasePage>\n        <GridView\n          memories={memories}\n          nextToken={nextToken}\n          handleMoreClick={() => getMemories(\n            bucket,\n            authURL,\n            addMemories,\n            handleTokenChange,\n            nextToken,\n          )}\n          handleImageLoad={picLoaded}\n        />\n      </BasePage>\n    );\n    setGrid(thumbnailGrid);\n  }\n\n  useEffect(() => GetThumbnailGrid(), [memories, nextToken]);\n\n  console.log(memories.length, memoryIDs.length, count);\n\n  return (memories.length === memoryIDs.length) && (count >= memoryIDs.length) ? (\n    grid\n  ) : (\n    <BasePage>\n      <Grid\n        container\n        sx={{ bgcolor: 'button.main', py: 1 }}\n        justifyContent=\"left\"\n        alignItems=\"flex-start\"\n      >\n        <CreateMemoryItem />\n\n        {memoryIDs.map((memory) => (\n          <Grid item key={memory} lg={3} md={4} xs={6} sx={{ p: 1 }}>\n            <MemoryThumbnail\n              title={<Skeleton type=\"rectangular\" sx={{ width: '60%' }} />}\n              date={<Skeleton type=\"rectangular\" sx={{ width: '50%' }} />}\n              thumbnailImage={imageLoading}\n              handleClick={() => {}}\n            />\n          </Grid>\n        ))}\n      </Grid>\n\n      <Box component=\"div\" sx={{ display: 'none' }}>\n        {grid}\n      </Box>\n    </BasePage>\n  );\n}\n\nMemories.propTypes = {\n  bucket: PropTypes.string.isRequired,\n  authURL: PropTypes.string.isRequired,\n};\n","import { alpha, createTheme, responsiveFontSizes } from '@mui/material/styles';\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: '#0e516a',\n      inverse: '#F1AE95',\n      cta: alpha('#0e516a', 0.9),\n    },\n    secondary: {\n      main: '#ffc745',\n    },\n    ternary: {\n      main: '#FFA500',\n    },\n    muted: {\n      main: '#6c757d',\n    },\n    button: {\n      main: '#ffffff',\n    },\n    faded: {\n      black: alpha('#000', 0.7),\n    },\n    social: {\n      youtube: '#CD201F',\n      facebook: '#1877F2',\n      twitter: '#1DA1F2',\n      instagram: '#E4405F',\n      heart: '#6b0000',\n      react: '#61dbfb',\n    },\n    memorycard: {\n      background: '#dff2f3',\n    },\n    form: {\n      stepper: '#f1f1f1',\n      body: '#f9ffff',\n      input: alpha('#fff', 0.5),\n    },\n    basepage: {\n      background: '#9e9e9e',\n    },\n  },\n  typography: {\n    badscript: {\n      fontFamily: 'BadScript',\n      fontDisplay: 'swap',\n    },\n    button: {\n      textTransform: 'none',\n      fontSize: '1rem',\n    },\n  },\n});\n\nexport default responsiveFontSizes(theme);\n","import imageLoading from '../images/image-loading.gif';\n\nexport default [\n  {\n    key: 1, src: imageLoading, width: 667, height: 500,\n  },\n  {\n    key: 2, src: imageLoading, width: 667, height: 500,\n  },\n  {\n    key: 3, src: imageLoading, width: 375, height: 500,\n  },\n  {\n    key: 4, src: imageLoading, width: 667, height: 500,\n  },\n  {\n    key: 5, src: imageLoading, width: 375, height: 500,\n  },\n  {\n    key: 6, src: imageLoading, width: 667, height: 500,\n  },\n  {\n    key: 7, src: imageLoading, width: 667, height: 500,\n  },\n  {\n    key: 8, src: imageLoading, width: 667, height: 500,\n  },\n  {\n    key: 9, src: imageLoading, width: 667, height: 500,\n  },\n  {\n    key: 10, src: imageLoading, width: 667, height: 500,\n  },\n  {\n    key: 11, src: imageLoading, width: 375, height: 500,\n  },\n  {\n    key: 12, src: imageLoading, width: 375, height: 500,\n  },\n  {\n    key: 13, src: imageLoading, width: 375, height: 500,\n  },\n  {\n    key: 14, src: imageLoading, width: 375, height: 500,\n  },\n  {\n    key: 15, src: imageLoading, width: 667, height: 500,\n  },\n];\n","import Skeleton from '@mui/material/Skeleton';\nimport PhotoAlbum from 'react-photo-album';\n\nimport MemoryContentStructure from './MemoryContentStructure';\nimport loadingAlbum from '../../static/data/loading_album';\n\nexport default function MemoryContentLoading() {\n  return (\n    <MemoryContentStructure\n      header={(\n        <Skeleton\n          type=\"rectangular\"\n          sx={{\n            width: {\n              lg: '20%',\n              md: '30%',\n              xs: '70%',\n            },\n          }}\n        />\n  )}\n      subheader={(\n        <Skeleton\n          type=\"rectangular\"\n          sx={{\n            width: {\n              lg: '15%',\n              md: '20%',\n              xs: '60%',\n            },\n          }}\n        />\n  )}\n      photoLayout={(\n        <PhotoAlbum\n          layout=\"rows\"\n          photos={loadingAlbum}\n          spacing={2}\n        />\n  )}\n      storyLayout={(\n        <>\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '50%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '50%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '50%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '98%' }} />\n          <Skeleton type=\"rectangular\" sx={{ width: '50%' }} />\n        </>\n    )}\n    />\n  );\n}\n","import { useParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport { EditorState, convertFromRaw } from 'draft-js';\n\nimport api from '../Api';\nimport BasePage from '../base_page';\nimport MemoryContent from './MemoryContent';\nimport MemoryContentLoading from './MemoryContentLoading';\n\nasync function getMemory(\n  bucket,\n  authURL,\n  memoryId,\n  handleMemoryCallback,\n) {\n  try {\n    const memoryData = await api.viewMemory(bucket, authURL, memoryId);\n    handleMemoryCallback(memoryData);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport default function ViewMemory({ bucket, authURL }) {\n  const params = useParams();\n  const { memoryId } = params;\n  const [memory, setMemory] = useState();\n\n  const handleMemory = (mem) => setMemory(mem);\n\n  useEffect(() => {\n    getMemory(bucket, authURL, memoryId, handleMemory);\n    const interval = setInterval(() => getMemory(bucket, authURL, memoryId, handleMemory), 300000);\n    return () => clearInterval(interval);\n  }, []);\n\n  return memory ? (\n    <BasePage>\n      <MemoryContent\n        memTitle={memory.title}\n        memDate={memory.date}\n        memImages={memory.pictures.photos}\n        memEditorState={EditorState.createWithContent(convertFromRaw(memory.contentState))}\n        memoryID={memoryId}\n        bucket={bucket}\n        authURL={authURL}\n        preview={false}\n      />\n    </BasePage>\n  ) : (\n    <BasePage>\n      <MemoryContentLoading />\n    </BasePage>\n  );\n}\n\nViewMemory.propTypes = {\n  bucket: PropTypes.string.isRequired,\n  authURL: PropTypes.string.isRequired,\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    || window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      // eslint-disable-next-line no-param-reassign\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://cra.link/PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://cra.link/PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","export default __webpack_public_path__ + \"static/media/BadScript-Regular.a7245c62.ttf\";","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { ThemeProvider } from '@mui/material/styles';\nimport { HashRouter, Routes, Route } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\nimport CreateMemory from './pages/memory/Create';\nimport Memories from './pages/memories/List';\nimport PrelaunchTheme from './theme';\nimport ViewMemory from './pages/memory/View';\nimport { ScrollToTop } from './components/common';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport Authenticate from './hocs/require-authentication';\n\nimport './fonts/BadScript-Regular.ttf';\n\nconst bucket = process.env.REACT_APP_S3_BUCKET;\nconst authURL = process.env.REACT_APP_AUTH_URL;\nconst MemoriesRoute = Authenticate(Memories);\nconst CreateMemoryRoute = Authenticate(CreateMemory);\nconst ViewMemoryRoute = Authenticate(ViewMemory);\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={PrelaunchTheme}>\n      <HashRouter basename={process.env.PUBLIC_URL}>\n        <ScrollToTop />\n        <Routes>\n          <Route\n            exact\n            path=\"/\"\n            element={<MemoriesRoute bucket={bucket} authURL={authURL} />}\n          />\n          <Route path=\"/login\" element={<App authURL={authURL} />} />\n          <Route\n            exact\n            path=\"/memories\"\n            element={<MemoriesRoute bucket={bucket} authURL={authURL} />}\n          />\n          <Route\n            path=\"/memory/create\"\n            element={<CreateMemoryRoute bucket={bucket} authURL={authURL} />}\n          />\n          <Route\n            path=\"/memory/:memoryId\"\n            element={<ViewMemoryRoute bucket={bucket} authURL={authURL} />}\n          />\n          <Route path=\"*\" element={<App authURL={authURL} />} />\n        </Routes>\n      </HashRouter>\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n","import { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport BasePage from '../base_page';\nimport ToggleViewMode from './ToggleViewMode';\nimport ModeContent from './ModeContent';\n\nexport default function CreateMemory({ bucket, authURL }) {\n  const modes = ['Create', 'Preview'];\n  const [mode, setMode] = useState(modes[0]);\n  const ref = useRef(null);\n\n  return (\n    <BasePage>\n      <ToggleViewMode mode={mode} handleModeChange={setMode} modes={modes} />\n      <ModeContent mode={mode} formRef={ref} bucket={bucket} authURL={authURL} />\n    </BasePage>\n  );\n}\n\nCreateMemory.propTypes = {\n  bucket: PropTypes.string.isRequired,\n  authURL: PropTypes.string.isRequired,\n};\n"],"sourceRoot":""}