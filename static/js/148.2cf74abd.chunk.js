"use strict";(self.webpackChunkprelaunch=self.webpackChunkprelaunch||[]).push([[148],{41148:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(74165),a=n(1413),u=n(15861),c=n(57689),s=n(94606),o=n(74144),i=n(25942),l=n(80184);function p(e,t){return f.apply(this,arguments)}function f(){return f=(0,u.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("images array",t),e.next=3,Promise.allSettled(t.map(function(){var e=(0,u.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Promise((function(e){var r=new Image;r.onload=function(a){var u=a.target,c=u.naturalWidth/u.naturalHeight,s=t.title,i=t.type,l=o.Z.downscaleImage(r,n,n/c,i);console.log("image loading",{title:s,src:l,naturalHeight:n/c,naturalWidth:n,aspectRatio:c,type:i}),e({title:s,src:l,naturalHeight:n/c,naturalWidth:n,aspectRatio:c,type:i})},r.src=t.src})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return a=e.sent,console.log("images after resize",a.map((function(e){return e.value}))),e.abrupt("return",a.map((function(e){return e.value})));case 6:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function g(){var e=(0,c.UO)().collageID,t=function(){var t=(0,u.Z)((0,r.Z)().mark((function t(){var n,c,o,i,l,f;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=1500,console.log("use effect making call to get collage"),t.next=4,s.Z.getCollage(e);case 4:return c=t.sent,o=c.details,t.next=8,Promise.allSettled(o.images.map(function(){var e=(0,u.Z)((0,r.Z)().mark((function e(t){var n,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.urls[t.title],e.next=3,fetch(n).then((function(e){return e.text()}));case 3:return u=e.sent,console.log("image SRC",u),e.abrupt("return",(0,a.Z)((0,a.Z)({},t),{},{src:u}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return i=t.sent,l=i.map((function(e){return e.value})),t.next=12,p(l,n);case 12:return f=t.sent,console.log("temp images",i,l,f),t.abrupt("return",{details:o,images:f,originalImages:l});case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,l.jsx)(i.default,{getCollage:t,clearCollage:function(){},saveType:"existing"})}}}]);
//# sourceMappingURL=148.2cf74abd.chunk.js.map