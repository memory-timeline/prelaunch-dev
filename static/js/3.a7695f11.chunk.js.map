{"version":3,"file":"static/js/3.a7695f11.chunk.js","mappings":"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","sources":["components/RemovePhotoIcon.jsx","components/simple_snackbar.jsx","hooks/date.jsx","hooks/story.jsx","hooks/title.jsx","pages/Api.jsx","components/ActionIcon.jsx","components/confirmation.jsx","pages/memory/Delete.jsx","components/UpdateMemoryIcon.jsx","hooks/email.jsx","components/EmailInput.jsx","components/NewShares.jsx","components/StatusTable.jsx","components/CheckboxCell.jsx","components/PersonalDetailsCell.jsx","components/ExpandStatusIconCell.jsx","components/ShareRow.jsx","components/SelectAllCheckboxCell.jsx","components/TableHeader.jsx","components/ExistingShares.jsx","components/CloseButton.jsx","pages/memory/Share.jsx","pages/memory/Actions.jsx","pages/memory/ContentStructure.jsx","components/MemoryImageSlide.jsx","pages/memory/MemoryCarousel.jsx","pages/memory/MemoryTitle.jsx","pages/memory/MemoryDate.jsx","pages/memory/MemoryStory.jsx","pages/memory/MemoryImages.jsx","pages/memory/MemoryContent.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport { alpha } from '@mui/material/styles';\n\nexport default function RemovePhotoIcon({ size, handleClick }) {\n  return (\n    <IconButton\n      size={size}\n      sx={{\n        color: 'black',\n        bgcolor: alpha('#fff', 0.4),\n        position: 'absolute',\n        top: 10,\n        right: 12,\n      }}\n      onClick={handleClick}\n    >\n      <CloseIcon size={size} />\n    </IconButton>\n  );\n}\n\nRemovePhotoIcon.defaultProps = {\n  size: 'small',\n};\n\nRemovePhotoIcon.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  size: PropTypes.string,\n};\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Snackbar from '@mui/material/Snackbar';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport Stack from '@mui/material/Stack';\nimport DoneIcon from '@mui/icons-material/Done';\nimport Typography from '@mui/material/Typography';\n\nfunction SnackText({ message, error }) {\n  if (error === true) {\n    return (\n      <Stack direction=\"row\" spacing={2} justifyContents=\"space-between\" alignItems=\"center\">\n        <CloseIcon fontSize=\"small\" color=\"error\" />\n        <Typography>{message}</Typography>\n      </Stack>\n    );\n  }\n  return (\n    <Stack direction=\"row\" spacing={2} justifyContents=\"space-between\" alignItems=\"center\">\n      <DoneIcon fontSize=\"small\" color=\"success\" />\n      <Typography>{message}</Typography>\n    </Stack>\n  );\n}\n\nexport default function SimpleSnackbar({\n  snackBarOpen, message, onClose, error,\n}) {\n  const [open, setOpen] = useState(snackBarOpen);\n  const [snackMessage, setSnackMessage] = useState(message);\n\n  useEffect(() => setOpen(snackBarOpen), [snackBarOpen]);\n  useEffect(() => setSnackMessage(message), [message]);\n\n  const handleClose = () => {\n    setOpen(false);\n    setSnackMessage(null);\n    onClose();\n  };\n\n  const action = (\n    <IconButton\n      size=\"small\"\n      aria-label=\"close\"\n      color=\"inherit\"\n      onClick={handleClose}\n    >\n      <CloseIcon fontSize=\"small\" />\n    </IconButton>\n  );\n\n  return (\n    <Snackbar\n      open={open}\n      autoHideDuration={3000}\n      onClose={handleClose}\n      message={<SnackText message={snackMessage} error={error} />}\n      action={action}\n      anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n    />\n  );\n}\n\nSimpleSnackbar.defaultProps = {\n  error: false,\n};\n\nSimpleSnackbar.propTypes = {\n  message: PropTypes.string.isRequired,\n  snackBarOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  error: PropTypes.bool,\n};\n\nSnackText.propTypes = {\n  message: PropTypes.string.isRequired,\n  error: PropTypes.bool.isRequired,\n};\n","import { useState } from 'react';\n\nexport default function useDate(initialDate) {\n  const [date, setDate] = useState(initialDate);\n  const handleDateChange = (e) => {\n    const newDate = new Date(e);\n    if (e) {\n      const formattedDate = newDate.toLocaleDateString('en-in', {\n        day: 'numeric',\n        month: 'long',\n        year: 'numeric',\n      });\n      setDate(formattedDate);\n    } else {\n      setDate(null);\n    }\n  };\n  return [date, setDate, handleDateChange];\n}\n","import { useState } from 'react';\n\nexport default function useStory(initialState) {\n  const [story, setStory] = useState(initialState);\n  const handleStoryChange = (event) => setStory(event.target.value);\n  return [story, setStory, handleStoryChange];\n}\n","import { useState, useEffect } from 'react';\n\nexport default function useTitle(initialValue) {\n  const [title, setTitle] = useState(initialValue);\n  useEffect(() => setTitle(initialValue), [initialValue]);\n  const handleTitleChange = (e) => {\n    setTitle(e.target.value);\n  };\n  return [title, setTitle, handleTitleChange];\n}\n","const get = async (url, path, params = {}) => {\n  let newUrl = `https://${url}${path}`;\n  const options = {\n    method: 'GET',\n    credentials: 'include',\n    headers: new Headers({ 'content-type': 'application/json' }),\n  };\n  newUrl += `?${new URLSearchParams(params).toString()}`;\n  const resp = await fetch(newUrl, options);\n  if (!resp.ok) {\n    if (resp.status === 401) {\n      document.cookie = 'userInfo=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';\n      return { status: 'unauthenticated' };\n    }\n    if (resp.status === 403) {\n      return { status: 'forbidden' };\n    }\n  }\n\n  return resp.json();\n};\n\nfunction getObjectUrl(bucket, authURL, key, method) {\n  try {\n    const path = '/api/presigned-url';\n    const params = { key, bucket, method };\n    return get(authURL, path, params).then((response) => {\n      if (response.Error) {\n        /* eslint-disable no-console */\n        console.log(response.Error);\n        return '';\n      }\n      return response.URL;\n    });\n  } catch (error) {\n    return error;\n  }\n}\n\nasync function validateDetails(bucket, authURL, details) {\n  try {\n    const path = '/api/details/validate';\n    const urlParams = { bucket };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(urlParams).toString()}`;\n    const options = {\n      method: 'POST',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n      body: details,\n    };\n    return await fetch(apiUrl, options).then((response) => {\n      if (!response.ok) {\n        return { status: 'error' };\n      }\n      return response.json();\n    });\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n    return error;\n  }\n}\n\nasync function upload(bucket, authURL, key, body) {\n  try {\n    const putURL = await getObjectUrl(bucket, authURL, key, 'PUT');\n    const params = { body, method: 'PUT' };\n    const resp = await fetch(putURL, params).then((response) => response);\n    return resp;\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n    return error;\n  }\n}\n\nasync function deleteMemory(bucket, authURL, memoryID) {\n  try {\n    const path = '/api/memory';\n    const params = { bucket, memory_id: memoryID };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(params).toString()}`;\n    const options = {\n      method: 'DELETE',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n    };\n    return await fetch(apiUrl, options).then((response) => {\n      if (!response.ok) {\n        return { status: 'error' };\n      }\n      return { status: 'ok', body: response.json() };\n    });\n  } catch (error) {\n    return error;\n  }\n}\n\nfunction getThumbnails(memories) {\n  try {\n    const bucket = process.env.REACT_APP_S3_BUCKET;\n    const authURL = process.env.REACT_APP_AUTH_URL;\n    const path = '/api/memory/thumbnail';\n    return memories.map(async (memoryID) => {\n      const params = { bucket, memory_id: memoryID };\n      return get(authURL, path, params);\n    });\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n    return error;\n  }\n}\n\nfunction getPendingThumbnails(memories) {\n  try {\n    const bucket = process.env.REACT_APP_S3_BUCKET;\n    const authURL = process.env.REACT_APP_AUTH_URL;\n    const path = '/api/memory/thumbnail/pending-memories';\n    return memories.map(async (memory) => {\n      const params = { bucket, memory_id: memory.memory_id };\n      return get(authURL, path, params);\n    });\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n    return error;\n  }\n}\n\nfunction getAcceptedThumbnails(memories) {\n  try {\n    const bucket = process.env.REACT_APP_S3_BUCKET;\n    const authURL = process.env.REACT_APP_AUTH_URL;\n    const path = '/api/memory/thumbnail/accepted-memories';\n    return memories.map(async (memory) => {\n      const params = { bucket, memory_id: memory.memory_id };\n      return get(authURL, path, params);\n    });\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n    return error;\n  }\n}\n\nfunction uploadMultipleImages(bucket, authURL, paramList, incrementImageCount) {\n  try {\n    return paramList.map(async (params) => {\n      const resp = await upload(bucket, authURL, params.Key, params.Body);\n      incrementImageCount();\n      return resp;\n    });\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n    return error;\n  }\n}\n\nfunction getMemories(nextToken) {\n  try {\n    const bucket = process.env.REACT_APP_S3_BUCKET;\n    const authURL = process.env.REACT_APP_AUTH_URL;\n    const path = '/api/memories';\n    const params = { bucket };\n\n    if (nextToken) {\n      params.next_token = nextToken;\n    }\n\n    return get(authURL, path, params);\n  } catch (error) {\n    return error;\n  }\n}\n\nfunction getPendingMemories(nextToken) {\n  try {\n    const bucket = process.env.REACT_APP_S3_BUCKET;\n    const authURL = process.env.REACT_APP_AUTH_URL;\n    const path = '/api/memories/pending-memories';\n    const params = { bucket };\n\n    if (nextToken) {\n      params.next_token = nextToken;\n    }\n\n    return get(authURL, path, params);\n  } catch (error) {\n    return error;\n  }\n}\n\nfunction getAcceptedMemories(nextToken) {\n  try {\n    const bucket = process.env.REACT_APP_S3_BUCKET;\n    const authURL = process.env.REACT_APP_AUTH_URL;\n    const path = '/api/memories/accepted-memories';\n    const params = { bucket };\n\n    if (nextToken) {\n      params.next_token = nextToken;\n    }\n\n    return get(authURL, path, params);\n  } catch (error) {\n    return error;\n  }\n}\n\nfunction viewMemory(bucket, authURL, memoryKey) {\n  try {\n    const path = '/api/memory';\n    const params = { bucket, memory_id: memoryKey };\n\n    return get(authURL, path, params);\n  } catch (error) {\n    return error;\n  }\n}\n\nfunction viewSharedMemory(memoryKey) {\n  try {\n    const bucket = process.env.REACT_APP_S3_BUCKET;\n    const authURL = process.env.REACT_APP_AUTH_URL;\n    const path = '/api/memory/shared';\n    const params = { bucket, memory_id: memoryKey };\n\n    return get(authURL, path, params);\n  } catch (error) {\n    return error;\n  }\n}\n\nfunction finalizeMemory(bucket, authURL, memoryKey) {\n  try {\n    const path = '/api/memory/finalize';\n    const params = { bucket, memory_id: memoryKey };\n    return get(authURL, path, params);\n  } catch (error) {\n    return error;\n  }\n}\n\nasync function updateMemoryDetails(bucket, authURL, memoryID, item, value) {\n  try {\n    const path = '/api/memory';\n    const urlParams = { bucket, memory_id: memoryID };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(urlParams).toString()}`;\n    const options = {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n      body: JSON.stringify({ item, value }),\n    };\n    return await fetch(apiUrl, options).then((response) => response);\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n    return false;\n  }\n}\n\nasync function updateMemoryImage(bucket, authURL, memoryID, action, image) {\n  try {\n    const path = '/api/memory';\n    const urlParams = { bucket, memory_id: memoryID };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(urlParams).toString()}`;\n    const options = {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n      body: JSON.stringify({ item: 'image', action, image }),\n    };\n    return await fetch(apiUrl, options).then((response) => response);\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n    return false;\n  }\n}\n\nasync function shareMemory(memoryID, emailList) {\n  try {\n    const bucket = process.env.REACT_APP_S3_BUCKET;\n    const authURL = process.env.REACT_APP_AUTH_URL;\n    const path = '/api/memory/share/init';\n    const urlParams = { bucket, memory_id: memoryID };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(urlParams).toString()}`;\n    const options = {\n      method: 'POST',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n      body: JSON.stringify({ email_list: emailList }),\n    };\n    return await fetch(apiUrl, options).then((response) => response);\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n    return false;\n  }\n}\n\nasync function getShareData(memoryID) {\n  try {\n    const bucket = process.env.REACT_APP_S3_BUCKET;\n    const authURL = process.env.REACT_APP_AUTH_URL;\n    const path = '/api/memory/share/details';\n    const urlParams = { bucket, memory_id: memoryID };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(urlParams).toString()}`;\n    const options = {\n      method: 'GET',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n    };\n    return await fetch(apiUrl, options).then((response) => response.json());\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n    return false;\n  }\n}\n\nasync function revokeShare(memoryID, emailList) {\n  try {\n    const bucket = process.env.REACT_APP_S3_BUCKET;\n    const authURL = process.env.REACT_APP_AUTH_URL;\n    const path = '/api/memory/share/revoke';\n    const urlParams = { bucket, memory_id: memoryID };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(urlParams).toString()}`;\n    const options = {\n      method: 'POST',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n      body: JSON.stringify({ email_list: emailList }),\n    };\n    return await fetch(apiUrl, options).then((response) => response);\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n    return false;\n  }\n}\n\nasync function acceptShare(memoryID, email) {\n  try {\n    const bucket = process.env.REACT_APP_S3_BUCKET;\n    const authURL = process.env.REACT_APP_AUTH_URL;\n    const path = '/api/memory/share/accept';\n    const urlParams = { bucket, memory_id: memoryID };\n    let apiUrl = `https://${authURL}${path}`;\n    apiUrl += `?${new URLSearchParams(urlParams).toString()}`;\n    const options = {\n      method: 'POST',\n      credentials: 'include',\n      headers: new Headers({ 'content-type': 'application/json' }),\n      body: JSON.stringify({ email }),\n    };\n    return await fetch(apiUrl, options).then((response) => response);\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n    return false;\n  }\n}\n\nexport default {\n  getObjectUrl,\n  validateDetails,\n  upload,\n  uploadMultipleImages,\n  getMemories,\n  getPendingMemories,\n  getAcceptedMemories,\n  viewMemory,\n  viewSharedMemory,\n  getThumbnails,\n  getPendingThumbnails,\n  getAcceptedThumbnails,\n  finalizeMemory,\n  deleteMemory,\n  updateMemoryDetails,\n  updateMemoryImage,\n  shareMemory,\n  getShareData,\n  revokeShare,\n  acceptShare,\n};\n","import PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport IconButton from '@mui/material/IconButton';\n\nexport default function ActionIcon({ icon, label }) {\n  return (\n    <Box sx={{ alignItems: 'center' }}>\n      <IconButton\n        aria-label=\"delete\"\n        sx={{\n          bgcolor: 'form.input',\n        }}\n      >\n        {icon}\n      </IconButton>\n      {label}\n    </Box>\n  );\n}\n\nActionIcon.propTypes = {\n  icon: PropTypes.node.isRequired,\n  label: PropTypes.string.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Dialog from '@mui/material/Dialog';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport DialogTitle from '@mui/material/DialogTitle';\n\nexport default function Confirm({\n  confirm, handleCallback, handleCloseCallback, title, message,\n}) {\n  const [open, setOpen] = useState(confirm);\n  useEffect(() => setOpen(confirm), [confirm]);\n\n  const handleClose = () => {\n    setOpen(false);\n    handleCloseCallback();\n  };\n\n  const handleSubmit = () => {\n    handleClose();\n    handleCallback();\n  };\n\n  return (\n    <Dialog open={open} sx={{ backgroundColor: 'faded.black' }}>\n      <DialogTitle>{title}</DialogTitle>\n      <Box sx={{ p: 2 }}>\n        <Typography sx={{ pb: 2 }}>{message}</Typography>\n        <Stack spacing={2} direction=\"row\">\n          <Button variant=\"contained\" onClick={handleClose}>Cancel</Button>\n          <Button variant=\"outlined\" onClick={handleSubmit}>OK</Button>\n        </Stack>\n      </Box>\n    </Dialog>\n  );\n}\n\nConfirm.propTypes = {\n  confirm: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  handleCallback: PropTypes.func.isRequired,\n  handleCloseCallback: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport ActionIcon from 'components/ActionIcon';\nimport Confirm from 'components/confirmation';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport api from '../Api';\n\nexport function DeleteMemoryIcon() {\n  return (\n    <ActionIcon icon={<DeleteIcon />} label=\"Delete\" />\n  );\n}\n\nexport function ConfirmDelete({ callback, open, closeCallback }) {\n  const DeleteTitle = 'Delete Memory';\n  const DeleteConfirmMessage = 'Do you want to delete this memory?';\n  return (\n    <Confirm\n      confirm={open}\n      title={DeleteTitle}\n      handleCallback={callback}\n      handleCloseCallback={() => closeCallback()}\n      message={DeleteConfirmMessage}\n    />\n  );\n}\n\nexport default async function deleteMemory(bucket, authURL, memoryID, memoryDeleteCallback) {\n  try {\n    const deleteResults = await api.deleteMemory(bucket, authURL, memoryID);\n    memoryDeleteCallback(deleteResults);\n  } catch (error) {\n    /* eslint-disable no-console */\n    console.log(error);\n  }\n}\n\nConfirmDelete.propTypes = {\n  open: PropTypes.bool.isRequired,\n  callback: PropTypes.func.isRequired,\n  closeCallback: PropTypes.func.isRequired,\n};\n","import ActionIcon from 'components/ActionIcon';\nimport EditIcon from '@mui/icons-material/Edit';\n\nexport default function UpdateMemoryIcon() {\n  return (\n    <ActionIcon icon={<EditIcon />} label=\"Edit\" />\n  );\n}\n","import { useState } from 'react';\n\nexport default function useEmail() {\n  const [items, setItems] = useState([]);\n  const [value, setValue] = useState('');\n  const [error, setError] = useState(null);\n\n  const isInList = (email) => items.includes(email);\n\n  // eslint-disable-next-line\n  const isEmail = (email) => /[\\w\\d\\.-]+@[\\w\\d\\.-]+\\.[\\w\\d\\.-]+/.test(email);\n\n  const isValid = (email) => {\n    let err = null;\n\n    if (isInList(email)) {\n      err = `${email} has already been added.`;\n    }\n\n    if (!isEmail(email)) {\n      err = `${email} is not a valid email address.`;\n    }\n\n    if (err) {\n      setError(err);\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleKeyDown = (evt) => {\n    if (['Enter', 'Tab', ','].includes(evt.key)) {\n      evt.preventDefault();\n\n      const val = value.trim();\n\n      if (val && isValid(val)) {\n        setItems([...items, value]);\n        setValue('');\n      }\n    }\n  };\n\n  const handleChange = (evt) => {\n    setValue(evt.target.value);\n    setError(null);\n  };\n\n  const handleDelete = (item) => {\n    setItems((prevItems) => prevItems.filter((i) => i !== item));\n  };\n\n  const handlePaste = (evt) => {\n    evt.preventDefault();\n\n    const paste = evt.clipboardData.getData('text');\n    // eslint-disable-next-line\n    var emails = paste.match(/[\\w\\d\\.-]+@[\\w\\d\\.-]+\\.[\\w\\d\\.-]+/g);\n\n    if (emails) {\n      const toBeAdded = emails.filter((email) => !isInList(email));\n      setItems([...items, ...toBeAdded]);\n    }\n  };\n\n  return [items, value, error, setItems, handleKeyDown, handleChange, handleDelete, handlePaste];\n}\n","import PropTypes from 'prop-types';\nimport TextField from '@mui/material/TextField';\nimport Chip from '@mui/material/Chip';\nimport Stack from '@mui/material/Stack';\nimport Grid from '@mui/material/Grid';\n\nexport default function EmailInput({\n  items,\n  value,\n  error,\n  handleKeyDown,\n  handleChange,\n  handleDelete,\n  handlePaste,\n}) {\n  return (\n    <Stack direction=\"column\" spacing={2} sx={{ mb: 3 }}>\n      <TextField\n        id=\"outlined-error\"\n        value={value}\n        label=\"Email List\"\n        placeholder=\"Type or paste email addresses and press `Enter`...\"\n        onKeyDown={handleKeyDown}\n        onChange={handleChange}\n        onPaste={handlePaste}\n        helperText={\n          error || 'Type or paste email addresses and press `Enter`...'\n        }\n        error={!!error}\n        sx={{ my: 1 }}\n      />\n      <Grid container spacing={2}>\n        {items.map((item) => (\n          <Chip\n            key={item}\n            label={item}\n            variant=\"outlined\"\n            onDelete={() => handleDelete(item)}\n            sx={{ margin: 0.5 }}\n            size=\"small\"\n          />\n        ))}\n      </Grid>\n    </Stack>\n  );\n}\n\nEmailInput.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.string).isRequired,\n  value: PropTypes.string.isRequired,\n  error: PropTypes.string.isRequired,\n  handleKeyDown: PropTypes.func.isRequired,\n  handleChange: PropTypes.func.isRequired,\n  handleDelete: PropTypes.func.isRequired,\n  handlePaste: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Button from '@mui/material/Button';\nimport Stack from '@mui/material/Stack';\nimport EmailInput from 'components/EmailInput';\nimport Box from '@mui/material/Box';\n\nexport default function NewShares({\n  items,\n  value,\n  error,\n  handleKeyDown,\n  handleChange,\n  handleDelete,\n  handlePaste,\n  handleClear,\n  handleSubmit,\n}) {\n  return (\n    <Box sx={{ p: 2 }}>\n      <EmailInput\n        items={items}\n        value={value}\n        error={error}\n        handleKeyDown={handleKeyDown}\n        handleChange={handleChange}\n        handleDelete={handleDelete}\n        handlePaste={handlePaste}\n      />\n      <Stack spacing={2} direction=\"row\">\n        <Button variant=\"outlined\" onClick={handleClear}>\n          Clear\n        </Button>\n        <Button variant=\"contained\" onClick={handleSubmit} disabled={items.length === 0}>\n          Share\n        </Button>\n      </Stack>\n    </Box>\n  );\n}\n\nNewShares.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.string).isRequired,\n  value: PropTypes.string.isRequired,\n  error: PropTypes.string.isRequired,\n  handleKeyDown: PropTypes.func.isRequired,\n  handleChange: PropTypes.func.isRequired,\n  handleDelete: PropTypes.func.isRequired,\n  handlePaste: PropTypes.func.isRequired,\n  handleClear: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport TableRow from '@mui/material/TableRow';\nimport TableCell from '@mui/material/TableCell';\nimport Chip from '@mui/material/Chip';\nimport TableHead from '@mui/material/TableHead';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\n\nexport default function StatusTable({ invitation, accept }) {\n  const colorMap = {\n    pending: 'warning',\n    sent: 'success',\n    failed: 'error',\n    rejected: 'error',\n    accepted: 'success',\n  };\n  return (\n    <Table size=\"small\" aria-label=\"statuses\">\n      <TableHead>\n        <TableRow>\n          <TableCell align=\"left\">Invitation</TableCell>\n          <TableCell align=\"left\">Accepted</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        <TableRow key={new Date()}>\n          <TableCell align=\"left\">\n            <Chip color={colorMap[invitation]} size=\"small\" label={invitation} />\n          </TableCell>\n          <TableCell align=\"left\">\n            <Chip color={colorMap[accept]} size=\"small\" label={accept} />\n          </TableCell>\n        </TableRow>\n      </TableBody>\n    </Table>\n  );\n}\n\nStatusTable.propTypes = {\n  invitation: PropTypes.string.isRequired,\n  accept: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport TableCell from '@mui/material/TableCell';\nimport Checkbox from '@mui/material/Checkbox';\n\nexport default function CheckboxCell({ selected, handleChange }) {\n  const [checked, setChecked] = useState(selected);\n\n  useEffect(() => {\n    setChecked(selected);\n  }, [selected]);\n\n  // eslint-disable-next-line no-console\n  console.log('check box cell', selected, checked, handleChange);\n  return (\n    <TableCell padding=\"checkbox\" key=\"checkbox\">\n      <Checkbox color=\"primary\" checked={checked} onChange={handleChange} />\n    </TableCell>\n  );\n}\n\nCheckboxCell.propTypes = {\n  selected: PropTypes.bool.isRequired,\n  handleChange: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport TableCell from '@mui/material/TableCell';\nimport Chip from '@mui/material/Chip';\nimport Avatar from '@mui/material/Avatar';\n\nexport default function PersonalDetailsCell({ email, picture, name }) {\n  return (\n    <TableCell component=\"th\" scope=\"row\" sx={{ p: 1 }} key=\"personal-details\">\n      <Chip\n        avatar={(\n          <Avatar\n            alt={email}\n            src={picture}\n            sx={{ referrerPolicy: 'no-referrer' }}\n          />\n        )}\n        label={name}\n        sx={{ b: 1, maxWidth: 170 }}\n        color=\"primary\"\n        variant=\"outlined\"\n      />\n    </TableCell>\n  );\n}\n\nPersonalDetailsCell.propTypes = {\n  email: PropTypes.string.isRequired,\n  picture: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport TableCell from '@mui/material/TableCell';\nimport IconButton from '@mui/material/IconButton';\nimport ExpandCircleDownIcon from '@mui/icons-material/ExpandCircleDown';\nimport ExpandLessIcon from '@mui/icons-material/ExpandLess';\n\nexport default function ExpandStatusIconCell({ open, handleClick }) {\n  return (\n    <TableCell\n      align=\"center\"\n      style={{ paddingBottom: 0, paddingTop: 0 }}\n      colSpan={6}\n      onClick={handleClick}\n      key=\"expand-status\"\n    >\n      <IconButton aria-label=\"expand row\" size=\"small\">\n        {!open ? <ExpandCircleDownIcon /> : <ExpandLessIcon />}\n      </IconButton>\n    </TableCell>\n  );\n}\n\nExpandStatusIconCell.propTypes = {\n  open: PropTypes.bool.isRequired,\n  handleClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport Collapse from '@mui/material/Collapse';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport TableRow from '@mui/material/TableRow';\nimport TableCell from '@mui/material/TableCell';\n\nimport StatusTable from './StatusTable';\nimport CheckboxCell from './CheckboxCell';\nimport PersonalDetailsCell from './PersonalDetailsCell';\nimport ExpandStatusIconCell from './ExpandStatusIconCell';\n\nexport default function ShareeRow({\n  name,\n  email,\n  picture,\n  invitation,\n  accept,\n  isSelected,\n  onCheckBoxClick,\n}) {\n  const [open, setOpen] = useState(false);\n  const handleClick = () => setOpen(!open);\n\n  return (\n    <>\n      <TableRow\n        sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n        key={`${{ email }}details`}\n      >\n        <CheckboxCell selected={isSelected} handleChange={onCheckBoxClick} />\n        <PersonalDetailsCell email={email} picture={picture} name={name} />\n        <ExpandStatusIconCell open={open} handleClick={handleClick} />\n      </TableRow>\n      <TableRow key={`${{ email }}status`}>\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\n            <Box sx={{ margin: 1 }}>\n              <Typography variant=\"h6\" gutterBottom component=\"div\">\n                Status\n              </Typography>\n              <StatusTable invitation={invitation} accept={accept} />\n            </Box>\n          </Collapse>\n        </TableCell>\n      </TableRow>\n    </>\n  );\n}\n\nShareeRow.propTypes = {\n  name: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  picture: PropTypes.string.isRequired,\n  invitation: PropTypes.string.isRequired,\n  accept: PropTypes.string.isRequired,\n  isSelected: PropTypes.bool.isRequired,\n  onCheckBoxClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport TableCell from '@mui/material/TableCell';\nimport Checkbox from '@mui/material/Checkbox';\n\nexport default function SelectAllCheckboxCell({ numSelected, rowCount, onSelectAllClick }) {\n  return (\n    <TableCell padding=\"checkbox\" key=\"selectAll\">\n      <Checkbox\n        color=\"primary\"\n        indeterminate={numSelected > 0 && numSelected < rowCount}\n        checked={rowCount > 0 && numSelected === rowCount}\n        onChange={onSelectAllClick}\n      />\n    </TableCell>\n  );\n}\n\nSelectAllCheckboxCell.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n  rowCount: PropTypes.number.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport TableCell from '@mui/material/TableCell';\nimport Button from '@mui/material/Button';\n\nimport SelectAllCheckboxCell from './SelectAllCheckboxCell';\n\nexport default function TableHeader({\n  numSelected, rowCount, onSelectAllClick, handleUnshareClick,\n}) {\n  return (\n    <TableHead>\n      <TableRow>\n        <SelectAllCheckboxCell\n          numSelected={numSelected}\n          rowCount={rowCount}\n          onSelectAllClick={onSelectAllClick}\n          key=\"selectAll\"\n        />\n        <TableCell\n          align=\"center\"\n          sx={{ fontWeight: 'bold', fontSize: '1em' }}\n          key=\"message\"\n        >\n          {numSelected === 0 ? 'Shared With' : `${numSelected} selected`}\n        </TableCell>\n        <TableCell align=\"center\" sx={{ fontWeight: 'bold' }} key=\"action\">\n          <Button\n            variant=\"contained\"\n            color=\"error\"\n            sx={{ textTransform: 'none' }}\n            disabled={numSelected === 0}\n            onClick={handleUnshareClick}\n          >\n            Unshare\n          </Button>\n        </TableCell>\n      </TableRow>\n    </TableHead>\n  );\n}\n\nTableHeader.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n  rowCount: PropTypes.number.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  handleUnshareClick: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableContainer from '@mui/material/TableContainer';\nimport TablePagination from '@mui/material/TablePagination';\nimport Paper from '@mui/material/Paper';\n\nimport ShareeRow from './ShareRow';\nimport TableHeader from './TableHeader';\n\nexport default function ExistingShares({ shareData, onUnShare }) {\n  const rowsPerPage = 5;\n  const [page, setPage] = useState(0);\n  const [numSelected, setNumSelected] = useState(0);\n  const [selected, setSelected] = useState(Array(shareData.length).fill(0));\n\n  // eslint-disable-next-line no-console\n  console.log('share data', shareData, selected);\n\n  useEffect(() => {\n    setSelected(Array(shareData.length).fill(0));\n    setNumSelected(0);\n  }, [shareData]);\n\n  const handleCheckBoxClick = (ind) => {\n    console.log('handle click index', ind);\n    if (selected[ind] === 1) {\n      setNumSelected((prevSelected) => prevSelected - 1);\n    } else {\n      setNumSelected((prevSelected) => prevSelected + 1);\n    }\n\n    setSelected([\n      ...selected.slice(0, ind),\n      1 - selected[ind],\n      ...selected.slice(ind + 1),\n    ]);\n  };\n\n  const handleSelectAllClick = () => {\n    if (selected.length > 0 && numSelected < selected.length) {\n      setSelected(Array(shareData.length).fill(1));\n      setNumSelected(selected.length);\n    } else {\n      setSelected(Array(shareData.length).fill(0));\n      setNumSelected(0);\n    }\n  };\n\n  const handleUnshare = () => {\n    const unshareEmails = [];\n    for (let i = 0; i < selected.length; i += 1) {\n      if (selected[i] === 1) {\n        unshareEmails.push(shareData[i].email);\n      }\n    }\n    console.log('Unshare emails', unshareEmails);\n    onUnShare(unshareEmails);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    console.log(page, newPage);\n    setPage(newPage);\n  };\n\n  return (shareData.length > 0) ? (\n    <>\n      <TableContainer component={Paper}>\n        <Table stickyHeader aria-label=\"memory share table\">\n          <TableHeader\n            numSelected={numSelected}\n            rowCount={shareData.length}\n            onSelectAllClick={handleSelectAllClick}\n            handleUnshareClick={handleUnshare}\n          />\n          <TableBody>\n            {shareData\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n              .map((sharee, index) => (\n                <ShareeRow\n                  key={sharee.email}\n                  email={sharee.email}\n                  name={sharee.name}\n                  picture={sharee.picture}\n                  invitation={sharee.status.invitation}\n                  accept={sharee.status.accept}\n                  isSelected={selected[page * rowsPerPage + index] === 1}\n                  onCheckBoxClick={() => handleCheckBoxClick(page * rowsPerPage + index)}\n                />\n              ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <TablePagination\n        rowsPerPageOptions={[rowsPerPage]}\n        component=\"div\"\n        count={selected.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        onPageChange={handleChangePage}\n      />\n    </>\n\n  ) : null;\n}\n\nExistingShares.propTypes = {\n  shareData: PropTypes.arrayOf(PropTypes.shape(\n    {\n      email: PropTypes.string.isRequired,\n      status: PropTypes.shape({\n        accept: PropTypes.string.isRequired,\n        invitation: PropTypes.string.isRequired,\n      }).isRequired,\n      name: PropTypes.string,\n      picture: PropTypes.string,\n    },\n  )).isRequired,\n  onUnShare: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\n\nexport default function CloseButton({ handleClose }) {\n  return (\n    <IconButton\n      aria-label=\"close\"\n      onClick={handleClose}\n      sx={{\n        position: 'absolute',\n        right: 8,\n        top: 8,\n        color: (theme) => theme.palette.grey[500],\n      }}\n    >\n      <CloseIcon />\n    </IconButton>\n  );\n}\n\nCloseButton.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n};\n","import ActionIcon from 'components/ActionIcon';\nimport ShareIcon from '@mui/icons-material/Share';\nimport { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Typography from '@mui/material/Typography';\nimport Dialog from '@mui/material/Dialog';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Divider from '@mui/material/Divider';\nimport useEmail from 'hooks/email';\n\nimport NewShares from 'components/NewShares';\nimport ExistingShares from 'components/ExistingShares';\nimport CloseButton from 'components/CloseButton';\nimport api from '../Api';\n\nexport function ShareMemoryIcon() {\n  return <ActionIcon icon={<ShareIcon />} label=\"Share\" />;\n}\n\nexport function ShareComponent({\n  confirm, memoryShareCallback, memoryUnShareCallback, closeCallback, memoryID,\n}) {\n  const ShareTitle = 'Share Memory';\n  const [\n    items,\n    value,\n    error,\n    setItems,\n    handleKeyDown,\n    handleChange,\n    handleDelete,\n    handlePaste,\n  ] = useEmail();\n\n  const [shareData, setShareData] = useState(null);\n\n  useEffect(async () => {\n    try {\n      const data = await api.getShareData(memoryID);\n      setShareData(data);\n    } catch (err) {\n      /* eslint-disable no-console */\n      console.log(err);\n    }\n  }, []);\n\n  const [open, setOpen] = useState(confirm);\n  useEffect(() => setOpen(confirm), [confirm]);\n\n  const handleClose = () => {\n    setOpen(false);\n    closeCallback();\n  };\n\n  const handleSubmit = async () => {\n    //  callback(items);\n    try {\n      /* eslint-disable no-console */\n      console.log('share memory', memoryID, items);\n      const shareResults = await api.shareMemory(memoryID, items);\n      console.log(shareResults);\n      memoryShareCallback(shareResults);\n      const resultsJSON = await shareResults.json();\n      setItems([]);\n      setShareData(resultsJSON);\n    } catch (err) {\n      /* eslint-disable no-console */\n      console.log(err);\n    }\n  };\n\n  const handleUnshare = async (emails) => {\n    //  callback(items);\n    try {\n      /* eslint-disable no-console */\n      console.log('share memory', memoryID, emails);\n      const shareResults = await api.revokeShare(memoryID, emails);\n      console.log(shareResults);\n      memoryUnShareCallback(shareResults);\n      const resultsJSON = await shareResults.json();\n      setShareData(resultsJSON);\n    } catch (err) {\n      /* eslint-disable no-console */\n      console.log(err);\n    }\n  };\n\n  const existingShares = (shareData !== null) ? (\n    <>\n      <Typography sx={{ m: 2, fontSize: '1.2rem' }}>Existing Shares</Typography>\n      <ExistingShares shareData={shareData} onUnShare={handleUnshare} />\n    </>\n  ) : null;\n\n  console.log(shareData);\n\n  return (\n    <Dialog\n      open={open}\n      sx={{\n        '& .MuiPaper-root': { m: 0 },\n        backgroundColor: 'faded.black',\n      }}\n    >\n      <DialogTitle>\n        {ShareTitle}\n        <CloseButton handleClose={handleClose} />\n      </DialogTitle>\n      <Divider />\n      <Typography sx={{ m: 2 }}>\n        New Shares (\n        {items.length}\n        {' '}\n        added)\n      </Typography>\n      <NewShares\n        items={items}\n        value={value}\n        error={error}\n        handleKeyDown={handleKeyDown}\n        handleChange={handleChange}\n        handleDelete={handleDelete}\n        handlePaste={handlePaste}\n        handleClear={() => setItems([])}\n        handleSubmit={handleSubmit}\n      />\n      <Divider />\n      {existingShares}\n    </Dialog>\n  );\n}\n\nShareComponent.propTypes = {\n  confirm: PropTypes.bool.isRequired,\n  memoryShareCallback: PropTypes.func.isRequired,\n  memoryUnShareCallback: PropTypes.func.isRequired,\n  closeCallback: PropTypes.func.isRequired,\n  memoryID: PropTypes.string.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport Confirm from 'components/confirmation';\nimport UpdateMemoryIcon from 'components/UpdateMemoryIcon';\nimport { ShareComponent, ShareMemoryIcon } from './Share';\nimport { ConfirmDelete, DeleteMemoryIcon } from './Delete';\n\nfunction ConfirmAction({\n  title, message, callback, open, closeCallback,\n}) {\n  const [confirm, setConfirm] = useState(open);\n  useEffect(() => setConfirm(open), [open]);\n\n  return (\n    <Confirm\n      title={title}\n      confirm={confirm}\n      handleCallback={callback}\n      handleCloseCallback={() => {\n        setConfirm(false);\n        closeCallback();\n      }}\n      message={message}\n    />\n  );\n}\n\nexport default function MemoryActions({\n  snackBar, handleDelete, memoryShareCallback, memoryUnShareCallback, handleEditClick, memoryID,\n}) {\n  let actionComponent;\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [action, setAction] = useState(null);\n\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => setAnchorEl(event.currentTarget);\n  const handleClose = () => setAnchorEl(null);\n  const closeConfirm = () => setAction(null);\n\n  if (action === 'delete') {\n    actionComponent = (\n      <ConfirmDelete open callback={handleDelete} closeCallback={closeConfirm} />\n    );\n  }\n\n  if (action === 'share') {\n    actionComponent = (\n      <ShareComponent\n        confirm\n        memoryShareCallback={memoryShareCallback}\n        memoryUnShareCallback={memoryUnShareCallback}\n        closeCallback={() => setAction(null)}\n        memoryID={memoryID}\n      />\n    );\n  }\n\n  const handleDeleteClick = () => {\n    setAction('delete');\n    handleClose();\n  };\n\n  const handleShareClick = () => {\n    setAction('share');\n    handleClose();\n  };\n\n  const handleEdit = () => {\n    handleEditClick();\n    handleClose();\n  };\n\n  return (\n    <div>\n      <MoreVertIcon onClick={handleClick} />\n      <Menu\n        id=\"memory-actions\"\n        anchorEl={anchorEl}\n        open={open}\n        onClose={handleClose}\n        MenuListProps={{\n          'aria-labelledby': 'basic-button',\n        }}\n        sx={{ borderRadius: '10px' }}\n      >\n        <MenuItem onClick={handleEdit}><UpdateMemoryIcon /></MenuItem>\n        <MenuItem onClick={handleShareClick}><ShareMemoryIcon /></MenuItem>\n        <MenuItem onClick={handleDeleteClick}><DeleteMemoryIcon /></MenuItem>\n      </Menu>\n      {actionComponent}\n      {snackBar}\n    </div>\n  );\n}\n\nMemoryActions.propTypes = {\n  snackBar: PropTypes.node.isRequired,\n  handleDelete: PropTypes.func.isRequired,\n  memoryShareCallback: PropTypes.func.isRequired,\n  memoryUnShareCallback: PropTypes.func.isRequired,\n  handleEditClick: PropTypes.func.isRequired,\n  memoryID: PropTypes.string.isRequired,\n};\n\nConfirmAction.propTypes = {\n  open: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  callback: PropTypes.func.isRequired,\n  closeCallback: PropTypes.func.isRequired,\n};\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Navigate } from 'react-router-dom';\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport Box from '@mui/material/Box';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport Divider from '@mui/material/Divider';\nimport { useTheme } from '@mui/material/styles';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport SimpleSnackbar from 'components/simple_snackbar';\nimport deleteMemory from './Delete';\nimport MemoryActions from './Actions';\n\nexport default function MemoryContentStructure({\n  header, subheader, photoLayout, storyLayout, bucket, memoryID, authURL, handleEditClick, preview,\n}) {\n  const [snack, setSnack] = useState(null);\n  const [snackMessage, setSnackMessage] = useState(null);\n  const [snackError, setSnackError] = useState(null);\n  const [redir, setRedir] = useState(null);\n  let className;\n  const theme = useTheme();\n  const lgdown = useMediaQuery(theme.breakpoints.down('lg'));\n  if (lgdown) className = '';\n  else className = 'vertical-scroll';\n\n  const handleSnackMessage = (msg, error) => {\n    setSnackMessage(msg);\n    setSnackError(error);\n  };\n\n  const memoryDeleteCallback = (open) => {\n    if (open.status === 'ok') {\n      handleSnackMessage('Memory deleted successfully', false);\n    } else {\n      handleSnackMessage('Error while deleting memory', true);\n    }\n    setSnack(true);\n    setRedir(true);\n  };\n\n  const memoryShareCallback = (results) => {\n    console.log(results);\n    if (results.ok === true) {\n      handleSnackMessage('Memory shared successfully', false);\n    } else {\n      handleSnackMessage('Error while sharing memory', true);\n    }\n    setSnack(true);\n  };\n\n  const memoryUnShareCallback = (results) => {\n    console.log(results);\n    if (results.ok === true) {\n      handleSnackMessage('Memory unshared successfully', false);\n    } else {\n      handleSnackMessage('Error while unsharing memory', true);\n    }\n    setSnack(true);\n  };\n\n  const handleSnackBarClose = () => {\n    setSnack(false);\n    setSnackMessage(null);\n    setSnackError(null);\n  };\n\n  const snackBar = (\n    <SimpleSnackbar\n      snackBarOpen={snack}\n      message={snackMessage}\n      onClose={handleSnackBarClose}\n      error={snackError}\n    />\n  );\n\n  const actions = !preview ? (\n    <MemoryActions\n      snackBar={snackBar}\n      handleDelete={() => {\n        deleteMemory(bucket, authURL, memoryID, memoryDeleteCallback);\n      }}\n      memoryID={memoryID}\n      memoryShareCallback={memoryShareCallback}\n      memoryUnShareCallback={memoryUnShareCallback}\n      handleEditClick={handleEditClick}\n    />\n  ) : <MoreVertIcon />;\n\n  return (snack === false && redir === true) ? (\n    <Navigate to=\"/memories\" replace />\n  ) : (\n    <Card\n      sx={{\n        boxShadow: 0,\n        bgcolor: 'button.main',\n        p: 1,\n      }}\n    >\n      <CardHeader\n        title={header}\n        subheader={subheader}\n        action={actions}\n      />\n      <Divider />\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'flex-start',\n          flexDirection: {\n            lg: 'row',\n            xs: 'column',\n          },\n          height: {\n            lg: '72vh',\n          },\n          my: 1,\n        }}\n      >\n        <Box\n          sx={{\n            width: {\n              lg: '70%',\n              xs: '100%',\n            },\n            overflowY: 'scroll',\n            borderRadius: 5,\n          }}\n          className={className}\n        >\n          {photoLayout}\n        </Box>\n        <Box\n          sx={{\n            width: { lg: '30%', sx: '100%' },\n            overflowY: 'scroll',\n            mt: {\n              lg: 0,\n              xs: 2,\n            },\n            p: {\n              lg: 1,\n            },\n            px: 1,\n          }}\n          className={className}\n        >\n          {storyLayout}\n        </Box>\n      </Box>\n    </Card>\n  );\n}\n\nMemoryContentStructure.propTypes = {\n  header: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n  subheader: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n  photoLayout: PropTypes.element.isRequired,\n  storyLayout: PropTypes.element.isRequired,\n  memoryID: PropTypes.string.isRequired,\n  bucket: PropTypes.string.isRequired,\n  authURL: PropTypes.string.isRequired,\n  handleEditClick: PropTypes.func.isRequired,\n  preview: PropTypes.bool.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport SwipeableViews from 'react-swipeable-views';\nimport Box from '@mui/material/Box';\nimport { autoPlay, virtualize, bindKeyboard } from 'react-swipeable-views-utils';\n\nconst EnhancedSwipeableViews = bindKeyboard(autoPlay(virtualize(SwipeableViews)));\n\nfunction mod(count, total) {\n  const modulus = count % total;\n  if (modulus < 0) {\n    return modulus + total;\n  }\n  return modulus;\n}\n\nexport default function MemoryImageSlide({\n  ind, images, handleNext, handleStepChange,\n}) {\n  const [activeStep, setActiveStep] = useState(ind);\n  const [loadedImages, setLoadedImages] = useState(0);\n  const [display, setDisplay] = useState(null);\n\n  useEffect(() => {\n    setActiveStep(ind);\n  }, [ind]);\n\n  useEffect(() => {\n    if (loadedImages < images.length) {\n      setDisplay('none');\n    } else {\n      setDisplay('flex');\n    }\n  }, [loadedImages]);\n\n  const handleImageLoad = () => setLoadedImages((prevLoaded) => prevLoaded + 1);\n\n  const slideRenderer = (props) => {\n    /* eslint-disable  react/prop-types */\n    const { index, key } = props;\n    const virtNum = mod(index, images.length);\n    const srcSetList = images[virtNum].images ? (\n      images[virtNum].images.map(({ src, width }) => `${src} ${width}w`)\n    ) : [];\n    const srcSet = srcSetList.join(',');\n    const style = {\n      display: 'block',\n      boxSizing: 'content-box',\n      cursor: 'pointer',\n      objectFit: 'contain',\n      height: '100vh',\n    };\n\n    return (\n      <Box\n        component=\"img\"\n        onLoad={handleImageLoad}\n        sx={{\n          display: { display },\n          justifyContents: 'center',\n          width: '100%',\n          bgcolor: '#1c1c1c',\n        }}\n        src={images[virtNum].src}\n        srcSet={srcSet}\n        style={style}\n        alt={images[virtNum].src}\n        key={key}\n      />\n    );\n  };\n\n  return (\n    <EnhancedSwipeableViews\n      index={activeStep}\n      onChangeIndex={handleStepChange}\n      enableMouseEvents\n      animateTransitions\n      interval={10000}\n      onClick={handleNext}\n      style={{ backgroundColor: 'muted.main' }}\n      slideRenderer={slideRenderer}\n    />\n  );\n}\n\nMemoryImageSlide.defaultProps = {\n  ind: 0,\n};\n\nMemoryImageSlide.propTypes = {\n  ind: PropTypes.number,\n  handleNext: PropTypes.func.isRequired,\n  handleStepChange: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(PropTypes.shape({\n    src: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  })).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport Dialog from '@mui/material/Dialog';\nimport CardHeader from '@mui/material/CardHeader';\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@mui/icons-material/KeyboardArrowRight';\nimport IconButton from '@mui/material/IconButton';\n\nimport RemovePhotoIcon from 'components/RemovePhotoIcon';\nimport MemoryImageSlide from 'components/MemoryImageSlide';\n\nfunction NextPic({ handleClick }) {\n  return (\n    <IconButton\n      edge=\"start\"\n      color=\"primary\"\n      aria-label=\"close\"\n      onClick={handleClick}\n      sx={{\n        position: 'absolute', top: '50%', right: 0, transform: 'translate(0%, -50%)',\n      }}\n    >\n      <KeyboardArrowRight sx={{ color: 'button.main', fontSize: '4.5rem' }} />\n    </IconButton>\n  );\n}\n\nfunction PreviousPic({ handleClick }) {\n  return (\n    <IconButton\n      edge=\"start\"\n      color=\"primary\"\n      aria-label=\"close\"\n      onClick={handleClick}\n      sx={{\n        position: 'absolute', top: '50%', left: 0, transform: 'translate(0%, -50%)',\n      }}\n    >\n      <KeyboardArrowLeft sx={{ color: 'button.main', fontSize: '4.5rem' }} />\n    </IconButton>\n  );\n}\n\nexport default function MemoryCarousel({\n  open, title, date, images, index, handleNext, handleBack, handleClose, handleChange,\n}) {\n  return (\n    <Dialog\n      open={open}\n      fullScreen\n    >\n      <MemoryImageSlide\n        images={images}\n        ind={index}\n        handleNext={handleNext}\n        handleStepChange={handleChange}\n      />\n      <CardHeader\n        title={title}\n        subheader={date}\n        sx={{\n          position: 'absolute',\n          top: 10,\n          left: 10,\n          bgcolor: 'button.main',\n          borderRadius: 3,\n          padding: 1,\n        }}\n      />\n      <PreviousPic handleClick={handleBack} />\n      <NextPic handleClick={handleNext} />\n      <RemovePhotoIcon size=\"large\" handleClick={handleClose} />\n    </Dialog>\n  );\n}\n\nNextPic.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n};\n\nPreviousPic.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n};\n\nMemoryCarousel.defaultProps = {\n  index: 0,\n};\n\nMemoryCarousel.propTypes = {\n  open: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  date: PropTypes.string.isRequired,\n  index: PropTypes.number,\n  handleNext: PropTypes.func.isRequired,\n  handleBack: PropTypes.func.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  handleChange: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(PropTypes.shape({\n    src: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  })).isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Stack from '@mui/material/Stack';\nimport Typography from '@mui/material/Typography';\nimport TextField from '@mui/material/TextField';\nimport DoneTwoToneIcon from '@mui/icons-material/DoneTwoTone';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport EditIcon from '@mui/icons-material/Edit';\nimport useTitle from '../../hooks/title';\n\nexport default function MemoryTitle({ editable, text, handleTitleUpdate }) {\n  const [title, setTitle, handleTitleChange] = useTitle(text);\n  const [edit, setEdit] = useState(editable);\n  const [startEdit, setStartEdit] = useState(false);\n\n  useEffect(() => {\n    setEdit(editable);\n    setTitle(text);\n    setStartEdit(false);\n  }, [editable]);\n\n  if (!edit && !startEdit) {\n    return <Typography variant=\"h6\">{title}</Typography>;\n  }\n\n  if (edit && !startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'center' }} spacing={2}>\n        <Typography variant=\"h6\">{title}</Typography>\n        <EditIcon fontSize=\"medium\" onClick={() => setStartEdit(true)} />\n      </Stack>\n    );\n  }\n\n  if (edit && startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'flex-end', justifyContent: 'flex-start' }} spacing={2}>\n        <TextField\n          id=\"standard-basic\"\n          size=\"small\"\n          label=\"Title\"\n          onChange={handleTitleChange}\n          variant=\"standard\"\n          defaultValue={title}\n          sx={{ maxWidth: '200px' }}\n        />\n        <DoneTwoToneIcon\n          fontSize=\"medium\"\n          onClick={() => {\n            handleTitleUpdate(title);\n            setStartEdit(false);\n          }}\n        />\n        <ClearIcon fontSize=\"medium\" onClick={() => { setTitle(text); setStartEdit(false); }} />\n      </Stack>\n    );\n  }\n}\n\nMemoryTitle.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  text: PropTypes.string.isRequired,\n  handleTitleUpdate: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Stack from '@mui/material/Stack';\nimport Typography from '@mui/material/Typography';\nimport TextField from '@mui/material/TextField';\nimport DoneTwoToneIcon from '@mui/icons-material/DoneTwoTone';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport EditIcon from '@mui/icons-material/Edit';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\n\nimport useDate from '../../hooks/date';\n\nexport default function MemoryDate({ editable, prevDate, handleDateUpdate }) {\n  const [edit, setEdit] = useState(editable);\n  const [startEdit, setStartEdit] = useState(false);\n  const [date, setDate, handleDateChange] = useDate(prevDate);\n\n  useEffect(() => {\n    setEdit(editable);\n    setDate(prevDate);\n    setStartEdit(false);\n  }, [editable, prevDate]);\n\n  if (!edit && !startEdit) {\n    return <Typography>{date}</Typography>;\n  }\n\n  if (edit && !startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'center' }} spacing={2}>\n        <Typography>{date}</Typography>\n        <EditIcon fontSize=\"medium\" onClick={() => setStartEdit(true)} />\n      </Stack>\n    );\n  }\n\n  if (edit && startEdit) {\n    return (\n      <Stack direction=\"row\" sx={{ alignItems: 'flex-end', justifyContent: 'flex-start', mt: 3 }} spacing={2}>\n        <LocalizationProvider dateAdapter={AdapterDateFns}>\n          <DatePicker\n            label=\"Memory Date\"\n            value={date}\n            onChange={handleDateChange}\n            placeholder=\"dd/MM/yyyy\"\n            inputFormat=\"dd/MM/yyyy\"\n            maxDate={new Date()}\n            renderInput={(props) => (\n              <TextField\n                readOnly\n                required\n          // eslint-disable-next-line react/jsx-props-no-spreading\n                {...props}\n              />\n            )}\n          />\n        </LocalizationProvider>\n        <DoneTwoToneIcon\n          fontSize=\"medium\"\n          onClick={() => {\n            handleDateUpdate(date);\n            setStartEdit(false);\n          }}\n        />\n        <ClearIcon fontSize=\"medium\" onClick={() => { setDate(prevDate); setStartEdit(false); }} />\n      </Stack>\n    );\n  }\n}\n\nMemoryDate.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  prevDate: PropTypes.string.isRequired,\n  handleDateUpdate: PropTypes.func.isRequired,\n};\n","import { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Stack from '@mui/material/Stack';\nimport DoneTwoToneIcon from '@mui/icons-material/DoneTwoTone';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport EditIcon from '@mui/icons-material/Edit';\nimport Divider from '@mui/material/Divider';\nimport Typography from '@mui/material/Typography';\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\nimport Box from '@mui/material/Box';\nimport useStory from '../../hooks/story';\nimport './memory.css';\n\nexport default function MemoryStory({ editable, prevStory, handleStoryUpdate }) {\n  const [edit, setEdit] = useState(editable);\n  const [startEdit, setStartEdit] = useState(false);\n  const [story, setStory, handleStoryChange] = useStory(prevStory);\n  const storyRef = useRef();\n\n  useEffect(() => {\n    setEdit(editable);\n    setStory(prevStory);\n    setStartEdit(false);\n  }, [editable, prevStory]);\n\n  if (!edit && !startEdit) {\n    return (\n      <Typography style={{ whiteSpace: 'pre-wrap' }}>{story}</Typography>\n    );\n  }\n\n  if (edit && !startEdit) {\n    return (\n      <Stack direction=\"column\" spacing={2}>\n        <Stack direction=\"row\" spacing={2} justifyContent=\"flex-end\">\n          <Typography sx={{ color: 'muted.main' }}>Edit Story</Typography>\n          <EditIcon\n            fontSize=\"medium\"\n            onClick={() => {\n              setStartEdit(true);\n            }}\n          />\n        </Stack>\n        <Divider sx={{ width: 1 }} />\n        <Typography style={{ whiteSpace: 'pre-wrap' }}>{story}</Typography>\n      </Stack>\n    );\n  }\n\n  if (edit && startEdit) {\n    return (\n      <Stack direction=\"column\" spacing={2}>\n        <Stack direction=\"row\" spacing={2} justifyContent=\"flex-end\">\n          <Typography sx={{ color: 'muted.main' }}>Editing Story</Typography>\n          <DoneTwoToneIcon\n            fontSize=\"medium\"\n            onClick={() => {\n              handleStoryUpdate(story);\n              setStartEdit(false);\n            }}\n          />\n          <ClearIcon\n            fontSize=\"medium\"\n            onClick={() => {\n              setStory(prevStory);\n              setStartEdit(false);\n            }}\n          />\n        </Stack>\n        <Divider sx={{ width: 1 }} />\n        <Box\n          sx={{\n            p: 2,\n            m: 1,\n            my: 2,\n            border: 1,\n            borderColor: 'primary.main',\n            bgcolor: 'input.background',\n            minHeight: '70vh',\n            borderRadius: 5,\n            width: '90%',\n          }}\n          onClick={() => storyRef.current.focus()}\n        >\n          <TextareaAutosize\n            autoFocus\n            aria-label=\"minimum height\"\n            placeholder=\"Tell your story...\"\n            value={story}\n            onChange={handleStoryChange}\n            style={{\n              width: '100%',\n              minHeight: '184px',\n              maxHeight: '70vh',\n              boxSizing: 'border-box',\n              paddingTop: '5px',\n              border: 0,\n              overflow: 'auto',\n              outline: 'none',\n              resize: 'vertical',\n              borderRadius: 5,\n              '&:focus': {\n                border: 0,\n              },\n            }}\n            ref={storyRef}\n          />\n\n        </Box>\n      </Stack>\n    );\n  }\n}\n\nMemoryStory.propTypes = {\n  prevStory: PropTypes.string.isRequired,\n  editable: PropTypes.bool.isRequired,\n  handleStoryUpdate: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport PhotoAlbum from 'react-photo-album';\nimport Radio from '@mui/material/Radio';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport IconButton from '@mui/material/IconButton';\nimport AddPhotoIcon from '@mui/icons-material/AddPhotoAlternate';\nimport Button from '@mui/material/Button';\nimport CloseIcon from '@mui/icons-material/Close';\nimport Typography from '@mui/material/Typography';\nimport Stack from '@mui/material/Stack';\nimport { alpha } from '@mui/material/styles';\n\nfunction OptionsButton({\n  children, onClick, name, updateOp,\n}) {\n  return (\n    <Button\n      id={name}\n      variant=\"contained\"\n      component=\"label\"\n      onClick={onClick}\n      sx={{\n        color: (updateOp === name) ? 'button.main' : 'muted.main',\n        borderRadius: 5,\n        backgroundColor: (updateOp === name) ? 'primary.main' : 'button.main',\n        padding: '6px 8px',\n        '&:hover': {\n          color: (updateOp === name) ? 'button.main' : 'muted.main',\n          backgroundColor: (updateOp === name) ? 'primary.main' : 'button.main',\n        },\n      }}\n    >\n      {children}\n    </Button>\n  );\n}\n\nfunction AddPhotos({ handleChange, onClick, updateOp }) {\n  return (\n    <OptionsButton onClick={onClick} name=\"add\" updateOp={updateOp}>\n      <input type=\"file\" hidden multiple accept=\"image/*\" onChange={handleChange} />\n      <AddPhotoIcon sx={{ fontSize: '1.5rem' }} />\n      Add\n    </OptionsButton>\n  );\n}\n\nfunction MemoryPhotoAlbum({ images, handlePhotoClick, renderPhoto }) {\n  const [arrangement, setArrangement] = useState(null);\n  useEffect(() => {\n    let twidth = 0;\n    let theight = 0;\n    images.forEach(({ height, width }) => {\n      if (height > width) theight += 1;\n      else twidth += 1;\n    });\n    if (twidth > theight) setArrangement('rows');\n    else setArrangement('columns');\n  }, [images]);\n\n  return renderPhoto ? (\n    <PhotoAlbum\n      layout={arrangement}\n      photos={images}\n      onClick={handlePhotoClick}\n      spacing={2}\n      renderPhoto={renderPhoto}\n    />\n  ) : (\n    <PhotoAlbum\n      layout={arrangement}\n      photos={images}\n      onClick={handlePhotoClick}\n      spacing={2}\n    />\n  );\n}\n\nexport default function MemoryImages({\n  editable, images, handlePhotoClick, handleThumbnailUpdate, deleteImage, addImage,\n}) {\n  const [edit, setEdit] = useState(editable);\n  const [updateOp, setUpdateOp] = useState(null);\n  const [thumbnail, setThumbnail] = useState(null);\n\n  const handleOpUpdate = (op) => {\n    if (updateOp === op) {\n      setUpdateOp(null);\n    } else {\n      setUpdateOp(op);\n    }\n  };\n\n  useEffect(() => {\n    setEdit(editable);\n    setUpdateOp(null);\n  }, [editable]);\n\n  const handleThumbnailChange = (name) => {\n    setThumbnail(name);\n    const thumbnailImage = images.find((image) => image.alt === name);\n    handleThumbnailUpdate(thumbnailImage);\n  };\n\n  const handleImageDelete = (name) => {\n    const deleted = images.find((image) => image.alt === name);\n    deleteImage(deleted);\n  };\n\n  const renderPhotosWithDeleteIcon = ({\n    layout,\n    imageProps: { alt, style, ...restImageProps },\n  }) => (\n    <Button component=\"div\">\n      <img\n        alt={alt}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n        style={{ ...style, width: layout.width, padding: 0 }}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n        {...restImageProps}\n      />\n      <IconButton\n        size=\"medium\"\n        sx={{\n          color: 'black',\n          bgcolor: alpha('#fff', 0.4),\n          position: 'absolute',\n          top: 10,\n          right: 12,\n        }}\n        onClick={() => handleImageDelete(alt)}\n      >\n        <CloseIcon size=\"medium\" />\n      </IconButton>\n    </Button>\n  );\n\n  const renderPhotosWithRadioButton = ({\n    layout,\n    imageProps: { alt, style, ...restImageProps },\n  }) => (\n    <Button component=\"div\">\n      <img\n        alt={alt}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n        style={{ ...style, width: layout.width, padding: 0 }}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n        {...restImageProps}\n      />\n      <FormControlLabel\n        control={<Radio />}\n        label=\"\"\n        checked={alt === thumbnail}\n        onChange={() => handleThumbnailChange(alt)}\n        sx={{\n          pr: 1,\n          position: 'absolute',\n          bgcolor: alpha('#fff', 0.6),\n          color: 'black',\n          borderRadius: '0px 5px 5px 0px',\n          borderColor: 'secondary.main',\n          borderLeft: 0,\n          bottom: 20,\n          left: 15,\n        }}\n      />\n    </Button>\n  );\n\n  const OptionsRow = (\n    <Stack direction=\"row\" spacing={2}>\n      <AddPhotos handleChange={addImage} onClick={() => handleOpUpdate('add')} updateOp={updateOp} />\n      <OptionsButton onClick={() => handleOpUpdate('delete')} name=\"delete\" updateOp={updateOp}>\n        <DeleteIcon sx={{ fontSize: '1.5rem' }} />\n        Delete\n      </OptionsButton>\n      <OptionsButton onClick={() => handleOpUpdate('thumbnail')} name=\"thumbnail\" updateOp={updateOp}>Set Thumbnail</OptionsButton>\n    </Stack>\n  );\n\n  const updatePanel = (\n    <Stack direction=\"row\">\n      <Typography variant=\"h6\" color=\"muted.main\">\n        Images:\n        {images.length}\n      </Typography>\n    </Stack>\n  );\n\n  if (!edit) {\n    return (\n      <MemoryPhotoAlbum images={images} handlePhotoClick={handlePhotoClick} />\n    );\n  }\n\n  if (edit && updateOp === 'delete') {\n    return (\n      <Stack direction=\"column\" spacing={2} sx={{ p: 2 }}>\n        {updatePanel}\n        {OptionsRow}\n        <MemoryPhotoAlbum\n          images={images}\n          handlePhotoClick={handlePhotoClick}\n          renderPhoto={renderPhotosWithDeleteIcon}\n        />\n      </Stack>\n    );\n  }\n\n  if (edit && updateOp === 'thumbnail') {\n    return (\n      <Stack direction=\"column\" spacing={2} sx={{ p: 2 }}>\n        {updatePanel}\n        {OptionsRow}\n        <MemoryPhotoAlbum\n          images={images}\n          handlePhotoClick={handlePhotoClick}\n          renderPhoto={renderPhotosWithRadioButton}\n        />\n      </Stack>\n    );\n  }\n\n  if (edit && updateOp === 'add') {\n    return (\n      <Stack direction=\"column\" spacing={2} sx={{ p: 2 }}>\n        {updatePanel}\n        {OptionsRow}\n        <MemoryPhotoAlbum\n          images={images}\n          handlePhotoClick={handlePhotoClick}\n        />\n      </Stack>\n    );\n  }\n\n  if (edit && !updateOp) {\n    return (\n      <Stack direction=\"column\" spacing={2} sx={{ p: 2 }}>\n        {updatePanel}\n        {OptionsRow}\n        <MemoryPhotoAlbum images={images} handlePhotoClick={handlePhotoClick} />\n      </Stack>\n    );\n  }\n}\n\nMemoryImages.propTypes = {\n  editable: PropTypes.bool.isRequired,\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      src: PropTypes.string,\n      width: PropTypes.number,\n      height: PropTypes.number,\n    }),\n  ).isRequired,\n  handlePhotoClick: PropTypes.func.isRequired,\n  handleThumbnailUpdate: PropTypes.func.isRequired,\n  deleteImage: PropTypes.func.isRequired,\n  addImage: PropTypes.func.isRequired,\n};\n\nMemoryPhotoAlbum.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      src: PropTypes.string,\n      width: PropTypes.number,\n      height: PropTypes.number,\n    }),\n  ).isRequired,\n  handlePhotoClick: PropTypes.func.isRequired,\n  renderPhoto: PropTypes.func,\n};\n\nMemoryPhotoAlbum.defaultProps = {\n  renderPhoto: null,\n};\n\nAddPhotos.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n  updateOp: PropTypes.string.isRequired,\n};\n\nOptionsButton.defaultProps = {\n  onClick: () => {},\n};\n\nOptionsButton.propTypes = {\n  children: PropTypes.node.isRequired,\n  onClick: PropTypes.func,\n  name: PropTypes.string.isRequired,\n  updateOp: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport Button from '@mui/material/Button';\nimport Link from '@mui/material/Link';\nimport DoneIcon from '@mui/icons-material/Done';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport Typography from '@mui/material/Typography';\nimport Stack from '@mui/material/Stack';\nimport Dialog from '@mui/material/Dialog';\nimport Card from '@mui/material/Card';\nimport CardHeader from '@mui/material/CardHeader';\nimport CardContent from '@mui/material/CardContent';\nimport Divider from '@mui/material/Divider';\nimport Box from '@mui/material/Box';\nimport MemoryCarousel from './MemoryCarousel';\nimport MemoryContentStructure from './ContentStructure';\nimport MemoryTitle from './MemoryTitle';\nimport MemoryDate from './MemoryDate';\nimport MemoryStory from './MemoryStory';\nimport MemoryImages from './MemoryImages';\nimport api from '../Api';\nimport SimpleSnackbar from '../../components/simple_snackbar';\nimport './memory.css';\n\nfunction BackButton({ preview }) {\n  if (preview === false) {\n    return (\n      <Stack\n        direction=\"row\"\n        justifyContent=\"flex-start\"\n        sx={{ backgroundColor: 'button.main', paddingX: 2, paddingY: 1 }}\n      >\n        <Link href=\"/\" underline=\"none\">\n          <Button\n            variant=\"contained\"\n            component=\"label\"\n            sx={{\n              color: 'primary.main',\n              backgroundColor: 'button.main',\n              padding: '6px 8px',\n              boxShadow: 0,\n              '&:hover': {\n                backgroundColor: 'button.main',\n              },\n            }}\n          >\n            <ArrowBackIcon size=\"medium\" sx={{ paddingRight: 1 }} />\n            <Typography variant=\"body1\" color=\"muted.main\">Memories</Typography>\n          </Button>\n        </Link>\n      </Stack>\n    );\n  }\n  return null;\n}\n\nexport default function MemoryContent({\n  memTitle,\n  memDate,\n  memStory,\n  memImages,\n  bucket,\n  memoryID,\n  authURL,\n  preview,\n}) {\n  const [open, setOpen] = useState(false);\n  const [edit, setEdit] = useState(false);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [title, setTitle] = useState(memTitle);\n  const [date, setDate] = useState(memDate);\n  const [story, setStory] = useState(memStory);\n  const [images, setImages] = useState(memImages);\n  const [snack, setSnack] = useState(null);\n  const [snackMessage, setSnackMessage] = useState(null);\n\n  const [newImages, setNewImages] = useState([]);\n  const [newImagesCount, setNewImagesCount] = useState(null);\n  const [errorUploadImages, setErrorUploadImages] = useState([]);\n  const [addImageOpen, setAddImageOpen] = useState(false);\n  const [uploadImageProgress, setUploadImageProgress] = useState(null);\n  const [uploadImageStatus, setUploadImageStatus] = useState(null);\n  const [snackError, setSnackError] = useState(null);\n  const [httpError, setHTTPError] = useState(false);\n\n  const maxSteps = images.length;\n\n  useEffect(() => setTitle(memTitle), [memTitle]);\n  useEffect(() => setDate(memDate), [memDate]);\n  useEffect(() => setStory(memStory), [memStory]);\n  useEffect(() => setImages(memImages), [memImages]);\n\n  const handleSnackMessage = (msg, error) => {\n    setSnackMessage(msg);\n    setSnackError(error);\n  };\n\n  const handleHTTPError = (response, operation, callback) => {\n    if (response.status === 401) {\n      handleSnackMessage('You have been logged out. Please login to continue.', true);\n    } else if (response.status === 403) {\n      handleSnackMessage('You do not have permissions to do this operation.', true);\n    } else {\n      handleSnackMessage(`Unknown error occured while ${operation}`, true);\n    }\n    callback(response.status);\n  };\n\n  const handleSnackBarClose = () => {\n    setSnack(false);\n    setSnackMessage(null);\n    setSnackError(null);\n  };\n\n  const httpErrorCallback = (status) => {\n    setSnack(true);\n    setHTTPError(status);\n  };\n\n  const UpdateDetails = async (item, value) => {\n    try {\n      const resp = await api.updateMemoryDetails(\n        bucket,\n        authURL,\n        memoryID,\n        item,\n        value,\n      );\n      if (resp.ok) {\n        handleSnackMessage(`Memory ${item} updated successfully`, false);\n      } else {\n        handleHTTPError(resp, `updating ${item}`, httpErrorCallback);\n      }\n      setSnack(true);\n      return resp;\n    } catch (error) {\n      /* eslint-disable no-console */\n      console.log(error);\n      return false;\n    }\n  };\n\n  const UpdateThumbnail = async (image) => {\n    try {\n      const resp = await api.updateMemoryImage(\n        bucket,\n        authURL,\n        memoryID,\n        'thumbnail',\n        image,\n      );\n      if (resp.ok) {\n        handleSnackMessage('Thumbnail updated successfully', false);\n        setSnack(true);\n      } else {\n        handleHTTPError(resp, 'updating thumbnail', httpErrorCallback);\n      }\n      return resp;\n    } catch (error) {\n      /* eslint-disable no-console */\n      console.log(error);\n      return false;\n    }\n  };\n\n  const deleteImage = async (image) => {\n    try {\n      let resp;\n      if (images.length > 1) {\n        resp = await api.updateMemoryImage(\n          bucket,\n          authURL,\n          memoryID,\n          'delete',\n          image,\n        );\n        if (resp.ok) {\n          handleSnackMessage('Memory image deleted successfully', false);\n          setImages(images.filter((item) => item.title !== image.title));\n        } else {\n          handleHTTPError(resp, 'deleting image', httpErrorCallback);\n        }\n      } else {\n        handleSnackMessage('Atleast 1 image is needed for memory. Unable to delete', true);\n      }\n      setSnack(true);\n      return resp;\n    } catch (error) {\n      /* eslint-disable no-console */\n      console.log(error);\n      return false;\n    }\n  };\n\n  const addImage = async (details) => {\n    try {\n      const resp = await api.updateMemoryImage(\n        bucket,\n        authURL,\n        memoryID,\n        'add',\n        details,\n      );\n      return resp;\n    } catch (error) {\n      /* eslint-disable no-console */\n      console.log(error);\n      return false;\n    }\n  };\n\n  const handleNewImages = async () => {\n    /* eslint-disable  no-await-in-loop, no-restricted-syntax */\n    for (const [index, img] of newImages.entries()) {\n      const [det, file, src] = img;\n      const putURL = await addImage(det).then((response) => {\n        if (response.ok) {\n          return response.text();\n        }\n        handleHTTPError(response, 'adding image', httpErrorCallback);\n        return '';\n      });\n      const photo = {\n        key: `memories/${memoryID}/images/${det.name}`,\n        src,\n        alt: det.name,\n        title: det.name,\n        width: det.width,\n        height: det.height,\n        images: [],\n      };\n      const uploadResp = await fetch(putURL, { body: file, method: 'PUT' });\n      if (uploadResp.ok) {\n        setUploadImageProgress(`Images uploaded: ${index + 1} / ${newImagesCount} `);\n        setImages((pics) => pics.concat([photo]));\n      } else {\n        setUploadImageStatus('Error while uploading memory image');\n        setErrorUploadImages((errImgs) => errImgs.concat([det.name]));\n        handleHTTPError(uploadResp, 'deleting image', httpErrorCallback);\n      }\n    }\n  };\n\n  useEffect(async () => {\n    if (newImages.length > 0) {\n      setAddImageOpen(true);\n      setUploadImageProgress('Preparing images for upload....');\n    }\n    if (newImages.length === newImagesCount) {\n      await handleNewImages();\n      if (errorUploadImages.length > 0) {\n        setUploadImageStatus(`Error while uploading ${errorUploadImages.length} images`);\n      } else {\n        setUploadImageStatus(`${newImages.length} image(s) uploaded successfully`);\n      }\n      setErrorUploadImages([]);\n      setNewImagesCount(null);\n      setNewImages([]);\n      setTimeout(() => {\n        setAddImageOpen(false);\n        setUploadImageStatus(null);\n        setUploadImageProgress(null);\n      }, 3000);\n    }\n  }, [newImages]);\n\n  const handleImageAdd = async (event) => {\n    if (event.target.files) {\n      const files = Array.from(event.target.files);\n      setNewImagesCount(files.length);\n      if (images.length + files.length <= 15) {\n        files.forEach((file) => {\n          const image = new Image();\n          image.onload = async (e) => {\n            const height = e.target.naturalHeight;\n            const width = e.target.naturalWidth;\n            const size = file.size / (1024 * 1024);\n            const { name } = file;\n            const resImages = [500, 1000, 1500].map((resHeight) => ({\n              height: resHeight, width: Math.ceil((resHeight * width) / height),\n            }));\n            const creationDate = Date.now();\n            const newName = `${creationDate}-${name}`;\n            const imageDetails = [{\n              name: newName, size, height, width, images: resImages,\n            }, file, e.target.src];\n            setNewImages((pics) => pics.concat([imageDetails]));\n          };\n          image.src = URL.createObjectURL(file);\n        });\n        files.map((file) => URL.revokeObjectURL(file)); // avoid memory leak\n      } else {\n        handleSnackMessage(`Unable to add ${files.length} images. Maximum images allowed per memory is 15`, true);\n        setSnack(true);\n      }\n    }\n  };\n\n  const updateTitle = (value) => {\n    const resp = UpdateDetails('title', value);\n    if (resp) {\n      setTitle(value);\n    }\n  };\n\n  const updateDate = (value) => {\n    const resp = UpdateDetails('date', value);\n    if (resp) {\n      setDate(value);\n    }\n  };\n\n  const updateStory = (value) => {\n    const resp = UpdateDetails('story', value);\n    if (resp) {\n      setStory(value);\n    }\n  };\n\n  const handleClose = () => setOpen(false);\n\n  const handleActiveIndexChange = (step) => setActiveIndex(step);\n\n  const handleBack = () => {\n    setActiveIndex(\n      (prevActiveStep) => (prevActiveStep - 1 + maxSteps) % maxSteps,\n    );\n  };\n\n  const handleNext = () => {\n    setActiveIndex((prevActiveStep) => (prevActiveStep + 1) % maxSteps);\n  };\n\n  const handlePhotoClick = (photo, event, index) => {\n    setOpen(true);\n    setActiveIndex(index);\n  };\n\n  const handleEditClick = () => setEdit(true);\n\n  const memoryTitle = (\n    <MemoryTitle\n      editable={edit}\n      text={title}\n      handleTitleUpdate={updateTitle}\n    />\n  );\n\n  const memoryDate = (\n    <MemoryDate editable={edit} prevDate={date} handleDateUpdate={updateDate} />\n  );\n\n  const storyLayout = (\n    <MemoryStory\n      editable={edit}\n      prevStory={story}\n      handleStoryUpdate={updateStory}\n    />\n  );\n\n  const photoLayout = (\n    <MemoryImages\n      editable={edit}\n      images={images}\n      handlePhotoClick={handlePhotoClick}\n      handleThumbnailUpdate={UpdateThumbnail}\n      deleteImage={deleteImage}\n      addImage={handleImageAdd}\n    />\n  );\n\n  const updateDone = (\n    <Button\n      variant=\"contained\"\n      component=\"label\"\n      onClick={() => setEdit(false)}\n      sx={{\n        color: 'primary.main',\n        borderRadius: 5,\n        backgroundColor: 'button.main',\n        padding: '6px 8px',\n      }}\n    >\n      <DoneIcon size=\"medium\" sx={{ paddingRight: 1 }} />\n      <Typography variant=\"body1\" color=\"muted.main\">Edit</Typography>\n    </Button>\n  );\n\n  if (httpError === 401 && snack === false) {\n    return <Navigate to=\"/login\" />;\n  }\n\n  return (\n    <>\n      {edit ? (\n        <Stack\n          direction=\"row\"\n          justifyContent=\"flex-start\"\n          sx={{ backgroundColor: 'button.main', paddingX: 2, paddingY: 1 }}\n        >\n          {updateDone}\n        </Stack>\n      ) : <BackButton preview={preview} /> }\n      <Box\n        component=\"div\"\n        sx={{\n          backgroundColor: 'button.main',\n          margin: edit ? '5px' : 0,\n        }}\n      >\n        <MemoryContentStructure\n          header={memoryTitle}\n          subheader={memoryDate}\n          photoLayout={photoLayout}\n          storyLayout={storyLayout}\n          memoryID={memoryID}\n          bucket={bucket}\n          authURL={authURL}\n          handleEditClick={handleEditClick}\n          preview={preview}\n        />\n      </Box>\n      <MemoryCarousel\n        open={open}\n        title={title}\n        date={date}\n        images={images}\n        index={activeIndex}\n        handleNext={handleNext}\n        handleBack={handleBack}\n        handleClose={handleClose}\n        handleChange={handleActiveIndexChange}\n      />\n      <SimpleSnackbar\n        snackBarOpen={snack}\n        message={snackMessage}\n        onClose={handleSnackBarClose}\n        error={snackError}\n      />\n      <Dialog\n        open={addImageOpen}\n        fullWidth\n        sx={{\n          p: 1,\n        }}\n      >\n        <Card sx={{ maxWidth: 1, p: 1 }}>\n          <CardHeader title=\"Adding Images\" sx={{ textAlign: 'center' }} />\n          <Divider />\n          <CardContent>\n            <Typography variant=\"h6\" sx={{ color: 'muted.main' }}>{uploadImageProgress}</Typography>\n            <Stack justifyContent=\"center\" sx={{ py: 2 }}>\n              <Typography variant=\"h5\">{uploadImageStatus}</Typography>\n            </Stack>\n          </CardContent>\n        </Card>\n      </Dialog>\n\n    </>\n  );\n}\n\nMemoryContent.defaultProps = {\n  memTitle: 'Memory Title',\n  memDate: 'Memory Date',\n  memStory: 'Memory Text',\n};\n\nMemoryContent.propTypes = {\n  memTitle: PropTypes.string,\n  memDate: PropTypes.string,\n  memStory: PropTypes.string,\n  memoryID: PropTypes.string.isRequired,\n  bucket: PropTypes.string.isRequired,\n  authURL: PropTypes.string.isRequired,\n  memImages: PropTypes.arrayOf(\n    PropTypes.shape({\n      src: PropTypes.string,\n      width: PropTypes.number,\n      height: PropTypes.number,\n    }),\n  ).isRequired,\n  preview: PropTypes.bool.isRequired,\n};\n\nBackButton.propTypes = {\n  preview: PropTypes.bool.isRequired,\n};\n"],"names":["RemovePhotoIcon","size","handleClick","sx","color","bgcolor","alpha","position","top","right","onClick","defaultProps","SnackText","message","error","direction","spacing","justifyContents","alignItems","fontSize","SimpleSnackbar","snackBarOpen","onClose","useState","open","setOpen","snackMessage","setSnackMessage","useEffect","handleClose","action","autoHideDuration","anchorOrigin","vertical","horizontal","useDate","initialDate","date","setDate","e","newDate","Date","formattedDate","toLocaleDateString","day","month","year","useStory","initialState","story","setStory","event","target","value","useTitle","initialValue","title","setTitle","get","url","path","params","newUrl","options","method","credentials","headers","Headers","URLSearchParams","toString","fetch","resp","ok","status","document","cookie","json","getObjectUrl","bucket","authURL","key","then","response","Error","console","log","URL","details","urlParams","apiUrl","body","upload","putURL","memoryID","memory_id","item","JSON","stringify","image","emailList","process","email_list","email","validateDetails","uploadMultipleImages","paramList","incrementImageCount","map","Key","Body","getMemories","nextToken","next_token","getPendingMemories","getAcceptedMemories","viewMemory","memoryKey","viewSharedMemory","getThumbnails","memories","getPendingThumbnails","memory","getAcceptedThumbnails","finalizeMemory","deleteMemory","updateMemoryDetails","updateMemoryImage","shareMemory","getShareData","revokeShare","acceptShare","ActionIcon","icon","label","Box","IconButton","Confirm","confirm","handleCallback","handleCloseCallback","Dialog","backgroundColor","DialogTitle","p","Typography","pb","Stack","Button","variant","DeleteMemoryIcon","Delete","ConfirmDelete","callback","closeCallback","memoryDeleteCallback","api","deleteResults","UpdateMemoryIcon","Edit","useEmail","items","setItems","setValue","setError","isInList","includes","evt","preventDefault","val","trim","err","test","isEmail","isValid","prevItems","filter","i","emails","clipboardData","getData","match","toBeAdded","EmailInput","handleKeyDown","handleChange","handleDelete","handlePaste","mb","TextField","id","placeholder","onKeyDown","onChange","onPaste","helperText","my","Grid","container","Chip","onDelete","margin","NewShares","handleClear","handleSubmit","disabled","length","StatusTable","invitation","accept","colorMap","pending","sent","failed","rejected","accepted","Table","TableHead","TableRow","TableCell","align","TableBody","CheckboxCell","selected","checked","setChecked","padding","Checkbox","PersonalDetailsCell","picture","name","component","scope","avatar","Avatar","alt","src","referrerPolicy","b","maxWidth","ExpandStatusIconCell","style","paddingBottom","paddingTop","colSpan","ExpandLess","ExpandCircleDown","ShareeRow","isSelected","onCheckBoxClick","border","Collapse","in","timeout","unmountOnExit","gutterBottom","SelectAllCheckboxCell","numSelected","rowCount","onSelectAllClick","indeterminate","TableHeader","handleUnshareClick","fontWeight","textTransform","ExistingShares","shareData","onUnShare","page","setPage","setNumSelected","Array","fill","setSelected","TableContainer","Paper","stickyHeader","unshareEmails","push","slice","sharee","index","ind","prevSelected","TablePagination","rowsPerPageOptions","count","rowsPerPage","onPageChange","newPage","CloseButton","theme","palette","grey","Close","ShareMemoryIcon","Share","ShareComponent","memoryShareCallback","memoryUnShareCallback","setShareData","data","shareResults","resultsJSON","handleUnshare","existingShares","m","Divider","MemoryActions","actionComponent","snackBar","handleEditClick","anchorEl","setAnchorEl","setAction","Boolean","MoreVert","currentTarget","Menu","MenuListProps","borderRadius","MenuItem","MemoryContentStructure","className","header","subheader","photoLayout","storyLayout","preview","snack","setSnack","snackError","setSnackError","redir","setRedir","useTheme","useMediaQuery","breakpoints","down","handleSnackMessage","msg","actions","results","to","replace","Card","boxShadow","CardHeader","display","justifyContent","flexDirection","lg","xs","height","width","overflowY","mt","px","EnhancedSwipeableViews","bindKeyboard","autoPlay","virtualize","SwipeableViews","MemoryImageSlide","images","handleNext","handleStepChange","activeStep","setActiveStep","loadedImages","setLoadedImages","setDisplay","handleImageLoad","prevLoaded","onChangeIndex","enableMouseEvents","animateTransitions","interval","slideRenderer","props","virtNum","total","modulus","mod","srcSet","join","onLoad","boxSizing","cursor","objectFit","NextPic","edge","transform","KeyboardArrowRight","PreviousPic","left","KeyboardArrowLeft","MemoryCarousel","handleBack","fullScreen","MemoryTitle","editable","text","handleTitleUpdate","handleTitleChange","edit","setEdit","startEdit","setStartEdit","defaultValue","DoneTwoTone","Clear","MemoryDate","prevDate","handleDateUpdate","handleDateChange","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","inputFormat","maxDate","renderInput","readOnly","required","MemoryStory","prevStory","handleStoryUpdate","handleStoryChange","storyRef","useRef","whiteSpace","borderColor","minHeight","current","focus","TextareaAutosize","autoFocus","maxHeight","overflow","outline","resize","ref","OptionsButton","children","updateOp","AddPhotos","type","hidden","multiple","MemoryPhotoAlbum","handlePhotoClick","renderPhoto","arrangement","setArrangement","twidth","theight","forEach","layout","photos","MemoryImages","handleThumbnailUpdate","deleteImage","addImage","setUpdateOp","thumbnail","setThumbnail","handleOpUpdate","op","OptionsRow","updatePanel","imageProps","restImageProps","deleted","find","handleImageDelete","FormControlLabel","control","Radio","thumbnailImage","handleThumbnailChange","pr","borderLeft","bottom","BackButton","paddingX","paddingY","Link","href","underline","ArrowBack","paddingRight","MemoryContent","memTitle","memDate","memStory","memImages","activeIndex","setActiveIndex","setImages","newImages","setNewImages","newImagesCount","setNewImagesCount","errorUploadImages","setErrorUploadImages","addImageOpen","setAddImageOpen","uploadImageProgress","setUploadImageProgress","uploadImageStatus","setUploadImageStatus","httpError","setHTTPError","maxSteps","handleHTTPError","operation","httpErrorCallback","UpdateDetails","UpdateThumbnail","handleNewImages","entries","img","det","file","photo","uploadResp","pics","concat","errImgs","setTimeout","handleImageAdd","files","from","Image","onload","naturalHeight","naturalWidth","resImages","resHeight","Math","ceil","creationDate","now","newName","imageDetails","createObjectURL","revokeObjectURL","memoryTitle","memoryDate","updateDone","Done","prevActiveStep","step","fullWidth","textAlign","CardContent","py"],"sourceRoot":""}