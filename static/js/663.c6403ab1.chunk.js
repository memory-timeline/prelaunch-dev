"use strict";(self.webpackChunkprelaunch=self.webpackChunkprelaunch||[]).push([[663],{31652:(e,t,r)=>{r.d(t,{Z:()=>n});var s=r(79105);const n={get:async e=>(await s.Z.httpClient("/api/address/get",{id:e},{method:"GET"})).json,delete:async e=>s.Z.httpClient("/api/address/delete",{id:e},{method:"DELETE"}),list:async()=>(await s.Z.httpClient("/api/address/list",{},{method:"GET"})).json,update:async(e,t,r)=>await s.Z.httpClient("/api/address/update",{id:e},{method:"PUT",body:JSON.stringify({id:e,previousData:t,data:r})}),create:async e=>await s.Z.httpClient("/api/address/create",{},{method:"POST",body:JSON.stringify(e)}),setDefault:async e=>(await s.Z.httpClient("/api/address/setDefault",{id:e},{method:"PUT"})).json,getDefault:async()=>(await s.Z.httpClient("/api/address/getDefault",{},{method:"GET"})).json}},23072:(e,t,r)=>{r.d(t,{Z:()=>l});var s=r(32195),n=r(61113),a=r(23306),o=r(46417);function i(e){let{value:t,label:r}=e;return t&&(0,o.jsxs)(s.Z,{direction:"column",justifyContent:"center",sx:{my:.5},children:[(0,o.jsx)(a.Z,{sx:{fontSize:"0.8rem",fontWeight:"bold",width:"max-content"},children:r}),(0,o.jsx)(n.Z,{sx:{fontSize:"0.9rem"},children:t})]})}function l(e){let{address:t}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i,{label:"Receiver's Name",helpText:"e.g. Nabarun Chatterjee",value:t.name}),(0,o.jsx)(i,{label:"House no, Street, Locality, etc",helpText:"e.g. 123, A.B. Avenue, Serampore",value:t.content}),(0,o.jsx)(i,{label:"Landmark",value:t.landmark,helpText:"e.g. Behind Ganesh Temple"}),(0,o.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",spacing:2,sx:{my:.5},children:[(0,o.jsx)(i,{label:"City",value:t.city,helperText:"e.g. Kolkata"}),(0,o.jsx)(i,{label:"State",value:t.state,helperText:"e.g. Karnataka"}),(0,o.jsx)(i,{label:"Country",value:t.country})]}),(0,o.jsxs)(s.Z,{direction:"row",justifyContent:"flex-start",spacing:2,sx:{my:.5},children:[(0,o.jsx)(i,{label:"Pincode",value:t.pincode}),(0,o.jsx)(i,{label:"Mobile Number",value:t.mobile_number})]})]})}i.defaultProps={value:""}},28616:(e,t,r)=>{r.d(t,{Kn:()=>i,_N:()=>a,dy:()=>n,p6:()=>o,y3:()=>l});var s=r(31652);async function n(e,t){try{const r=await s.Z.list();console.log("resp add",r),e(r.addresses),r.addresses.forEach((e=>{s.Z.get(e.id).then((e=>t(e)))}))}catch(r){console.log(r)}}async function a(e,t){try{t(e,!0,!0);const r=await s.Z.delete(e);console.log("remove address",r),200===r.status?t(e,!1,!0):t(e,!1,!1)}catch(r){console.log(r)}}const o=async(e,t)=>{try{t(!0,!0);const r=await s.Z.create(e);console.log("resp create",r),200===r.status?t(!1,!0):t(!1,!1)}catch(r){console.log(r)}};async function i(e,t){try{console.log("Getting address",e);const r=await s.Z.get(e);return t(r),r}catch(r){return console.log(r),r}}async function l(e,t,r,n){try{console.log("Getting address",e);200===(await s.Z.update(e,t,r)).status?n(!1,!0):n(!1,!1)}catch(a){console.log(a)}}},99478:(e,t,r)=>{r.d(t,{Z:()=>c});var s=r(73428),n=r(93405),a=r(19536),o=r(54641),i=r(56104),l=r(58587),d=r(46417);function c(e){let{action:t,component:r,headerAction:c,content:u,componentActions:m}=e;const[p,h]=(0,l.Z)(),f=p<h;return(0,d.jsxs)(s.Z,{elevation:1,sx:{borderRadius:0,width:{sm:"100%",md:"max-content"},minWidth:f?"100%":"500px",maxWidth:"1150px",bgcolor:"white",display:"flex",alignItems:"start",flexDirection:"column",justifyContent:"start"},children:[(0,d.jsx)(o.Z,{title:t,subheader:r,action:c,titleTypographyProps:{color:"primary.main"},subheaderTypographyProps:{fontWeight:"bold"},sx:{width:"100%","& .MuiCardHeader-action":{alignSelf:"center"}}}),(0,d.jsx)(a.Z,{sx:{borderBottomWidth:3,mb:2},flexItem:!0}),(0,d.jsx)(n.Z,{sx:{width:"100%",p:0},children:u}),m?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.Z,{sx:{borderBottomWidth:2,mb:2},flexItem:!0}),(0,d.jsx)(i.Z,{sx:{p:1,pb:2,width:"100%"},children:m})]}):null]})}c.defaultProps={headerAction:""}},47344:(e,t,r)=>{r.d(t,{Z:()=>n});var s=r(47313);function n(){const[e,t]=(0,s.useState)({open:!1,message:"",messageType:"info"});return[e,(e,r)=>t({open:!0,message:e,messageType:r})]}},43890:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(47313),n=r(28616);function a(){const[e,t]=(0,s.useState)([]),[r,a]=(0,s.useState)([]),[o,i]=(0,s.useState)(!0),l=e=>t(e),d=e=>{console.log("updating address",e.id),a((t=>{const r=t.findIndex((t=>t.id===e.id));return-1===r?[...t,e]:[...t.slice(0,r),e,...t.slice(r+1)]}))},c=()=>(0,n.dy)(l,d);return(0,s.useEffect)(c,[]),(0,s.useEffect)((()=>i((()=>e.length>r.length))),[r.length,e.length]),console.log("Address hook",o,e,r),{addresses:r,addressFilter:e,handleAddressListing:c,isLoading:o}}},58587:(e,t,r)=>{r.d(t,{Z:()=>n});var s=r(47313);function n(){const[e,t]=(0,s.useState)([0,0]);return(0,s.useLayoutEffect)((()=>{function e(){t([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),e}},67663:(e,t,r)=>{r.r(t),r.d(t,{default:()=>A});var s=r(47313),n=r(58467),a=r(9019),o=r(73428),i=r(32195),l=r(54641),d=r(93405),c=r(19536),u=r(31095),m=r(66212),p=r(23072),h=r(46417);function f(e){let{address:t,handleEdit:r,handleRemove:s,deleting:n,handleSetDefault:a}=e;return(0,h.jsxs)(o.Z,{sx:{width:"350px",position:"relative",m:1},children:[(0,h.jsx)(l.Z,{title:t.default?(0,h.jsx)(m.Z,{label:"Default",color:"primary",variant:"outlined",sx:{fontWeight:"bold",fontColor:"gray"}}):"",action:(0,h.jsxs)(i.Z,{direction:"row",sx:{mr:1},children:[(0,h.jsx)(u.Z,{sx:{fontSize:"1rem"},disabled:n,onClick:()=>r(t.id),children:"Edit"}),(0,h.jsx)(c.Z,{orientation:"vertical",flexItem:!0}),(0,h.jsx)(u.Z,{sx:{fontSize:"1rem"},disabled:n,onClick:()=>s(t.id),children:"Remove"}),t.default?null:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(c.Z,{orientation:"vertical",flexItem:!0}),(0,h.jsx)(u.Z,{disabled:n,onClick:()=>a(t.id),sx:{fontSize:"1rem"},children:"Set as Default"})]})]}),sx:{m:0,p:0,pl:2,py:1}}),(0,h.jsx)(c.Z,{sx:{borderBottomWidth:2}}),(0,h.jsx)(d.Z,{children:t&&(0,h.jsx)(p.Z,{address:t})})]})}var x=r(5211),Z=r(61113);function g(e){let{handleClick:t}=e;return(0,h.jsx)(o.Z,{elevation:2,sx:{width:"350px",minHeight:"300px",border:"2px solid gray",backgroundColor:"transparent",cursor:"pointer",m:1},onClick:t,children:(0,h.jsxs)(i.Z,{direction:"column",justifyContent:"center",alignItems:"center",sx:{width:"100%",height:"100%"},children:[(0,h.jsx)(x.Z,{sx:{fontSize:"3.5rem",color:"gray"}}),(0,h.jsx)(Z.Z,{sx:{fontSize:"2.5rem"},children:" Add Address"})]})})}var v=r(64198),b=r(99478),y=r(47344),j=r(28616),w=r(31652),S=r(43890),C=r(30033);const k=e=>{let{addrs:t,handleEdit:r,handleRemove:s,deleting:n,handleSetDefault:a}=e;return t.map((e=>(0,h.jsx)(f,{address:e,handleEdit:r,handleRemove:s,deleting:n,handleSetDefault:a},e.id)))};function A(){const e=(0,n.s0)(),{addresses:t,addressFilter:r,handleAddressListing:o}=(0,S.Z)(),[i,l]=(0,s.useState)(!1),[d,c]=(0,y.Z)();console.log("addresses",t,i,r);const u=(e,t,r)=>{console.log("remove address status",e,t,r),l(t),t?c("Deleting Address","info"):r?(c("Address Deleted!","success"),o()):c("Address Deletion Failed!","error")},m=r.length&&r.length===t.length?t:r;return(0,h.jsx)(v.Z,{notify:d,routeNameMap:C.$,children:(0,h.jsx)(b.Z,{action:"Your",component:"Addressess",content:(0,h.jsxs)(a.ZP,{container:!0,sx:{maxWidth:"1150px",backgroundColor:"white",m:0,justifyContent:{xs:"center",md:"space-between"}},children:[(0,h.jsx)(g,{handleClick:()=>e(C.j.ADDRESS_CREATE_URL)},"add-address"),(0,h.jsx)(k,{addrs:m,handleEdit:r=>e("/address/".concat(r),{state:{address:t.find((e=>e.id===r))}}),handleRemove:e=>(0,j._N)(e,u),deleting:i,handleSetDefault:async e=>{(await w.Z.setDefault(e)).id&&o()}},m)]}),componentActions:(0,h.jsx)("div",{})})})}},5211:(e,t,r)=>{var s=r(64836);t.Z=void 0;var n=s(r(45045)),a=r(46417),o=(0,n.default)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=o},56104:(e,t,r)=>{r.d(t,{Z:()=>x});var s=r(63366),n=r(87462),a=r(47313),o=r(2197),i=r(8007),l=r(17592),d=r(31033),c=r(14363),u=r(1167);function m(e){return(0,u.ZP)("MuiCardActions",e)}(0,c.Z)("MuiCardActions",["root","spacing"]);var p=r(46417);const h=["disableSpacing","className"],f=(0,l.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,n.Z)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),x=a.forwardRef((function(e,t){const r=(0,d.i)({props:e,name:"MuiCardActions"}),{disableSpacing:a=!1,className:l}=r,c=(0,s.Z)(r,h),u=(0,n.Z)({},r,{disableSpacing:a}),x=(e=>{const{classes:t,disableSpacing:r}=e,s={root:["root",!r&&"spacing"]};return(0,i.Z)(s,m,t)})(u);return(0,p.jsx)(f,(0,n.Z)({className:(0,o.Z)(x.root,l),ownerState:u,ref:t},c))}))},91397:(e,t,r)=>{r.d(t,{Z:()=>s});const s=r(47313).createContext(void 0)},80300:(e,t,r)=>{function s(e){let{props:t,states:r,muiFormControl:s}=e;return r.reduce(((e,r)=>(e[r]=t[r],s&&"undefined"===typeof t[r]&&(e[r]=s[r]),e)),{})}r.d(t,{Z:()=>s})},99008:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(47313),n=r(91397);function a(){return s.useContext(n.Z)}},23306:(e,t,r)=>{r.d(t,{Z:()=>k});var s=r(63366),n=r(87462),a=r(47313),o=r(8007),i=r(2197),l=r(80300),d=r(99008),c=r(91615),u=r(31033),m=r(17592),p=r(14363),h=r(1167);function f(e){return(0,h.ZP)("MuiFormLabel",e)}const x=(0,p.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]);var Z=r(46417);const g=["children","className","color","component","disabled","error","filled","focused","required"],v=(0,m.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return(0,n.Z)({},t.root,"secondary"===r.color&&t.colorSecondary,r.filled&&t.filled)}})((e=>{let{theme:t,ownerState:r}=e;return(0,n.Z)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(x.focused)]:{color:(t.vars||t).palette[r.color].main},["&.".concat(x.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(x.error)]:{color:(t.vars||t).palette.error.main}})})),b=(0,m.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(x.error)]:{color:(t.vars||t).palette.error.main}}})),y=a.forwardRef((function(e,t){const r=(0,u.i)({props:e,name:"MuiFormLabel"}),{children:a,className:m,component:p="label"}=r,h=(0,s.Z)(r,g),x=(0,d.Z)(),y=(0,l.Z)({props:r,muiFormControl:x,states:["color","required","focused","disabled","error","filled"]}),j=(0,n.Z)({},r,{color:y.color||"primary",component:p,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required}),w=(e=>{const{classes:t,color:r,focused:s,disabled:n,error:a,filled:i,required:l}=e,d={root:["root","color".concat((0,c.Z)(r)),n&&"disabled",a&&"error",i&&"filled",s&&"focused",l&&"required"],asterisk:["asterisk",a&&"error"]};return(0,o.Z)(d,f,t)})(j);return(0,Z.jsxs)(v,(0,n.Z)({as:p,ownerState:j,className:(0,i.Z)(w.root,m),ref:t},h,{children:[a,y.required&&(0,Z.jsxs)(b,{ownerState:j,"aria-hidden":!0,className:w.asterisk,children:["\u2009","*"]})]}))}));var j=r(13727);function w(e){return(0,h.ZP)("MuiInputLabel",e)}(0,p.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const S=["disableAnimation","margin","shrink","variant","className"],C=(0,m.ZP)(y,{shouldForwardProp:e=>(0,j.Z)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{["& .".concat(x.asterisk)]:t.asterisk},t.root,r.formControl&&t.formControl,"small"===r.size&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})((e=>{let{theme:t,ownerState:r}=e;return(0,n.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},r.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===r.size&&{transform:"translate(0, 17px) scale(1)"},r.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!r.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===r.variant&&(0,n.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===r.size&&{transform:"translate(12px, 13px) scale(1)"},r.shrink&&(0,n.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===r.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===r.variant&&(0,n.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===r.size&&{transform:"translate(14px, 9px) scale(1)"},r.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),k=a.forwardRef((function(e,t){const r=(0,u.i)({name:"MuiInputLabel",props:e}),{disableAnimation:a=!1,shrink:m,className:p}=r,h=(0,s.Z)(r,S),f=(0,d.Z)();let x=m;"undefined"===typeof x&&f&&(x=f.filled||f.focused||f.adornedStart);const g=(0,l.Z)({props:r,muiFormControl:f,states:["size","variant","required","focused"]}),v=(0,n.Z)({},r,{disableAnimation:a,formControl:f,shrink:x,size:g.size,variant:g.variant,required:g.required,focused:g.focused}),b=(e=>{const{classes:t,formControl:r,size:s,shrink:a,disableAnimation:i,variant:l,required:d}=e,u={root:["root",r&&"formControl",!i&&"animated",a&&"shrink",s&&"normal"!==s&&"size".concat((0,c.Z)(s)),l],asterisk:[d&&"asterisk"]},m=(0,o.Z)(u,w,t);return(0,n.Z)({},t,m)})(v);return(0,Z.jsx)(C,(0,n.Z)({"data-shrink":x,ownerState:v,ref:t,className:(0,i.Z)(b.root,p)},h,{classes:b}))}))}}]);