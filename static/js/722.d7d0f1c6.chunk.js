"use strict";(self.webpackChunkprelaunch=self.webpackChunkprelaunch||[]).push([[722],{70656:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(79105);const a={newCollage:function(e,t){try{const n="/api/collage/new",a={collage_id:e},i="authbridge-stage.mymemorystore.in";return o.Z.post(i,n,a,JSON.stringify(t))}catch(n){return console.log(n),n}},saveCollage:function(e,t){try{const n="/api/collage/save",a={collage_id:e},i="authbridge-stage.mymemorystore.in";return o.Z.post(i,n,a,JSON.stringify(t))}catch(n){return console.log(n),n}},upload:async function(e,t){try{const n={body:t,method:"PUT"};return await fetch(e,n).then((e=>e))}catch(n){return console.log(n),n}},listCollages:function(e){try{const t="/api/collage/list",n={next_token:e},a="authbridge-stage.mymemorystore.in";return o.Z.get(a,t,n)}catch(t){return console.log(t),t}},getThumbnail:function(e){try{const t="/api/collage/thumbnail",n={collage_id:e},a="authbridge-stage.mymemorystore.in";return o.Z.get(a,t,n)}catch(t){return console.log(t),t}},getCollage:function(e){try{const t="/api/collage/get",n={collage_id:e},a="authbridge-stage.mymemorystore.in";return o.Z.get(a,t,n)}catch(t){return console.log(t),t}},deleteCollage:function(e){try{const t="/api/collage/delete",n={collage_id:e},a="authbridge-stage.mymemorystore.in";return o.Z.deleteMethod(a,t,n)}catch(t){return console.log(t),t}},checkOptimizeStatus:function(e){try{const t="/api/collage/resized-count",n={collage_id:e},a="authbridge-stage.mymemorystore.in";return o.Z.get(a,t,n)}catch(t){return console.log(t),t}}}},90325:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(9019),a=n(61113),i=n(56746),r=n(46417);function l(e){let{handleMoreClick:t}=e;return(0,r.jsx)(o.ZP,{item:!0,lg:3,md:4,sm:6,xs:12,sx:{p:1},children:(0,r.jsx)(i.Z,{handleClick:t,children:(0,r.jsx)(a.Z,{variant:"h5",sx:{p:2,color:"secondary.main",bgcolor:"primary.main",borderRadius:"30px",borderColor:"secondary.main",position:"absolute",bottom:"50%",left:"50%",transform:"translate(-50%, +50%)",textAlign:"center"},children:"Load More"})})},"creatememory")}},82295:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(9019),a=n(46417);function i(e){let{children:t}=e;return(0,a.jsx)(o.ZP,{container:!0,sx:{bgcolor:"button.main",py:1},justifyContent:"left",alignItems:"flex-start",children:t})}i.defaultProps={children:""}},56746:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(73428),a=n(44183),i=n(46417);function r(e){let{handleClick:t,children:n}=e;return(0,i.jsx)(a.Z,{onClick:t,children:(0,i.jsx)(o.Z,{elevation:2,sx:{bgcolor:"#fff",borderRadius:5,color:"black",position:"relative",height:{lg:430,md:380,xs:330},"&:hover":{border:3,borderColor:"secondary.main",elevation:0}},children:n})})}},28722:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var o=n(1413),a=n(47313),i=n(58467),r=n(17551),l=n(41806),s=n(61113),c=n(82295),d=n(70656),h=n(9019),u=n(1470),g=n(64586),m=n(94469),p=n(32195),f=n(85281),b=n(96467),x=n(90325),Z=n(73428),y=n(16957),v=n(93405),C=n(54641),j=n(44183),k=n(15300),w=n(41434),S=n(46417);function R(e){let{message:t,handleClick:n}=e;const o=(0,k.Z)((e=>e.breakpoints.down("md")));return(0,S.jsx)(h.ZP,{item:!0,lg:3,md:4,sm:6,xs:12,sx:{p:1},children:(0,S.jsxs)(P,{handleClick:n,children:[(0,S.jsx)(s.Z,{variant:o?"body1":"h5",color:"button.main",sx:{p:1,color:"muted.main",bgcolor:"primary.main",borderRadius:"0px 10px 10px 0px",borderColor:"secondary.main",position:"absolute",bottom:15,left:0,fontWeight:"bold"},children:t}),(0,S.jsx)(w.Z,{sx:{position:"absolute",border:3,borderRadius:"50%",fontSize:"7.5rem",left:"50%",top:"50%",transform:"translate(-50%, -50%)",color:"muted.main"}})]})},"create")}function A(e){let{title:t}=e;return(0,S.jsx)(v.Z,{children:(0,S.jsx)(C.Z,{disableTypography:!0,title:(0,S.jsx)(s.Z,{noWrap:!0,sx:{overflow:"hidden",textOverflow:"ellipsis",fontWeight:600,textAlign:"center"},children:t}),sx:{padding:0,color:"faded.black"}})})}function I(e){let{imageSrc:t,title:n,handleImageLoad:o}=e;return(0,S.jsx)(y.Z,{component:"img",src:t,alt:n,sx:{textAlign:"center",objectFit:"cover",height:"85%"},onLoad:o})}function P(e){let{handleClick:t,children:n}=e;return(0,S.jsx)(j.Z,{onClick:t,children:(0,S.jsx)(Z.Z,{elevation:2,sx:{bgcolor:"#fff",borderRadius:5,color:"black",position:"relative",height:"40vh","&:hover":{border:3,borderColor:"secondary.main",elevation:0}},children:n})})}function _(e){let{title:t,thumbnailImage:n,handleClick:o,handleImageLoad:a}=e;return(0,S.jsxs)(P,{handleClick:o,children:[(0,S.jsx)(I,{imageSrc:n,title:t,handleImageLoad:a}),(0,S.jsx)(A,{title:t})]})}function M(e){let{items:t,handleMoreClick:n,nextToken:o,handleImageLoad:a,createComponent:i,handleClick:l}=e;return(0,S.jsxs)(h.ZP,{container:!0,sx:{bgcolor:"button.main",py:1},justifyContent:"left",alignItems:"flex-start",children:[i,t.map((e=>(0,S.jsxs)(h.ZP,{item:!0,lg:3,md:4,sm:6,xs:12,sx:{p:1,position:"relative"},children:[(0,S.jsx)(_,{title:e.title,thumbnailImage:e.photo.src,handleClick:()=>!0===e.optimized?l(e):{},handleImageLoad:a}),!1===e.optimized?(0,S.jsxs)(p.Z,{direction:"row",justifyContent:"center",alignItems:"center",spacing:2,sx:{position:"absolute",top:"50%",width:"100%",backgroundColor:(0,r.Fq)("#fff",.6),py:1,transform:"translate(0,-50%)"},children:[(0,S.jsx)(f.Z,{}),(0,S.jsx)(s.Z,{variant:"h6",color:"success",sx:{textAlign:"center",fontWeight:"bold"},children:"Optimizing ..."})]}):null]},e.title))),o&&(0,S.jsx)(x.Z,{handleMoreClick:n})]})}function L(e){return e.map((e=>(0,o.Z)((0,o.Z)({},e),{},{photo:{title:e.collage_id,src:e.thumbnail_url}})))}function N(){const e=(0,i.s0)(),[t,n]=(0,a.useState)(0),[r,x]=(0,a.useState)(""),[Z,y]=(0,a.useState)([]),[v,C]=(0,a.useState)([]),[j,k]=(0,a.useState)(!1),[w,A]=(0,a.useState)(""),I=e=>C((t=>t.concat(e))),P=e=>y((t=>t.concat(e))),N=async()=>{var e;""!==(e="Loading collages")&&(A(e),k(!0)),await async function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";try{const a=await d.Z.listCollages(o);e(a.collage_ids),t(a.next_token);const i=a.collage_ids.map((e=>d.Z.getThumbnail(e)));n(L(await Promise.all(i)))}catch(a){console.log(a)}}(I,x,P,r),k(!1),A("")},z=(0,S.jsx)(R,{message:"Create a collage",handleClick:()=>e("/collage/create")}),T=Z.sort(((e,t)=>parseInt(e.collage_id,10)>parseInt(t.collage_id,10)?-1:1));(0,a.useEffect)(N,[]);const F=async()=>{let e=!0,t=!1;const n=[...Z],a=await Promise.allSettled(n.map((async n=>{if(!1===n.optimized){return!0===(await d.Z.checkOptimizeStatus(n.collage_id)).optimized?(t=!0,(0,o.Z)((0,o.Z)({},n),{},{optimized:!0})):(e=!1,n)}return n})));!0===t&&y(a.map((e=>e.value))),!1===e&&setTimeout((()=>F()),2e3)};(0,a.useEffect)(F,[Z]);const O=(0,S.jsx)(M,{createComponent:z,handleClick:t=>{e("/collage/".concat(t.collage_id))},handleImageLoad:()=>n((e=>e+1)),handleMoreClick:N,items:T,nextToken:r}),H=(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(c.Z,{children:[z,Z.map((e=>(0,S.jsx)(h.ZP,{item:!0,lg:3,md:4,sm:6,xs:12,sx:{p:1},children:(0,S.jsx)(_,{title:(0,S.jsx)(u.Z,{type:"rectangular",sx:{width:"60%"}}),thumbnailImage:g,handleClick:()=>{}})},e)))]}),(0,S.jsx)(l.Z,{component:"div",sx:{display:"none"},children:O})]});return(0,S.jsxs)(S.Fragment,{children:[Z.length===v.length&&t>=Z.length?O:H,(0,S.jsx)(m.Z,{open:j,children:(0,S.jsx)(b.Z,{children:(0,S.jsxs)(p.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,children:[(0,S.jsx)(f.Z,{}),(0,S.jsx)(s.Z,{variant:"h6",children:w})]})})})]})}M.defaultProps={items:[],createComponent:""},A.defaultProps={title:"Thumbnail Image"},I.defaultProps={title:"Thumbnail Image",imageSrc:"",handleImageLoad:()=>{}},_.defaultProps={handleImageLoad:()=>{}}},44183:(e,t,n)=>{n.d(t,{Z:()=>Z});var o=n(87462),a=n(63366),i=n(47313),r=n(2197),l=n(8007),s=n(31033),c=n(17592),d=n(14363),h=n(1167);function u(e){return(0,h.ZP)("MuiCardActionArea",e)}const g=(0,d.Z)("MuiCardActionArea",["root","focusVisible","focusHighlight"]);var m=n(38743),p=n(46417);const f=["children","className","focusVisibleClassName"],b=(0,c.ZP)(m.Z,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",["&:hover .".concat(g.focusHighlight)]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},["&.".concat(g.focusVisible," .").concat(g.focusHighlight)]:{opacity:(t.vars||t).palette.action.focusOpacity}}})),x=(0,c.ZP)("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})((e=>{let{theme:t}=e;return{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}})),Z=i.forwardRef((function(e,t){const n=(0,s.i)({props:e,name:"MuiCardActionArea"}),{children:i,className:c,focusVisibleClassName:d}=n,h=(0,a.Z)(n,f),g=n,m=(e=>{const{classes:t}=e;return(0,l.Z)({root:["root"],focusHighlight:["focusHighlight"]},u,t)})(g);return(0,p.jsxs)(b,(0,o.Z)({className:(0,r.Z)(m.root,c),focusVisibleClassName:(0,r.Z)(d,m.focusVisible),ref:t,ownerState:g},h,{children:[i,(0,p.jsx)(x,{className:m.focusHighlight,ownerState:g})]}))}))},1470:(e,t,n)=>{n.d(t,{Z:()=>P});var o=n(30168),a=n(63366),i=n(87462),r=n(47313),l=n(2197),s=n(30686),c=n(8007),d=n(30570),h=n(17551),u=n(17592),g=n(31033),m=n(14363),p=n(1167);function f(e){return(0,p.ZP)("MuiSkeleton",e)}(0,m.Z)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var b,x,Z,y,v=n(46417);const C=["animation","className","component","height","style","variant","width"];let j,k,w,S;const R=(0,s.F4)(j||(j=b||(b=(0,o.Z)(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))),A=(0,s.F4)(k||(k=x||(x=(0,o.Z)(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))),I=(0,u.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!1!==n.animation&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})((e=>{let{theme:t,ownerState:n}=e;const o=(0,d.Wy)(t.shape.borderRadius)||"px",a=(0,d.YL)(t.shape.borderRadius);return(0,i.Z)({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:(0,h.Fq)(t.palette.text.primary,"light"===t.palette.mode?.11:.13),height:"1.2em"},"text"===n.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(a).concat(o,"/").concat(Math.round(a/.6*10)/10).concat(o),"&:empty:before":{content:'"\\00a0"'}},"circular"===n.variant&&{borderRadius:"50%"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},n.hasChildren&&{"& > *":{visibility:"hidden"}},n.hasChildren&&!n.width&&{maxWidth:"fit-content"},n.hasChildren&&!n.height&&{height:"auto"})}),(e=>{let{ownerState:t}=e;return"pulse"===t.animation&&(0,s.iv)(w||(w=Z||(Z=(0,o.Z)(["\n      animation: "," 2s ease-in-out 0.5s infinite;\n    "]))),R)}),(e=>{let{ownerState:t,theme:n}=e;return"wave"===t.animation&&(0,s.iv)(S||(S=y||(y=(0,o.Z)(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 2s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "]))),A,(n.vars||n).palette.action.hover)})),P=r.forwardRef((function(e,t){const n=(0,g.i)({props:e,name:"MuiSkeleton"}),{animation:o="pulse",className:r,component:s="span",height:d,style:h,variant:u="text",width:m}=n,p=(0,a.Z)(n,C),b=(0,i.Z)({},n,{animation:o,component:s,variant:u,hasChildren:Boolean(p.children)}),x=(e=>{const{classes:t,variant:n,animation:o,hasChildren:a,width:i,height:r}=e,l={root:["root",n,o,a&&"withChildren",a&&!i&&"fitContent",a&&!r&&"heightAuto"]};return(0,c.Z)(l,f,t)})(b);return(0,v.jsx)(I,(0,i.Z)({as:s,ref:t,className:(0,l.Z)(x.root,r),ownerState:b},p,{style:(0,i.Z)({width:m,height:d},h)}))}))},64586:(e,t,n)=>{e.exports=n.p+"static/media/image-loading.f1b4462988545d9c460a.png"}}]);