"use strict";(self.webpackChunkprelaunch=self.webpackChunkprelaunch||[]).push([[663],{31652:function(e,t,n){var r=n(74165),a=n(15861),s=n(79105);t.Z={get:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.httpClient("/api/address/get",{id:t},{method:"GET"});case 2:return n=e.sent,e.abrupt("return",n.json);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.httpClient("/api/address/delete",{id:t},{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),list:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.httpClient("/api/address/list",{},{method:"GET"});case 2:return t=e.sent,e.abrupt("return",t.json);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.httpClient("/api/address/update",{id:t},{method:"PUT",body:JSON.stringify({id:t,previousData:n,data:a})});case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),create:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.httpClient("/api/address/create",{},{method:"POST",body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setDefault:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.httpClient("/api/address/setDefault",{id:t},{method:"PUT"});case 2:return n=e.sent,e.abrupt("return",n.json);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getDefault:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.httpClient("/api/address/getDefault",{},{method:"GET"});case 2:return t=e.sent,e.abrupt("return",t.json);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},23072:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(93405),a=n(32195),s=n(61113),i=n(23306),o=n(46417);function u(e){var t=e.value,n=e.label;return t&&(0,o.jsxs)(a.Z,{direction:"column",justifyContent:"center",sx:{my:.5},children:[(0,o.jsx)(i.Z,{sx:{fontSize:"0.8rem",fontWeight:"bold"},children:n}),(0,o.jsx)(s.Z,{sx:{fontSize:"0.9rem"},children:t})]})}function c(e){var t=e.address;return(0,o.jsxs)(r.Z,{children:[(0,o.jsx)(u,{label:"Receiver's Name",helpText:"e.g. Nabarun Chatterjee",value:t.name}),(0,o.jsx)(u,{label:"House no, Street, Locality, etc",helpText:"e.g. 123, A.B. Avenue, Serampore",value:t.content}),(0,o.jsx)(u,{label:"Landmark",value:t.landmark,helpText:"e.g. Behind Ganesh Temple"}),(0,o.jsxs)(a.Z,{direction:"row",justifyContent:"space-between",spacing:2,sx:{my:.5},children:[(0,o.jsx)(u,{label:"City",value:t.city,helperText:"e.g. Kolkata"}),(0,o.jsx)(u,{label:"State",value:t.state,helperText:"e.g. Karnataka"}),(0,o.jsx)(u,{label:"Country",value:t.country}),(0,o.jsx)(u,{label:"Pincode",value:t.pincode})]}),(0,o.jsx)(a.Z,{direction:"row",justifyContent:"flex-start",spacing:2,sx:{my:.5},children:(0,o.jsx)(u,{label:"Mobile Number",value:t.mobile_number})})]})}u.defaultProps={value:""}},28616:function(e,t,n){n.d(t,{Kn:function(){return l},_N:function(){return u},dy:function(){return i},p6:function(){return d},y3:function(){return f}});var r=n(74165),a=n(15861),s=n(31652);function i(e,t){return o.apply(this,arguments)}function o(){return(o=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.list();case 3:a=e.sent,console.log("resp add",a),t(a.addresses),a.addresses.forEach((function(e){s.Z.get(e.id).then((function(e){return n(e)}))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function u(e,t){return c.apply(this,arguments)}function c(){return(c=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(t,!0,!0),e.next=4,s.Z.delete(t);case 4:a=e.sent,console.log("remove address",a),200===a.status?n(t,!1,!0):n(t,!1,!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var d=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!0,!0),e.next=4,s.Z.create(t);case 4:a=e.sent,console.log("resp create",a),200===a.status?n(!1,!0):n(!1,!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();function l(e,t){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Getting address",t),e.next=4,s.Z.get(t);case 4:return a=e.sent,n(a),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function f(e,t,n,r){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)((0,r.Z)().mark((function e(t,n,a,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Getting address",t),e.next=4,s.Z.update(t,n,a);case 4:200===e.sent.status?i(!1,!0):i(!1,!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},99478:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(73428),a=n(93405),s=n(19536),i=n(54641),o=n(56104),u=n(46417);function c(e){var t=e.action,n=e.component,c=e.headerAction,d=e.content,l=e.componentActions;return(0,u.jsxs)(r.Z,{elevation:1,sx:{borderRadius:0,width:{sm:"100%",md:"max-content"},minWidth:"500px",maxWidth:"1150px",bgcolor:"white",display:"flex",alignItems:"start",flexDirection:"column",justifyContent:"start"},children:[(0,u.jsx)(i.Z,{title:t,subheader:n,action:c,titleTypographyProps:{color:"primary.main"},subheaderTypographyProps:{fontWeight:"bold"},sx:{width:"100%","& .MuiCardHeader-action":{alignSelf:"center"}}}),(0,u.jsx)(s.Z,{sx:{borderBottomWidth:3,mb:2},flexItem:!0}),(0,u.jsx)(a.Z,{sx:{width:"100%",p:0},children:d}),(0,u.jsx)(s.Z,{sx:{borderBottomWidth:2,mb:2},flexItem:!0}),(0,u.jsx)(o.Z,{sx:{p:1,pb:2,width:"100%"},children:l})]})}c.defaultProps={headerAction:""}},47344:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(29439),a=n(47313);function s(){var e=(0,a.useState)({open:!1,message:"",messageType:"info"}),t=(0,r.Z)(e,2),n=t[0],s=t[1];return[n,function(e,t){return s({open:!0,message:e,messageType:t})}]}},67663:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var r=n(74165),a=n(15861),s=n(93433),i=n(29439),o=n(47313),u=n(58467),c=n(9019),d=n(73428),l=n(32195),p=n(54641),f=n(19536),h=n(31095),x=n(66212),Z=n(23072),v=n(46417);function m(e){var t=e.address,n=e.handleEdit,r=e.handleRemove,a=e.deleting,s=e.handleSetDefault;return(0,v.jsxs)(d.Z,{sx:{width:"350px",position:"relative",m:1},children:[(0,v.jsx)(p.Z,{title:t.default?(0,v.jsx)(x.Z,{label:"Default",color:"primary",variant:"outlined",sx:{fontWeight:"bold",fontColor:"gray"}}):"",action:(0,v.jsxs)(l.Z,{direction:"row",sx:{mr:1},children:[(0,v.jsx)(h.Z,{sx:{fontSize:"1rem"},disabled:a,onClick:function(){return n(t.id)},children:"Edit"}),(0,v.jsx)(f.Z,{orientation:"vertical",flexItem:!0}),(0,v.jsx)(h.Z,{sx:{fontSize:"1rem"},disabled:a,onClick:function(){return r(t.id)},children:"Remove"}),t.default?null:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(f.Z,{orientation:"vertical",flexItem:!0}),(0,v.jsx)(h.Z,{disabled:a,onClick:function(){return s(t.id)},sx:{fontSize:"1rem"},children:"Set as Default"})]})]}),sx:{m:0,p:0,pl:2,py:1}}),(0,v.jsx)(f.Z,{sx:{borderBottomWidth:2}}),t&&(0,v.jsx)(Z.Z,{address:t})]})}var g=n(5211),j=n(61113);function b(e){var t=e.handleClick;return(0,v.jsx)(d.Z,{elevation:2,sx:{width:"350px",minHeight:"300px",border:"2px solid gray",backgroundColor:"transparent",cursor:"pointer",m:1},onClick:t,children:(0,v.jsxs)(l.Z,{direction:"column",justifyContent:"center",alignItems:"center",sx:{width:"100%",height:"100%"},children:[(0,v.jsx)(g.Z,{sx:{fontSize:"3.5rem",color:"gray"}}),(0,v.jsx)(j.Z,{sx:{fontSize:"2.5rem"},children:" Add Address"})]})})}var y=n(64198),w=n(99478),k=n(47344),C=n(28616),S=n(31652),D=n(30033),T=function(e){var t=e.addrs,n=e.handleEdit,r=e.handleRemove,a=e.deleting,s=e.handleSetDefault;return t.map((function(e){return(0,v.jsx)(m,{address:e,handleEdit:n,handleRemove:r,deleting:a,handleSetDefault:s},e.id)}))};function E(){var e=(0,u.s0)(),t=(0,o.useState)([]),n=(0,i.Z)(t,2),d=n[0],l=n[1],p=(0,o.useState)([]),f=(0,i.Z)(p,2),h=f[0],x=f[1],Z=(0,o.useState)(!1),m=(0,i.Z)(Z,2),g=m[0],j=m[1],E=(0,k.Z)(),A=(0,i.Z)(E,2),R=A[0],P=A[1],W=function(e){return l(e)},N=function(e){console.log("updating address",e.id),x((function(t){var n=t.findIndex((function(t){return t.id===e.id}));return-1===n?[].concat((0,s.Z)(t),[e]):[].concat((0,s.Z)(t.slice(0,n)),[e],(0,s.Z)(t.slice(n+1)))}))};(0,o.useEffect)((function(){return(0,C.dy)(W,N)}),[]),console.log("addresses",h,g);var z=function(e,t,n){console.log("remove address status",e,t,n),j(t),t?P("Deleting Address","info"):n?(P("Address Deleted!","success"),x(h.filter((function(t){return t.id!==e}))),l(d.filter((function(t){return t.id!==e})))):P("Address Deletion Failed!","error")},I=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.Z.setDefault(t);case 2:e.sent.id&&(0,C.dy)(W,N);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=d.length&&d.length===h.length?h:d;return(0,v.jsx)(y.Z,{notify:R,routeNameMap:D.$,children:(0,v.jsx)(w.Z,{action:"Your",component:"Addressess",content:(0,v.jsxs)(c.ZP,{container:!0,sx:{maxWidth:"1150px",backgroundColor:"white",m:0,justifyContent:{xs:"center",md:"space-between"}},children:[(0,v.jsx)(b,{handleClick:function(){return e(D.j.ADDRESS_CREATE_URL)}},"add-address"),(0,v.jsx)(T,{addrs:G,handleEdit:function(t){return e("/address/".concat(t),{state:{address:h.find((function(e){return e.id===t}))}})},handleRemove:function(e){return(0,C._N)(e,z)},deleting:g,handleSetDefault:I},G)]}),componentActions:(0,v.jsx)("div",{})})})}}}]);